<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Nagios 3.x</title><link rel="stylesheet" href="../pub/css/html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.73.2"><meta name="description" content="Nagios&#26159;&#19968;&#27454;&#38750;&#24120;&#20248;&#31168;&#30340;&#32593;&#32476;&#20027;&#26426;&#31649;&#29702;&#36719;&#20214;&#65292;&#23427;&#22312;&#24320;&#28304;&#31038;&#21306;&#30340;&#24433;&#21709;&#21147;&#26159;&#38750;&#21516;&#23547;&#24120;&#30340;&#12290;&#20294;&#24456;&#21487;&#24796;&#30340;&#26159;&#65292;&#23427;&#30340;&#30028;&#38754;&#21450;&#25805;&#20316;&#20351;&#29992;&#36807;&#31243;&#20013;&#37319;&#29992;&#20102;&#33521;&#35821;&#30340;&#35821;&#35328;&#25552;&#31034;&#19982;&#28304;&#31243;&#24207;&#32039;&#23494;&#32467;&#21512;&#20351;&#24471;&#36825;&#27454;&#36719;&#20214;&#30340;&#27721;&#21270;&#30028;&#38754;&#36831;&#36831;&#19981;&#33021;&#25512;&#20986;&#65292;&#24433;&#21709;&#20102;&#23427;&#22312;&#20013;&#25991;&#21306;&#30340;&#20351;&#29992;&#12290;&#20026;&#25512;&#36827;Nagios&#30340;&#20351;&#29992;&#65292;&#31508;&#32773;&#24314;&#31435;&#20102;nagios-cn&#24037;&#31243;&#65292;&#35813;&#24037;&#31243;&#30340;&#20027;&#35201;&#30446;&#26631;&#26159;&#32763;&#35793;&#28304;&#31243;&#24207;&#20013;&#36816;&#34892;&#25552;&#31034;&#12289;&#30028;&#38754;&#29983;&#25104;&#21644;&#25991;&#26723;&#35828;&#26126;&#65292;&#36890;&#36807;&#19968;&#20123;&#21162;&#21147;&#65292;nagios-cn&#32456;&#20110;&#21487;&#20197;&#27491;&#24120;&#36816;&#36716;&#20102;&#65292;&#26412;&#20070;&#32534;&#20889;&#30340;&#20027;&#35201;&#30446;&#30340;&#26159;&#20026;&#22312;&#20013;&#25991;&#20351;&#29992;&#21306;&#22495;&#25512;&#24191;&#21644;&#20351;&#29992;Nagios&#36719;&#20214;&#65292;&#35753;&#36825;&#27454;&#20248;&#31168;&#30340;&#36719;&#20214;&#20026;&#22269;&#20154;&#26381;&#21153;&#12290;"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="book" lang="zh-CN"><div class="titlepage"><div><div><h1 class="title"><a name="nagiosbook"></a>Nagios 3.x</h1></div><div><h2 class="subtitle">Nagios&#22312;&#32447;&#24110;&#21161;&#20013;&#25991;&#29256;</h2></div><div><div class="authorgroup"><div class="author"><h3 class="author"><span class="honorific">Dr</span>. <span class="firstname"></span> <span class="surname">&#30000;&#26397;&#38451;</span></h3><div class="affiliation"><span class="jobtitle">&#39033;&#30446;&#36127;&#36131;&#20154;<br></span><span class="orgname">sourceforge&#36719;&#20214;&#24320;&#21457;&#32773;&#32452;&#32455;<br></span> <span class="orgdiv">nagios-cn&#39033;&#30446;<br></span></div></div></div></div><div><p class="releaseinfo">0.1.0</p></div><div><div class="legalnotice"><a name="d0e7"></a><p>Nagios&#29256;&#26435;&#24402;nagios&#36719;&#20214;&#30340;&#33879;&#20316;&#26435;&#32773;&#25152;&#26377;&#65292;&#26412;&#20070;&#20165;&#23545;&#20013;&#25991;&#21270;&#21518;&#20869;&#23481;&#20445;&#30041;&#33879;&#20316;&#26435;&#12290;&#38656;&#35201;&#25552;&#37266;&#30340;&#26159;&#65306;&#26080;&#35770;&#20320;&#23558;&#37319;&#29992;&#20309;&#31181;&#26041;&#24335;&#26469;&#24341;&#29992;&#26412;&#20070;&#65292;&#20840;&#37096;&#25110;&#37096;&#20998;&#31456;&#33410;&#65292;&#35831;&#19968;&#23450;&#35201;&#32473;&#20986;&#26412;&#20070;&#30340;&#26469;&#28304;&#31449;&#28857;&#26159;<a class="ulink" href="http://nagios-cn.sourceforge.net/" target="_top">http://nagios-cn.sourceforge.net/</a>&#65292;&#24182;&#19988;&#19968;&#23450;&#24341;&#29992;sourceforge&#31449;&#28857;&#30340;&#30456;&#20851;&#20986;&#29256;&#29289;&#30340;&#29256;&#26435;&#25552;&#31034;&#19982;&#22768;&#26126;&#12290;</p></div></div><div><div class="revhistory"><table border="1" width="100%" summary="Revision history"><tr><th align="left" valign="top" colspan="3"><b>&#20462;&#35746;&#21382;&#21490;</b></th></tr><tr><td align="left">&#20462;&#35746; 0.0.3</td><td align="left">30/01/2008</td><td align="left">enochcytian</td></tr><tr><td align="left" colspan="3">&#23558;&#32763;&#35793;&#23436;&#25104;&#30340;&#37096;&#20998;&#21021;&#27493;&#29983;&#25104;&#22312;&#32447;&#24110;&#21161;&#25991;&#26723;&#12290;</td></tr><tr><td align="left">&#20462;&#35746; 0.0.2</td><td align="left">20/12/2007</td><td align="left">enochcytian</td></tr><tr><td align="left" colspan="3">&#24314;&#31435;DocBook&#24037;&#31243;&#65292;&#20174;&#28304;html&#25991;&#20214;&#21453;&#21521;&#29983;&#25104;xml&#31456;&#33410;&#25991;&#20214;&#12290;</td></tr><tr><td align="left">&#20462;&#35746; 0.0.1</td><td align="left">12/12/2007</td><td align="left">enochcytian</td></tr><tr><td align="left" colspan="3">&#24314;&#31435;&#21021;&#31295;&#65292;&#24320;&#22987;&#32534;&#20889;&#21021;&#22987;&#25991;&#20214;&#12290;</td></tr></table></div></div><div><div class="abstract"><p class="title"><b>&#25688;&#35201;</b></p><p>Nagios&#26159;&#19968;&#27454;&#38750;&#24120;&#20248;&#31168;&#30340;&#32593;&#32476;&#20027;&#26426;&#31649;&#29702;&#36719;&#20214;&#65292;&#23427;&#22312;&#24320;&#28304;&#31038;&#21306;&#30340;&#24433;&#21709;&#21147;&#26159;&#38750;&#21516;&#23547;&#24120;&#30340;&#12290;&#20294;&#24456;&#21487;&#24796;&#30340;&#26159;&#65292;&#23427;&#30340;&#30028;&#38754;&#21450;&#25805;&#20316;&#20351;&#29992;&#36807;&#31243;&#20013;&#37319;&#29992;&#20102;&#33521;&#35821;&#30340;&#35821;&#35328;&#25552;&#31034;&#19982;&#28304;&#31243;&#24207;&#32039;&#23494;&#32467;&#21512;&#20351;&#24471;&#36825;&#27454;&#36719;&#20214;&#30340;&#27721;&#21270;&#30028;&#38754;&#36831;&#36831;&#19981;&#33021;&#25512;&#20986;&#65292;&#24433;&#21709;&#20102;&#23427;&#22312;&#20013;&#25991;&#21306;&#30340;&#20351;&#29992;&#12290;&#20026;&#25512;&#36827;Nagios&#30340;&#20351;&#29992;&#65292;&#31508;&#32773;&#24314;&#31435;&#20102;nagios-cn&#24037;&#31243;&#65292;&#35813;&#24037;&#31243;&#30340;&#20027;&#35201;&#30446;&#26631;&#26159;&#32763;&#35793;&#28304;&#31243;&#24207;&#20013;&#36816;&#34892;&#25552;&#31034;&#12289;&#30028;&#38754;&#29983;&#25104;&#21644;&#25991;&#26723;&#35828;&#26126;&#65292;&#36890;&#36807;&#19968;&#20123;&#21162;&#21147;&#65292;nagios-cn&#32456;&#20110;&#21487;&#20197;&#27491;&#24120;&#36816;&#36716;&#20102;&#65292;&#26412;&#20070;&#32534;&#20889;&#30340;&#20027;&#35201;&#30446;&#30340;&#26159;&#20026;&#22312;&#20013;&#25991;&#20351;&#29992;&#21306;&#22495;&#25512;&#24191;&#21644;&#20351;&#29992;Nagios&#36719;&#20214;&#65292;&#35753;&#36825;&#27454;&#20248;&#31168;&#30340;&#36719;&#20214;&#20026;&#22269;&#20154;&#26381;&#21153;&#12290;</p></div></div></div><hr></div><div class="dedication" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title"><a name="d0e84"></a>&#39064;&#35789;</h2></div></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e85"></a>1.&nbsp;&#33268;&#35874;</h2></div></div></div><p>&#39318;&#20808;&#35201;&#24863;&#35874;&#25105;&#30340;&#23478;&#20154;&#65292;&#26159;&#20182;&#20204;&#22312;&#36523;&#21518;&#30340;&#25903;&#25345;&#20351;&#24471;&#25105;&#24471;&#20197;&#30528;&#25163;&#20570;&#25105;&#25152;&#21916;&#27426;&#30340;&#20107;&#24773;&#65292;&#25105;&#30340;&#23478;&#20154;&#26159;&#25105;&#24341;&#20197;&#33258;&#35946;&#30340;&#26681;&#26412;&#65292;&#30456;&#20449;&#20182;&#20204;&#20063;&#20250;&#20026;&#25105;&#25152;&#20570;&#30340;&#32780;&#33258;&#35946;&#12290;</p><p>&#20854;&#27425;&#35201;&#24863;&#35874;Nagios&#30340;&#20316;&#32773;&#65292;&#26159;Ethan Galstad&#32473;&#25105;&#20204;&#24102;&#26469;&#20102;&#36825;&#20040;&#22909;&#30340;&#19968;&#27454;&#36719;&#20214;&#65292;&#20063;&#26159;&#20182;&#32473;&#25105;&#30340;&#22238;&#20449;&#65292;&#35753;&#25105;&#30693;&#36947;&#20102;Nagios&#36719;&#20214;&#23558;&#21521;&#20309;&#22788;&#21162;&#21147;&#19982;&#21457;&#23637;&#12290;</p><p>&#26368;&#21518;&#35201;&#24863;&#35874;&#24320;&#28304;&#31038;&#21306;&#65292;&#29305;&#21035;&#26159;sourceforge&#21644;google.code&#31449;&#28857;&#65292;&#26159;&#22312;&#36825;&#20004;&#20010;&#32452;&#32455;&#30340;&#25903;&#25345;&#19979;&#20351;&#24471;nagios-cn&#24471;&#20197;&#29983;&#23384;&#19979;&#21435;&#65292;&#24182;&#20351;&#24471;&#36234;&#26469;&#36234;&#22810;&#30340;&#20154;&#24863;&#21463;&#21040;&#24320;&#28304;&#31038;&#21306;&#30340;&#23545;&#20154;&#31867;&#30340;&#36129;&#29486;&#12290;</p></div></div><div class="toc"><dl><dt><span class="chapter"><a href="#bookfirst">1. &#24207;</a></span></dt><dt><span class="chapter"><a href="#about">2. &#20851;&#20110;Nagios</a></span></dt><dd><dl><dt><span class="sect1"><a href="#d0e114">2.1. &#20160;&#20040;&#26159;Nagios&#65311;</a></span></dt><dt><span class="sect1"><a href="#d0e150">2.2. &#31995;&#32479;&#38656;&#27714;</a></span></dt><dt><span class="sect1"><a href="#d0e181">2.3. &#29256;&#26435;</a></span></dt><dt><span class="sect1"><a href="#d0e199">2.4. &#33268;&#35874;</a></span></dt><dt><span class="sect1"><a href="#d0e208">2.5. &#19979;&#36733;&#26368;&#26032;&#29256;&#26412;</a></span></dt></dl></dd><dt><span class="chapter"><a href="#whatsnew">3. Nagios 3.0&#26032;&#29305;&#24615;</a></span></dt><dd><dl><dt><span class="sect1"><a href="#d0e231">3.1. &#26356;&#26032;&#26085;&#24535;</a></span></dt><dt><span class="sect1"><a href="#d0e239">3.2. &#21464;&#26356;&#19982;&#26032;&#29305;&#24449;</a></span></dt></dl></dd><dt><span class="chapter"><a href="#beginning">4. &#20837;&#38376;</a></span></dt><dd><dl><dt><span class="sect1"><a href="#beginners">4.1. &#32473;&#26032;&#25163;&#30340;&#24314;&#35758;</a></span></dt><dt><span class="sect1"><a href="#upgrading">4.2. &#26087;Nagios&#21319;&#32423;&#21040;&#24403;&#21069;&#29256;&#26412;</a></span></dt><dt><span class="sect1"><a href="#quickstart">4.3. &#24555;&#36895;&#23433;&#35013;&#25351;&#21335;</a></span></dt><dt><span class="sect1"><a href="#quickstart-fedora">4.4. &#22522;&#20110;Fedora&#24179;&#21488;&#30340;&#24555;&#36895;&#25351;&#21335;</a></span></dt><dt><span class="sect1"><a href="#quickstart-opensuse">4.5. &#22522;&#20110;openSUSE&#24179;&#21488;&#30340;&#24555;&#36895;&#25351;&#21335;</a></span></dt><dt><span class="sect1"><a href="#quickstart-ubuntu">4.6. &#22522;&#20110;Ubuntu&#24179;&#21488;&#30340;&#24555;&#36895;&#25351;&#21335;</a></span></dt><dt><span class="sect1"><a href="#monitoring-windows">4.7. &#30417;&#25511;Windows&#20027;&#26426;</a></span></dt><dt><span class="sect1"><a href="#monitoring-linux">4.8. &#30417;&#25511;Linux/Unix&#20027;&#26426;</a></span></dt><dt><span class="sect1"><a href="#monitoring-routers">4.9. &#30417;&#25511;&#36335;&#30001;&#22120;&#21644;&#20132;&#25442;&#26426;</a></span></dt><dt><span class="sect1"><a href="#monitoring-printers">4.10. &#30417;&#25511;&#32593;&#32476;&#25171;&#21360;&#26426;</a></span></dt><dt><span class="sect1"><a href="#monitoring-netware">4.11. &#30417;&#25511;Netware&#26381;&#21153;&#22120;</a></span></dt><dt><span class="sect1"><a href="#monitoring-publicservices">4.12. &#30417;&#25511;&#20844;&#20247;&#26381;&#21153;&#24179;&#21488;</a></span></dt></dl></dd><dt><span class="chapter"><a href="#configuration">5. &#20934;&#22791;&#37197;&#32622;Nagios</a></span></dt><dd><dl><dt><span class="sect1"><a href="#config">5.1. &#37197;&#32622;&#27010;&#35272;</a></span></dt><dt><span class="sect1"><a href="#configmain">5.2. &#20027;&#37197;&#32622;&#25991;&#20214;&#36873;&#39033;</a></span></dt><dt><span class="sect1"><a href="#configobject">5.3. &#23545;&#35937;&#37197;&#32622;&#27010;&#35272;</a></span></dt><dt><span class="sect1"><a href="#configcgi">5.4. CGI&#37197;&#32622;&#25991;&#20214;&#36873;&#39033;</a></span></dt></dl></dd><dt><span class="chapter"><a href="#cgiconfig">6. Nagios&#30417;&#25511;&#19982;&#37197;&#32622;&#30340;&#22522;&#26412;&#27010;&#24565;</a></span></dt><dd><dl><dt><span class="sect1"><a href="#objectdefinitions">6.1. &#23545;&#35937;&#23450;&#20041;</a></span></dt><dt><span class="sect1"><a href="#objecttricks">6.2. &#23545;&#35937;&#23450;&#20041;&#30340;&#30465;&#26102;&#20915;&#31373;</a></span></dt><dt><span class="sect1"><a href="#customobjectvars">6.3. &#29992;&#25143;&#33258;&#23450;&#21046;&#23545;&#35937;&#21464;&#37327;</a></span></dt><dt><span class="sect1"><a href="#objectinheritance">6.4. &#23545;&#35937;&#32487;&#25215;&#20851;&#31995;</a></span></dt><dt><span class="sect1"><a href="#downtime">6.5. &#35745;&#21010;&#20572;&#26426;&#26102;&#38388;</a></span></dt><dt><span class="sect1"><a href="#timeperiods">6.6. &#26102;&#38388;&#21608;&#26399;</a></span></dt><dt><span class="sect1"><a href="#notifications">6.7. &#36890;&#30693;</a></span></dt><dt><span class="sect1"><a href="#eventhandlers">6.8. &#20107;&#20214;&#22788;&#29702;</a></span></dt><dt><span class="sect1"><a href="#extcommands">6.9. &#22806;&#37096;&#21629;&#20196;</a></span></dt><dt><span class="sect1"><a href="#statetypes">6.10. &#29366;&#24577;&#31867;&#22411;</a></span></dt><dt><span class="sect1"><a href="#hostchecks">6.11. &#20027;&#26426;&#26816;&#27979;</a></span></dt><dt><span class="sect1"><a href="#servicechecks">6.12. &#26381;&#21153;&#26816;&#27979;</a></span></dt><dt><span class="sect1"><a href="#activechecks">6.13. &#33258;&#20027;&#26816;&#27979;</a></span></dt><dt><span class="sect1"><a href="#passivechecks">6.14. &#24378;&#21046;&#26816;&#27979;</a></span></dt></dl></dd><dt><span class="chapter"><a href="#running">7. &#36816;&#34892;Nagios&#30340;&#22522;&#26412;&#25805;&#20316;</a></span></dt><dd><dl><dt><span class="sect1"><a href="#verifyconfig">7.1. &#39564;&#35777;&#37197;&#32622;&#25991;&#20214;&#30340;&#27491;&#30830;&#24615;</a></span></dt><dt><span class="sect1"><a href="#startstop">7.2. &#21551;&#21160;&#19982;&#20572;&#27490;Nagios</a></span></dt><dt><span class="sect1"><a href="#faststartup">7.3. &#24555;&#36895;&#21551;&#21160;&#36873;&#39033;</a></span></dt><dt><span class="sect1"><a href="#cgis">7.4. &#20851;&#20110;CGI&#31243;&#24207;&#27169;&#22359;&#30340;&#20449;&#24687;</a></span></dt></dl></dd><dt><span class="chapter"><a href="#advance">8. Nagios&#28145;&#20837;&#36827;&#38454;</a></span></dt><dd><dl><dt><span class="sect1"><a href="#plugins">8.1. Nagios&#30340;&#25554;&#20214;</a></span></dt><dt><span class="sect1"><a href="#macros">8.2. &#29702;&#35299;Nagios&#23439;&#21450;&#20854;&#24037;&#20316;&#26426;&#21046;</a></span></dt><dt><span class="sect1"><a href="#macrolist">8.3. Nagiosr&#20869;&#23884;&#30340;&#26631;&#20934;&#23439;</a></span></dt><dt><span class="sect1"><a href="#networkreachability">8.4. &#22914;&#20309;&#30830;&#35748;&#32593;&#32476;&#20013;&#20027;&#26426;&#30340;&#29366;&#24577;&#19982;&#21487;&#36798;&#24615;</a></span></dt><dt><span class="sect1"><a href="#volatileservices">8.5. &#21487;&#21464;&#26381;&#21153;</a></span></dt><dt><span class="sect1"><a href="#freshness">8.6. &#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#21047;&#26032;&#26816;&#27979;</a></span></dt><dt><span class="sect1"><a href="#flapping">8.7. &#24863;&#30693;&#21644;&#22788;&#29702;&#29366;&#24577;&#25238;&#21160;</a></span></dt><dt><span class="sect1"><a href="#checkscheduling">8.8. &#26381;&#21153;&#21644;&#20027;&#26426;&#30340;&#23450;&#26399;&#26816;&#27979;</a></span></dt><dt><span class="sect1"><a href="#escalations">8.9. &#26377;&#20851;&#36890;&#30693;&#30340;&#23545;&#35937;&#25193;&#23637;</a></span></dt><dt><span class="sect1"><a href="#oncallrotation">8.10. &#24212;&#21484;&#24490;&#29615;</a></span></dt><dt><span class="sect1"><a href="#dependencies">8.11. &#20027;&#26426;&#38388;&#19982;&#26381;&#21153;&#38388;&#20381;&#36182;&#20851;&#31995;</a></span></dt><dt><span class="sect1"><a href="#dependencychecks">8.12. &#20381;&#36182;&#26816;&#27979;&#30340;&#21069;&#22788;&#29702;</a></span></dt><dt><span class="sect1"><a href="#perfdata">8.13. &#24615;&#33021;&#25968;&#25454;</a></span></dt></dl></dd><dt><span class="chapter"><a href="#profession">9. Nagios&#19987;&#19994;&#35805;&#39064;</a></span></dt><dd><dl><dt><span class="sect1"><a href="#funstuff">9.1. &#36259;&#20107;&#19982;&#29609;&#31505;</a></span></dt><dt><span class="sect1"><a href="#distributed">9.2. &#20998;&#24067;&#24335;&#30417;&#25511;</a></span></dt><dt><span class="sect1"><a href="#redundancy">9.3. &#20887;&#20313;&#24335;&#19982;&#22833;&#25928;&#24335;&#32593;&#32476;&#30417;&#25511;</a></span></dt><dt><span class="sect1"><a href="#largeinstalltweaks">9.4. &#22823;&#22411;&#23433;&#35013;&#27169;&#24335;&#30340;&#21464;&#21270;</a></span></dt><dt><span class="sect1"><a href="#cachedchecks">9.5. &#32531;&#23384;&#26816;&#27979;</a></span></dt><dt><span class="sect1"><a href="#stalking">9.6. &#29366;&#24577;&#36861;&#36394;</a></span></dt><dt><span class="sect1"><a href="#clusters">9.7. &#38598;&#32676;&#20027;&#26426;&#21644;&#38598;&#32676;&#26381;&#21153;&#30340;&#30417;&#25511;</a></span></dt><dt><span class="sect1"><a href="#adaptive">9.8. &#36866;&#24212;&#24615;&#30417;&#25511;</a></span></dt><dt><span class="sect1"><a href="#passivestatetranslation">9.9. &#24378;&#21046;&#24335;&#20027;&#26426;&#29366;&#24577;&#36801;&#31227;</a></span></dt></dl></dd><dt><span class="chapter"><a href="#selfoption">10. Nagios&#33258;&#36523;&#30340;&#23433;&#20840;&#24615;&#19982;&#24615;&#33021;&#35843;&#20248;</a></span></dt><dd><dl><dt><span class="sect1"><a href="#security">10.1. &#33258;&#36523;&#23433;&#20840;&#30456;&#20851;&#20107;&#39033;</a></span></dt><dt><span class="sect1"><a href="#tuning">10.2. Nagios&#30340;&#24615;&#33021;&#35843;&#20248;</a></span></dt><dt><span class="sect1"><a href="#nagiostats">10.3. &#20351;&#29992;Nagios&#29366;&#24577;&#24037;&#20855;</a></span></dt><dt><span class="sect1"><a href="#mrtggraphs">10.4. &#20351;&#29992;MRTG&#32472;&#21046;&#24615;&#33021;&#25968;&#25454;</a></span></dt><dt><span class="sect1"><a href="#cgiauth">10.5. &#23545;CGIs&#31243;&#24207;&#27169;&#22359;&#30340;&#25480;&#26435;&#19982;&#35748;&#35777;</a></span></dt><dt><span class="sect1"><a href="#cgiincludes">10.6. &#29992;&#25143;&#23450;&#21046;CGI&#39029;&#38754;&#22836;&#21644;&#23614;</a></span></dt></dl></dd><dt><span class="chapter"><a href="#integrate">11. &#36719;&#20214;&#38598;&#25104;&#30456;&#20851;&#30340;&#20869;&#23481;</a></span></dt><dd><dl><dt><span class="sect1"><a href="#integration">11.1. &#36719;&#20214;&#38598;&#25104;&#27010;&#35272;</a></span></dt><dt><span class="sect1"><a href="#int-snmptrap">11.2. SNMP&#38519;&#20117;&#38598;&#25104;</a></span></dt><dt><span class="sect1"><a href="#int-tcpwrappers">11.3. TCP Wrapper&#38598;&#25104;</a></span></dt><dt><span class="sect1"><a href="#addons">11.4. Nagios&#22806;&#37096;&#26500;&#20214;</a></span></dt><dt><span class="sect1"><a href="#nagiosgraph">11.5. &#38598;&#25104;Nagiosgraph&#24037;&#31243;</a></span></dt></dl></dd><dt><span class="chapter"><a href="#develope">12. &#24320;&#21457;&#30456;&#20851;</a></span></dt><dd><dl><dt><span class="sect1"><a href="#embeddedperl">12.1. &#20351;&#29992;&#20869;&#23884;Perl&#35299;&#37322;&#22120;</a></span></dt><dt><span class="sect1"><a href="#epnplugins">12.2. &#24320;&#21457;&#20351;&#29992;&#20869;&#23884;&#24335;Perl&#35299;&#37322;&#22120;&#30340;Nagios&#25554;&#20214;</a></span></dt><dt><span class="sect1"><a href="#pluginapi">12.3. Nagios&#25554;&#20214;API</a></span></dt></dl></dd><dt><span class="chapter"><a href="#booklast">13. &#20889;&#22312;&#26368;&#21518;&#30340;&#35805;</a></span></dt><dd><dl><dt><span class="sect1"><a href="#d0e24682">13.1. &#19968;&#20123;&#20851;&#20110;&#26412;&#25163;&#20876;&#30340;&#25805;&#20316;&#24314;&#35758;</a></span></dt><dt><span class="sect1"><a href="#d0e24693">13.2. &#26412;&#20070;&#32534;&#36753;&#20986;&#29256;&#25171;&#31639;</a></span></dt><dt><span class="sect1"><a href="#d0e24700">13.3. &#26377;&#20851;nagios-cn&#39033;&#30446;&#25512;&#36827;&#25171;&#31639;</a></span></dt><dt><span class="sect1"><a href="#d0e24707">13.4. &#39033;&#30446;&#25424;&#21161;</a></span></dt></dl></dd></dl></div><div class="chapter" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title"><a name="bookfirst"></a>&#31532;&nbsp;1&nbsp;&#31456;&nbsp;&#24207;</h2></div></div></div><p>&#30456;&#20449;&#29609;&#35745;&#31639;&#26426;&#32593;&#32476;&#30340;&#20154;&#37117;&#25110;&#22810;&#25110;&#23569;&#22320;&#30693;&#36947;&#32593;&#32476;&#31649;&#29702;&#36825;&#19968;&#31867;&#22411;&#36719;&#20214;&#65292;&#20294;&#30495;&#27491;&#22312;&#23454;&#38469;&#20013;&#20351;&#29992;&#24182;&#20197;&#27492;&#20026;&#24037;&#20316;&#22522;&#30784;&#30340;&#20154;&#30456;&#20449;&#24182;&#19981;&#22810;&#65292;&#27605;&#31455;&#23427;&#19981;&#35937;&#28216;&#25103;&#25110;&#23383;&#22788;&#29702;&#31867;&#36719;&#20214;&#37027;&#20040;&#24120;&#35265;&#12290;&#35201;&#19981;&#26159;&#26576;&#20123;&#20107;&#24773;&#25152;&#36843;&#65292;&#25105;&#20063;&#19981;&#20250;&#23613;&#24515;&#26469;&#20102;&#35299;&#24182;&#20351;&#29992;&#32593;&#31649;&#36719;&#20214;&#65292;&#22312;2004&#24180;&#24180;&#24213;&#65292;&#22240;&#20026;&#26576;&#20123;&#20219;&#21153;&#23454;&#22312;&#23433;&#25490;&#19981;&#19979;&#65292;&#8220;&#23578;&#26377;&#21097;&#20313;&#26102;&#38388;&#8221;&#30340;&#25105;&#25509;&#19979;&#30740;&#31350;&#19968;&#27454;&#32593;&#32476;&#31649;&#29702;&#36719;&#20214;&#30340;&#20107;&#24773;&#12290;&#27809;&#26377;&#26368;&#32456;&#30446;&#26631;&#65292;&#27809;&#26377;&#26102;&#38388;&#25130;&#27490;&#26399;&#38480;&#65292;&#20063;&#19981;&#20250;&#26377;&#22826;&#22810;&#30340;&#20154;&#21592;&#36164;&#37329;&#25237;&#20837;&#65292;&#20294;&#35201;&#25226;&#19968;&#20123;&#24456;&#23454;&#38469;&#30340;&#38382;&#39064;&#35299;&#20915;&#25481;&#65292;&#36825;&#23601;&#26159;&#36825;&#20123;&#24037;&#20316;&#30340;&#36215;&#28857;&#12290;</p><p>&#22909;&#22312;&#36719;&#20214;&#24182;&#19981;&#38590;&#20197;&#23433;&#35013;&#21644;&#35797;&#29992;&#65292;&#25105;&#21482;&#33457;&#20102;&#19968;&#22825;&#23601;&#19979;&#36733;&#12289;&#32534;&#35793;&#21644;&#23433;&#35013;&#22909;&#20102;&#65292;&#35797;&#30528;&#25226;&#37197;&#32622;&#25991;&#20214;&#25913;&#20102;&#19968;&#19979;&#65292;&#20063;&#21487;&#20197;&#25805;&#20316;&#30528;&#35797;&#30528;&#29992;&#20102;&#65292;&#20294;&#25805;&#20316;&#30028;&#38754;&#19985;&#38475;&#12289;&#37197;&#32622;&#26356;&#26032;&#32321;&#29712;&#12289;&#21021;&#24314;&#31995;&#32479;&#24037;&#20316;&#37327;&#22823;&#31561;&#19968;&#31995;&#21015;&#38382;&#39064;&#20351;&#25105;&#19981;&#24471;&#19981;&#24576;&#30097;&#26159;&#21542;&#36824;&#38656;&#35201;&#23427;&#65311;&#27605;&#31455;&#26377;&#19968;&#27454;&#21830;&#19994;&#21270;&#30340;&#36719;&#20214;&#23601;&#25918;&#22312;&#25163;&#36793;&#65292;&#34429;&#28982;&#23450;&#21046;&#24471;&#19981;&#22826;&#21512;&#20046;&#35201;&#27714;&#65292;&#20294;&#33267;&#23569;&#27809;&#26377;&#36825;&#20040;&#32321;&#26434;&#30340;&#36131;&#20219;&#32972;&#36523;&#19978;&#65292;&#27605;&#31455;&#65292;&#25105;&#21487;&#20197;&#19981;&#20026;&#36825;&#20123;&#20107;&#24773;&#36127;&#36131;&#20219;&#30340;&#12290;</p><p>&#32771;&#34385;&#22312;&#19977;&#65292;"&#25918;&#24323;"&#24182;&#19981;&#26159;&#25105;&#24819;&#35201;&#20570;&#30340;&#65292;&#26082;&#28982;&#26102;&#38388;&#27809;&#26377;&#38480;&#21046;&#65292;&#37027;&#23601;&#20004;&#26465;&#33151;&#36208;&#36335;&#21543;&#65292;&#20808;&#31283;&#22949;&#22320;&#37197;&#32622;&#22909;&#37027;&#20010;&#21830;&#19994;&#21270;&#36719;&#20214;&#65292;&#35753;&#23427;&#21487;&#20197;&#25805;&#20316;&#19982;&#36816;&#36716;&#65292;&#20294;&#23545;&#21518;&#24207;&#30340;&#25913;&#21160;&#65292;&#21482;&#22909;&#24320;&#21551;&#19968;&#20010;&#35760;&#24405;&#24211;&#65292;&#19981;&#26029;&#22320;&#23558;&#38382;&#39064;&#35760;&#24405;&#19979;&#26469;&#65292;&#32780;&#23545;&#20110;Nagios&#65292;&#20877;&#28165;&#29702;&#19968;&#19979;&#24605;&#36335;&#65292;&#20808;&#30475;&#30475;&#21040;&#24213;&#25105;&#35201;&#23427;&#20570;&#20123;&#20160;&#20040;&#20107;&#24773;&#65292;&#22312;&#20351;&#29992;&#20013;&#20250;&#26377;&#22810;&#23569;&#38382;&#39064;&#38656;&#35201;&#35299;&#20915;&#65292;&#35299;&#20915;&#21040;&#20160;&#20040;&#31243;&#24230;&#65292;&#20877;&#25226;&#29616;&#26377;&#26465;&#20214;&#23545;&#27604;&#19968;&#19979;&#65292;&#30475;&#30475;&#33021;&#21542;&#36208;&#36890;&#12290;</p><p>&#19981;&#26029;&#22320;&#23581;&#35797;&#19982;&#35843;&#25972;&#26159;&#19968;&#20010;&#28459;&#38271;&#30340;&#36807;&#31243;&#65292;&#23588;&#20854;&#26159;&#21040;&#30528;&#25163;&#32534;&#20889;&#26816;&#27979;&#25554;&#20214;&#30340;&#38454;&#27573;&#65292;&#24182;&#19981;&#26159;&#35937;&#24819;&#20687;&#20013;&#30340;&#37027;&#20040;&#39034;&#21033;&#65292;&#22909;&#22312;&#26102;&#38388;&#26159;&#25380;&#20986;&#26469;&#30340;&#65292;&#20889;&#26469;&#20889;&#21435;&#31455;&#28982;&#20063;&#26377;&#20102;&#20123;&#24515;&#24471;&#65292;&#39034;&#25163;&#25226;Perl&#21644;BASH&#32473;&#32451;&#20064;&#20102;&#65288;&#21482;&#26159;&#36825;&#20123;&#25554;&#20214;&#19982;&#24037;&#20316;&#20869;&#23481;&#30456;&#20851;&#65292;&#21487;&#24796;&#19981;&#33021;&#20844;&#24320;&#65289;&#65292;&#20063;&#25226;&#20960;&#20010;Nagios&#23433;&#35013;&#21644;&#36816;&#34892;&#20013;&#24120;&#26377;&#38382;&#39064;&#32473;&#25913;&#25481;&#20102;&#65292;&#36824;&#20889;&#20102;&#20010;&#19987;&#38376;&#32473;&#23454;&#26045;&#21644;&#36816;&#34892;&#29992;&#30340;BASH&#33050;&#26412;&#26041;&#20415;&#21518;&#26469;&#32773;&#30740;&#31350;&#21644;&#21033;&#29992;&#23427;&#12290;</p><p>&#20877;&#24448;&#19979;&#65292;&#22240;&#20026;&#24037;&#20316;&#24773;&#20917;&#26377;&#21464;&#65292;&#25226;&#25484;&#25569;&#30340;&#19996;&#35199;&#20132;&#20184;&#20986;&#26469;&#65292;&#35753;&#23427;&#30495;&#27491;&#26377;&#25152;&#23454;&#29992;&#12290;&#32780;&#21518;&#38754;&#20877;&#25630;&#19996;&#35199;&#23601;&#23436;&#20840;&#26159;&#33258;&#24049;&#30340;&#20852;&#36259;&#20102;&#65292;&#25105;&#20808;&#21518;&#23545;nagios-cn&#39033;&#30446;&#21152;&#20837;&#20102;SVG&#26684;&#24335;&#25903;&#25345;&#12289;&#25226;RRD&#21644;Grapher&#21151;&#33021;&#25972;&#21512;&#12289;&#20889;SPEC&#20197;&#23450;&#21046;RPM&#12289;&#22686;&#21152;DocBook&#36716;&#25442;&#24037;&#31243;&#31561;&#31561;&#65292;&#27599;&#27599;&#20570;&#23436;&#36825;&#20123;&#24635;&#33021;&#35753;&#20154;&#24863;&#21040;&#26377;&#19968;&#31181;&#26032;&#40092;&#24841;&#24555;&#30340;&#24863;&#21463;&#12290;</p><p>&#30452;&#21040;&#26368;&#21518;&#38454;&#27573;&#65292;&#25105;&#25165;&#24819;&#21040;&#35201;&#23459;&#20256;&#21644;&#25512;&#24191;&#23427;&#65292;&#20063;&#26159;&#22240;&#20026;&#33073;&#31163;&#24037;&#20316;&#20869;&#23481;&#30340;&#20851;&#31995;&#65292;&#20351;&#25105;&#20570;&#30340;&#36825;&#20123;&#20107;&#24773;&#19981;&#20877;&#24102;&#26377;&#24037;&#20316;&#20869;&#23481;&#25165;&#26377;&#26465;&#20214;&#22312;&#32593;&#19978;&#20844;&#24320;&#65292;&#36825;&#23601;&#26159;&#21518;&#38754;&#20960;&#20010;&#32593;&#31449;&#25110;&#21338;&#23458;&#19978;&#32473;&#20986;&#30340;&#26085;&#30410;&#22686;&#22810;&#30340;&#39033;&#30446;&#20449;&#24687;&#65292;&#36825;&#26412;&#20070;&#20063;&#26159;&#20854;&#20013;&#30340;&#19968;&#37096;&#20998;&#12290;</p></div><div class="chapter" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title"><a name="about"></a>&#31532;&nbsp;2&nbsp;&#31456;&nbsp;&#20851;&#20110;Nagios</h2></div></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e114"></a>2.1.&nbsp;&#20160;&#20040;&#26159;Nagios&#65311;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"></div><p>Nagios&#26159;&#19968;&#27454;&#29992;&#20110;&#31995;&#32479;&#21644;&#32593;&#32476;&#30417;&#25511;&#30340;&#24212;&#29992;&#31243;&#24207;&#12290;&#23427;&#21487;&#20197;&#22312;&#20320;&#35774;&#23450;&#30340;&#26465;&#20214;&#19979;&#23545;&#20027;&#26426;&#21644;&#26381;&#21153;&#36827;&#34892;&#30417;&#25511;&#65292;&#22312;&#29366;&#24577;&#21464;&#24046;&#21644;&#21464;&#22909;&#30340;&#26102;&#20505;&#32473;&#20986;&#21578;&#35686;&#20449;&#24687;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"></div><p>Nagios&#26368;&#21021;&#34987;&#35774;&#35745;&#20026;&#22312;<a class="ulink" href="http://www.linux.com" target="_top">Linux</a>&#31995;&#32479;&#20043;&#19978;&#36816;&#34892;&#65292;&#28982;&#32780;&#23427;&#21516;&#26679;&#21487;&#20197;&#22312;&#31867;Unix&#30340;&#31995;&#32479;&#20043;&#19978;&#36816;&#34892;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"></div><p>Nagios&#26356;&#36827;&#19968;&#27493;&#30340;&#29305;&#24449;&#21253;&#25324;&#65306;</p></div><div class="orderedlist"><ol type="1"><li>&#30417;&#25511;&#32593;&#32476;&#26381;&#21153;&#65288;SMTP&#12289;POP3&#12289;HTTP&#12289;NNTP&#12289;PING&#31561;&#65289;&#65307;</li><li>&#30417;&#25511;&#20027;&#26426;&#36164;&#28304;&#65288;&#22788;&#29702;&#22120;&#36127;&#33655;&#12289;&#30913;&#30424;&#21033;&#29992;&#29575;&#31561;&#65289;&#65307;</li><li>&#31616;&#21333;&#22320;&#25554;&#20214;&#35774;&#35745;&#20351;&#24471;&#29992;&#25143;&#21487;&#20197;&#26041;&#20415;&#22320;&#25193;&#23637;&#33258;&#24049;&#26381;&#21153;&#30340;&#26816;&#27979;&#26041;&#27861;&#65307;</li><li>&#24182;&#34892;&#26381;&#21153;&#26816;&#26597;&#26426;&#21046;&#65307;</li><li>&#20855;&#22791;&#23450;&#20041;&#32593;&#32476;&#20998;&#23618;&#32467;&#26500;&#30340;&#33021;&#21147;&#65292;&#29992;"parent"&#20027;&#26426;&#23450;&#20041;&#26469;&#34920;&#36798;&#32593;&#32476;&#20027;&#26426;&#38388;&#30340;&#20851;&#31995;&#65292;&#36825;&#31181;&#20851;&#31995;&#21487;&#34987;&#29992;&#26469;&#21457;&#29616;&#21644;&#26126;&#26224;&#20027;&#26426;&#23445;&#26426;&#25110;&#19981;&#21487;&#36798;&#29366;&#24577;&#65307; </li><li>&#24403;&#26381;&#21153;&#25110;&#20027;&#26426;&#38382;&#39064;&#20135;&#29983;&#19982;&#35299;&#20915;&#26102;&#23558;&#21578;&#35686;&#21457;&#36865;&#32473;&#32852;&#31995;&#20154;&#65288;&#36890;&#36807;EMail&#12289;&#30701;&#20449;&#12289;&#29992;&#25143;&#23450;&#20041;&#26041;&#24335;&#65289;&#65307;</li><li>&#20855;&#22791;&#23450;&#20041;&#20107;&#20214;&#21477;&#26564;&#21151;&#33021;&#65292;&#23427;&#21487;&#20197;&#22312;&#20027;&#26426;&#25110;&#26381;&#21153;&#30340;&#20107;&#20214;&#21457;&#29983;&#26102;&#33719;&#21462;&#26356;&#22810;&#38382;&#39064;&#23450;&#20301;&#65307; </li><li>&#33258;&#21160;&#30340;&#26085;&#24535;&#22238;&#28378;&#65307;</li><li>&#21487;&#20197;&#25903;&#25345;&#24182;&#23454;&#29616;&#23545;&#20027;&#26426;&#30340;&#20887;&#20313;&#30417;&#25511;&#65307; </li><li>&#21487;&#36873;&#30340;WEB&#30028;&#38754;&#29992;&#20110;&#26597;&#30475;&#24403;&#21069;&#30340;&#32593;&#32476;&#29366;&#24577;&#12289;&#36890;&#30693;&#21644;&#25925;&#38556;&#21382;&#21490;&#12289;&#26085;&#24535;&#25991;&#20214;&#31561;&#65307;</li></ol></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e150"></a>2.2.&nbsp;&#31995;&#32479;&#38656;&#27714;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"></div><p><span class="strong"><strong>Nagios&#25152;&#38656;&#35201;&#30340;&#36816;&#34892;&#26465;&#20214;&#26159;&#26426;&#22120;&#24517;&#39035;&#21487;&#20197;&#36816;&#34892;Linux&#65288;&#25110;&#26159;Unix&#21464;&#31181;&#65289;&#24182;&#19988;&#26377;C&#35821;&#35328;&#32534;&#35793;&#22120;&#12290;</strong></span>&#20320;&#24517;&#39035;&#27491;&#30830;&#22320;&#37197;&#32622;TCP/IP&#21327;&#35758;&#26632;&#20197;&#20351;&#22823;&#22810;&#25968;&#30340;&#26381;&#21153;&#26816;&#27979;&#21487;&#20197;&#36890;&#36807;&#32593;&#32476;&#24471;&#20197;&#36827;&#34892;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"></div><p>&#20320;&#38656;&#35201;<span class="strong"><strong>&#20294;&#24182;&#38750;&#24517;&#39035;</strong></span>&#27491;&#30830;&#22320;&#37197;&#32622;Nagios&#37324;&#30340;CGIs&#31243;&#24207;&#65292;&#32780;&#19968;&#26086;&#20320;&#35201;&#20351;&#29992;CGI&#31243;&#24207;&#26102;&#65292;&#20320;&#24517;&#39035;&#35201;&#23433;&#35013;&#20197;&#19979;&#36825;&#20123;&#36719;&#20214;...</p></div><div class="orderedlist"><ol type="1"><li>&#19968;&#20010;WEB&#26381;&#21153;&#65288;&#26368;&#22909;&#26159;<a class="ulink" href="http://www.apache.org" target="_top">Apache</a>&#65289;</li><li>Thomas Boutell&#21046;&#20316;&#30340;<a class="ulink" href="http://www.boutell.com/gd" target="_top">gd&#24211;</a>&#29256;&#26412;&#24212;&#26159;1.6.3&#25110;&#26356;&#39640;&#65288;&#22312;CGIs&#31243;&#24207;&#27169;&#22359;<a class="link" href="#cgis_statusmap_cgi">statusmap</a>&#21644;<a class="link" href="#cgis_trends_cgi">trends</a>&#36825;&#20004;&#20010;&#27169;&#22359;&#37324;&#38656;&#35201;&#36825;&#20010;&#24211;&#65289;</li></ol></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e181"></a>2.3.&nbsp;&#29256;&#26435;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"></div><p>Nagios&#29256;&#26435;&#36981;&#20174;&#20110;&#30001;<a class="ulink" href="http://www.fsf.org" target="_top">&#33258;&#30001;&#36719;&#20214;&#22522;&#37329;&#20250;</a>&#25152;&#21457;&#24067;&#30340;GNU&#29256;&#26435;&#21327;&#35758;&#31532;&#20108;&#29256;&#12290;&#26377;&#20851;GNU&#21327;&#35758;&#35831;&#26597;&#38405;<a class="ulink" href="http://www.fsf.org" target="_top">&#33258;&#30001;&#36719;&#20214;&#22522;&#37329;&#20250;</a>&#32593;&#31449;&#12290;&#35813;&#29256;&#26435;&#21327;&#35758;&#20801;&#35768;&#20320;&#22312;&#26576;&#20123;&#26465;&#20214;&#19979;&#21487;&#20197;&#22797;&#21046;&#12289;&#20998;&#21457;&#24182;&#19988;&#25110;&#32773;&#26159;&#20462;&#25913;&#23427;&#12290;&#21487;&#20197;&#22312;Nagios&#36719;&#20214;&#21457;&#34892;&#21253;&#37324;&#38405;&#35835;&#29256;&#26435;&#25991;&#20214;LICENSE&#25110;&#26159;&#22312;&#32593;&#31449;&#19978;&#38405;&#35835;<a class="ulink" href="http://www.gnu.org/copyleft/gpl.html" target="_top">&#22312;&#32447;&#29256;&#26435;</a>&#25991;&#20214;&#20197;&#33719;&#21462;&#26356;&#22810;&#20449;&#24687;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"></div><p>Nagios is provided AS IS with NO WARRANTY OF ANY KIND, INCLUDING THE WARRANTY OF DESIGN, MERCHANTABILITY, AND FITNESS FOR A PARTICULAR PURPOSE. </p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e199"></a>2.4.&nbsp;&#33268;&#35874;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"></div><p> &#19968;&#20123;&#20154;&#23545;Nagios&#30340;&#21457;&#24067;&#23613;&#21147;&#65292;&#19981;&#31649;&#26159;&#25253;&#21578;&#38169;&#35823;&#12289;&#25552;&#20379;&#24314;&#35758;&#12289;&#32534;&#20889;&#25554;&#20214;&#31561;&#31561;&#65292;&#21487;&#20197;&#22312;&#32593;&#31449;<a class="ulink" href="http://www.nagios.org/" target="_top">http://www.nagios.org</a>&#19978;&#25214;&#21040;&#36825;&#20123;&#20154;&#30340;&#21517;&#23383;&#21015;&#34920;&#12290; </p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e208"></a>2.5.&nbsp;&#19979;&#36733;&#26368;&#26032;&#29256;&#26412;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"></div><p>&#21487;&#20197;&#22312;Nagios<a class="ulink" href="http://www.nagios.org" target="_top">http://www.nagios.org</a>&#31449;&#28857;&#33719;&#21462;&#26368;&#26032;&#29256;&#26412;&#12290;</p></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><p><span class="emphasis"><em>Nagios&#21450;Nagios&#21830;&#19994;&#26631;&#35782;&#30001;Ethan Galstad&#25152;&#25317;&#26377;&#12290;</em></span>&#20854;&#20182;&#30340;&#21830;&#19994;&#26631;&#35782;&#12289;&#26381;&#21153;&#26631;&#35782;&#12289;&#27880;&#20876;&#21830;&#26631;&#21450;&#27880;&#20876;&#26381;&#21153;&#23646;&#20110;&#21508;&#33258;&#30340;&#25152;&#26377;&#32773;&#12290;</p></div></div></div><div class="chapter" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title"><a name="whatsnew"></a>&#31532;&nbsp;3&nbsp;&#31456;&nbsp;Nagios 3.0&#26032;&#29305;&#24615;</h2></div></div></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#37325;&#35201;</h3><p>Important: Make sure you read through the documentation and the FAQs at <a class="ulink" href="http://www.nagios.org/" target="_top">http://www.nagios.org/</a> before sending a question to the mailing lists. </p></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e231"></a>3.1.&nbsp;&#26356;&#26032;&#26085;&#24535;</h2></div></div></div><p>Nagios&#30340;&#26356;&#26032;&#26085;&#24535;&#21487;&#20197;&#22312;&#36825;&#37324;&#30340;<a class="ulink" href="http://www.nagios.org/development/changelog.php" target="_top">&#22312;&#32447;&#25991;&#20214;</a>&#25110;&#26159;&#22312;&#28304;&#31243;&#24207;&#30340;&#21457;&#34892;&#21253;&#30340;&#26681;&#30446;&#24405;&#37324;&#25214;&#21040;&#12290;</p></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e239"></a>3.2.&nbsp;&#21464;&#26356;&#19982;&#26032;&#29305;&#24449;</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li>&#25991;&#26723;&#65306;<div class="orderedlist"><ol type="1"><li>&#26356;&#26032;&#20102;&#25991;&#26723; &#65293; &#24456;&#25265;&#27465;&#25105;&#23545;&#25991;&#26723;&#30340;&#26356;&#26032;&#24037;&#20316;&#36827;&#23637;&#36831;&#32531;&#12290;&#36825;&#20250;&#33457;&#20123;&#26102;&#38388;&#26469;&#20570;&#65292;&#22240;&#20026;&#26377;&#24456;&#22810;&#25991;&#26723;&#32780;&#19988;&#20889;&#36825;&#20123;&#25991;&#26723;&#24182;&#19981;&#26159;&#25105;&#21916;&#27426;&#30340;&#20107;&#24773;&#65288;&#25105;&#26356;&#19981;&#21916;&#27426;&#25972;&#22825;&#32763;&#35793;&#65292;&#36825;&#20063;&#19981;&#26159;&#25105;&#21916;&#27426;&#30340;&#20107;&#24773;&#65289;&#12290;&#26399;&#24453;&#19968;&#20123;&#25991;&#26723;&#19982;&#20854;&#20182;&#30340;&#26377;&#25152;&#19981;&#21516;&#65292;&#32780;&#36825;&#20123;&#19981;&#21516;&#20250;&#23545;&#20110;&#37027;&#20123;&#26032;&#20154;&#25110;&#26377;&#32463;&#39564;&#30340;Nagios&#20351;&#29992;&#32773;&#36215;&#20123;&#20316;&#29992;&#12290;</li></ol></div></li><li>&#20869;&#23884;&#23439;&#65306;<div class="orderedlist"><ol type="1"><li>&#26032;&#21152;&#23439; &#65293; &#21152;&#20837;&#20102;&#19968;&#20123;&#26032;&#23439;&#65292;&#21253;&#25324;&#65306;$TEMPPATH$&#12289;$LONGHOSTOUTPUT$&#12289;$LONGSERVICEOUTPUT$&#12289;$HOSTNOTIFICATIONID$&#12289;$SERVICENOTIFICATIONID$&#12289;$HOSTEVENTID$&#12289;$SERVICEEVENTID$&#12289;$SERVICEISVOLATILE$&#12289;$LASTHOSTEVENTID$&#12289;$LASTSERVICEEVENTID$&#12289;$HOSTDISPLAYNAME$&#12289;$SERVICEDISPLAYNAME$&#12289;$MAXHOSTATTEMPTS$&#12289;$MAXSERVICEATTEMPTS$&#12289;$TOTALHOSTSERVICES$&#12289;$TOTALHOSTSERVICESOK$&#12289;$TOTALHOSTSERVICESWARNING$&#12289;$TOTALHOSTSERVICESUNKNOWN$&#12289;$TOTALHOSTSERVICESCRITICAL$&#12289;$CONTACTGROUPNAME$&#12289;$CONTACTGROUPNAMES$&#12289;$CONTACTGROUPALIAS$&#12289;$CONTACTGROUPMEMBERS$&#12289;$NOTIFICATIONRECIPIENTS$&#12289;$NOTIFICATIONISESCALATED$&#12289;$NOTIFICATIONAUTHOR$&#12289;$NOTIFICATIONAUTHORNAME$&#12289;$NOTIFICATIONAUTHORALIAS$&#12289;$NOTIFICATIONCOMMENT$&#12289;$EVENTSTARTTIME$&#12289;$HOSTPROBLEMID$&#12289;$LASTHOSTPROBLEMID$&#12289;$SERVICEPROBLEMID$&#12289;$LASTSERVICEPROBLEMID$&#12289;$LASTHOSSTATE$&#12289;$LASTHOSTSTATEID$&#12289;$LASTSERVICESTATE$&#12289;$LASTSERVICESTATEID$&#12290;&#21152;&#20837;&#20102;&#20004;&#20010;&#29305;&#27530;&#30340;&#23432;&#25252;&#26102;&#38388;&#23439;&#65306;$ISVALIDTIME:$&#21644;$NEXTVALIDTIME:$&#12290;</li><li>&#31227;&#38500;&#30340;&#23439; &#65293; &#21407;&#26377;&#30340;&#23439;$NOTIFICATIONNUMBER$&#34987;&#20998;&#31163;&#20026;&#20004;&#20010;&#26032;&#23439;$HOSTNOTIFICATIONNUMBER$&#21644;$SERVICENOTIFICATIONNUMBER$&#12290;</li><li>&#21464;&#26356;&#30340;&#23439; &#65293; &#29616;&#26377;&#30340;$HOSTNOTES$&#21644;$SERVICENOTES$&#23439;&#21253;&#25324;&#33258;&#36523;&#22806;&#65292;&#36824;&#21253;&#25324;$HOSTNOTESURL$&#12289;$HOSTACTIONURL$&#12289;$SERVICENOTESURL$&#21644;$SERVICEACTIONURL$&#31561;&#20960;&#20010;&#23439;&#12290;</li><li>&#22312;&#26816;&#27979;&#12289;&#20107;&#20214;&#21477;&#26564;&#22788;&#29702;&#12289;&#21578;&#35686;&#21644;&#20854;&#20182;&#22806;&#37096;&#21629;&#20196;&#25191;&#34892;&#26102;&#65292;&#23439;&#21487;&#20197;&#33719;&#21462;&#29615;&#22659;&#21464;&#37327;&#12290;&#36825;&#21487;&#20250;&#20351;Nagios&#22312;&#22823;&#22411;&#37096;&#32626;&#26041;&#26696;&#26102;&#21344;&#29992;&#36739;&#39640;&#30340;CPU&#22788;&#29702;&#33021;&#21147;&#65292;&#20320;&#21487;&#20197;&#35774;&#32622;<a class="link" href="#configmain" title="5.2.&nbsp;&#20027;&#37197;&#32622;&#25991;&#20214;&#36873;&#39033;">enable_environment_macros</a> &#36873;&#39033;&#26469;&#19981;&#20351;&#33021;&#23427;&#12290;</li><li>&#26377;&#20851;&#23439;&#30340;&#26356;&#26032;&#20449;&#24687;&#21487;&#20197;&#22312;<a class="link" href="#macros" title="8.2.&nbsp;&#29702;&#35299;Nagios&#23439;&#21450;&#20854;&#24037;&#20316;&#26426;&#21046;">&#36825;&#37324;</a>&#26597;&#21040;&#12290;</li></ol></div></li><li>&#39044;&#23450;&#20041;&#20572;&#26426;&#26102;&#38388;&#65306;<div class="orderedlist"><ol type="1"><li><a class="link" href="#downtime" title="6.5.&nbsp;&#35745;&#21010;&#20572;&#26426;&#26102;&#38388;">&#39044;&#23450;&#20041;&#20572;&#26426;&#26102;&#38388;</a>&#19981;&#20877;&#20445;&#23384;&#22312;&#21508;&#33258;&#25991;&#20214;(&#20043;&#21069;&#26159;&#30001;&#20027;&#37197;&#32622;&#25991;&#20214;&#37324;&#30340;<span class="strong"><strong>downtime_file</strong></span>&#26469;&#25351;&#23450;)&#12290;&#24403;&#21069;&#30340;&#21644;&#20445;&#30041;&#30340;&#39044;&#23450;&#20041;&#20572;&#26426;&#26102;&#38388;&#23558;&#20998;&#21035;&#20445;&#23384;&#20110;<a class="link" href="#status_file" title="&#34920;&nbsp;5.9.&nbsp;&#29366;&#24577;&#25991;&#20214;">&#29366;&#24577;&#25991;&#20214;</a>&#21644;<a class="link" href="#configmain" title="5.2.&nbsp;&#20027;&#37197;&#32622;&#25991;&#20214;&#36873;&#39033;">&#20445;&#30041;&#25991;&#20214;retention file</a>&#20013;&#12290;</li></ol></div></li><li>&#27880;&#37322;&#65306;<div class="orderedlist"><ol type="1"><li>&#20027;&#26426;&#21644;&#26381;&#21153;&#30340;&#27880;&#37322;&#19981;&#20877;&#20445;&#23384;&#20110;&#21508;&#33258;&#30340;&#25991;&#20214;(&#20043;&#21069;&#22312;&#20027;&#37197;&#32622;&#25991;&#20214;&#20013;&#30340;<span class="strong"><strong>comment_file</strong></span>&#26469;&#25351;&#23450;)&#12290;&#24403;&#21069;&#30340;&#21644;&#20445;&#30041;&#30340;&#27880;&#37322;&#23558;&#20998;&#21035;&#20445;&#23384;&#20110;<a class="link" href="#configmain" title="5.2.&nbsp;&#20027;&#37197;&#32622;&#25991;&#20214;&#36873;&#39033;">&#29366;&#24577;&#25991;&#20214;status file</a>&#21644;<a class="link" href="#configmain" title="5.2.&nbsp;&#20027;&#37197;&#32622;&#25991;&#20214;&#36873;&#39033;">&#20445;&#30041;&#25991;&#20214;retention file</a>&#20043;&#20013;&#12290;</li><li>Acknowledgement comments that are marked as non-persistent are now only deleted when the acknowledgement is removed. They were previously automatically deleted when Nagios restarted, which was not ideal.</li></ol></div></li><li>State Retention Data:<div class="orderedlist"><ol type="1"><li>Status information for individual contacts is now retained across program restarts.</li><li>Comment and downtime IDs are now retained across program restarts and should be unique unless the retention data is deleted or ignored.</li><li>Added <a class="link" href="#retained_host_attribute_mask" title="&#34920;&nbsp;5.31.&nbsp;&#20445;&#25345;&#20027;&#26426;&#21644;&#26381;&#21153;&#23646;&#24615;&#25513;&#30721;">retained_host_attribute_mask</a> and <a class="link" href="#retained_host_attribute_mask" title="&#34920;&nbsp;5.31.&nbsp;&#20445;&#25345;&#20027;&#26426;&#21644;&#26381;&#21153;&#23646;&#24615;&#25513;&#30721;">retained_service_attribute_mask</a> variables to control what host/service attributes are retained globally across program restarts.</li><li>Added <a class="link" href="#retained_process_host_attribute_mask" title="&#34920;&nbsp;5.32.&nbsp;&#20445;&#25345;&#36827;&#31243;&#23646;&#24615;&#25513;&#30721;">retained_process_host_attribute_mask</a> and <a class="link" href="#retained_process_host_attribute_mask" title="&#34920;&nbsp;5.32.&nbsp;&#20445;&#25345;&#36827;&#31243;&#23646;&#24615;&#25513;&#30721;">retained_process_service_attribute_mask</a> variables to control what process attributes are retained across program restarts.</li><li>Added <a class="link" href="#retained_contact_host_attribute_mask" title="&#34920;&nbsp;5.33.&nbsp;&#20445;&#25345;&#32852;&#31995;&#20154;&#23646;&#24615;&#25513;&#30721;">retained_contact_host_attribute_mask</a> and <a class="link" href="#retained_contact_host_attribute_mask" title="&#34920;&nbsp;5.33.&nbsp;&#20445;&#25345;&#32852;&#31995;&#20154;&#23646;&#24615;&#25513;&#30721;">retained_contact_service_attribute_mask</a> variables to control what contact attributes are retained globally across program restarts.</li></ol></div></li><li>Flap Detection:<div class="orderedlist"><ol type="1"><li>Added <span class="strong"><strong>flap_detection_options</strong></span> directive to host and service definitions to allow you to specify what host/service states should be used by the flap detection logic (by default all states are used).</li><li>Percent state change and state history are now retained and recorded even when flap detection is disabled.</li><li>Hosts and services are immediately checked for flapping when flap detection is enabled program-wide.</li><li>Hosts and services that are flapping when flap detection is disabled program-wide are now logged.</li><li>More information on flap detection can be found <a class="link" href="#flapping" title="8.7.&nbsp;&#24863;&#30693;&#21644;&#22788;&#29702;&#29366;&#24577;&#25238;&#21160;">here</a>.</li></ol></div></li><li>External Commands:<div class="orderedlist"><ol type="1"><li>Added a new PROCESS_FILE external command to allow processing of external commands found in an eternal (regular) file. Useful for processing large amounts of passive checks with long output, or for scripting regular commands. More information can be found here.</li><li>Custom commands may now be submitted to Nagios. Custom command names are prefixed with an underscore and are not processed internally by the Nagios daemon. They may, however, be processed by a loaded NEB module.</li><li>The <a class="link" href="#check_external_commands" title="&#34920;&nbsp;5.21.&nbsp;&#22806;&#37096;&#21629;&#20196;&#26816;&#26597;&#36873;&#39033;">check_external_commands</a> option is now enabled by default, which means Nagios is configured to check for external "commands out of the box". All 2.x and earlier versions of Nagios had this option disabled by default.</li></ol></div></li><li>Status Data:<div class="orderedlist"><ol type="1"><li>Contact status information (last notification times, notifications enabled/disabled, etc.) is now saved in the <a class="link" href="#configmain" title="5.2.&nbsp;&#20027;&#37197;&#32622;&#25991;&#20214;&#36873;&#39033;">status</a> and <a class="link" href="#configmain" title="5.2.&nbsp;&#20027;&#37197;&#32622;&#25991;&#20214;&#36873;&#39033;">retention</a> files, although it is not processed by the CGIs.</li></ol></div></li><li>Embedded Perl:<div class="orderedlist"><ol type="1"><li>Added new <a class="link" href="#enable_embedded_perl" title="&#34920;&nbsp;5.107.&nbsp;Embedded Perl Interpreter Option">enable_embedded_perl</a> and <a class="link" href="#use_embedded_perl_implicitly" title="&#34920;&nbsp;5.108.&nbsp;Embedded Perl Implicit Use Option">use_embedded_perl_implicitly</a> variables to control use of the embedded Perl interpreter.</li><li>Perl scripts/plugins can now explicitly tell Nagios whether or not they should be run under the embedded Pel interpreter. This is useful if you have troublesome scripts that don't function well under the ePN.</li><li>More information about these new optios can be found <a class="link" href="#embeddedperl" title="12.1.&nbsp;&#20351;&#29992;&#20869;&#23884;Perl&#35299;&#37322;&#22120;">here</a>.</li></ol></div></li><li>Adaptive Monitoring:<div class="orderedlist"><ol type="1"><li>The check timeperiod for hosts and services can now be modified on-the-fly with the appropriate external command (CHANGE_HOST_CHECK_TIMEPERIOD or CHANGE_SVC_CHECK_TIMEPERIOD).&#26597;&#38405;&#36825;&#20010;<a class="ulink" href="http://www.nagios.org/developerinfo/externalcommands/commandlist.php?category_id=13" target="_top">&#32593;&#39029;</a>&#20197;&#21462;&#24471;&#26356;&#22810;&#21487;&#29992;&#30340;&#36866;&#24212;&#24615;&#26816;&#27979;&#21629;&#20196;&#12290;</li></ol></div></li><li>Notifications:<div class="orderedlist"><ol type="1"><li>A <span class="strong"><strong>first_notification_delay</strong></span> option has been added to host and service definitions to (what else) introduce a delay between when a host/service problem first occurs and when the first problem notification goes out. In previous versions you had to use some mighty config-fu with escalations to accomplish this. Now this feature is available to normal mortals.</li><li>Notifications are now sent out for hosts/services that are flapping when flap detection is disabled on a host- or service-specific basis or on a program-wide basis. The $NOTIFICATIONTYPE$ macro will be set to "FLAPPINGDISABLED" in this situation.</li><li>Notifications can now be sent out when scheduled downtime start, ends, and is cancelled for hosts and services. The $NOTIFICATIONTYPE$ macro will be set to "DOWNTIMESTART", "DOWNTIMEEND", or "DOWNTIMECANCELLED", respectively. In order to received notifications on scheduled downtime events, specify "s" or "downtime" in your contact, host, and/or service notification options.</li><li>More information on notifications can be found <a class="link" href="#notifications" title="6.7.&nbsp;&#36890;&#30693;">here</a>.</li></ol></div></li><li>Object Definitions:<div class="orderedlist"><ol type="1"><li>Service dependencies can now be created to easily define "same host" dependencies for different services on one or more hosts. (<a class="link" href="#objecttricks" title="6.2.&nbsp;&#23545;&#35937;&#23450;&#20041;&#30340;&#30465;&#26102;&#20915;&#31373;">Read more</a>)</li><li>Extended host and service definitions (hostextinfo and serviceextinfo, respectively) have been deprecated. All values that from extended definitions have been merged with host or service definitions, as appropriate. Nagios 3 will continue to read and process older extended information definitions, but will log a warning. Future versions of Nagios (4.x and later) will not support separate extended info definitions.</li><li>New <span class="strong"><strong>hostgroup_members</strong></span>, <span class="strong"><strong>servicegroup_members</strong></span>, and <span class="strong"><strong>contactgroup_members</strong></span> directives have been added to hostgroup, servicegroup, and contactgroups definitions, respectively. This allows you to include hosts, services, or contacts from sub-groups in your group definitions.</li><li>New <span class="strong"><strong>notes</strong></span>, <span class="strong"><strong>notes_url</strong></span>, and <span class="strong"><strong>action_url</strong></span> have been added to hostgroup and servicegroup definition.</li><li>Contact definitions have the new <span class="strong"><strong>host_notifications_enabled</strong></span>, <span class="strong"><strong>service_notifications_enabled</strong></span>, and <span class="strong"><strong>can_submit_commands</strong></span> directives to better control notifications and determine whether or not they can submit commands through the web interface.</li><li>Host and service dependencies now support an optional <span class="strong"><strong>dependency_period</strong></span> directive. This allows you to limit the times during which dependencies are valid.</li><li>The <span class="strong"><strong>parallelize</strong></span> directive in service definitions is now deprecated and no longer used. All service checks are run in parallel in Nagios 3.</li><li>There are no longer any inherent limitations on the length of host names or service descriptions.</li><li>Extended regular expressions are now used if you enable the <a class="link" href="#use_regexp_matching" title="&#34920;&nbsp;5.114.&nbsp;&#27491;&#21017;&#34920;&#36798;&#24335;&#36873;&#39033;">use_regexp_matching</a> config option. Regular expression matching is only used in certain object definition directives that contain *, ?, +, or \..</li><li>A new <span class="strong"><strong>initial_state</strong></span> directive has been added to host and service definitions, so you can tell Nagios that a host/service should default to a specific state when Nagios starts, rather than UP or OK (which is still the default).</li></ol></div></li><li>Object Inheritance:<div class="orderedlist"><ol type="1"><li>You can now inherit object variables/values from multiple templates by specifying more than one template name in the <span class="strong"><strong>use</strong></span> directive of object definitions. This can allow for some very powerful (and complex) inheritance setups. (<a class="link" href="#objectinheritance" title="6.4.&nbsp;&#23545;&#35937;&#32487;&#25215;&#20851;&#31995;">Read more</a>)</li><li>Services now inherit contact groups, notification interval, and notification period from their associated host if not otherwise specified. (<a class="link" href="#objectinheritance" title="6.4.&nbsp;&#23545;&#35937;&#32487;&#25215;&#20851;&#31995;">Read more</a>)</li><li>Host and service escalations now inherit contact groups, notification interval, and escalation timeperiod fro their associated host or service if not otherwise specified. (<a class="link" href="#objectinheritance" title="6.4.&nbsp;&#23545;&#35937;&#32487;&#25215;&#20851;&#31995;">Read more</a>)</li><li>String variables in host, service, and contact definitions can now be prevented from being inherited by specifying a value of "null" (without quotes) for the value of the variable. (<a class="link" href="#objectinheritance" title="6.4.&nbsp;&#23545;&#35937;&#32487;&#25215;&#20851;&#31995;">Read more</a>)</li><li>Most string variables in local object definitions can now be appended to the string values that are inherited. This is quite handy in large configurations. (<a class="link" href="#objectinheritance" title="6.4.&nbsp;&#23545;&#35937;&#32487;&#25215;&#20851;&#31995;">Read more</a>)</li></ol></div></li><li>Performance Improvements:<div class="orderedlist"><ol type="1"><li>Add ability to precache object config files and exclude circular path detection checks from verification process. This can speed up Nagios start time immensely in large environments! Read more <a class="link" href="#faststartup" title="7.3.&nbsp;&#24555;&#36895;&#21551;&#21160;&#36873;&#39033;">here</a>.</li><li>A new <a class="link" href="#use_large_installation_tweaks" title="&#34920;&nbsp;5.66.&nbsp;Large Installation Tweaks Option">use_large_installation_tweaks</a> option has been added that should improve performance in large Nagios installations. Read more about this <a class="link" href="#largeinstalltweaks" title="9.4.&nbsp;&#22823;&#22411;&#23433;&#35013;&#27169;&#24335;&#30340;&#21464;&#21270;">here</a>.</li><li>A number of internal improvements have been made with regards to how Nagios deals with internal data structures and object (e.g. host and service) relationships. These improvements should result in a speedup for larger installations.</li><li>New <a class="link" href="#external_command_buffer_slots" title="&#34920;&nbsp;5.24.&nbsp;&#22806;&#37096;&#21629;&#20196;&#32531;&#20914;&#38431;&#21015;&#25968;">external_command_buffer_slots</a> option has been added to allow you to more easily scale Nagios in large environments. For best results you should consider using <a class="link" href="#mrtggraphs" title="10.4.&nbsp;&#20351;&#29992;MRTG&#32472;&#21046;&#24615;&#33021;&#25968;&#25454;">MRTG to graph</a> Nagios' usage of buffer slots over time.</li></ol></div></li><li>Plugin Output:<div class="orderedlist"><ol type="1"><li>Multiline plugin output is now supported for host and service checks. Hooray! The plugin API has been updated to support multiple lines of output in a manner that retains backward compatability with older plugins. Additional lines of output (aside from the first line) are now stored in new $LONGHOSTOUTPUT$ and $LONGSERVICEOUTPUT$ macros.</li><li>The maximum length of plugin output has been increased to 4K (from around 350 bytes in previous versions). This 4K limit has been arbitrarily chosen to protect again runaway plugins that dump back too much data to Nagios.</li><li>More information on the plugins, multiline output, and max plugin output length can be found <a class="link" href="#pluginapi" title="12.3.&nbsp;Nagios&#25554;&#20214;API">here</a>.</li></ol></div></li><li>Service Checks:<div class="orderedlist"><ol type="1"><li>Nagios now checks for orphaned service checks by default.</li><li>Added a new <a class="link" href="#enable_predictive_service_dependency_checks" title="&#34920;&nbsp;5.63.&nbsp;Predictive Service Dependency Checks Option">enable_predictive_service_dependency_checks</a> option to control whether or not Nagios will initiate predictive check of service that are being depended upon (in dependency definitions). Predictive checks help ensure that the dependency logic is as accurate as possible. (<a class="link" href="#dependencychecks" title="8.12.&nbsp;&#20381;&#36182;&#26816;&#27979;&#30340;&#21069;&#22788;&#29702;">Read more</a>)</li><li>A new cached service check feature has been implemented that can significantly improve performance for many people Instead of executing a plugin to check the status of a service, Nagios can often use a cached service check result instead. More information on this can be found <a class="link" href="#cachedchecks" title="9.5.&nbsp;&#32531;&#23384;&#26816;&#27979;">here</a>.</li></ol></div></li><li>Host Checks:<div class="orderedlist"><ol type="1"><li>Host checks are now run in parallel! Host checks used to be run in a serial fashion, which meant they were a major holdup in terms of performance. No longer! (<a class="link" href="#hostchecks" title="6.11.&nbsp;&#20027;&#26426;&#26816;&#27979;">Read more</a>)</li><li>Host check retries are now performed like service check retries. That is to say, host definitions now have a new <span class="strong"><strong>retry_interval</strong></span> that specifies how much time to wait before trying the host check again. :-)</li><li>Regularly scheduled host checks now longer hinder performance. In fact, they can help to increase performance with the new cached check logic (see below).</li><li>Added a new <a class="link" href="#check_for_orphaned_hosts" title="&#34920;&nbsp;5.101.&nbsp;&#23396;&#31435;&#20027;&#26426;&#26816;&#27979;&#36873;&#39033;">check_for_orphaned_hosts</a> option to enable checks of orphaned host checks. This is need now that host checks are run in parallel.</li><li>Added a new <a class="link" href="#check_for_orphaned_hosts" title="&#34920;&nbsp;5.101.&nbsp;&#23396;&#31435;&#20027;&#26426;&#26816;&#27979;&#36873;&#39033;">enable_predictive_host_dependency_checks</a> option to control whether or not Nagios will initiate predictive check of hosts that are being depended upon (in dependency definitions). Predictive checks help ensure that the dependency logic is as accurate as possible. (<a class="link" href="#dependencychecks" title="8.12.&nbsp;&#20381;&#36182;&#26816;&#27979;&#30340;&#21069;&#22788;&#29702;">Read more</a>)</li><li>A new cached host check feature has been implemented that can significantly improve performance for many people Instead of executing a plugin to check the status of a host, Nagios can often use a cached host check result instead. More information on this can be found <a class="link" href="#cachedchecks" title="9.5.&nbsp;&#32531;&#23384;&#26816;&#27979;">here</a>.</li><li>Passive host checks that have a DOWN or UNREACHABLE result can now be automatically translated to their proper state from the point of view of the Nagios instance that receives them. This is very useful in failover and distributed monitoring setups. More information on passive host check state translation can be found <a class="link" href="#passivestatetranslation" title="9.9.&nbsp;&#24378;&#21046;&#24335;&#20027;&#26426;&#29366;&#24577;&#36801;&#31227;">here</a>.</li><li>Passive host checks normally put a host into a HARD state. This can now be changed by enabling the <a class="link" href="#passive_host_checks_are_soft" title="&#34920;&nbsp;5.61.&nbsp;Passive Host Checks Are SOFT Option">passive_host_checks_are_soft</a> option.</li></ol></div></li><li>Freshness checks:<div class="orderedlist"><ol type="1"><li>A new <a class="link" href="#additional_freshness_latency" title="&#34920;&nbsp;5.106.&nbsp;Additional Freshness Threshold Latency Option">additional_freshness_latency</a> option has been added to allow to you specify the number of seconds that should be added to any host or service freshness threshold that is automatically calculated by Nagios.</li></ol></div></li><li>IPC:<div class="orderedlist"><ol type="1"><li>The IPC mechanism that is used to transfer host/service check results back to the Nagios daemon from (grand)child processes has changed! This should help to reduce load/latency issues related to processing large numbers of passive checks in distributed monitoring environments.</li><li>Check results are now transferred by writing check results to files in directory specified by the <a class="link" href="#check_result_path" title="&#34920;&nbsp;5.51.&nbsp;&#26816;&#27979;&#32467;&#26524;&#20445;&#23384;&#36335;&#24452;">check_result_path</a> option. Files that are older that the <a class="link" href="#max_check_result_file_age" title="&#34920;&nbsp;5.52.&nbsp;&#26816;&#27979;&#32467;&#26524;&#25991;&#20214;&#30340;&#26368;&#22823;&#29983;&#23384;&#26102;&#38388;">max_check_result_file_age</a> option will be mercilessly deleted without further processing.</li></ol></div></li><li>Timeperiods:<div class="orderedlist"><ol type="1"><li>Timeperiods were overdue for a major overhaul and have finally been extended to allow for date exceptions, skip dates (every 3 days), etc! This should help you out when defining notification timeperiods for pager rotations.</li><li>More information on the new timeperiod directives can be found <a class="link" href="#objectdefinitions" title="6.1.&nbsp;&#23545;&#35937;&#23450;&#20041;">here</a> and <a class="link" href="#timeperiods" title="6.6.&nbsp;&#26102;&#38388;&#21608;&#26399;">here</a>.</li></ol></div></li><li>Event Broker:<div class="orderedlist"><ol type="1"><li>Updated NEB API version</li><li>Modified callback for adaptive program status data</li><li>Added callback for adaptive contact status data</li><li>Added precheck callbacks for hosts and services to allow modules to cancel/override internal host/service checks.</li></ol></div></li><li>Web Interface:<div class="orderedlist"><a class="link" href="#enable_splunk_integration" title="&#34920;&nbsp;5.149.&nbsp;Splunk&#38598;&#25104;&#36873;&#39033;">enable_splunk_integration</a><a class="link" href="#splunk_url" title="&#34920;&nbsp;5.150.&nbsp;Splunk URL">splunk_url</a><ol type="1"><li>Hostgroup and servicegroup summaries now show important/unimportant problem breakdowns liek the TAC CGI.</li><li>Minor layout changes to host and service detail views in extinfo CGI.</li><li>New check statistics and have been added to the "Performance Info" screen.</li><li>Added <a class="ulink" href="http://www.splunk.com/" target="_top">Splunk</a></li><li>Added new <a class="link" href="#notes_url_target" title="&#34920;&nbsp;5.147.&nbsp;&#27880;&#37322;&#30340;URL&#25351;&#21521;">notes_url_target</a> and <a class="link" href="#action_url_target" title="&#34920;&nbsp;5.148.&nbsp;&#21160;&#20316;&#30340;URL&#25351;&#21521;">action_url_target</a> options to control what frame notes and action URLs are opened in.</li><li>Added new <a class="link" href="#lock_author_names" title="&#34920;&nbsp;5.136.&nbsp;&#38145;&#23450;&#21160;&#20316;&#32773;&#30340;&#29992;&#25143;&#21517;">lock_author_names</a> option to prevent alteration of author names when users submit comments, acknowledgements, and scheduled downtime.</li></ol></div></li><li>Deubbing Info:<div class="orderedlist"><ol type="1"><li>The DEBUGx compile options available in the configure script for have been removed.</li><li>Debugging information can now be written to a separate debug file, which is automatically rotated when it reaches a user-defined size. This should make debugging problems much easier, as you don't need to recompiled Nagios. Full support for writing debugging information to file is being added during the alpha development phase, so it may not be complete when you try it.</li><li>Variables that affect the debug log in <a class="link" href="#debug_file" title="&#34920;&nbsp;5.120.&nbsp;&#35843;&#35797;&#25991;&#20214;">debug_file</a>, <a class="link" href="#debug_level" title="&#34920;&nbsp;5.121.&nbsp;&#35843;&#35797;&#31561;&#32423;">debug_level</a>, <a class="link" href="#debug_verbosity" title="&#34920;&nbsp;5.122.&nbsp;Debug Verbosity">debug_verbosity</a>, and <a class="link" href="#max_debug_file_size" title="&#34920;&nbsp;5.123.&nbsp;&#35843;&#35797;&#25991;&#20214;&#26368;&#22823;&#38271;&#24230;">max_debug_file_size</a>.</li></ol></div></li><li>Misc:<div class="orderedlist"><ol type="1"><li>Temp path variable - A new <a class="link" href="#temp_path" title="&#34920;&nbsp;5.8.&nbsp;&#20020;&#26102;&#36335;&#24452;">temp_path</a> variable has been added to specify a scratch directory that Nagios can use for temporary scratch space.</li><li>Unique notification and event ID numbers - A unique ID number is now assigned to each host and service notification. Another unique ID is now assigned to all host and service state changes as well. The unique IDs can be accessed using the following respective macros: $HOSTNOTIFICATIONID$, $SERVICENOTIFICATIONID$, $HOSTEVENTID$, $SERVICEEVENTID$, $LASTHOSTEVENTID$, $LASTSERVICEEVENTID$.</li><li>New macros - A few new macros (other than those already mentioned elsewhere above) have been added. They include $HOSTGROUPNAMES$, $SERVICEGROUPNAMES$, $HOSTACKAUTHORNAME$, $HOSTACKAUTHORALIAS$, $SERVICEACKAUTHORNAME$, and $SERVICEACKAUTHORALIAS$.</li><li>Reaper frequency - The old <span class="strong"><strong>service_reaper_frequency</strong></span> variable has been renamed to <a class="link" href="#check_result_reaper_frequency" title="&#34920;&nbsp;5.49.&nbsp;&#26816;&#27979;&#32467;&#26524;&#30340;&#22238;&#25910;&#39057;&#24230;">check_result_reaper_frequency</a>, as it is now also used to process host check results.</li><li>Max reaper time - A new <a class="link" href="#max_check_result_reaper_time" title="&#34920;&nbsp;5.50.&nbsp;&#26368;&#22823;&#26816;&#27979;&#32467;&#26524;&#22238;&#25910;&#26102;&#38388;&#27573;">max_check_result_reaper_time</a> variable has been added to limit the amount of time a single reaper event is allowed to run.</li><li>Fractional intervals - Fractional notification and check intervals (e.g. "3.5" minutes) are now supported in host, service, host escalation, and service escalation definitions. </li><li>Escaped command arguments - You can now pass bang (!) characters in your command arguments by escaping them with a backslash (\). If you need to include backslashes in your command arguments, they should also be escaped with a backslash.</li><li>Multiline system command output - Nagios will now read multiple lines out output from system commands it runs (notification scripts, etc.), up to 4K. This matches the limits on plugin output mentioned earliar. Output from system commands is not directly processed by Nagios, but support for it is there nonetheless.</li><li>Better scheduling information - More detailed information is given when Nagios is executed with the -s command line option. This information can be used to help <a class="link" href="#faststartup" title="7.3.&nbsp;&#24555;&#36895;&#21551;&#21160;&#36873;&#39033;">reduce</a> the time it takes to start/restart Nagios.</li><li>Aggregated status file updates - The old <span class="strong"><strong>aggregate_status_updates</strong></span> option has been removed. All status file updates are now aggregated at a minimum interval of 1 second.</li><li>New performance data file mode - A new "p" option has been added to the <a class="link" href="#host_perfdata_file_mode" title="&#34920;&nbsp;5.94.&nbsp;&#20027;&#26426;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;&#25171;&#24320;&#26041;&#24335;">host_perfdata_file_mode</a> and <a class="link" href="#service_perfdata_file_mode" title="&#34920;&nbsp;5.95.&nbsp;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;&#25171;&#24320;&#26041;&#24335;">service_perfdata_file_mode</a> options. This new mode will open the file in non-blocking read/write mode, which is useful for pipes.</li><li>Timezone offset - A new <a class="link" href="#use_timezone" title="&#34920;&nbsp;5.111.&nbsp;&#26102;&#21306;&#36873;&#39033;">use_timezone</a> option has been added to allow you to run different instances of Nagios in timezones different from the local zone.</li></ol></div></li></ul></div></div></div><div class="chapter" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title"><a name="beginning"></a>&#31532;&nbsp;4&nbsp;&#31456;&nbsp;&#20837;&#38376;</h2></div></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="beginners"></a>4.1.&nbsp;&#32473;&#26032;&#25163;&#30340;&#24314;&#35758;</h2></div></div></div><p>&#31069;&#36154;&#20320;&#36873;&#25321;&#20102;Nagios&#65281;Nagios&#26159;&#19968;&#20010;&#38750;&#24120;&#24378;&#22823;&#19988;&#26580;&#24615;&#21270;&#30340;&#36719;&#20214;&#65292;&#20294;&#21487;&#33021;&#38656;&#35201;&#19981;&#23569;&#24515;&#34880;&#26469;&#23398;&#20064;&#22914;&#20309;&#37197;&#32622;&#20351;&#20043;&#31526;&#21512;&#20320;&#25152;&#38656;&#65292;&#19968;&#26086;&#25484;&#25569;&#20102;&#23427;&#22914;&#20309;&#24037;&#20316;&#24182;&#24590;&#26679;&#26469;&#24037;&#20316;&#26102;&#65292;&#20320;&#20250;&#35273;&#24471;&#20877;&#20063;&#31163;&#19981;&#24320;&#23427;&#65281; :-) &#23545;&#20110;&#21021;&#27425;&#20351;&#29992;Nagios&#30340;&#26032;&#25163;&#36825;&#26377;&#20960;&#20010;&#24314;&#35758;&#38656;&#35201;&#36981;&#20174;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><span class="bold"><strong>&#25918;&#26494;&#28857; &#65293; &#36825;&#20250;&#33457;&#20123;&#26102;&#38388;&#12290;</strong></span>&#19981;&#35201;&#25351;&#26395;&#23427;&#20107;&#24773;&#21487;&#20197;&#22312;&#36716;&#30636;&#38388;&#23601;&#25630;&#25503;&#65292;&#27809;&#26377;&#37027;&#20040;&#23481;&#26131;&#12290;&#35774;&#32622;&#22909;Nagios&#26159;&#19968;&#20010;&#36153;&#28857;&#20107;&#30340;&#24037;&#20316;&#65292;&#37096;&#20998;&#26159;&#30001;&#20110;&#23545;Nagios&#35774;&#32622;&#24182;&#19981;&#28165;&#26970;&#65292;&#32780;&#36824;&#21487;&#33021;&#26159;&#30001;&#20110;&#24182;&#19981;&#28165;&#26970;&#22914;&#20309;&#26469;&#30417;&#25511;&#29616;&#26377;&#32593;&#32476;&#65288;&#25110;&#32773;&#35828;&#22914;&#20309;&#30417;&#25511;&#20250;&#26356;&#22909;&#65289;&#12290;</li><li><span class="bold"><strong>&#20351;&#29992;&#24555;&#36895;&#19978;&#25163;&#25351;&#21335;&#12290;</strong></span>&#26412;&#24110;&#21161;&#32473;&#20986;&#20102;<a class="link" href="#quickstart" title="4.3.&nbsp;&#24555;&#36895;&#23433;&#35013;&#25351;&#21335;">&#24555;&#36895;&#23433;&#35013;&#25351;&#21335;</a>&#26159;&#32473;&#37027;&#20123;&#26032;&#25163;&#23613;&#24555;&#22320;&#23558;Nagios&#23433;&#35013;&#21040;&#20301;&#24182;&#36816;&#34892;&#36215;&#26469;&#32780;&#20889;&#23601;&#30340;&#12290;&#22312;&#19981;&#21040;&#20108;&#21313;&#20998;&#38047;&#20043;&#20869;&#21487;&#20197;&#23433;&#35013;&#24182;&#30417;&#25511;&#26412;&#22320;&#30340;&#31995;&#32479;&#65292;&#19968;&#26086;&#23436;&#25104;&#20102;&#65292;&#23601;&#21487;&#20197;&#32487;&#32493;&#23398;&#20064;&#37197;&#32622;Nagios&#20102;&#12290;</li><li><span class="bold"><strong>&#38405;&#35835;&#25991;&#26723;&#12290;</strong></span>&#22914;&#26524;&#25484;&#25569;Nagios&#36816;&#34892;&#26426;&#21046;&#65292;&#21487;&#20197;&#39640;&#25928;&#22320;&#37197;&#32622;&#23427;&#24182;&#19988;&#20351;&#20043;&#26080;&#25152;&#19981;&#33021;&#12290;&#30830;&#20449;&#24050;&#32463;&#38405;&#35835;&#20102;&#36825;&#20123;&#25991;&#26723;(&#26159;"&#37197;&#32622;Nagios"&#21644;"&#22522;&#26412;&#25805;&#20316;"&#20004;&#31456;)&#12290;&#22312;&#26356;&#22909;&#22320;&#29702;&#35299;&#22522;&#30784;&#24615;&#37197;&#32622;&#20043;&#21069;&#21487;&#20197;&#23545;&#37027;&#20123;&#39640;&#32423;&#20869;&#23481;&#26242;&#26102;&#19981;&#31649;&#12290;</li><li><span class="bold"><strong>&#33719;&#24471;&#20182;&#20154;&#21327;&#21161;&#12290;</strong></span>&#22914;&#26524;&#24050;&#32463;&#38405;&#35835;&#25991;&#26723;&#24182;&#26816;&#27979;&#20102;&#26679;&#26412;&#37197;&#32622;&#25991;&#20214;&#20294;&#20173;&#28982;&#26377;&#38382;&#39064;&#65292;&#20889;&#19968;&#20010;EMail&#32473;<span class="strong"><strong>nagios-users</strong></span>&#37038;&#20214;&#21015;&#34920;&#24182;&#20889;&#28165;&#26970;&#38382;&#39064;&#12290;&#30001;&#20110;&#22312;&#36825;&#20010;&#39033;&#30446;&#19978;&#25105;&#26377;&#19981;&#23569;&#20107;&#24773;&#35201;&#20570;&#65292;&#30452;&#25509;&#32473;&#25105;&#30340;&#37038;&#20214;&#25105;&#21487;&#33021;&#26080;&#27861;&#22238;&#22797;&#65292;&#25152;&#20197;&#26368;&#22909;&#26159;&#27714;&#21161;&#20110;&#37038;&#20214;&#21015;&#34920;&#65292;&#22914;&#26524;&#26377;&#36739;&#22909;&#30340;&#32972;&#26223;&#24182;&#19988;&#21487;&#20197;&#23558;&#38382;&#39064;&#25551;&#36848;&#28165;&#26970;&#65292;&#25110;&#35768;&#26377;&#20154;&#21487;&#20197;&#25351;&#20986;&#22914;&#20309;&#27491;&#30830;&#26469;&#20570;&#12290;&#26356;&#22810;&#22320;&#20449;&#24687;&#35831;&#22312;&#36825;&#20010;&#38142;&#25509;<a class="ulink" href="http://www.nagios.org/support/" target="_top">http://www.nagios.org/support/</a>&#19979;&#23547;&#25214;&#12290;</li></ul></div><p>
  </p></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="upgrading"></a>4.2.&nbsp;&#26087;Nagios&#21319;&#32423;&#21040;&#24403;&#21069;&#29256;&#26412;</h2></div></div></div><p><span class="emphasis"><em>&#30446;&#24405;</em></span>
</p><div class="itemizedlist"><ul type="disc"><li><p><a class="xref" href="#nagios3x" title="4.2.1.&nbsp;&#20174;&#26087;&#30340;3.x&#29256;&#26412;&#21319;&#32423;&#21040;&#24403;&#21069;&#29256;&#26412;">&#31532;&nbsp;4.2.1&nbsp;&#33410; &#8220;&#20174;&#26087;&#30340;3.x&#29256;&#26412;&#21319;&#32423;&#21040;&#24403;&#21069;&#29256;&#26412;&#8221;</a></p></li><li><p><a class="xref" href="#nagios2x" title="4.2.2.&nbsp;&#20174;2.x&#21319;&#32423;&#21040;3.x">&#31532;&nbsp;4.2.2&nbsp;&#33410; &#8220;&#20174;2.x&#21319;&#32423;&#21040;3.x&#8221;</a></p></li><li><p><a class="xref" href="#rpm" title="4.2.3.&nbsp;&#20174;RPM&#21253;&#23433;&#35013;&#29366;&#24577;&#21319;&#32423;">&#31532;&nbsp;4.2.3&nbsp;&#33410; &#8220;&#20174;RPM&#21253;&#23433;&#35013;&#29366;&#24577;&#21319;&#32423;&#8221;</a></p></li></ul></div><p>
</p><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="nagios3x"></a>4.2.1.&nbsp;&#20174;&#26087;&#30340;3.x&#29256;&#26412;&#21319;&#32423;&#21040;&#24403;&#21069;&#29256;&#26412;</h3></div></div></div><p>&#22914;&#26524;&#26159;&#20351;&#29992;3.x&#30340;&#26087;&#29256;&#65292;&#32943;&#23450;&#26159;&#35201;&#23613;&#24555;&#21319;&#32423;&#21040;&#24403;&#21069;&#29256;&#26412;&#12290;&#26032;&#29256;&#26412;&#20462;&#27491;&#20102;&#35768;&#22810;&#38169;&#35823;&#65292;&#19979;&#38754;&#20551;&#23450;&#24050;&#32463;&#26681;&#25454;<a class="link" href="#quickstart" title="4.3.&nbsp;&#24555;&#36895;&#23433;&#35013;&#25351;&#21335;">&#24555;&#36895;&#23433;&#35013;&#25351;&#21335;</a>&#30340;&#25805;&#20316;&#27493;&#39588;&#20174;&#28304;&#20195;&#30721;&#21253;&#24320;&#22987;&#23433;&#35013;&#22909;Nagios&#65292;&#19979;&#38754;&#21487;&#20197;&#23433;&#35013;&#26356;&#26032;&#30340;&#29256;&#26412;&#12290;&#34429;&#28982;&#19979;&#38754;&#30340;&#25805;&#20316;&#37117;&#26159;&#29992;root&#25805;&#20316;&#30340;&#65292;&#20294;&#21487;&#20197;&#19981;&#29992;root&#26435;&#38480;&#20063;&#21487;&#20197;&#21319;&#32423;&#25104;&#21151;&#12290;&#19979;&#38754;&#26159;&#21319;&#32423;&#36807;&#31243;...</p><p>&#20808;&#30830;&#35748;&#24050;&#32463;&#22791;&#20221;&#22909;&#29616;&#26377;&#29256;&#26412;&#30340;Nagios&#36719;&#20214;&#21644;&#37197;&#32622;&#25991;&#20214;&#12290;&#22914;&#26524;&#21319;&#32423;&#36807;&#31243;&#20013;&#26377;&#19981;&#23545;&#30340;&#65292;&#33267;&#23569;&#21487;&#20197;&#22238;&#36864;&#21040;&#26087;&#29256;&#26412;&#12290;</p><p>&#20999;&#25442;&#20026;Nagios&#29992;&#25143;&#12290;&#20351;&#29992;Debian/Ubuntu&#31995;&#32479;&#30340;&#21487;&#20197;&#29992;<span class="strong"><strong>sudo -s nagios</strong></span>&#26469;&#20999;&#25442;&#12290;</p><pre class="programlisting">su -l nagios</pre><p>&#19979;&#36733;&#26368;&#26032;&#30340;Nagios&#23433;&#35013;&#21253;(<a class="ulink" href="http://www.nagios.org/download/" target="_top">http://www.nagios.org/download/</a>)&#12290;</p><pre class="programlisting">wget http://osdn.dl.sourceforge.net/sourceforge/nagios/nagios-<span class="strong"><strong>3.x</strong></span>.tar.gz</pre><p>&#23637;&#24320;&#28304;&#30721;&#21253;&#12290;</p><pre class="programlisting"><p>tar xzf nagios-<span class="strong"><strong>3.x</strong></span>.tar.gz
cd nagios-<span class="strong"><strong>3.x</strong></span></p></pre><p>&#36816;&#34892;Nagios&#28304;&#31243;&#24207;&#30340;&#37197;&#32622;&#33050;&#26412;&#65292;&#25226;&#21152;&#20837;&#22806;&#37096;&#21629;&#20196;&#30340;&#32452;&#21517;&#21152;&#19978;&#65292;&#35937;&#36825;&#26679;&#65306;</p><pre class="programlisting">./configure --with-command-group=nagcmd</pre><p>&#32534;&#35793;&#28304;&#31243;&#24207;</p><pre class="programlisting">make all</pre><p>&#23433;&#35013;&#21319;&#32423;&#21518;&#30340;&#20108;&#36827;&#21046;&#31243;&#24207;&#12289;&#25991;&#26723;&#21644;Web&#25509;&#21475;&#31243;&#24207;&#12290;&#22312;&#36825;&#27493;&#26102;&#26087;&#37197;&#32622;&#25991;&#20214;&#36824;&#19981;&#20250;&#34987;&#35206;&#30422;&#12290;</p><pre class="programlisting">make install</pre><p>&#39564;&#35777;&#37197;&#32622;&#24182;&#37325;&#21551;&#21160;Nagios</p><pre class="programlisting"><p>/usr/local/nagios/bin/nagios -v /usr/local/nagios/etc/nagios.cfg
/sbin/service nagios restart</p></pre><p>&#22909;&#20102;&#65292;&#21319;&#32423;&#23436;&#25104;&#65281;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="nagios2x"></a>4.2.2.&nbsp;&#20174;2.x&#21319;&#32423;&#21040;3.x</h3></div></div></div><p>Nagios&#20174;2.x&#21319;&#32423;&#21040;3.x&#24182;&#19981;&#38590;&#12290;&#21319;&#32423;&#36807;&#31243;&#22914;&#21516;&#19978;&#38754;&#30340;&#26087;&#29256;3.x&#30340;&#21319;&#32423;&#36807;&#31243;&#12290;&#20294;&#26159;Nagios3.x&#20013;&#26377;&#20960;&#22788;&#37197;&#32622;&#25991;&#20214;&#30340;&#25913;&#21160;&#38656;&#35201;&#27880;&#24847;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#20027;&#37197;&#32622;&#25991;&#20214;&#37324;&#30340;&#21407;<span class="strong"><strong>service_reaper_frequency</strong></span>&#21464;&#37327;&#24050;&#32463;&#26356;&#21517;&#20026;<a class="link" href="#check_result_reaper_frequency" title="&#34920;&nbsp;5.49.&nbsp;&#26816;&#27979;&#32467;&#26524;&#30340;&#22238;&#25910;&#39057;&#24230;">check_result_reaper_frequency</a>&#65307;</li><li>&#21407;&#26469;&#30340;&#23439;<span class="strong"><strong>$NOTIFICATIONNUMBER$</strong></span>&#24050;&#32463;&#34987;&#25286;&#20998;&#20026;&#26032;&#23439;<a class="link" href="#macrolist_HOSTNOTIFICATIONNUMBER">$HOSTNOTIFICATIONNUMBER$</a>&#21644;<a class="link" href="#macrolist_SERVICENOTIFICATIONNUMBER">$SERVICENOTIFICATIONNUMBER$</a>&#12290;</li><li>&#21407;&#26469;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#37324;&#30340;<span class="strong"><strong>parallelize</strong></span>&#36873;&#39033;&#19981;&#25512;&#33616;&#29992;&#65292;&#20197;&#21518;&#19981;&#20877;&#20351;&#29992;&#65292;&#20840;&#37096;&#30340;&#26381;&#21153;&#26816;&#27979;&#23558;&#24182;&#34892;&#21270;&#36816;&#34892;&#65307;</li><li>&#31227;&#38500;&#20102;&#21407;&#26377;&#30340;<span class="strong"><strong>aggregate_status_updates</strong></span>&#36873;&#39033;&#65292;&#20840;&#37096;&#30340;&#29366;&#24577;&#25991;&#20214;&#30340;&#26356;&#26032;&#37117;&#26159;&#20197;&#26368;&#30701;1&#31186;&#30340;&#38388;&#38548;&#26469;&#21516;&#26102;&#36827;&#34892;&#30340;&#65307;</li><li>&#20027;&#26426;&#25193;&#23637;&#21644;&#26381;&#21153;&#25193;&#23637;&#23545;&#35937;&#23450;&#20041;&#19981;&#25512;&#33616;&#29992;&#65292;Nagios&#20173;&#26087;&#35835;&#20837;&#24182;&#22788;&#29702;&#23427;&#65292;&#20294;&#25512;&#33616;&#30340;&#26159;&#25226;&#36825;&#20123;&#20027;&#26426;&#21644;&#26381;&#21153;&#30340;&#22495;&#35774;&#32622;&#20998;&#21035;&#36716;&#21040;&#22312;&#20027;&#26426;&#21644;&#26381;&#21153;&#30340;&#23545;&#35937;&#23450;&#20041;&#37324;&#65307;</li><li>&#22312;&#20027;&#37197;&#32622;&#25991;&#20214;&#37324;&#30340;<span class="strong"><strong>downtime_file</strong></span>&#25991;&#20214;&#21464;&#37327;&#23558;&#19981;&#20877;&#25903;&#25345;&#65292;&#21462;&#32780;&#20195;&#20043;&#30340;&#26159;&#25226;&#35745;&#21010;&#20572;&#26426;&#26102;&#38388;&#20840;&#37096;&#20445;&#23384;&#22312;<a class="link" href="#state_retention_file" title="&#34920;&nbsp;5.27.&nbsp;&#29366;&#24577;&#20445;&#25345;&#25991;&#20214;">&#29366;&#24577;&#20445;&#30041;&#25991;&#20214;</a>&#37324;&#12290;&#20026;&#32500;&#25345;&#20877;&#26377;&#20572;&#26426;&#35774;&#32622;&#65292;&#20572;&#19979;Nagios 2.x&#31243;&#24207;&#65292;&#24182;&#25226;&#26087;&#30340;&#20572;&#26426;&#26102;&#38388;&#25991;&#20214;&#37324;&#30340;&#20869;&#23481;&#21152;&#21040;&#29366;&#24577;&#20445;&#30041;&#25991;&#20214;&#37324;&#65307;</li><li>&#22312;&#20027;&#37197;&#32622;&#25991;&#20214;&#37324;&#30340;<span class="strong"><strong>comment_file</strong></span>&#25991;&#20214;&#21464;&#37327;&#23558;&#19981;&#20877;&#25903;&#25345;&#65292;&#21462;&#32780;&#20195;&#20043;&#30340;&#26159;&#25226;&#27880;&#37322;&#20840;&#37096;&#20445;&#23384;&#22312;<a class="link" href="#state_retention_file" title="&#34920;&nbsp;5.27.&nbsp;&#29366;&#24577;&#20445;&#25345;&#25991;&#20214;">&#29366;&#24577;&#20445;&#30041;&#25991;&#20214;</a>&#37324;&#12290;&#20026;&#30041;&#19979;&#20877;&#26377;&#30340;&#27880;&#37322;&#65292;&#21487;&#20572;&#19979;Nagios 2.x&#31243;&#24207;&#24182;&#25226;&#20877;&#26377;&#27880;&#37322;&#20869;&#23481;&#20840;&#37096;&#21152;&#21040;&#29366;&#24577;&#20445;&#30041;&#25991;&#20214;&#37324;&#12290;</li></ol></div><p>&#36824;&#35201;&#20445;&#35777;&#38405;&#35835;&#36807;&#26412;&#25991;&#26723;&#30340;"<a class="link" href="#whatsnew" title="&#31532;&nbsp;3&nbsp;&#31456;&nbsp;Nagios 3.0&#26032;&#29305;&#24615;">&#26032;&#29305;&#24615;</a>"&#19968;&#33410;&#30340;&#20869;&#23481;&#12290;&#23427;&#32473;&#20986;&#20102;3.x&#26032;&#29256;&#26412;&#30340;&#19982;&#26368;&#32456;&#31283;&#23450;&#30340;2.x&#29256;&#26412;&#38388;&#30340;&#21464;&#21270;&#65292;&#21464;&#21270;&#26377;&#19981;&#23569;&#38656;&#35201;&#22909;&#22909;&#35835;&#19968;&#19979;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="rpm"></a>4.2.3.&nbsp;&#20174;RPM&#21253;&#23433;&#35013;&#29366;&#24577;&#21319;&#32423;</h3></div></div></div><p>&#22914;&#26524;&#24403;&#21069;&#26159;&#29992;RPM&#21253;&#23433;&#35013;&#30340;&#65292;&#25110;&#26159;&#29992;Debian/Ubuntu&#30340;APT&#36719;&#20214;&#21253;&#26469;&#23433;&#35013;Nagios&#30340;&#65292;&#38656;&#35201;&#29992;&#28304;&#31243;&#24207;&#21253;&#26469;&#23433;&#35013;&#21319;&#32423;&#65292;&#19979;&#38754;&#26159;&#25805;&#20316;&#27493;&#39588;&#65306;</p><div class="orderedlist"><div class="orderedlist"><div class="orderedlist"><ol type="i"><li>&#20027;&#37197;&#32622;&#25991;&#20214;(&#19968;&#33324;&#26159;<span class="strong"><strong>nagios.cfg</strong></span>)</li><li>&#36164;&#28304;&#25991;&#20214;(&#19968;&#33324;&#26159;<span class="strong"><strong>resource.cfg</strong></span>)</li><li>CGI&#37197;&#32622;&#25991;&#20214;(&#19968;&#33324;&#26159;<span class="strong"><strong>cgi.cfg</strong></span>)</li><li>&#20840;&#37096;&#30340;&#23545;&#35937;&#23450;&#20041;&#25991;&#20214;</li></ol></div><ol type="a"><li>&#37197;&#32622;&#25991;&#20214;</li><li>&#29366;&#24577;&#20445;&#30041;&#25991;&#20214;(&#19968;&#33324;&#26159;<span class="strong"><strong>retention.dat</strong></span>)</li><li>&#24403;&#21069;&#30340;Nagios&#26085;&#24535;&#25991;&#20214;(&#19968;&#33324;&#26159;<span class="strong"><strong>nagios.log</strong></span>)</li><li>&#25171;&#21253;&#30340;Nagios&#26085;&#24535;&#25991;&#20214;</li></ol></div><ol type="1"><li>&#22791;&#20221;&#29616;&#26377;Nagios&#23433;&#35013;&#31243;&#24207;&#37324;&#30340;&#65306;</li><li>&#21368;&#36733;&#21407;&#22987;&#30340;Nagios&#30340;RPM&#21253;&#25110;&#26159;APT&#21253;&#65307;</li><li>&#25353;&#29031;<a class="link" href="#quickstart" title="4.3.&nbsp;&#24555;&#36895;&#23433;&#35013;&#25351;&#21335;">&#24555;&#36895;&#23433;&#35013;&#25351;&#21335;</a>&#23436;&#25104;&#33258;&#28304;&#31243;&#24207;&#23433;&#35013;Nagios&#30340;&#24037;&#20316;&#65307;</li><li>&#24674;&#22797;&#21407;&#22987;&#30340;Nagios&#37197;&#32622;&#25991;&#20214;&#65292;&#29366;&#24577;&#20445;&#30041;&#25991;&#20214;&#21644;&#26085;&#24535;&#25991;&#20214;&#65307;</li><li><a class="link" href="#verifyconfig" title="7.1.&nbsp;&#39564;&#35777;&#37197;&#32622;&#25991;&#20214;&#30340;&#27491;&#30830;&#24615;">&#39564;&#35777;</a>&#37197;&#32622;&#25991;&#20214;&#24182;<a class="link" href="#startstop" title="7.2.&nbsp;&#21551;&#21160;&#19982;&#20572;&#27490;Nagios">&#37325;&#21551;&#21160;</a>Nagios&#12290;</li></ol></div><p>&#27880;&#24847;RPM&#21644;APT&#21253;&#25226;Nagios&#30340;&#25991;&#20214;&#25918;&#32622;&#30340;&#20301;&#32622;&#26377;&#25152;&#19981;&#21516;&#12290;&#22312;&#21319;&#32423;&#21069;&#35201;&#30830;&#20445;&#37027;&#20123;&#37197;&#32622;&#25991;&#20214;&#22791;&#20221;&#22909;&#20197;&#22312;&#30896;&#21040;&#35299;&#20915;&#19981;&#20102;&#30340;&#21319;&#32423;&#38382;&#39064;&#26102;&#21487;&#20197;&#22238;&#36864;&#21040;&#26087;&#29256;&#26412;&#12290;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="quickstart"></a>4.3.&nbsp;&#24555;&#36895;&#23433;&#35013;&#25351;&#21335;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e993"></a>4.3.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>&#36825;&#20123;&#25351;&#21335;&#35797;&#22270;&#35753;&#20320;&#22312;&#20108;&#21313;&#20998;&#38047;&#20869;&#29992;&#31616;&#21333;&#22320;&#25351;&#20196;&#25805;&#20316;&#19979;&#20174;&#28304;&#31243;&#24207;&#23433;&#35013;Nagios&#24182;&#30417;&#25511;&#20320;&#30340;&#26412;&#22320;&#26426;&#22120;&#12290;&#36825;&#37324;&#24182;&#19981;&#35752;&#35770;&#37027;&#20123;&#39640;&#32423;&#25351;&#20196;&#23545;&#20110;95%&#20197;&#19978;&#30340;&#24819;&#36215;&#27493;&#30340;&#29992;&#25143;&#32780;&#35328;&#36825;&#26159;&#22522;&#30784;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e998"></a>4.3.2.&nbsp;&#25351;&#21335;</h3></div></div></div><p>&#29616;&#22312;&#21487;&#20197;&#25552;&#20379;&#22914;&#19979;Linux&#21457;&#34892;&#29256;&#26412;&#19978;&#30340;&#24555;&#36895;&#23433;&#35013;&#25351;&#21335;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p><a class="xref" href="#quickstart-fedora" title="4.4.&nbsp;&#22522;&#20110;Fedora&#24179;&#21488;&#30340;&#24555;&#36895;&#25351;&#21335;">&#22522;&#20110;Fedora&#24179;&#21488;&#30340;&#24555;&#36895;&#25351;&#21335;</a></p></li><li><p><a class="xref" href="#quickstart-opensuse" title="4.5.&nbsp;&#22522;&#20110;openSUSE&#24179;&#21488;&#30340;&#24555;&#36895;&#25351;&#21335;">&#22522;&#20110;openSUSE&#24179;&#21488;&#30340;&#24555;&#36895;&#25351;&#21335;</a></p></li><li><p><a class="xref" href="#quickstart-ubuntu" title="4.6.&nbsp;&#22522;&#20110;Ubuntu&#24179;&#21488;&#30340;&#24555;&#36895;&#25351;&#21335;">&#22522;&#20110;Ubuntu&#24179;&#21488;&#30340;&#24555;&#36895;&#25351;&#21335;</a></p></li></ul></div><p>&#20320;&#21487;&#20197;&#22312;<a class="ulink" href="http://www.nagioscommunity.org/wiki" target="_top">NagiosCommunity.org</a>&#30340;&#32500;&#22522;&#30334;&#31185;&#19978;&#25214;&#21040;&#26356;&#22810;&#30340;&#23433;&#35013;&#19978;&#25163;&#25351;&#21335;&#12290;&#20160;&#20040;&#65311;&#25214;&#19981;&#21040;&#20320;&#25152;&#29992;&#30340;&#25805;&#20316;&#31995;&#32479;&#29256;&#26412;&#30340;&#25351;&#21335;&#65311;&#22312;&#32500;&#22522;&#30334;&#31185;&#19978;&#32473;&#20854;&#20182;&#20154;&#20889;&#19968;&#26465;&#21543;&#65281;</p><p>&#22914;&#26524;&#20320;&#22312;&#19968;&#20010;&#19978;&#38754;&#27809;&#21015;&#20986;&#30340;&#25805;&#20316;&#31995;&#32479;&#25110;Linux&#21457;&#34892;&#21253;&#19978;&#23433;&#35013;Nagios&#65292;&#35831;&#21442;&#29031;<a class="link" href="#quickstart-fedora" title="4.4.&nbsp;&#22522;&#20110;Fedora&#24179;&#21488;&#30340;&#24555;&#36895;&#25351;&#21335;">Fedora&#24555;&#36895;&#25351;&#21335;</a>&#26469;&#27010;&#35201;&#22320;&#20102;&#35299;&#19968;&#19979;&#20320;&#38656;&#35201;&#20570;&#30340;&#20107;&#24773;&#12290;&#21629;&#20196;&#21517;&#12289;&#36335;&#24452;&#31561;&#21487;&#33021;&#22240;&#19981;&#21516;&#30340;&#21457;&#34892;&#21253;&#25110;&#25805;&#20316;&#31995;&#32479;&#32780;&#19981;&#21516;&#65292;&#22240;&#32780;&#36825;&#26102;&#20320;&#21487;&#33021;&#38656;&#35201;&#20123;&#21162;&#21147;&#26469;&#25630;&#19968;&#19979;&#23433;&#35013;&#25991;&#26723;&#37324;&#30340;&#19996;&#35199;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1023"></a>4.3.3.&nbsp;&#23433;&#35013;&#21518;&#35813;&#20570;&#30340;</h3></div></div></div><p>&#19968;&#26086;&#20320;&#27491;&#30830;&#22320;&#23433;&#35013;&#24182;&#20351;Nagios&#36816;&#34892;&#36215;&#26469;&#21518;&#65292;&#27627;&#26080;&#30097;&#38382;&#20320;&#19981;&#20165;&#35201;&#30417;&#25511;&#20320;&#30340;&#20027;&#26426;&#65292;&#20320;&#38656;&#35201;&#23457;&#35270;&#19968;&#19979;&#26356;&#22810;&#30340;&#25991;&#26723;&#26469;&#20570;&#26356;&#22810;&#30340;&#20107;&#24773;... </p><div class="itemizedlist"><ul type="disc"><li><p><a class="xref" href="#monitoring-windows" title="4.7.&nbsp;&#30417;&#25511;Windows&#20027;&#26426;">&#30417;&#25511;Windows&#20027;&#26426;</a></p></li><li><p><a class="xref" href="#monitoring-linux" title="4.8.&nbsp;&#30417;&#25511;Linux/Unix&#20027;&#26426;">&#30417;&#25511;Linux/Unix&#20027;&#26426;</a></p></li><li><p><a class="xref" href="#monitoring-netware" title="4.11.&nbsp;&#30417;&#25511;Netware&#26381;&#21153;&#22120;">&#30417;&#25511;Netware&#26381;&#21153;&#22120;</a></p></li><li><p><a class="xref" href="#monitoring-routers" title="4.9.&nbsp;&#30417;&#25511;&#36335;&#30001;&#22120;&#21644;&#20132;&#25442;&#26426;">&#30417;&#25511;&#36335;&#30001;&#22120;&#21644;&#20132;&#25442;&#26426;</a></p></li><li><p><a class="xref" href="#monitoring-printers" title="4.10.&nbsp;&#30417;&#25511;&#32593;&#32476;&#25171;&#21360;&#26426;">&#30417;&#25511;&#32593;&#32476;&#25171;&#21360;&#26426;</a></p></li><li><p><a class="xref" href="#monitoring-publicservices" title="4.12.&nbsp;&#30417;&#25511;&#20844;&#20247;&#26381;&#21153;&#24179;&#21488;">&#30417;&#25511;&#20844;&#20247;&#26381;&#21153;&#24179;&#21488;</a></p></li></ul></div><p>
  </p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="quickstart-fedora"></a>4.4.&nbsp;&#22522;&#20110;Fedora&#24179;&#21488;&#30340;&#24555;&#36895;&#25351;&#21335;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1052"></a>4.4.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>&#26412;&#25351;&#21335;&#35797;&#22270;&#35753;&#20320;&#36890;&#36807;&#31616;&#21333;&#30340;&#25351;&#20196;&#20197;&#22312;20&#20998;&#38047;&#20869;&#22312;Fedora&#24179;&#21488;&#19978;&#36890;&#36807;&#23545;Nagios&#30340;&#28304;&#31243;&#24207;&#30340;&#23433;&#35013;&#26469;&#30417;&#25511;&#26412;&#22320;&#20027;&#26426;&#12290;&#36825;&#37324;&#27809;&#26377;&#35752;&#35770;&#26356;&#39640;&#32423;&#30340;&#35774;&#32622;&#39033; &#65293; &#21482;&#26159;&#19968;&#20123;&#22522;&#26412;&#25805;&#20316;&#65292;&#20294;&#36825;&#36275;&#20197;&#20351;95%&#30340;&#29992;&#25143;&#21551;&#21160;Nagios&#12290;</p><p>&#36825;&#20123;&#25351;&#20196;&#22312;&#22522;&#20110;Fedora Core 6&#30340;&#31995;&#32479;&#19979;&#20889;&#25104;&#30340;&#12290;</p><p><span class="bold"><strong><span class="underline">&#26368;&#32456;&#32467;&#26524;&#26159;&#20160;&#20040;</span></strong></span></p><p>&#22914;&#26524;&#25353;&#29031;&#26412;&#25351;&#21335;&#23433;&#35013;&#65292;&#26368;&#21518;&#23558;&#26159;&#36825;&#26679;&#32467;&#26524;&#65306;</p><div class="orderedlist"><ol type="1"><li>Nagios&#21644;&#25554;&#20214;&#23558;&#23433;&#35013;&#21040;/usr/local/nagios</li><li>Nagios&#23558;&#34987;&#37197;&#32622;&#20026;&#30417;&#25511;&#26412;&#22320;&#31995;&#32479;&#30340;&#20960;&#20010;&#20027;&#35201;&#26381;&#21153;(CPU&#36127;&#33655;&#12289;&#30913;&#30424;&#21033;&#29992;&#29575;&#31561;)</li><li>Nagios&#30340;Web&#25509;&#21475;&#26159;URL&#26159;http://localhost/nagios/</li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1072"></a>4.4.2.&nbsp;&#20934;&#22791;&#36719;&#20214;&#21253;</h3></div></div></div><p>&#22312;&#20570;&#23433;&#35013;&#20043;&#21069;&#30830;&#35748;&#35201;&#23545;&#35813;&#26426;&#22120;&#25317;&#26377;root&#26435;&#38480;&#12290;</p><p>&#30830;&#35748;&#20320;&#23433;&#35013;&#22909;&#30340;Fedora&#31995;&#32479;&#19978;&#24050;&#32463;&#23433;&#35013;&#22914;&#19979;&#36719;&#20214;&#21253;&#20877;&#32487;&#32493;&#12290;</p><div class="orderedlist"><ol type="1"><li>Apache</li><li>GCC&#32534;&#35793;&#22120;</li><li><a class="ulink" href="http://www.boutell.com/gd/" target="_top">GD</a>&#24211;&#19982;&#24320;&#21457;&#24211;</li></ol></div><p>&#21487;&#20197;&#29992;<span class="strong"><strong>yum</strong></span>&#21629;&#20196;&#26469;&#23433;&#35013;&#36825;&#20123;&#36719;&#20214;&#21253;&#65292;&#38190;&#20837;&#21629;&#20196;&#65306;</p><pre class="programlisting"><p>yum install httpd
yum install gcc
yum install glibc glibc-common
yum install gd gd-devel</p></pre></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1096"></a>4.4.3.&nbsp;&#25805;&#20316;&#36807;&#31243;</h3></div></div></div><p><span class="bold"><strong><span class="underline">1)&#24314;&#31435;&#19968;&#20010;&#24080;&#21495;</span></strong></span></p><p>&#20999;&#25442;&#20026;root&#29992;&#25143;</p><pre class="programlisting">su -l</pre><p>&#21019;&#24314;&#19968;&#20010;&#21517;&#20026;<span class="strong"><strong>nagios</strong></span>&#30340;&#24080;&#21495;&#24182;&#32473;&#23450;&#30331;&#24405;&#21475;&#20196;</p><pre class="programlisting"><p>/usr/sbin/useradd nagios
passwd nagios</p></pre><p>&#21019;&#24314;&#19968;&#20010;&#29992;&#25143;&#32452;&#21517;&#20026;<span class="strong"><strong>nagcmd</strong></span>&#29992;&#20110;&#20174;Web&#25509;&#21475;&#25191;&#34892;&#22806;&#37096;&#21629;&#20196;&#12290;&#23558;nagios&#29992;&#25143;&#21644;apache&#29992;&#25143;&#37117;&#21152;&#21040;&#36825;&#20010;&#32452;&#20013;&#12290;</p><pre class="programlisting"><p>/usr/sbin/groupadd nagcmd
/usr/sbin/usermod -G nagcmd nagios
/usr/sbin/usermod -G nagcmd apache</p></pre><p><span class="bold"><strong><span class="underline">2)&#19979;&#36733;Nagios&#21644;&#25554;&#20214;&#31243;&#24207;&#21253;</span></strong></span></p><p>&#24314;&#31435;&#19968;&#20010;&#30446;&#24405;&#29992;&#20197;&#23384;&#20648;&#19979;&#36733;&#25991;&#20214;</p><pre class="programlisting"><p>mkdir ~/downloads
cd ~/downloads</p></pre><p>&#19979;&#36733;Nagios&#21644;Nagios&#25554;&#20214;&#30340;&#36719;&#20214;&#21253;(&#35775;&#38382;<a class="ulink" href="http://www.nagios.org/download/" target="_top">http://www.nagios.org/download/</a>&#31449;&#28857;&#20197;&#33719;&#24471;&#26368;&#26032;&#29256;&#26412;)&#65292;&#22312;&#20889;&#26412;&#25991;&#26723;&#26102;&#65292;&#26368;&#26032;&#30340;Nagios&#30340;&#36719;&#20214;&#29256;&#26412;&#26159;3.0rc1&#65292;Nagios&#25554;&#20214;&#30340;&#29256;&#26412;&#26159;1.4.11&#12290;</p><pre class="programlisting"><p>wget http://osdn.dl.sourceforge.net/sourceforge/nagios/nagios-3.0rc1.tar.gz
wget http://osdn.dl.sourceforge.net/sourceforge/nagiosplug/nagios-plugins-1.4.11.tar.gz</p></pre><p><span class="bold"><strong><span class="underline">3)&#32534;&#35793;&#19982;&#23433;&#35013;Nagios</span></strong></span></p><p>&#23637;&#24320;Nagios&#28304;&#31243;&#24207;&#21253;</p><pre class="programlisting"><p>cd ~/downloads
tar xzf nagios-3.0rc1.tar.gz
cd nagios-3.0rc1</p></pre><p>&#36816;&#34892;Nagios&#37197;&#32622;&#33050;&#26412;&#24182;&#20351;&#29992;&#20808;&#21069;&#24320;&#35774;&#30340;&#29992;&#25143;&#21450;&#29992;&#25143;&#32452;&#65306;</p><pre class="programlisting"><p>./configure --with-command-group=nagcmd</p></pre><p>&#32534;&#35793;Nagios&#31243;&#24207;&#21253;&#28304;&#30721;</p><pre class="programlisting"><p>make all</p></pre><p>&#23433;&#35013;&#20108;&#36827;&#21046;&#36816;&#34892;&#31243;&#24207;&#12289;&#21021;&#22987;&#21270;&#33050;&#26412;&#12289;&#37197;&#32622;&#25991;&#20214;&#26679;&#26412;&#24182;&#35774;&#32622;&#36816;&#34892;&#30446;&#24405;&#26435;&#38480;</p><pre class="programlisting"><p>make install
make install-init
make install-config
make install-commandmode</p></pre><p>&#29616;&#22312;&#36824;&#19981;&#33021;&#21551;&#21160;Nagios&#65293;&#36824;&#26377;&#19968;&#20123;&#35201;&#20570;&#30340;...</p><p><span class="bold"><strong><span class="underline">4)&#23458;&#25143;&#21270;&#37197;&#32622;</span></strong></span></p><p>&#26679;&#20363;<a class="link" href="#config" title="5.1.&nbsp;&#37197;&#32622;&#27010;&#35272;">&#37197;&#32622;&#25991;&#20214;</a>&#40664;&#35748;&#23433;&#35013;&#22312;&#36825;&#20010;&#30446;&#24405;&#19979;<span class="strong"><strong>/usr/local/nagios/etc</strong></span>&#65292;&#36825;&#20123;&#26679;&#20363;&#25991;&#20214;&#21487;&#20197;&#37197;&#32622;Nagios&#20351;&#20043;&#27491;&#24120;&#36816;&#34892;&#65292;&#21482;&#38656;&#35201;&#20570;&#19968;&#20010;&#31616;&#21333;&#30340;&#20462;&#25913;...</p><p>&#29992;&#20320;&#25797;&#38271;&#30340;&#32534;&#36753;&#22120;&#36719;&#20214;&#26469;&#32534;&#36753;&#36825;&#20010;<span class="strong"><strong>/usr/local/nagios/etc/objects/contacts.cfg</strong></span>&#37197;&#32622;&#25991;&#20214;&#65292;&#26356;&#25913;email&#22320;&#22336;<span class="strong"><strong>nagiosadmin</strong></span>&#30340;&#32852;&#31995;&#20154;&#23450;&#20041;&#20449;&#24687;&#20013;&#30340;EMail&#20449;&#24687;&#20026;&#20320;&#30340;EMail&#20449;&#24687;&#20197;&#25509;&#25910;&#25253;&#35686;&#20869;&#23481;&#12290;</p><pre class="programlisting"><p>vi /usr/local/nagios/etc/objects/contacts.cfg</p></pre><p><span class="bold"><strong><span class="underline">5)&#37197;&#32622;WEB&#25509;&#21475;</span></strong></span></p><p>&#23433;&#35013;Nagios&#30340;WEB&#37197;&#32622;&#25991;&#20214;&#21040;Apache&#30340;conf.d&#30446;&#24405;&#19979;</p><pre class="programlisting"><p>make install-webconf</p></pre><p>&#21019;&#24314;&#19968;&#20010;<span class="strong"><strong>nagiosadmin</strong></span>&#30340;&#29992;&#25143;&#29992;&#20110;Nagios&#30340;WEB&#25509;&#21475;&#30331;&#24405;&#12290;&#35760;&#19979;&#20320;&#25152;&#35774;&#32622;&#30340;&#30331;&#24405;&#21475;&#20196;&#65292;&#19968;&#20250;&#20799;&#20320;&#20250;&#29992;&#21040;&#23427;&#12290;</p><pre class="programlisting"><p>htpasswd -c /usr/local/nagios/etc/htpasswd.users nagiosadmin</p></pre><p>&#37325;&#21551;Apache&#26381;&#21153;&#20197;&#20351;&#35774;&#32622;&#29983;&#25928;&#12290;</p><pre class="programlisting"><p>service httpd restart</p></pre><p><span class="bold"><strong><span class="underline">6)&#32534;&#35793;&#24182;&#23433;&#35013;Nagios&#25554;&#20214;</span></strong></span></p><p>&#23637;&#24320;Nagios&#25554;&#20214;&#30340;&#28304;&#31243;&#24207;&#21253;</p><pre class="programlisting"><p>cd ~/downloads
tar xzf nagios-plugins-1.4.11.tar.gz
cd nagios-plugins-1.4.11</p></pre><p>&#32534;&#35793;&#24182;&#23433;&#35013;&#25554;&#20214;</p><pre class="programlisting"><p>./configure --with-nagios-user=nagios --with-nagios-group=nagios
make
make install</p></pre><p><span class="bold"><strong><span class="underline">7)&#21551;&#21160;Nagios</span></strong></span></p><p>&#25226;Nagios&#21152;&#20837;&#21040;&#26381;&#21153;&#21015;&#34920;&#20013;&#20197;&#20351;&#20043;&#22312;&#31995;&#32479;&#21551;&#21160;&#26102;&#33258;&#21160;&#21551;&#21160;</p><pre class="programlisting"><p>chkconfig --add nagios
chkconfig nagios on</p></pre><p>&#39564;&#35777;Nagios&#30340;&#26679;&#20363;&#37197;&#32622;&#25991;&#20214;</p><pre class="programlisting"><p>/usr/local/nagios/bin/nagios -v /usr/local/nagios/etc/nagios.cfg</p></pre><p>&#22914;&#26524;&#27809;&#26377;&#25253;&#38169;&#65292;&#21487;&#20197;&#21551;&#21160;Nagios&#26381;&#21153;</p><pre class="programlisting">service nagios start</pre><p><span class="bold"><strong><span class="underline">8)&#26356;&#25913;SELinux&#35774;&#32622;</span></strong></span></p><p>Fedora&#19982;SELinux(&#23433;&#20840;&#22686;&#24378;&#22411;Linux)&#21516;&#27493;&#21457;&#34892;&#19982;&#23433;&#35013;&#21518;&#23558;&#40664;&#35748;&#20351;&#29992;&#24378;&#21046;&#27169;&#24335;&#12290;&#36825;&#20250;&#22312;&#20320;&#23581;&#35797;&#32852;&#20837;Nagios&#30340;CGI&#26102;&#23548;&#33268;&#19968;&#20010;"&#20869;&#37096;&#26381;&#21153;&#38169;&#35823;"&#28040;&#24687;&#12290;</p><p>&#22914;&#26524;&#26159;SELinux&#22788;&#20110;&#24378;&#21046;&#23433;&#20840;&#27169;&#24335;&#26102;&#38656;&#35201;&#20570;</p><pre class="programlisting"><p>getenforce</p></pre><p>&#20196;SELinux&#22788;&#20110;&#23481;&#35768;&#27169;&#24335;</p><pre class="programlisting"><p>setenforce 0</p></pre><p>&#22914;&#26524;&#35201;&#27704;&#20037;&#24615;&#26356;&#21464;&#23427;&#65292;&#38656;&#35201;&#26356;&#25913;<span class="strong"><strong>/etc/selinux/config</strong></span>&#37324;&#30340;&#35774;&#32622;&#24182;&#37325;&#21551;&#31995;&#32479;&#12290;</p><p>&#19981;&#20851;&#38381;SELinux&#25110;&#26159;&#27704;&#20037;&#24615;&#21464;&#26356;&#23427;&#30340;&#26041;&#27861;&#26159;&#35753;CGI&#27169;&#22359;&#22312;SELinux&#19979;&#25351;&#23450;&#24378;&#21046;&#30446;&#26631;&#27169;&#24335;&#65306;</p><pre class="programlisting"><p>chcon -R -t httpd_sys_content_t /usr/local/nagios/sbin/
chcon -R -t httpd_sys_content_t /usr/local/nagios/share/</p></pre><p>&#26356;&#22810;&#26377;&#20851;Nagios&#30340;CGI&#27169;&#22359;&#22686;&#21152;&#30446;&#26631;&#31574;&#30053;&#30340;&#24378;&#21046;&#26435;&#38480;&#26041;&#24335;&#35265;NagiosCommunity.org&#30340;&#32500;&#22522;&#30334;&#31185;<a class="ulink" href="http://www.nagioscommunity.org/wiki" target="_top">http://www.nagioscommunity.org/wiki</a>&#12290;</p><p><span class="bold"><strong><span class="underline">9)&#30331;&#24405;WEB&#25509;&#21475;</span></strong></span></p><p>&#20320;&#29616;&#22312;&#21487;&#20197;&#20174;WEB&#26041;&#24335;&#26469;&#25509;&#20837;Nagios&#30340;WEB&#25509;&#21475;&#20102;&#65292;&#20320;&#38656;&#35201;&#22312;&#25552;&#31034;&#19979;&#36755;&#20837;&#20320;&#30340;&#29992;&#25143;&#21517;(<span class="strong"><strong>nagiosadmin</strong></span>)&#21644;&#21475;&#20196;&#65292;&#20320;&#21018;&#21018;&#35774;&#32622;&#30340;&#65292;&#36825;&#37324;&#29992;&#31995;&#32479;&#40664;&#35748;&#23433;&#35013;&#30340;&#27983;&#35272;&#22120;&#65292;&#29992;&#19979;&#38754;&#36825;&#20010;&#36229;&#38142;&#25509;</p><pre class="programlisting">http://localhost/nagios/</pre><p>&#28857;&#20987;&#8220;&#26381;&#21153;&#35814;&#24773;&#8221;&#30340;&#24341;&#23548;&#36229;&#38142;&#26469;&#26597;&#30475;&#20320;&#26412;&#26426;&#30340;&#30417;&#35270;&#35814;&#24773;&#12290;&#20320;&#21487;&#33021;&#38656;&#35201;&#32473;&#28857;&#26102;&#38388;&#35753;Nagios&#26469;&#26816;&#27979;&#20320;&#26426;&#22120;&#19978;&#25152;&#20381;&#36182;&#30340;&#26381;&#21153;&#22240;&#20026;&#26816;&#27979;&#38656;&#35201;&#20123;&#26102;&#38388;&#12290;</p><p><span class="bold"><strong><span class="underline">10)&#20854;&#20182;&#30340;&#21464;&#26356;</span></strong></span></p><p>&#30830;&#20449;&#20320;&#26426;&#22120;&#30340;&#38450;&#28779;&#22681;&#35268;&#21017;&#37197;&#32622;&#20801;&#35768;&#20320;&#21487;&#20197;&#20174;&#36828;&#31243;&#30331;&#24405;&#21040;Nagios&#30340;WEB&#26381;&#21153;&#12290;</p><p>&#37197;&#32622;EMail&#30340;&#25253;&#35686;&#39033;&#36229;&#20986;&#20102;&#26412;&#25991;&#26723;&#30340;&#20869;&#23481;&#65292;&#25351;&#21521;&#20320;&#30340;&#31995;&#32479;&#26723;&#26696;&#29992;&#32593;&#39029;&#26597;&#25214;&#25110;&#26159;&#21040;&#36825;&#20010;&#31449;&#28857;<a class="ulink" href="http://www.nagioscommunity.org/wiki" target="_top">NagiosCommunity.org wiki</a>&#26469;&#26597;&#25214;&#26356;&#36827;&#19968;&#27493;&#30340;&#20449;&#24687;&#65292;&#20197;&#20351;&#20320;&#30340;&#31995;&#32479;&#19978;&#21487;&#20197;&#21521;&#22806;&#37096;&#22320;&#22336;&#21457;&#36865;EMail&#20449;&#24687;&#12290;&#26356;&#22810;&#26377;&#20851;&#36890;&#30693;&#30340;&#20449;&#24687;&#21487;&#20197;&#26597;&#38405;<a class="link" href="#notifications" title="6.7.&nbsp;&#36890;&#30693;">&#36825;&#31687;</a>&#25991;&#26723;&#12290;</p><p><span class="bold"><strong><span class="underline">11)&#23436;&#25104;&#20102;</span></strong></span></p><p>&#31069;&#36154;&#20320;&#24050;&#32463;&#25104;&#21151;&#23433;&#35013;&#22909;Nagios&#65292;&#20294;&#32593;&#32476;&#30417;&#25511;&#24037;&#20316;&#21482;&#26159;&#21018;&#24320;&#22987;&#12290;&#27627;&#26080;&#30097;&#38382;&#20320;&#19981;&#26159;&#21482;&#30417;&#25511;&#26412;&#22320;&#31995;&#32479;&#65292;&#25152;&#20197;&#35201;&#30475;&#20197;&#19979;&#36825;&#20123;&#25991;&#26723;...</p><div class="orderedlist"><ol type="1"><li><a class="link" href="#monitoring-windows" title="4.7.&nbsp;&#30417;&#25511;Windows&#20027;&#26426;">&#23545;Windows&#20027;&#26426;&#30340;&#30417;&#25511;</a></li><li><a class="link" href="#monitoring-linux" title="4.8.&nbsp;&#30417;&#25511;Linux/Unix&#20027;&#26426;">&#23545;Linux/Unix&#20027;&#26426;&#30340;&#30417;&#25511;</a></li><li><a class="link" href="#monitoring-netware" title="4.11.&nbsp;&#30417;&#25511;Netware&#26381;&#21153;&#22120;">&#23545;Netware&#26381;&#21153;&#22120;&#30340;&#30417;&#25511;</a></li><li><a class="link" href="#monitoring-routers" title="4.9.&nbsp;&#30417;&#25511;&#36335;&#30001;&#22120;&#21644;&#20132;&#25442;&#26426;">&#30417;&#25511;&#36335;&#30001;&#22120;&#21644;&#20132;&#25442;&#26426;</a></li><li><a class="link" href="#monitoring-publicservices" title="4.12.&nbsp;&#30417;&#25511;&#20844;&#20247;&#26381;&#21153;&#24179;&#21488;">&#30417;&#25511;&#20844;&#20247;&#21270;&#26381;&#21153;</a>(HTTP&#12289;FTP&#12289;SSH&#31561;)</li></ol></div></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="quickstart-opensuse"></a>4.5.&nbsp;&#22522;&#20110;openSUSE&#24179;&#21488;&#30340;&#24555;&#36895;&#25351;&#21335;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1327"></a>4.5.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>&#26412;&#25351;&#21335;&#35797;&#22270;&#35753;&#20320;&#36890;&#36807;&#31616;&#21333;&#30340;&#25351;&#20196;&#20197;&#22312;20&#20998;&#38047;&#20869;&#22312;&#20320;&#30340;openSUSE&#24179;&#21488;&#19978;&#36890;&#36807;&#23545;Nagios&#30340;&#28304;&#31243;&#24207;&#30340;&#23433;&#35013;&#26469;&#30417;&#25511;&#26412;&#22320;&#20027;&#26426;&#12290;&#36825;&#37324;&#27809;&#26377;&#35752;&#35770;&#26356;&#39640;&#32423;&#30340;&#35774;&#32622;&#39033; &#65293; &#21482;&#26159;&#19968;&#20123;&#22522;&#26412;&#25805;&#20316;&#65292;&#20294;&#36825;&#36275;&#20197;&#20351;95%&#30340;&#29992;&#25143;&#21551;&#21160;Nagios&#12290;</p><p>&#36825;&#20123;&#25351;&#20196;&#22312;&#22522;&#20110;openSUSE10.2&#30340;&#31995;&#32479;&#19979;&#20889;&#25104;&#30340;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1334"></a>4.5.2.&nbsp;&#25152;&#38656;&#30340;&#36719;&#20214;&#21253;</h3></div></div></div><p>&#30830;&#35748;&#20320;&#23433;&#35013;&#22909;&#30340;openSUSE&#31995;&#32479;&#20043;&#19978;&#24050;&#32463;&#23433;&#35013;&#20102;&#22914;&#19979;&#36719;&#20214;&#21253;&#20877;&#32487;&#32493;&#12290;&#20320;&#21487;&#20197;&#22312;openSUSE&#31995;&#32479;&#19979;&#29992;<span class="strong"><strong>yast</strong></span>&#26469;&#23433;&#35013;&#36719;&#20214;&#21253;&#12290;</p><div class="itemizedlist"><ul type="disc"><li>apache2</li><li>C/C++&#24320;&#21457;&#24211;</li></ul></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1347"></a>4.5.3.&nbsp;&#25805;&#20316;&#36807;&#31243;</h3></div></div></div><p><span class="bold"><strong><span class="underline">1&#65289;&#24314;&#31435;&#19968;&#20010;&#24080;&#21495;</span></strong></span></p><p>&#20999;&#25442;&#20026;root&#29992;&#25143;</p><pre class="programlisting">su -l</pre><p>&#21019;&#24314;&#26032;&#24080;&#25143;&#21517;&#20026;<span class="strong"><strong>nagios</strong></span>&#24182;&#32473;&#23427;&#19968;&#20010;&#30331;&#24405;&#21475;&#20196;</p><pre class="programlisting"><p>/usr/sbin/useradd nagios</p><p>passwd nagios</p></pre><p>&#21019;&#24314;&#19968;&#20010;&#29992;&#25143;&#32452;&#21517;&#20026;<span class="strong"><strong>nagios</strong></span>&#65292;&#24182;&#25226;nagios&#24080;&#25143;&#21152;&#20837;&#35813;&#32452;</p><pre class="programlisting"><p>/usr/sbin/groupadd nagios</p><p>/usr/sbin/usermod -G nagios nagios</p></pre><p>&#21019;&#24314;&#19968;&#20010;&#29992;&#25143;&#32452;&#21517;&#20026;<span class="strong"><strong>nagcmd</strong></span>&#26469;&#25191;&#34892;&#22806;&#37096;&#21629;&#20196;&#24182;&#21487;&#20197;&#36890;&#36807;WEB&#25509;&#21475;&#26469;&#25191;&#34892;&#12290;&#23558;nagios&#29992;&#25143;&#21644;apache&#29992;&#25143;&#37117;&#21152;&#21040;&#36825;&#20010;&#32452;&#20013;&#12290;</p><pre class="programlisting"><p>/usr/sbin/groupadd nagcmd</p><p>/usr/sbin/usermod -G nagcmd nagios</p><p>/usr/sbin/usermod -G nagcmd wwwrun</p></pre><p><span class="bold"><strong><span class="underline">2&#65289;&#19979;&#36733;Nagios&#21644;&#25554;&#20214;&#31243;&#24207;&#21253;</span></strong></span></p><p>&#24314;&#31435;&#19968;&#20010;&#30446;&#24405;&#29992;&#20197;&#23384;&#20648;&#19979;&#36733;&#25991;&#20214;</p><pre class="programlisting"><p>mkdir ~/downloads</p><p>cd ~/downloads</p></pre><p>&#19979;&#36733;Nagios&#21644;Nagios&#25554;&#20214;&#30340;&#36719;&#20214;&#21253;&#65288;&#35775;&#38382;<a class="ulink" href="http://www.nagios.org/download/" target="_top">http://www.nagios.org/download/</a>&#31449;&#28857;&#20197;&#33719;&#24471;&#26368;&#26032;&#29256;&#26412;&#65289;&#65292;&#22312;&#20889;&#26412;&#25991;&#26723;&#26102;&#65292;&#26368;&#26032;&#30340;Nagios&#30340;&#36719;&#20214;&#29256;&#26412;&#26159;3.0rc1&#65292;Nagios&#25554;&#20214;&#30340;&#29256;&#26412;&#26159;1.4.11&#12290;</p><pre class="programlisting"><p>wget http://osdn.dl.sourceforge.net/sourceforge/nagios/nagios-3.0rc1.tar.gz</p><p>wget http://osdn.dl.sourceforge.net/sourceforge/nagiosplug/nagios-plugins-1.4.11.tar.gz</p></pre><p><span class="bold"><strong><span class="underline">3&#65289;&#32534;&#35793;&#19982;&#23433;&#35013;Nagios</span></strong></span></p><p>&#23637;&#24320;Nagios&#28304;&#31243;&#24207;&#21253;</p><pre class="programlisting"><p>cd ~/downloads</p><p>tar xzf nagios-3.0rc1.tar.gz</p><p>cd nagios-3.0rc1</p></pre><p>&#36816;&#34892;Nagios&#37197;&#32622;&#33050;&#26412;&#24182;&#20351;&#29992;&#20808;&#21069;&#24320;&#35774;&#30340;&#29992;&#25143;&#21450;&#29992;&#25143;&#32452;&#65306;</p><pre class="programlisting">./configure --with-command-group=nagcmd</pre><p>&#32534;&#35793;Nagios&#31243;&#24207;&#21253;&#28304;&#30721;</p><pre class="programlisting">make all</pre><p>&#23433;&#35013;&#20108;&#36827;&#21046;&#36816;&#34892;&#31243;&#24207;&#12289;&#21021;&#22987;&#21270;&#33050;&#26412;&#12289;&#37197;&#32622;&#25991;&#20214;&#26679;&#26412;&#24182;&#35774;&#32622;&#36816;&#34892;&#30446;&#24405;&#26435;&#38480;</p><pre class="programlisting"><p>make install</p><p>make install-init</p><p>make install-config</p><p>make install-commandmode</p></pre><p>&#29616;&#22312;&#36824;&#19981;&#33021;&#21551;&#21160;Nagios &#65293; &#36824;&#26377;&#19968;&#20123;&#35201;&#20570;&#30340;...</p><p><span class="bold"><strong><span class="underline">4&#65289;&#23458;&#25143;&#21270;&#37197;&#32622;</span></strong></span></p><p>&#26679;&#20363;<a class="link" href="#config" title="5.1.&nbsp;&#37197;&#32622;&#27010;&#35272;">&#37197;&#32622;&#25991;&#20214;</a>&#40664;&#35748;&#23433;&#35013;&#22312;&#36825;&#20010;&#30446;&#24405;&#19979;<span class="strong"><strong>/usr/local/nagios/etc</strong></span>&#65292;&#36825;&#20123;&#26679;&#20363;&#25991;&#20214;&#21487;&#20197;&#37197;&#32622;Nagios&#20351;&#20043;&#27491;&#24120;&#36816;&#34892;&#65292;&#21482;&#38656;&#35201;&#20570;&#19968;&#20010;&#31616;&#21333;&#30340;&#20462;&#25913;...</p><p>&#29992;&#20320;&#25797;&#38271;&#30340;&#32534;&#36753;&#22120;&#36719;&#20214;&#26469;&#32534;&#36753;&#36825;&#20010;<span class="strong"><strong>/usr/local/nagios/etc/objects/contacts.cfg</strong></span>&#37197;&#32622;&#25991;&#20214;&#65292;&#26356;&#25913;email&#22320;&#22336;<span class="strong"><strong>nagiosadmin</strong></span>&#30340;&#32852;&#31995;&#20154;&#23450;&#20041;&#20449;&#24687;&#20013;&#30340;EMail&#20449;&#24687;&#20026;&#20320;&#30340;EMail&#20449;&#24687;&#20197;&#25509;&#25910;&#25253;&#35686;&#20869;&#23481;&#12290;</p><pre class="programlisting">vi /usr/local/nagios/etc/objects/contacts.cfg</pre><p><span class="bold"><strong><span class="underline">5&#65289;&#37197;&#32622;WEB&#25509;&#21475;</span></strong></span></p><p>&#23433;&#35013;Nagios&#30340;WEB&#37197;&#32622;&#25991;&#20214;&#21040;Apache&#30340;conf.d&#30446;&#24405;&#19979;</p><pre class="programlisting">make install-webconf</pre><p>&#21019;&#24314;&#19968;&#20010;<span class="strong"><strong>nagiosadmin</strong></span>&#30340;&#29992;&#25143;&#29992;&#20110;Nagios&#30340;WEB&#25509;&#21475;&#30331;&#24405;&#12290;&#35760;&#19979;&#20320;&#25152;&#35774;&#32622;&#30340;&#30331;&#24405;&#21475;&#20196;&#65292;&#19968;&#20250;&#20799;&#20320;&#20250;&#29992;&#21040;&#23427;&#12290;</p><pre class="programlisting">htpasswd2 -c /usr/local/nagios/etc/htpasswd.users nagiosadmin</pre><p>&#37325;&#21551;Apache&#26381;&#21153;&#20197;&#20351;&#35774;&#32622;&#29983;&#25928;&#12290;</p><pre class="programlisting">service apache2 restart</pre><p><span class="bold"><strong><span class="underline">6&#65289;&#32534;&#35793;&#24182;&#23433;&#35013;Nagios&#25554;&#20214;</span></strong></span></p><p>&#23637;&#24320;Nagios&#25554;&#20214;&#30340;&#28304;&#31243;&#24207;&#21253;</p><pre class="programlisting"><p>cd ~/downloads</p><p>tar xzf nagios-plugins-1.4.11.tar.gz</p><p>cd nagios-plugins-1.4.11</p></pre><p>&#32534;&#35793;&#24182;&#23433;&#35013;&#25554;&#20214;</p><pre class="programlisting"><p>./configure --with-nagios-user=nagios --with-nagios-group=nagios</p><p>make</p><p>make install</p></pre><p><span class="bold"><strong><span class="underline">7&#65289;&#21551;&#21160;Nagios</span></strong></span></p><p>&#25226;Nagios&#21152;&#20837;&#21040;&#26381;&#21153;&#21015;&#34920;&#20013;&#20197;&#20351;&#20043;&#22312;&#31995;&#32479;&#21551;&#21160;&#26102;&#33258;&#21160;&#21551;&#21160;</p><pre class="programlisting"><p>chkconfig --add nagios</p><p>chkconfig nagios on</p></pre><p>&#39564;&#35777;Nagios&#30340;&#26679;&#20363;&#37197;&#32622;&#25991;&#20214;</p><pre class="programlisting">/usr/local/nagios/bin/nagios -v /usr/local/nagios/etc/nagios.cfg</pre><p>&#22914;&#26524;&#27809;&#26377;&#25253;&#38169;&#65292;&#21487;&#20197;&#21551;&#21160;Nagios&#26381;&#21153;</p><pre class="programlisting">service nagios start</pre><p><span class="bold"><strong><span class="underline">8&#65289;&#30331;&#24405;WEB&#25509;&#21475;</span></strong></span></p><p>&#20320;&#29616;&#22312;&#21487;&#20197;&#20174;WEB&#26041;&#24335;&#26469;&#25509;&#20837;Nagios&#30340;WEB&#25509;&#21475;&#20102;&#65292;&#20320;&#38656;&#35201;&#22312;&#25552;&#31034;&#19979;&#36755;&#20837;&#20320;&#30340;&#29992;&#25143;&#21517;&#65288;<span class="strong"><strong>nagiosadmin</strong></span>&#65289;&#21644;&#21475;&#20196;&#65292;&#20320;&#21018;&#21018;&#35774;&#32622;&#30340;&#65292;&#36825;&#37324;&#29992;&#31995;&#32479;&#40664;&#35748;&#23433;&#35013;&#30340;&#27983;&#35272;&#22120;&#65292;&#29992;&#19979;&#38754;&#36825;&#20010;&#36229;&#38142;&#25509;</p><pre class="programlisting">konqueror http://localhost/nagios/</pre><p>&#28857;&#20987;&#8220;&#26381;&#21153;&#35814;&#24773;&#8221;&#30340;&#24341;&#23548;&#36229;&#38142;&#26469;&#26597;&#30475;&#20320;&#26412;&#26426;&#30340;&#30417;&#35270;&#35814;&#24773;&#12290;&#20320;&#21487;&#33021;&#38656;&#35201;&#32473;&#28857;&#26102;&#38388;&#35753;Nagios&#26469;&#26816;&#27979;&#20320;&#26426;&#22120;&#19978;&#25152;&#20381;&#36182;&#30340;&#26381;&#21153;&#22240;&#20026;&#26816;&#27979;&#38656;&#35201;&#20123;&#26102;&#38388;&#12290;</p><p><span class="bold"><strong><span class="underline">9&#65289;&#20854;&#20182;&#30340;&#21464;&#26356;</span></strong></span></p><p>&#30830;&#20449;&#20320;&#26426;&#22120;&#30340;&#38450;&#28779;&#22681;&#35268;&#21017;&#37197;&#32622;&#20801;&#35768;&#20320;&#21487;&#20197;&#20174;&#36828;&#31243;&#30331;&#24405;&#21040;Nagios&#30340;WEB&#26381;&#21153;&#12290;</p><p>&#20320;&#21487;&#20197;&#36825;&#26679;&#20570;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#25171;&#24320;&#25511;&#21046;&#20013;&#24515;</li><li>&#36873;&#25321;'&#25171;&#24320;&#36229;&#25143;&#35774;&#32622;'&#20197;&#25171;&#24320;YaST&#36229;&#25143;&#25511;&#21046;&#20013;&#24515;</li><li>&#36873;&#25321;&#22312;'&#23433;&#20840;&#19982;&#29992;&#25143;'&#35774;&#32622;&#37324;&#30340;'&#38450;&#28779;&#22681;'</li><li>&#22312;&#38450;&#28779;&#22681;&#30340;&#37197;&#32622;&#31383;&#21475;&#20013;&#28857;&#20987;'&#20801;&#35768;&#30340;&#26381;&#21153;'&#36873;&#39033;</li><li>&#22312;&#35768;&#21487;&#30340;&#26381;&#21153;&#20013;&#22686;&#21152;'HTTP&#26381;&#21153;'&#65292;&#26159;'&#22806;&#37096;&#21306;'&#30340;&#37096;&#20998;</li><li>&#28857;&#20987;'&#19979;&#19968;&#27493;'&#24182;&#36873;&#25321;'&#25509;&#21463;'&#20197;&#20351;&#24471;&#38450;&#28779;&#22681;&#35774;&#32622;&#29983;&#25928;</li></ol></div><p>&#37197;&#32622;EMail&#30340;&#25253;&#35686;&#39033;&#36229;&#20986;&#20102;&#26412;&#25991;&#26723;&#30340;&#20869;&#23481;&#65292;&#25351;&#21521;&#20320;&#30340;&#31995;&#32479;&#26723;&#26696;&#29992;&#32593;&#39029;&#26597;&#25214;&#25110;&#26159;&#21040;&#36825;&#20010;&#31449;&#28857;<a class="ulink" href="http://www.nagioscommunity.org/wiki" target="_top">NagiosCommunity.org wiki</a>&#26469;&#26597;&#25214;&#26356;&#36827;&#19968;&#27493;&#30340;&#20449;&#24687;&#65292;&#20197;&#20351;&#20320;&#30340;openSUSE&#31995;&#32479;&#19978;&#21487;&#20197;&#21521;&#22806;&#37096;&#22320;&#22336;&#21457;&#36865;EMail&#20449;&#24687;&#12290;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="quickstart-ubuntu"></a>4.6.&nbsp;&#22522;&#20110;Ubuntu&#24179;&#21488;&#30340;&#24555;&#36895;&#25351;&#21335;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1569"></a>4.6.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>&#26412;&#25351;&#21335;&#35797;&#22270;&#35753;&#20320;&#36890;&#36807;&#31616;&#21333;&#30340;&#25351;&#20196;&#20197;&#22312;20&#20998;&#38047;&#20869;&#22312;Ubuntu&#24179;&#21488;&#19978;&#36890;&#36807;&#23545;Nagios&#30340;&#28304;&#31243;&#24207;&#30340;&#23433;&#35013;&#26469;&#30417;&#25511;&#26412;&#22320;&#20027;&#26426;&#12290;&#27809;&#26377;&#35752;&#35770;&#26356;&#39640;&#32423;&#30340;&#35774;&#32622;&#39033;&#65293;&#21482;&#26159;&#19968;&#20123;&#22522;&#26412;&#25805;&#20316;&#65292;&#20294;&#36825;&#36275;&#20197;&#20351;95%&#30340;&#29992;&#25143;&#21551;&#21160;Nagios&#12290;</p><p>&#36825;&#20123;&#25351;&#20196;&#22312;&#22522;&#20110;Ubuntu6.10(&#26700;&#38754;&#29256;)&#30340;&#31995;&#32479;&#19979;&#20889;&#25104;&#30340;&#12290;</p><p><span class="bold"><strong><span class="underline">What You'll End Up With</span></strong></span></p><p>&#22914;&#26524;&#25353;&#29031;&#26412;&#25351;&#21335;&#23433;&#35013;&#65292;&#26368;&#21518;&#23558;&#26159;&#36825;&#26679;&#32467;&#26524;&#65306;</p><div class="orderedlist"><ol type="1"><li>Nagios&#21644;&#25554;&#20214;&#23558;&#23433;&#35013;&#21040;/usr/local/nagios</li><li>Nagios&#23558;&#34987;&#37197;&#32622;&#20026;&#30417;&#25511;&#26412;&#22320;&#31995;&#32479;&#30340;&#20960;&#20010;&#20027;&#35201;&#26381;&#21153;(CPU&#36127;&#33655;&#12289;&#30913;&#30424;&#21033;&#29992;&#29575;&#31561;)</li><li>Nagios&#30340;Web&#25509;&#21475;&#26159;URL&#26159;http://localhost/nagios/</li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1589"></a>4.6.2.&nbsp;&#25152;&#38656;&#36719;&#20214;&#21253;</h3></div></div></div><p>&#30830;&#35748;&#20320;&#23433;&#35013;&#22909;&#30340;&#31995;&#32479;&#19978;&#24050;&#32463;&#23433;&#35013;&#22914;&#19979;&#36719;&#20214;&#21253;&#20877;&#32487;&#32493;&#12290;</p><div class="orderedlist"><ol type="1"><li>Apache2</li><li>GCC&#32534;&#35793;&#22120;&#19982;&#24320;&#21457;&#24211;</li><li>GD&#24211;&#19982;&#24320;&#21457;&#24211;</li></ol></div><p>&#21487;&#20197;&#29992;<span class="strong"><strong>apt-get</strong></span>&#21629;&#20196;&#26469;&#23433;&#35013;&#36825;&#20123;&#36719;&#20214;&#21253;&#65292;&#38190;&#20837;&#21629;&#20196;&#65306;</p><pre class="programlisting"><p>sudo apt-get install apache2
sudo apt-get install build-essential
sudo apt-get install libgd2-dev</p></pre></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1609"></a>4.6.3.&nbsp;&#25805;&#20316;&#36807;&#31243;</h3></div></div></div><p><span class="bold"><strong><span class="underline">1)&#24314;&#31435;&#19968;&#20010;&#24080;&#21495;</span></strong></span></p><p>&#20999;&#25442;&#20026;root&#29992;&#25143;</p><pre class="programlisting"><p>sudo -s</p></pre><p>&#21019;&#24314;&#19968;&#20010;&#21517;&#20026;<span class="strong"><strong>nagios</strong></span>&#30340;&#24080;&#21495;&#24182;&#32473;&#23450;&#30331;&#24405;&#21475;&#20196;</p><pre class="programlisting"><p>/usr/sbin/useradd nagios
passwd nagios</p></pre><p>&#22312;Ubuntu&#26381;&#21153;&#22120;&#29256;(6.01&#25110;&#26356;&#39640;&#29256;&#26412;)&#65292;&#21019;&#24314;&#19968;&#20010;&#29992;&#25143;&#32452;&#21517;&#20026;<span class="strong"><strong>nagios</strong></span>(&#40664;&#35748;&#26159;&#19981;&#21019;&#24314;&#30340;)&#12290;&#22312;Ubuntu&#26700;&#38754;&#29256;&#19978;&#35201;&#36339;&#36807;&#36825;&#19968;&#27493;&#12290;</p><pre class="programlisting"><p>/usr/sbin/groupadd nagios
/usr/sbin/usermod -G nagios nagios</p></pre><p>&#21019;&#24314;&#19968;&#20010;&#29992;&#25143;&#32452;&#21517;&#20026;<span class="strong"><strong>nagcmd</strong></span>&#29992;&#20110;&#20174;Web&#25509;&#21475;&#25191;&#34892;&#22806;&#37096;&#21629;&#20196;&#12290;&#23558;nagios&#29992;&#25143;&#21644;apache&#29992;&#25143;&#37117;&#21152;&#21040;&#36825;&#20010;&#32452;&#20013;&#12290;</p><pre class="programlisting"><p>/usr/sbin/groupadd nagcmd
/usr/sbin/usermod -G nagcmd nagios
/usr/sbin/usermod -G nagcmd www-data</p></pre><p><span class="bold"><strong><span class="underline">2)&#19979;&#36733;Nagios&#21644;&#25554;&#20214;&#31243;&#24207;&#21253;</span></strong></span></p><p>&#24314;&#31435;&#19968;&#20010;&#30446;&#24405;&#29992;&#20197;&#23384;&#20648;&#19979;&#36733;&#25991;&#20214;</p><pre class="programlisting"><p>mkdir ~/downloads
cd ~/downloads</p></pre><p>&#19979;&#36733;Nagios&#21644;Nagios&#25554;&#20214;&#30340;&#36719;&#20214;&#21253;&#65288;&#35775;&#38382;<a class="ulink" href="http://www.nagios.org/download/" target="_top">http://www.nagios.org/download/</a>&#31449;&#28857;&#20197;&#33719;&#24471;&#26368;&#26032;&#29256;&#26412;&#65289;&#65292;&#22312;&#20889;&#26412;&#25991;&#26723;&#26102;&#65292;&#26368;&#26032;&#30340;Nagios&#30340;&#36719;&#20214;&#29256;&#26412;&#26159;3.0rc1&#65292;Nagios&#25554;&#20214;&#30340;&#29256;&#26412;&#26159;1.4.11&#12290;</p><pre class="programlisting"><p>wget http://osdn.dl.sourceforge.net/sourceforge/nagios/nagios-3.0rc1.tar.gz
wget http://osdn.dl.sourceforge.net/sourceforge/nagiosplug/nagios-plugins-1.4.11.tar.gz</p></pre><p><span class="bold"><strong><span class="underline">3)&#32534;&#35793;&#19982;&#23433;&#35013;Nagios</span></strong></span></p><p>&#23637;&#24320;Nagios&#28304;&#31243;&#24207;&#21253;</p><pre class="programlisting"><p>cd ~/downloads
tar xzf nagios-3.0rc1.tar.gz
cd nagios-3.0rc1</p></pre><p>&#36816;&#34892;Nagios&#37197;&#32622;&#33050;&#26412;&#24182;&#20351;&#29992;&#20808;&#21069;&#24320;&#35774;&#30340;&#29992;&#25143;&#21450;&#29992;&#25143;&#32452;&#65306;</p><pre class="programlisting"><p>./configure --with-command-group=nagcmd</p></pre><p>&#32534;&#35793;Nagios&#31243;&#24207;&#21253;&#28304;&#30721;</p><pre class="programlisting"><p>make all</p></pre><p>&#23433;&#35013;&#20108;&#36827;&#21046;&#36816;&#34892;&#31243;&#24207;&#12289;&#21021;&#22987;&#21270;&#33050;&#26412;&#12289;&#37197;&#32622;&#25991;&#20214;&#26679;&#26412;&#24182;&#35774;&#32622;&#36816;&#34892;&#30446;&#24405;&#26435;&#38480;</p><pre class="programlisting"><p>make install
make install-init
make install-config
make install-commandmode</p></pre><p>&#29616;&#22312;&#36824;&#19981;&#33021;&#21551;&#21160;Nagios&#65293;&#36824;&#26377;&#19968;&#20123;&#35201;&#20570;&#30340;...</p><p><span class="bold"><strong><span class="underline">4)&#23458;&#25143;&#21270;&#37197;&#32622;</span></strong></span></p><p>&#26679;&#20363;<a class="link" href="#config" title="5.1.&nbsp;&#37197;&#32622;&#27010;&#35272;">&#37197;&#32622;&#25991;&#20214;</a>&#40664;&#35748;&#23433;&#35013;&#22312;&#36825;&#20010;&#30446;&#24405;&#19979;<span class="strong"><strong>/usr/local/nagios/etc</strong></span>&#65292;&#36825;&#20123;&#26679;&#20363;&#25991;&#20214;&#21487;&#20197;&#37197;&#32622;Nagios&#20351;&#20043;&#27491;&#24120;&#36816;&#34892;&#65292;&#21482;&#38656;&#35201;&#20570;&#19968;&#20010;&#31616;&#21333;&#30340;&#20462;&#25913;...</p><p>&#29992;&#20320;&#25797;&#38271;&#30340;&#32534;&#36753;&#22120;&#36719;&#20214;&#26469;&#32534;&#36753;&#36825;&#20010;<span class="strong"><strong>/usr/local/nagios/etc/objects/contacts.cfg</strong></span>&#37197;&#32622;&#25991;&#20214;&#65292;&#26356;&#25913;email&#22320;&#22336;<span class="strong"><strong>nagiosadmin</strong></span>&#30340;&#32852;&#31995;&#20154;&#23450;&#20041;&#20449;&#24687;&#20013;&#30340;EMail&#20449;&#24687;&#20026;&#20320;&#30340;EMail&#20449;&#24687;&#20197;&#25509;&#25910;&#25253;&#35686;&#20869;&#23481;&#12290;</p><pre class="programlisting">vi /usr/local/nagios/etc/objects/contacts.cfg</pre><p><span class="bold"><strong><span class="underline">5)&#37197;&#32622;WEB&#25509;&#21475;</span></strong></span></p><p>&#23433;&#35013;Nagios&#30340;WEB&#37197;&#32622;&#25991;&#20214;&#21040;Apache&#30340;conf.d&#30446;&#24405;&#19979;</p><pre class="programlisting"><p>make install-webconf</p></pre><p>&#21019;&#24314;&#19968;&#20010;<span class="strong"><strong>nagiosadmin</strong></span>&#30340;&#29992;&#25143;&#29992;&#20110;Nagios&#30340;WEB&#25509;&#21475;&#30331;&#24405;&#12290;&#35760;&#19979;&#20320;&#25152;&#35774;&#32622;&#30340;&#30331;&#24405;&#21475;&#20196;&#65292;&#19968;&#20250;&#20799;&#20320;&#20250;&#29992;&#21040;&#23427;&#12290;</p><pre class="programlisting"><p>htpasswd -c /usr/local/nagios/etc/htpasswd.users nagiosadmin</p></pre><p>&#37325;&#21551;Apache&#26381;&#21153;&#20197;&#20351;&#35774;&#32622;&#29983;&#25928;&#12290;</p><pre class="programlisting"><p>/etc/init.d/apache2 reload</p></pre><p><span class="bold"><strong><span class="underline">6)&#32534;&#35793;&#24182;&#23433;&#35013;Nagios&#25554;&#20214;</span></strong></span></p><p>&#23637;&#24320;Nagios&#25554;&#20214;&#30340;&#28304;&#31243;&#24207;&#21253;</p><pre class="programlisting"><p>cd ~/downloads
tar xzf nagios-plugins-1.4.11.tar.gz
cd nagios-plugins-1.4.11</p></pre><p>&#32534;&#35793;&#24182;&#23433;&#35013;&#25554;&#20214;</p><pre class="programlisting"><p>./configure --with-nagios-user=nagios --with-nagios-group=nagios
make
make install</p></pre><p><span class="bold"><strong><span class="underline">7)&#21551;&#21160;Nagios</span></strong></span></p><p>&#25226;Nagios&#21152;&#20837;&#21040;&#26381;&#21153;&#21015;&#34920;&#20013;&#20197;&#20351;&#20043;&#22312;&#31995;&#32479;&#21551;&#21160;&#26102;&#33258;&#21160;&#21551;&#21160;</p><pre class="programlisting"><p>ln -s /etc/init.d/nagios /etc/rcS.d/S99nagios</p></pre><p>&#39564;&#35777;Nagios&#30340;&#26679;&#20363;&#37197;&#32622;&#25991;&#20214;</p><pre class="programlisting"><p>/usr/local/nagios/bin/nagios -v /usr/local/nagios/etc/nagios.cfg</p></pre><p>&#22914;&#26524;&#27809;&#26377;&#25253;&#38169;&#65292;&#21487;&#20197;&#21551;&#21160;Nagios&#26381;&#21153;</p><pre class="programlisting"><p>/etc/init.d/nagios start</p></pre><p><span class="bold"><strong><span class="underline">8)&#30331;&#24405;WEB&#25509;&#21475;</span></strong></span></p><p>&#20320;&#29616;&#22312;&#21487;&#20197;&#20174;WEB&#26041;&#24335;&#26469;&#25509;&#20837;Nagios&#30340;WEB&#25509;&#21475;&#20102;&#65292;&#20320;&#38656;&#35201;&#22312;&#25552;&#31034;&#19979;&#36755;&#20837;&#20320;&#30340;&#29992;&#25143;&#21517;(<span class="strong"><strong>nagiosadmin</strong></span>)&#21644;&#21475;&#20196;&#65292;&#20320;&#21018;&#21018;&#35774;&#32622;&#30340;&#65292;&#36825;&#37324;&#29992;&#31995;&#32479;&#40664;&#35748;&#23433;&#35013;&#30340;&#27983;&#35272;&#22120;&#65292;&#29992;&#19979;&#38754;&#36825;&#20010;&#36229;&#38142;&#25509;</p><pre class="programlisting"><p>http://localhost/nagios/</p></pre><p>&#28857;&#20987;&#8220;&#26381;&#21153;&#35814;&#24773;&#8221;&#30340;&#24341;&#23548;&#36229;&#38142;&#26469;&#26597;&#30475;&#20320;&#26412;&#26426;&#30340;&#30417;&#35270;&#35814;&#24773;&#12290;&#20320;&#21487;&#33021;&#38656;&#35201;&#32473;&#28857;&#26102;&#38388;&#35753;Nagios&#26469;&#26816;&#27979;&#20320;&#26426;&#22120;&#19978;&#25152;&#20381;&#36182;&#30340;&#26381;&#21153;&#22240;&#20026;&#26816;&#27979;&#38656;&#35201;&#20123;&#26102;&#38388;&#12290;</p><p><span class="bold"><strong><span class="underline">9)&#20854;&#20182;&#30340;&#21464;&#26356;</span></strong></span></p><p>&#22914;&#26524;&#35201;&#25509;&#25910;Nagios&#30340;EMail&#35686;&#25253;&#65292;&#38656;&#35201;&#23433;&#35013;(Postfix)&#21253;</p><pre class="programlisting"><p>sudo apt-get install mailx</p></pre><p>&#38656;&#35201;&#32534;&#36753;Nagios&#37324;&#30340;EMail&#36890;&#30693;&#36865;&#20986;&#21629;&#20196;&#65292;&#23427;&#20301;&#20110;<span class="strong"><strong>/usr/local/nagios/etc/commands.cfg</strong></span>&#25991;&#20214;&#20013;&#65292;&#23558;&#37324;&#38754;&#30340;'/bin/mail'&#20840;&#37096;&#26367;&#25442;&#20026;'/usr/bin/mail'&#12290;&#19968;&#26086;&#35774;&#32622;&#22909;&#38656;&#35201;&#37325;&#21551;&#21160;Nagios&#20197;&#20351;&#37197;&#32622;&#29983;&#25928;&#12290;</p><pre class="programlisting"><p>sudo /etc/init.d/nagios restart</p></pre><p>&#37197;&#32622;EMail&#30340;&#25253;&#35686;&#39033;&#36229;&#20986;&#20102;&#26412;&#25991;&#26723;&#30340;&#20869;&#23481;&#65292;&#25351;&#21521;&#20320;&#30340;&#31995;&#32479;&#26723;&#26696;&#29992;&#32593;&#39029;&#26597;&#25214;&#25110;&#26159;&#21040;&#36825;&#20010;&#31449;&#28857;<a class="ulink" href="http://www.nagioscommunity.org/wiki" target="_top">NagiosCommunity.org wiki</a>&#26469;&#26597;&#25214;&#26356;&#36827;&#19968;&#27493;&#30340;&#20449;&#24687;&#65292;&#20197;&#20351;Ubuntu&#31995;&#32479;&#19978;&#21487;&#20197;&#21521;&#22806;&#37096;&#22320;&#22336;&#21457;&#36865;EMail&#20449;&#24687;&#12290;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="monitoring-windows"></a>4.7.&nbsp;&#30417;&#25511;Windows&#20027;&#26426;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1804"></a>4.7.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>&#26412;&#25991;&#29992;&#26469;&#35828;&#26126;&#22914;&#20309;&#30417;&#25511;Windows&#20027;&#26426;&#30340;&#26412;&#22320;&#26381;&#21153;&#21644;&#29305;&#24615;&#65292;&#21253;&#25324;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#20869;&#23384;&#21344;&#29992;&#29575;</li><li>CPU&#36127;&#36733;</li><li>Disk&#21033;&#29992;&#29575;</li><li>&#26381;&#21153;&#29366;&#24577;</li><li>&#36816;&#34892;&#36827;&#31243;</li><li>&#31561;&#31561;</li></ol></div><p>&#22312;Windows&#20027;&#26426;&#19978;&#30340;&#20844;&#20247;&#21270;&#26381;&#21153;(&#22914;HTTP&#12289;FTP&#12289;POP3&#31561;)&#21487;&#20197;&#26597;&#38405;<a class="link" href="#monitoring-publicservices" title="4.12.&nbsp;&#30417;&#25511;&#20844;&#20247;&#26381;&#21153;&#24179;&#21488;">&#30417;&#25511;&#20844;&#20247;&#21270;&#26381;&#21153;</a>&#36825;&#31687;&#25991;&#26723;&#12290;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><div><img src="../pub/images/note.gif"></div>&#22914;&#19979;&#30340;&#20869;&#23481;&#26159;&#20551;&#23450;&#20320;&#24050;&#32463;&#25353;&#29031;<a class="link" href="#quickstart" title="4.3.&nbsp;&#24555;&#36895;&#23433;&#35013;&#25351;&#21335;">&#24555;&#36895;&#23433;&#35013;&#25351;&#21335;</a>&#23433;&#35013;&#22909;&#20102;Nagios&#31995;&#32479;&#20043;&#21518;&#20570;&#30340;&#65292;&#19979;&#38754;&#25152;&#20351;&#29992;&#30340;&#26679;&#20363;&#37197;&#32622;&#25991;&#20214;(&#22914;<span class="strong"><strong>commands.cfg</strong></span>&#12289;<span class="strong"><strong>templates.cfg</strong></span>&#31561;)&#24050;&#32463;&#22312;&#23433;&#35013;&#36807;&#31243;&#20013;&#23433;&#35013;&#21040;&#20301;&#12290;</div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1840"></a>4.7.2.&nbsp;&#27010;&#35272;</h3></div></div></div><p>&#23545;Windows&#26426;&#22120;&#30340;&#30417;&#25511;&#31169;&#26377;&#26381;&#21153;&#38656;&#35201;&#22312;&#26426;&#22120;&#19978;&#23433;&#35013;&#20195;&#29702;&#31243;&#24207;&#12290;&#20195;&#29702;&#23558;&#20250;&#22312;&#26816;&#27979;&#25554;&#20214;&#19982;Nagios&#26381;&#21153;&#20043;&#38388;&#36215;&#32593;&#20851;&#20195;&#29702;&#20316;&#29992;&#12290;&#22914;&#26524;&#27809;&#26377;&#22312;&#26426;&#22120;&#19978;&#23433;&#35013;&#20195;&#29702;&#30340;&#35805;&#65292;Nagios&#23558;&#26080;&#27861;&#23545;Windows&#31169;&#26377;&#26381;&#21153;&#25110;&#23646;&#24615;&#31561;&#36827;&#34892;&#30417;&#25511;&#12290;</p><p>&#22312;&#19979;&#38754;&#20363;&#23376;&#20013;&#65292;&#23558;&#22312;Windows&#26426;&#22120;&#19978;&#23433;&#35013;<a class="ulink" href="http://sourceforge.net/projects/nscplus" target="_top">NSClient++</a>&#22806;&#37096;&#26500;&#20214;&#24182;&#20351;&#29992;<span class="strong"><strong>check_nt</strong></span>&#25554;&#20214;&#26816;&#27979;&#21644;&#19982;NSClient++&#26500;&#20214;&#36827;&#34892;&#36890;&#35759;&#12290;&#22914;&#26524;&#20320;&#25353;&#29031;&#25351;&#21335;&#26469;&#23433;&#35013;&#30340;&#35805;&#65292;<span class="strong"><strong>check_nt</strong></span>&#25554;&#20214;&#24050;&#32463;&#23433;&#35013;&#21040;&#20102;Nagios&#26381;&#21153;&#22120;&#19978;&#12290;</p><p>&#22914;&#26524;&#24895;&#24847;&#65292;&#21487;&#20197;&#29992;&#20854;&#20182;&#30340;Windows&#20195;&#29702;(&#35937;<a class="ulink" href="http://sourceforge.net/projects/nc-net" target="_top">NC_Net</a>)&#26367;&#20195;NSClient++&#26500;&#20214;&#25152;&#36215;&#30340;&#20316;&#29992;&#65293;&#21482;&#26159;&#35201;&#31245;&#31245;&#25913;&#19968;&#19979;&#23545;&#24212;&#30340;&#21629;&#20196;&#21644;&#26381;&#21153;&#23450;&#20041;&#31561;&#12290;&#19979;&#38754;&#23558;&#21482;&#26159;&#35752;&#35770;&#23433;&#35013;&#20102;NSClient++&#22806;&#37096;&#26500;&#20214;&#30340;&#24773;&#20917;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1861"></a>4.7.3.&nbsp;&#27493;&#39588;</h3></div></div></div><p>&#20026;&#23436;&#25104;&#23545;Windows&#26426;&#22120;&#30340;&#26816;&#27979;&#65292;&#26377;&#20960;&#20010;&#27493;&#39588;&#35201;&#20570;&#65292;&#23427;&#20204;&#26159;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#30830;&#35748;&#19968;&#19979;&#39318;&#35201;&#26465;&#20214;&#65307;</li><li>&#22312;Windows&#26426;&#22120;&#19978;&#23433;&#35013;&#20195;&#29702;(&#22312;&#26412;&#20363;&#20013;&#26159;&#23433;&#35013;NSClient++&#26500;&#20214;)&#65307;</li><li>&#32473;Windows&#26426;&#22120;&#21019;&#24314;&#26032;&#30340;&#20027;&#26426;&#21644;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#65307;</li><li>&#37325;&#21551;&#21160;Nagios&#23432;&#25252;&#36827;&#31243;&#12290;</li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1875"></a>4.7.4.&nbsp;&#24050;&#32463;&#20570;&#20102;&#20160;&#20040;&#65311;</h3></div></div></div><p>&#20026;&#20351;&#36807;&#31243;&#31616;&#21333;&#65292;&#24050;&#32463;&#23436;&#25104;&#20102;&#23569;&#37327;&#37197;&#32622;&#25991;&#20214;&#30340;&#24037;&#20316;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#24050;&#32463;&#25226;<span class="strong"><strong>check_nt</strong></span>&#21629;&#20196;&#21152;&#20837;&#21040;&#20102;<span class="strong"><strong>commands.cfg</strong></span>&#25991;&#20214;&#20013;&#65292;&#23601;&#21487;&#20197;&#30452;&#25509;&#20351;&#29992;<span class="strong"><strong>check_nt</strong></span>&#25554;&#20214;&#26469;&#30417;&#25511;Windows&#26381;&#21153;&#65307;</li><li>&#19968;&#20010;Windows&#26426;&#22120;&#30340;&#20027;&#26426;&#23545;&#35937;&#27169;&#26495;(&#21629;&#21517;&#20026;<span class="strong"><strong>windows-server</strong></span>)&#24050;&#32463;&#22312;<span class="strong"><strong>templates.cfg</strong></span>&#25991;&#20214;&#37324;&#21019;&#24314;&#22909;&#20102;&#65292;&#21487;&#20197;&#26356;&#23481;&#26131;&#22320;&#21152;&#20837;&#19968;&#20010;&#26032;&#30340;Windows&#20027;&#26426;&#23545;&#35937;&#23450;&#20041;&#12290;</li></ol></div><p>&#24120;&#29992;&#30340;&#37197;&#32622;&#25991;&#20214;&#21487;&#20197;&#22312;<span class="strong"><strong>/usr/local/nagios/etc/objects/</strong></span>&#30446;&#24405;&#37324;&#25214;&#21040;&#12290;&#22914;&#26524;&#24895;&#24847;&#21487;&#20197;&#23545;&#37324;&#38754;&#30340;&#23545;&#35937;&#36827;&#34892;&#20462;&#25913;&#20197;&#36866;&#24212;&#20320;&#30340;&#35201;&#27714;&#12290;&#20294;&#26159;&#65292;&#22914;&#26524;&#20320;&#27809;&#26377;&#29087;&#24713;&#37197;&#32622;Nagios&#20043;&#21069;&#21149;&#20320;&#19981;&#35201;&#36825;&#20040;&#20570;&#12290;&#24320;&#22987;&#26102;&#21487;&#20197;&#21482;&#26159;&#25353;&#29031;&#19979;&#38754;&#30340;&#25351;&#20196;&#25805;&#20316;&#26469;&#24555;&#36895;&#23436;&#25104;&#30417;&#25511;Windows&#26426;&#22120;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1905"></a>4.7.5.&nbsp;&#39318;&#35201;&#26465;&#20214;</h3></div></div></div><p>&#39318;&#27425;&#30417;&#25511;&#19968;&#21488;Winodws&#26426;&#22120;&#26102;&#38656;&#35201;&#23545;Nagios&#20570;&#28857;&#39069;&#22806;&#30340;&#24037;&#20316;&#65292;&#35760;&#20303;&#65292;&#20165;&#20165;&#26159;&#30417;&#25511;<span class="emphasis"><em>&#31532;&#19968;&#21488;</em></span>Windows&#26426;&#22120;&#26102;&#38656;&#35201;&#20570;&#36825;&#20123;&#24037;&#20316;&#12290;</p><p>&#32534;&#36753;Nagios&#30340;&#20027;&#37197;&#32622;&#25991;&#20214;</p><pre class="programlisting">vi /usr/local/nagios/etc/nagios.cfg</pre><p>&#25226;&#19979;&#38754;&#36825;&#34892;&#26368;&#21069;&#38754;&#30340;#&#21495;&#21435;&#25481;&#65306;</p><pre class="programlisting">#cfg_file=/usr/local/nagios/etc/objects/windows.cfg</pre><p>&#20445;&#23384;&#37197;&#32622;&#25991;&#20214;&#24182;&#36864;&#20986;&#12290;</p><p>&#21018;&#25165;&#20570;&#30340;&#26159;&#20160;&#20040;&#21602;&#65311;&#26159;&#35753;Nagios&#36215;&#29992;<span class="strong"><strong>/usr/local/nagios/etc/objects/windows.cfg</strong></span>&#36825;&#20010;&#37197;&#32622;&#25991;&#20214;&#37324;&#30340;&#23545;&#35937;&#23450;&#20041;&#12290;&#22312;&#36825;&#20010;&#37197;&#32622;&#25991;&#20214;&#37324;&#21487;&#20197;&#21152;&#20123;Windows&#30340;&#20027;&#26426;&#19982;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#12290;&#35813;&#37197;&#32622;&#25991;&#20214;&#37324;&#24050;&#32463;&#21253;&#21547;&#26377;&#20960;&#20010;&#26679;&#20363;&#20027;&#26426;&#12289;&#20027;&#26426;&#32452;&#21450;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#12290;&#23545;&#20110;&#31532;&#19968;&#21488;Windows&#26426;&#22120;&#65292;&#21487;&#20197;&#21482;&#26159;&#31616;&#21333;&#22320;&#20462;&#25913;&#37324;&#38754;&#24050;&#32463;&#26377;&#30340;&#20027;&#26426;&#19982;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#32780;&#19981;&#35201;&#26032;&#21019;&#24314;&#19968;&#20010;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1928"></a>4.7.6.&nbsp;&#23433;&#35013;Windows&#20195;&#29702;&#31243;&#24207;</h3></div></div></div><p>&#22312;&#29992;Nagios&#30417;&#25511;Windows&#26426;&#22120;&#30340;&#31169;&#26377;&#26381;&#21153;&#20043;&#21069;&#65292;&#38656;&#35201;&#20808;&#22312;&#26426;&#22120;&#19978;&#23433;&#35013;&#20195;&#29702;&#31243;&#24207;&#12290;&#25512;&#33616;&#20351;&#29992;NSClient++&#22806;&#37096;&#26500;&#20214;&#65292;&#23427;&#21487;&#20197;&#22312;<a class="ulink" href="http://sourceforge.net/projects/nscplus" target="_top">http://sourceforge.net/projects/nscplus</a>&#25214;&#21040;&#12290;&#22914;&#19979;&#25351;&#20196;&#21487;&#20197;&#23433;&#35013;&#19968;&#20010;&#22522;&#26412;&#30340;NSClient++&#22806;&#37096;&#26500;&#20214;&#65292;&#21516;&#26102;&#20063;&#37197;&#32622;&#22909;Nagios&#26469;&#30417;&#25511;&#36825;&#21488;Windows&#26426;&#22120;&#12290;</p><p>1.&#20174;<a class="ulink" href="http://sourceforge.net/projects/nscplus" target="_top">http://sourceforge.net/projects/nscplus</a>&#31449;&#28857;&#19979;&#36733;&#26368;&#26032;&#31283;&#23450;&#29256;&#30340;NSClient++&#36719;&#20214;&#21253;&#65307;</p><p>2.&#23637;&#24320;&#36719;&#20214;&#21253;&#21040;&#19968;&#20010;&#30446;&#24405;&#19979;&#65292;&#22914;C:\NSClient++&#65307;</p><p>3.&#25171;&#24320;&#19968;&#20010;&#21629;&#20196;&#34892;&#31383;&#21475;&#24182;&#20999;&#25442;&#21040;C:\NSClient++&#30446;&#24405;&#19979;&#65307;</p><p>4.&#29992;&#19979;&#38754;&#21629;&#20196;&#23558;NSClient++&#31995;&#32479;&#26381;&#21153;&#27880;&#20876;&#21040;&#31995;&#32479;&#37324;&#65306;</p><pre class="programlisting">	nsclient++ /install</pre><p>5.&#29992;&#19979;&#38754;&#21629;&#20196;&#23433;&#35013;NSClient++&#31995;&#32479;&#25176;&#30424;&#31243;&#24207;('SysTray'&#26159;&#22823;&#23567;&#20889;&#25935;&#24863;&#30340;)&#65306;</p><pre class="programlisting">	nsclient++ SysTray</pre><p>6.&#25171;&#24320;&#26381;&#21153;&#31649;&#29702;&#22120;&#24182;&#30830;&#35748;NSClientpp&#26381;&#21153;&#21487;&#20197;&#22312;&#26700;&#38754;&#20132;&#20114;(&#30475;&#19968;&#19979;&#26381;&#21153;&#31649;&#29702;&#22120;&#37324;&#30340;'Log On'&#36873;&#39033;&#39029;)&#65292;&#22914;&#26524;&#27809;&#26377;&#20801;&#35768;&#26700;&#38754;&#20132;&#20114;&#65292;&#28857;&#19968;&#19979;&#37324;&#38754;&#30340;&#36873;&#25321;&#39033;&#25171;&#24320;&#23427;&#12290;</p><div><img src="../pub/images/nscpp.png"></div><p>7.&#32534;&#36753;NSC.INI&#25991;&#20214;(&#20301;&#20110;C:\NSClient++&#30446;&#24405;)&#24182;&#20570;&#22914;&#19979;&#20462;&#25913;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#21435;&#25481;&#22312;[modules]&#27573;&#37324;&#30340;&#21015;&#20986;&#27169;&#22359;&#31243;&#24207;&#30340;&#27880;&#37322;&#65292;&#38500;&#20102;CheckWMI.dll&#21644;RemoteConfiguration.dll&#65307;</li><li>&#26368;&#22909;&#26159;&#20462;&#25913;&#19968;&#19979;&#22312;[Settings]&#27573;&#37324;&#30340;'password'&#36873;&#39033;&#65307;</li><li>&#21435;&#25481;&#22312;[Settings]&#27573;&#37324;&#30340;'allowed_hosts'&#36873;&#39033;&#27880;&#37322;&#65292;&#25226;Nagios&#26381;&#21153;&#25152;&#22312;&#20027;&#26426;&#30340;IP&#21152;&#21040;&#36825;&#19968;&#34892;&#37324;&#65292;&#25110;&#26159;&#32622;&#20026;&#31354;&#65292;&#35753;&#20840;&#37096;&#20027;&#26426;&#37117;&#21487;&#20197;&#32852;&#20837;&#65307;</li><li>&#30830;&#35748;&#19968;&#19979;&#22312;[NSClient]&#27573;&#37324;&#30340;'port'&#36873;&#39033;&#37324;&#24050;&#32463;&#21435;&#25481;&#27880;&#37322;&#24182;&#35774;&#32622;&#25104;'12489'(&#40664;&#35748;&#31471;&#21475;)&#65307;</li></ol></div><p>8.&#29992;&#19979;&#38754;&#21629;&#20196;&#21551;&#21160;NSClient++&#26381;&#21153;&#65306;</p><pre class="programlisting">	nsclient++ /start</pre><p>9.&#22914;&#26524;&#23433;&#35013;&#27491;&#30830;&#65292;&#19968;&#20010;&#26032;&#30340;&#22270;&#26631;&#20250;&#20986;&#29616;&#22312;&#31995;&#32479;&#25176;&#30424;&#37324;&#65292;&#26159;&#20010;&#40644;&#22280;&#37324;&#38754;&#26377;&#20010;&#40657;&#33394;&#30340;'M'&#65307;</p><p>10.&#23436;&#25104;&#20102;&#12290;&#36825;&#21488;Windows&#26426;&#22120;&#21487;&#20197;&#21152;&#21040;Nagios&#30417;&#25511;&#37197;&#32622;&#37324;&#20102;...</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1976"></a>4.7.7.&nbsp;&#37197;&#32622;Nagios</h3></div></div></div><p>&#20026;&#30417;&#25511;Windows&#26426;&#22120;&#19979;&#38754;&#35201;&#22312;Nagios&#37197;&#32622;&#25991;&#20214;&#37324;&#21152;&#20960;&#20010;<a class="link" href="#objectdefinitions" title="6.1.&nbsp;&#23545;&#35937;&#23450;&#20041;">&#23545;&#35937;&#23450;&#20041;</a>&#12290;</p><p>&#32534;&#36753;&#26041;&#24335;&#25171;&#24320;<span class="strong"><strong>windows.cfg</strong></span>&#25991;&#20214;&#12290;</p><pre class="programlisting">vi /usr/local/nagios/etc/objects/windows.cfg</pre><p>&#32473;Windows&#26426;&#22120;&#21152;&#19968;&#20010;&#26032;&#30340;<a class="link" href="#objectdefinitions_host">&#20027;&#26426;&#23545;&#35937;</a>&#23450;&#20041;&#20197;&#20415;&#30417;&#25511;&#12290;&#22914;&#26524;&#26159;&#34987;&#30417;&#25511;&#30340;&#31532;&#19968;&#21488;Windows&#26426;&#22120;&#65292;&#21487;&#20197;&#21482;&#26159;&#20462;&#25913;<span class="strong"><strong>windows.cfg</strong></span>&#25991;&#20214;&#37324;&#30340;&#23545;&#35937;&#23450;&#20041;&#12290;&#20462;&#25913;<span class="strong"><strong>host_name</strong></span>&#12289;<span class="strong"><strong>alias</strong></span>&#21644;<span class="strong"><strong>address</strong></span>&#22495;&#20197;&#31526;&#21512;&#37027;&#21488;Windows&#26426;&#22120;&#12290;</p><pre class="programlisting"><p>define host{
	use		windows-server	; Inherit default values from a Windows server template (make sure you keep this line!)
	host_name		winserver
	alias		My Windows Server
	address		192.168.1.2
	}</p></pre><p>&#22909;&#20102;&#12290;&#19979;&#38754;&#21487;&#20197;&#21152;&#20960;&#20010;&#26381;&#21153;&#23450;&#20041;(&#22312;&#21516;&#19968;&#20010;&#37197;&#32622;&#25991;&#20214;&#37324;)&#20197;&#20351;Nagios&#30417;&#25511;Windows&#26426;&#22120;&#19978;&#30340;&#19981;&#21516;&#23646;&#24615;&#20869;&#23481;&#12290;&#22914;&#26524;&#26159;&#31532;&#19968;&#21488;Windows&#26426;&#22120;&#65292;&#21487;&#20197;&#21482;&#26159;&#20462;&#25913;<span class="strong"><strong>windows.cfg</strong></span>&#37324;&#30340;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#12290;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><div><img src="../pub/images/note.gif"></div>&#29992;&#20320;&#21018;&#21018;&#21152;&#22909;&#30340;&#20027;&#26426;&#23545;&#35937;&#23450;&#20041;&#37324;&#30340;<span class="strong"><strong>host_name</strong></span>&#26469;&#26367;&#25442;&#20363;&#23376;&#37324;&#30340;"<span class="strong"><strong>winserver</strong></span>"&#12290;</div><p>&#21152;&#20837;&#19979;&#38754;&#30340;&#26381;&#21153;&#23450;&#20041;&#20197;&#30417;&#25511;&#36816;&#34892;&#20110;Windows&#26426;&#22120;&#19978;&#30340;NSClient++&#22806;&#37096;&#26500;&#20214;&#30340;&#29256;&#26412;&#12290;&#24403;&#21040;&#26102;&#38388;&#35201;&#21319;&#32423;Windows&#26426;&#22120;&#19978;&#30340;&#22806;&#37096;&#26500;&#20214;&#26102;&#36825;&#20449;&#24687;&#20250;&#24456;&#29992;&#26377;&#65292;&#22240;&#20026;&#23427;&#21487;&#20197;&#21578;&#30693;&#36825;&#21488;Windows&#26426;&#22120;&#19978;&#30340;NSClient++&#38656;&#35201;&#21319;&#32423;&#21040;&#26368;&#26032;&#29256;&#26412;&#12290;</p><pre class="programlisting"><p>define service{
	use			generic-service
	host_name			winserver
	service_description	NSClient++ Version
	check_command		check_nt!CLIENTVERSION
	}</p></pre><p>&#21152;&#20837;&#19979;&#38754;&#30340;&#26381;&#21153;&#23450;&#20041;&#20197;&#30417;&#25511;Windows&#26426;&#22120;&#30340;&#21551;&#21160;&#21518;&#36816;&#34892;&#26102;&#38388;&#12290;</p><pre class="programlisting"><p>define service{
	use			generic-service
	host_name			winserver
	service_description	Uptime
	check_command		check_nt!UPTIME
	}</p></pre><p>&#21152;&#20837;&#19979;&#38754;&#30340;&#26381;&#21153;&#23450;&#20041;&#21487;&#30417;&#25511;Windows&#26426;&#22120;&#30340;CPU&#21033;&#29992;&#29575;&#65292;&#24182;&#22312;5&#20998;&#38047;CPU&#36127;&#33655;&#39640;&#20110;90%&#26102;&#32473;&#20986;&#19968;&#20010;&#32039;&#24613;&#35686;&#25253;&#25110;&#26159;&#39640;&#20110;80%&#26102;&#32473;&#20986;&#19968;&#20010;&#21578;&#35686;&#35686;&#25253;&#12290;</p><pre class="programlisting"><p>define service{
	use			generic-service
	host_name			winserver
	service_description	CPU Load
	check_command		check_nt!CPULOAD!-l 5,80,90
	}</p></pre><p>&#21152;&#20837;&#19979;&#38754;&#30340;&#26381;&#21153;&#23450;&#20041;&#21487;&#30417;&#25511;Windows&#26426;&#22120;&#30340;&#20869;&#23384;&#21344;&#29992;&#29575;&#65292;&#24182;&#22312;5&#20998;&#38047;&#20869;&#23384;&#21344;&#29992;&#29575;&#39640;&#20110;90%&#26102;&#32473;&#20986;&#19968;&#20010;&#32039;&#24613;&#35686;&#25253;&#25110;&#26159;&#39640;&#20110;80%&#26102;&#32473;&#20986;&#19968;&#20010;&#21578;&#35686;&#35686;&#25253;&#12290;</p><pre class="programlisting"><p>define service{
	use			generic-service
	host_name			winserver
	service_description	Memory Usage
	check_command		check_nt!MEMUSE!-w 80 -c 90
	}</p></pre><p>&#21152;&#20837;&#19979;&#38754;&#30340;&#26381;&#21153;&#23450;&#20041;&#21487;&#30417;&#25511;Windows&#26426;&#22120;&#30340;C:&#30424;&#30340;&#30913;&#30424;&#21033;&#29992;&#29575;&#65292;&#24182;&#22312;&#30913;&#30424;&#21033;&#29992;&#29575;&#39640;&#20110;90%&#26102;&#32473;&#20986;&#19968;&#20010;&#32039;&#24613;&#35686;&#25253;&#25110;&#26159;&#39640;&#20110;80%&#26102;&#32473;&#20986;&#19968;&#20010;&#21578;&#35686;&#35686;&#25253;&#12290;</p><pre class="programlisting"><p>define service{
	use			generic-service
	host_name			winserver
	service_description	C:\ Drive Space
	check_command		check_nt!USEDDISKSPACE!-l c -w 80 -c 90
	}</p></pre><p>&#21152;&#20837;&#19979;&#38754;&#30340;&#26381;&#21153;&#23450;&#20041;&#21487;&#30417;&#25511;Windows&#26426;&#22120;&#19978;&#30340;W3SVC&#26381;&#21153;&#29366;&#24577;&#65292;&#24182;&#22312;W3SVC&#26381;&#21153;&#20572;&#27490;&#26102;&#32473;&#20986;&#19968;&#20010;&#32039;&#24613;&#35686;&#25253;&#12290;</p><pre class="programlisting"><p>define service{
	use			generic-service
	host_name			winserver
	service_description	W3SVC
	check_command		check_nt!SERVICESTATE!-d SHOWALL -l W3SVC
	}</p></pre><p>&#21152;&#20837;&#19979;&#38754;&#30340;&#26381;&#21153;&#23450;&#20041;&#21487;&#30417;&#25511;Windows&#26426;&#22120;&#19978;&#30340;Explorer.exe&#36827;&#31243;&#65292;&#24182;&#22312;&#36827;&#31243;&#27809;&#26377;&#36816;&#34892;&#26102;&#32473;&#20986;&#19968;&#20010;&#32039;&#24613;&#35686;&#25253;&#12290;</p><pre class="programlisting"><p>define service{
	use			generic-service
	host_name			winserver
	service_description	Explorer
	check_command		check_nt!PROCSTATE!-d SHOWALL -l Explorer.exe
	}</p></pre><p>&#37117;&#22909;&#20102;&#65292;&#24050;&#32463;&#21152;&#22909;&#20102;&#22522;&#30784;&#26381;&#21153;&#23450;&#20041;&#65292;&#21487;&#20197;&#30417;&#25511;Windows&#26426;&#22120;&#20102;&#65292;&#20445;&#23384;&#19968;&#19979;&#37197;&#32622;&#25991;&#20214;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2063"></a>4.7.8.&nbsp;&#21475;&#20196;&#20445;&#25252;</h3></div></div></div><p>&#22914;&#26524;&#24819;&#25351;&#23450;&#20445;&#23384;&#22312;Windows&#26426;&#22120;&#19978;NSClient++&#37197;&#32622;&#25991;&#20214;&#37324;&#30340;&#21475;&#20196;&#65292;&#21487;&#20197;&#20462;&#25913;<span class="strong"><strong>check_nt</strong></span>&#21629;&#20196;&#23450;&#20041;&#65292;&#35753;&#23427;&#24102;&#30528;&#21475;&#20196;&#12290;&#32534;&#36753;&#26041;&#24335;&#25171;&#24320;<span class="strong"><strong>commands.cfg</strong></span>&#25991;&#20214;&#12290;</p><pre class="programlisting">vi /usr/local/nagios/etc/commands.cfg</pre><p>&#20462;&#25913;<span class="strong"><strong>check_nt</strong></span>&#21629;&#20196;&#30340;&#23450;&#20041;&#65292;&#24102;&#19978;"-s &lt;PASSWORD&gt;"&#21629;&#20196;&#21442;&#25968;(&#36825;&#37324;&#30340;PASSWORD &#35201;&#25442;&#25104;&#20320;Windows&#26426;&#22120;&#30340;&#30495;&#27491;&#21475;&#20196;)&#65292;&#35937;&#36825;&#26679;&#65306;</p><pre class="programlisting"><p>define command{
	command_name	check_nt
	command_line	$USER1$/check_nt -H $HOSTADDRESS$ -p 12489 -s PASSWORD -v $ARG1$ $ARG2$
	}</p></pre><p>&#20445;&#23384;&#25991;&#20214;&#36864;&#20986;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2086"></a>4.7.9.&nbsp;&#37325;&#21551;&#21160;Nagios</h3></div></div></div><p>&#22914;&#26524;&#20462;&#25913;&#22909;Nagios&#37197;&#32622;&#25991;&#20214;&#65292;&#38656;&#35201;<a class="link" href="#verifyconfig" title="7.1.&nbsp;&#39564;&#35777;&#37197;&#32622;&#25991;&#20214;&#30340;&#27491;&#30830;&#24615;">&#39564;&#35777;&#20320;&#30340;&#37197;&#32622;&#25991;&#20214;</a>&#24182;<a class="link" href="#startstop" title="7.2.&nbsp;&#21551;&#21160;&#19982;&#20572;&#27490;Nagios">&#37325;&#21551;&#21160;Nagios</a>&#12290;</p><p>&#22914;&#26524;&#39564;&#35777;&#37197;&#32622;&#25991;&#20214;&#36807;&#31243;&#20013;&#26377;&#20160;&#20040;&#38169;&#35823;&#20449;&#24687;&#65292;&#22312;&#20570;&#19979;&#19968;&#27493;&#21069;&#19968;&#23450;&#35201;&#20462;&#27491;&#22909;&#37197;&#32622;&#25991;&#20214;&#12290;&#19968;&#23450;&#35201;&#20445;&#35777;&#39564;&#35777;&#36807;&#31243;&#20013;&#19981;&#20877;&#26377;&#20986;&#38169;&#20449;&#24687;&#21518;&#20877;&#21551;&#21160;&#25110;&#37325;&#21551;&#21160;Nagios&#65281;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="monitoring-linux"></a>4.8.&nbsp;&#30417;&#25511;Linux/Unix&#20027;&#26426;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2102"></a>4.8.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>&#26412;&#25991;&#26723;&#25551;&#36848;&#20102;&#22914;&#26524;&#30417;&#25511;Linux/UNIX&#30340;"&#31169;&#26377;"&#26381;&#21153;&#21644;&#23646;&#24615;&#65292;&#22914;&#65306;</p><div class="orderedlist"><ol type="1"><li>CPU&#36127;&#33655;</li><li>&#20869;&#23384;&#21344;&#29992;&#29575;</li><li>&#30913;&#30424;&#21033;&#29992;&#29575;</li><li>&#30331;&#24405;&#29992;&#25143;</li><li>&#36816;&#34892;&#36827;&#31243;</li><li>&#31561;</li></ol></div><p>&#30001;Linux&#31995;&#32479;&#19978;&#30340;&#20844;&#20247;&#26381;&#21153;(HTTP&#12289;FTP&#12289;SSH&#12289;SMTP&#31561;)&#21487;&#20197;&#25353;&#29031;&#36825;&#31687;<a class="link" href="#monitoring-publicservices" title="4.12.&nbsp;&#30417;&#25511;&#20844;&#20247;&#26381;&#21153;&#24179;&#21488;">&#30417;&#25511;&#20844;&#20247;&#26381;&#21153;</a>&#25991;&#26723;&#12290;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><div><img src="../pub/images/note.gif"></div>&#22914;&#19979;&#20869;&#23481;&#26159;&#20551;&#23450;&#24050;&#32463;&#25353;&#29031;<a class="link" href="#quickstart" title="4.3.&nbsp;&#24555;&#36895;&#23433;&#35013;&#25351;&#21335;">&#24555;&#36895;&#23433;&#35013;&#25351;&#21335;</a>&#23433;&#35013;&#24182;&#35774;&#32622;&#22909;Nagios&#12290;&#22914;&#19979;&#20363;&#23376;&#21442;&#32771;&#20102;&#26679;&#20363;&#37197;&#32622;&#25991;&#20214;(<span class="strong"><strong>commands.cfg</strong></span>&#12289;<span class="strong"><strong>templates.cfg</strong></span>&#31561;)&#37324;&#30340;&#23545;&#35937;&#23450;&#20041;&#65292;&#26679;&#20363;&#37197;&#32622;&#25991;&#20214;&#24050;&#32463;&#22312;&#23433;&#35013;&#36807;&#31243;&#20013;&#23433;&#35013;&#23601;&#20301;&#12290;</div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2138"></a>4.8.2.&nbsp;&#27010;&#35272;</h3></div></div></div><p>[&#27880;&#24847;&#65306;&#26412;&#25991;&#26723;&#27809;&#26377;&#32467;&#26463;&#12290;&#25512;&#33616;&#38405;&#35835;&#25991;&#26723;<a class="link" href="#addons_NRPE" title="11.4.2.&nbsp;NRPE">NRPE&#22806;&#37096;&#26500;&#20214;</a>&#37324;&#22914;&#20309;&#30417;&#25511;&#36828;&#31243;Linux/Unix&#26381;&#21153;&#22120;&#20013;&#30340;&#25351;&#20196;] </p><p>&#26377;&#20960;&#31181;&#19981;&#21516;&#26041;&#24335;&#26469;&#30417;&#25511;&#36828;&#31243;Linux/UNIX&#26381;&#21153;&#22120;&#30340;&#26381;&#21153;&#19982;&#23646;&#24615;&#12290;&#19968;&#20010;&#26159;&#24212;&#29992;&#20849;&#20139;&#24335;SSH&#23494;&#38053;&#36816;&#34892;<span class="strong"><strong>check_by_ssh</strong></span>&#25554;&#20214;&#26469;&#25191;&#34892;&#23545;&#36828;&#31243;&#20027;&#26426;&#30340;&#26816;&#27979;&#12290;&#36825;&#31181;&#26041;&#27861;&#26412;&#25991;&#26723;&#19981;&#35752;&#35770;&#65292;&#20294;&#23427;&#20250;&#23548;&#33268;&#23433;&#35013;&#26377;Nagios&#30340;&#30417;&#25511;&#26381;&#21153;&#22120;&#24456;&#39640;&#30340;&#31995;&#32479;&#36127;&#33655;&#65292;&#23588;&#20854;&#26159;&#20320;&#35201;&#30417;&#25511;&#25104;&#30334;&#20010;&#20027;&#26426;&#20013;&#30340;&#19978;&#21315;&#20010;&#26381;&#21153;&#26102;&#65292;&#36825;&#26159;&#22240;&#20026;&#35201;&#24314;&#31435;/&#27585;&#26500;SSH&#32852;&#25509;&#30340;&#24635;&#24320;&#38144;&#24456;&#39640;&#12290;</p><p>&#21478;&#19968;&#31181;&#26041;&#27861;&#26159;&#20351;&#29992;<a class="link" href="#addons_NRPE" title="11.4.2.&nbsp;NRPE">NRPE&#22806;&#37096;&#26500;&#20214;</a>&#30417;&#25511;&#36828;&#31243;&#20027;&#26426;&#12290;NRPE&#22806;&#37096;&#26500;&#20214;&#21487;&#20197;&#22312;&#36828;&#31243;&#30340;Linux/Unix&#20027;&#26426;&#19978;&#25191;&#34892;&#25554;&#20214;&#31243;&#24207;&#12290;&#22914;&#26524;&#26159;&#35201;&#35937;&#30417;&#25511;&#26412;&#22320;&#20027;&#26426;&#19968;&#26679;&#23545;&#36828;&#31243;&#20027;&#26426;&#30340;&#30913;&#30424;&#21033;&#29992;&#29575;&#12289;CPU&#36127;&#33655;&#21644;&#20869;&#23384;&#21344;&#29992;&#29575;&#31561;&#24773;&#20917;&#19979;&#65292;NRPE&#22806;&#37096;&#26500;&#20214;&#38750;&#24120;&#26377;&#29992;&#12290;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="monitoring-routers"></a>4.9.&nbsp;&#30417;&#25511;&#36335;&#30001;&#22120;&#21644;&#20132;&#25442;&#26426;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2159"></a>4.9.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>&#26412;&#25991;&#26723;&#23558;&#20171;&#32461;&#22914;&#20309;&#26469;&#30417;&#25511;&#36335;&#30001;&#22120;&#21644;&#20132;&#25442;&#26426;&#30340;&#29366;&#24577;&#12290;&#19968;&#20123;&#20415;&#23452;&#30340;"&#26080;&#32593;&#31649;"&#21151;&#33021;&#30340;&#20132;&#25442;&#26426;&#19982;&#38598;&#32447;&#22120;&#19981;&#33021;&#37197;&#32622;IP&#22320;&#22336;&#32780;&#19988;&#23545;&#20110;&#32593;&#32476;&#26159;&#19981;&#21487;&#35265;&#30340;&#32452;&#25104;&#26500;&#20214;&#65292;&#22240;&#32780;&#27809;&#21150;&#27861;&#26469;&#30417;&#25511;&#36825;&#31181;&#19996;&#35199;&#12290;&#31245;&#36149;&#20123;&#30340;&#20132;&#25442;&#26426;&#21644;&#36335;&#30001;&#22120;&#21487;&#20197;&#37197;&#32622;IP&#22320;&#22336;&#21487;&#20197;&#29992;PING&#26816;&#27979;&#25110;&#26159;&#36890;&#36807;SNMP&#26469;&#26597;&#35810;&#29366;&#24577;&#20449;&#24687;&#12290;</p><p>&#19979;&#38754;&#23558;&#25551;&#36848;&#22914;&#26524;&#26469;&#30417;&#25511;&#36825;&#20123;&#26377;&#32593;&#31649;&#21151;&#33021;&#30340;&#20132;&#25442;&#26426;&#12289;&#38598;&#32447;&#22120;&#21644;&#36335;&#30001;&#22120;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#21253;&#20002;&#24323;&#29575;&#65292;&#24179;&#22343;&#22238;&#21253;&#21608;&#26399;RTA</li><li>SNMP&#29366;&#24577;&#20449;&#24687;</li><li>&#24102;&#23485;&#19982;&#27969;&#37327;</li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><div><img src="../pub/images/note.gif"></div>&#22914;&#19979;&#25351;&#20196;&#26159;&#20551;&#23450;&#20320;&#24050;&#32463;&#25353;<a class="link" href="#quickstart" title="4.3.&nbsp;&#24555;&#36895;&#23433;&#35013;&#25351;&#21335;">&#24555;&#36895;&#23433;&#35013;&#25351;&#21335;</a>&#23433;&#35013;&#22909;Nagios&#12290;&#21442;&#32771;&#30340;&#26679;&#20363;&#37197;&#32622;&#26159;&#22312;&#24050;&#32463;&#25353;&#25351;&#21335;&#23433;&#35013;&#23601;&#20301;&#30340;&#37197;&#32622;&#25991;&#20214;(<span class="strong"><strong>commands.cfg</strong></span>&#12289;<span class="strong"><strong>templates.cfg</strong></span>&#31561;)&#12290;</div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2186"></a>4.9.2.&nbsp;&#27010;&#35272;</h3></div></div></div><p>&#30417;&#25511;&#20132;&#25442;&#26426;&#19982;&#36335;&#30001;&#22120;&#21487;&#31616;&#21487;&#32321;&#65293;&#20027;&#35201;&#26159;&#30475;&#25317;&#26377;&#20160;&#20040;&#26679;&#35774;&#22791;&#19982;&#24819;&#30417;&#25511;&#20160;&#20040;&#20869;&#23481;&#12290;&#20570;&#20026;&#26497;&#20026;&#37325;&#35201;&#30340;&#32593;&#32476;&#32452;&#25104;&#26500;&#20214;&#65292;&#27627;&#26080;&#30097;&#38382;&#33267;&#23569;&#35201;&#30417;&#25511;&#19968;&#20123;&#22522;&#26412;&#29366;&#24577;&#12290;</p><p>&#20132;&#25442;&#26426;&#19982;&#36335;&#30001;&#22120;&#21487;&#20197;&#31616;&#21333;&#22320;&#29992;PING&#26469;&#30417;&#25511;&#20002;&#21253;&#29575;&#12289;RTA&#31561;&#25968;&#25454;&#12290;&#22914;&#26524;&#20132;&#25442;&#26426;&#25903;&#25345;SNMP&#65292;&#23601;&#21487;&#20197;&#30417;&#25511;&#31471;&#21475;&#29366;&#24577;&#31561;&#65292;&#29992;<span class="strong"><strong>check_snmp</strong></span>&#25554;&#20214;&#65292;&#20063;&#21487;&#20197;&#30417;&#25511;&#24102;&#23485;(&#22914;&#26524;&#29992;&#20102;MRTG)&#65292;&#29992;<span class="strong"><strong>check_mrtgtraf</strong></span>&#25554;&#20214;&#12290;</p><p><span class="strong"><strong>check_snmp</strong></span>&#25554;&#20214;&#21482;&#26377;&#24403;&#31995;&#32479;&#37324;&#23433;&#35013;&#20102;net-snmp&#21644;net-snmp-utils&#21253;&#21518;&#25165;&#32534;&#35793;&#12290;&#20808;&#30830;&#23450;&#25554;&#20214;&#24050;&#32463;&#22312;<span class="strong"><strong>/usr/local/nagios/libexec</strong></span>&#30446;&#24405;&#37324;&#20877;&#32487;&#32493;&#20570;&#65292;&#22914;&#26524;&#27809;&#26377;&#36825;&#20010;&#25991;&#20214;&#65292;&#23433;&#35013;net-snmp&#21644;net-snmp-utils&#21253;&#24182;&#19988;&#37325;&#32534;&#35793;&#24182;&#37325;&#26032;&#23433;&#35013;Nagios&#25554;&#20214;&#21253;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2206"></a>4.9.3.&nbsp;&#27493;&#39588;</h3></div></div></div><p>&#35201;&#30417;&#25511;&#20132;&#25442;&#26426;&#19982;&#36335;&#30001;&#22120;&#35201;&#26377;&#20960;&#27493;&#24037;&#20316;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#31532;&#19968;&#26102;&#38388;&#25191;&#34892;&#20123;&#24517;&#22791;&#24037;&#20316;&#65307;</li><li>&#32473;&#35774;&#22791;&#21019;&#24314;&#35201;&#30417;&#25511;&#30340;&#20027;&#26426;&#19982;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#65307;</li><li>&#37325;&#21551;&#21160;Nagios&#23432;&#25252;&#36827;&#31243;&#12290;</li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2218"></a>4.9.4.&nbsp;&#24050;&#32463;&#20570;&#20102;&#20160;&#20040;&#65311;</h3></div></div></div><p>&#20026;&#20102;&#35753;&#24037;&#20316;&#36731;&#26494;&#28857;&#65292;&#20960;&#20010;&#37197;&#32622;&#20219;&#21153;&#24050;&#32463;&#20570;&#22909;&#20102;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#20004;&#20010;&#21629;&#20196;&#23450;&#20041;(<span class="strong"><strong>check_snmp</strong></span>&#21644;<span class="strong"><strong>check_local_mrtgtraf</strong></span>)&#24050;&#32463;&#21152;&#21040;&#20102;<span class="strong"><strong>commands.cfg</strong></span>&#25991;&#20214;&#20013;&#12290;&#21487;&#20197;&#29992;<span class="strong"><strong>check_snmp</strong></span>&#21644;<span class="strong"><strong>check_mrtgtraf</strong></span>&#25554;&#20214;&#26469;&#30417;&#25511;&#32593;&#32476;&#25171;&#21360;&#26426;&#12290;</li><li>&#19968;&#20010;&#20132;&#25442;&#26426;&#27169;&#26495;(&#21629;&#21517;&#20026;<span class="strong"><strong>generic-switch</strong></span>)&#24050;&#32463;&#21019;&#24314;&#22312;<span class="strong"><strong>templates.cfg</strong></span>&#25991;&#20214;&#37324;&#12290;&#21487;&#20197;&#22312;&#23545;&#35937;&#23450;&#20041;&#37324;&#26356;&#23481;&#26131;&#22320;&#21152;&#19968;&#20010;&#26032;&#30340;&#20132;&#25442;&#26426;&#19982;&#36335;&#30001;&#22120;&#35774;&#22791;&#12290;</li></ol></div><p>&#20197;&#19978;&#30340;&#30417;&#25511;&#37197;&#32622;&#25991;&#20214;&#21487;&#20197;&#22312;<span class="strong"><strong>/usr/local/nagios/etc/objects/</strong></span>&#30446;&#24405;&#37324;&#25214;&#21040;&#12290;&#22914;&#26524;&#24895;&#24847;&#21487;&#20197;&#20462;&#25913;&#36825;&#20123;&#23450;&#20041;&#25110;&#26159;&#21152;&#20837;&#20854;&#20182;&#36866;&#21512;&#38656;&#35201;&#30340;&#26356;&#22909;&#30340;&#23450;&#20041;&#12290;&#20294;&#25512;&#33616;&#20320;&#26368;&#22909;&#26159;&#31561;&#21040;&#20320;&#29087;&#32451;&#22320;&#25484;&#25569;&#20102;Nagios&#37197;&#32622;&#20043;&#21518;&#20877;&#36825;&#20040;&#20570;&#12290;&#24320;&#22987;&#30340;&#26102;&#20505;&#65292;&#21482;&#35201;&#25353;&#19978;&#36848;&#30340;&#37197;&#32622;&#26469;&#30417;&#25511;&#32593;&#32476;&#37324;&#30340;&#36335;&#30001;&#22120;&#21644;&#20132;&#25442;&#26426;&#23601;&#21487;&#20197;&#20102;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2254"></a>4.9.5.&nbsp;&#24517;&#22791;&#24037;&#20316;</h3></div></div></div><p>&#35201;&#37197;&#32622;Nagios&#29992;&#20110;&#30417;&#25511;&#32593;&#32476;&#37324;&#30340;&#20132;&#25442;&#26426;&#20043;&#21069;&#65292;&#26377;&#24517;&#35201;&#20570;&#28857;&#39069;&#22806;&#24037;&#20316;&#12290;&#35760;&#20303;&#65292;&#36825;&#26159;<span class="emphasis"><em>&#39318;&#20808;</em></span>&#35201;&#20570;&#30340;&#24037;&#20316;&#25165;&#33021;&#30417;&#25511;&#12290;</p><p>&#32534;&#36753;Nagios&#30340;&#20027;&#37197;&#32622;&#25991;&#20214;</p><pre class="programlisting">vi /usr/local/nagios/etc/nagios.cfg</pre><p>&#31227;&#38500;&#25991;&#20214;&#37324;&#19979;&#38754;&#36825;&#34892;&#30340;&#26368;&#21069;&#38754;&#30340;(#)&#31526;&#21495;</p><pre class="programlisting">#cfg_file=/usr/local/nagios/etc/objects/switch.cfg</pre><p>&#20445;&#23384;&#25991;&#20214;&#24182;&#36864;&#20986;&#12290;</p><p>&#20026;&#20309;&#35201;&#36825;&#20040;&#20570;&#65311;&#36825;&#26159;&#35201;&#35753;Nagios&#26816;&#26597;<span class="strong"><strong>/usr/local/nagios/etc/objects/switch.cfg</strong></span>&#37197;&#32622;&#25991;&#20214;&#26469;&#25214;&#20123;&#39069;&#22806;&#30340;&#23545;&#35937;&#23450;&#20041;&#12290;&#22312;&#25991;&#20214;&#37324;&#21487;&#20197;&#22686;&#21152;&#26377;&#20851;&#36335;&#30001;&#22120;&#21644;&#20132;&#25442;&#26426;&#35774;&#22791;&#30340;&#20027;&#26426;&#19982;&#26381;&#21153;&#23450;&#20041;&#12290;&#37197;&#32622;&#25991;&#20214;&#24050;&#32463;&#21253;&#21547;&#20102;&#20960;&#20010;&#26679;&#26412;&#20027;&#26426;&#12289;&#20027;&#26426;&#32452;&#21644;&#26381;&#21153;&#23450;&#20041;&#12290;&#20570;&#20026;&#30417;&#25511;&#36335;&#30001;&#22120;&#19982;&#20132;&#25442;&#26426;&#30340;<span class="emphasis"><em>&#31532;&#19968;&#27493;</em></span>&#24037;&#20316;&#26159;&#26368;&#22909;&#22312;&#26679;&#20363;&#30340;&#20027;&#26426;&#19982;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#20043;&#19978;&#20462;&#25913;&#32780;&#19981;&#26159;&#37325;&#24314;&#19968;&#20010;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2280"></a>4.9.6.&nbsp;&#37197;&#32622;Nagios</h3></div></div></div><p>&#38656;&#35201;&#20570;&#20123;<a class="link" href="#objectdefinitions" title="6.1.&nbsp;&#23545;&#35937;&#23450;&#20041;">&#23545;&#35937;&#23450;&#20041;</a>&#20197;&#30417;&#25511;&#26032;&#30340;&#20132;&#25442;&#26426;&#19982;&#36335;&#30001;&#22120;&#35774;&#22791;&#12290;</p><p>&#25171;&#24320;<span class="strong"><strong>switch.cfg</strong></span>&#25991;&#20214;&#36827;&#34892;&#32534;&#36753;&#12290;</p><pre class="programlisting">vi /usr/local/nagios/etc/objects/switch.cfg</pre><p>&#32473;&#35201;&#30417;&#25511;&#30340;&#20132;&#25442;&#26426;&#21152;&#19968;&#20010;&#26032;&#30340;<a class="link" href="#objectdefinitions_host">&#20027;&#26426;</a>&#23545;&#35937;&#23450;&#20041;&#12290;&#22914;&#26524;&#36825;&#26159;<span class="emphasis"><em>&#31532;&#19968;&#21488;</em></span>&#35201;&#30417;&#25511;&#30340;&#20132;&#25442;&#26426;&#35774;&#22791;&#65292;&#21487;&#20197;&#31616;&#21333;&#22320;&#20462;&#25913;<span class="strong"><strong>switch.cfg</strong></span>&#37324;&#30340;&#26679;&#20363;&#37197;&#32622;&#12290;&#20462;&#25913;&#20027;&#26426;&#23545;&#35937;&#37324;&#30340;<span class="strong"><strong>host_name</strong></span>&#12289;<span class="strong"><strong>alias</strong></span>&#21644;<span class="strong"><strong>address</strong></span>&#22495;&#20540;&#26469;&#36866;&#29992;&#20110;&#30417;&#25511;&#12290;</p><pre class="programlisting"><p>define host{
	use		generic-switch		; Inherit default values from a template
	host_name	linksys-srw224p		; The name we're giving to this switch
	alias		Linksys SRW224P Switch	; A longer name associated with the switch
	address		192.168.1.253		; IP address of the switch
	hostgroups	allhosts,switches	; Host groups this switch is associated with
}</p></pre></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2318"></a>4.9.7.&nbsp;&#30417;&#25511;&#26381;&#21153;</h3></div></div></div><p>&#29616;&#22312;&#21487;&#20197;&#21152;&#20123;&#38024;&#23545;&#30417;&#25511;&#20132;&#25442;&#26426;&#30340;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;(&#22312;&#21516;&#19968;&#20010;&#37197;&#32622;&#25991;&#20214;)&#12290;&#22914;&#26524;&#26159;<span class="emphasis"><em>&#31532;&#19968;&#21488;</em></span>&#35201;&#30417;&#25511;&#30340;&#20132;&#25442;&#26426;&#35774;&#22791;&#65292;&#21487;&#20197;&#31616;&#21333;&#22320;&#20462;&#25913;<span class="strong"><strong>switch.cfg</strong></span>&#37324;&#30340;&#26679;&#20363;&#37197;&#32622;&#12290;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><div><img src="../pub/images/note.gif"></div>&#26367;&#25442;&#26679;&#20363;&#23450;&#20041;&#37324;&#30340;"<span class="strong"><strong>linksys-srw224p</strong></span>"&#20027;&#26426;&#21517;&#20026;&#20320;&#21018;&#25165;&#23450;&#20041;&#30340;&#21517;&#23383;&#65292;&#26159;&#20462;&#25913;&#22312;<span class="strong"><strong>host_name</strong></span>&#22495;&#12290;</div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2339"></a>4.9.8.&nbsp;&#30417;&#25511;&#20002;&#21253;&#29575;&#21644;RTA</h3></div></div></div><p>&#22686;&#21152;&#22914;&#19979;&#30340;&#26381;&#21153;&#23450;&#20041;&#20197;&#30417;&#25511;&#33258;Nagios&#30417;&#25511;&#20027;&#26426;&#21040;&#20132;&#25442;&#26426;&#30340;&#20002;&#21253;&#29575;&#21644;&#24179;&#22343;&#22238;&#21253;&#21608;&#26399;RTA&#65292;&#22312;&#19968;&#33324;&#24773;&#20917;&#19979;&#27599;5&#20998;&#38047;&#26816;&#27979;&#19968;&#27425;&#12290;</p><pre class="programlisting"><p>define service{
	use			generic-service	; Inherit values from a template
	host_name		linksys-srw224p	; The name of the host the service is associated with
	service_description	PING		; The service description
	check_command		check_ping!200.0,20%!600.0,60%	; The command used to monitor the service
	normal_check_interval	5	; Check the service every 5 minutes under normal conditions
	retry_check_interval	1	; Re-check the service every minute until its final/hard state is determined
}</p></pre><p>&#36825;&#20010;&#26381;&#21153;&#30340;&#29366;&#24577;&#23558;&#20250;&#22788;&#20110;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#32039;&#24613;(CRITICAL)&#65293;&#26465;&#20214;&#26159;RTA&#22823;&#20110;600ms&#25110;&#20002;&#21253;&#29575;&#22823;&#20110;&#31561;&#20110;60%&#65307;</li><li>&#21578;&#35686;(WARNING)&#65293;&#26465;&#20214;&#26159;RTA&#22823;&#20110;200ms&#25110;&#26159;&#20002;&#21253;&#29575;&#22823;&#20110;&#31561;&#20110;20%&#65307;</li><li>&#27491;&#24120;(OK)&#65293;&#26465;&#20214;&#26159;RTA&#23567;&#20110;200ms&#25110;&#20002;&#21253;&#29575;&#23567;&#20110;20%</li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2356"></a>4.9.9.&nbsp;&#30417;&#25511;SNMP&#29366;&#24577;&#20449;&#24687;</h3></div></div></div><p>&#22914;&#26524;&#20132;&#25442;&#26426;&#19982;&#36335;&#30001;&#22120;&#25903;&#25345;SNMP&#25509;&#21475;&#65292;&#21487;&#20197;&#29992;<span class="strong"><strong>check_snmp</strong></span>&#25554;&#20214;&#26469;&#30417;&#25511;&#26356;&#20016;&#23500;&#30340;&#20449;&#24687;&#12290;&#22914;&#26524;&#19981;&#25903;&#25345;SNMP&#65292;&#36339;&#36807;&#27492;&#33410;&#12290;</p><p>&#21152;&#20837;&#22914;&#19979;&#26381;&#21153;&#23450;&#20041;&#21040;&#20320;&#21018;&#25165;&#20462;&#25913;&#30340;&#20132;&#25442;&#26426;&#23545;&#35937;&#23450;&#20041;&#20043;&#20013;</p><pre class="programlisting"><p>define service{
	use			generic-service	; Inherit values from a template
	host_name		linksys-srw224p
	service_description	Uptime	
	check_command		check_snmp!-C public -o sysUpTime.0
}</p></pre><p>&#22312;&#19978;&#36848;&#26381;&#21153;&#23450;&#20041;&#20013;&#30340;<span class="strong"><strong>check_command</strong></span>&#22495;&#37324;&#65292;&#29992;"-C public"&#26469;&#25351;&#23450;SNMP&#20849;&#21516;&#20307;&#21517;&#31216;&#20026;"public"&#65292;&#29992;"-o sysUpTime.0"&#25351;&#26126;&#35201;&#26816;&#27979;&#30340;OID(&#35793;&#32773;&#27880;&#65293;MIB&#33410;&#28857;&#20540;)&#12290;</p><p>&#22914;&#26524;&#35201;&#30830;&#20445;&#20132;&#25442;&#26426;&#19978;&#26576;&#20010;&#25351;&#23450;&#31471;&#21475;&#25110;&#25509;&#21475;&#30340;&#29366;&#24577;&#22788;&#20110;&#36816;&#34892;&#29366;&#24577;&#65292;&#21487;&#20197;&#22312;&#23545;&#35937;&#23450;&#20041;&#37324;&#21152;&#20837;&#19968;&#27573;&#23450;&#20041;&#65306;</p><pre class="programlisting"><p>define service{
	use			generic-service	; Inherit values from a template
	host_name		linksys-srw224p
	service_description	Port 1 Link Status
	check_command		check_snmp!-C public -o ifOperStatus.1 -r 1 -m RFC1213-MIB
}</p></pre><p>&#22312;&#19978;&#20363;&#20013;&#65292;"-o ifOperStatus.1"&#25351;&#20986;&#21462;&#20986;&#20132;&#25442;&#26426;&#30340;&#31471;&#21475;&#32534;&#21495;&#20026;1&#30340;OID&#29366;&#24577;&#12290;"-r 1"&#36873;&#39033;&#26159;&#35753;<span class="strong"><strong>check_snmp</strong></span>&#25554;&#20214;&#26816;&#26597;&#36820;&#22238;&#19968;&#20010;&#27491;&#24120;(OK)&#29366;&#24577;&#65292;&#22914;&#26524;&#26159;&#22312;SNMP&#26597;&#35810;&#32467;&#26524;&#20013;&#23384;&#22312;"1"(1&#35828;&#26126;&#20132;&#25442;&#26426;&#31471;&#21475;&#22788;&#20110;&#36816;&#34892;&#29366;&#24577;)&#22914;&#26524;&#27809;&#25214;&#21040;1&#23601;&#26159;&#32039;&#24613;(CRITICAL)&#29366;&#24577;&#12290;"-m RFC1213-MIB"&#26159;&#21487;&#36873;&#30340;&#65292;&#23427;&#21578;&#35785;<span class="strong"><strong>check_snmp</strong></span>&#25554;&#20214;&#21482;&#21152;&#36733;"RFC1213-MIB"&#24211;&#32780;&#19981;&#26159;&#21152;&#36733;&#27599;&#20010;&#22312;&#31995;&#32479;&#37324;&#30340;MIB&#24211;&#65292;&#36825;&#21487;&#20197;&#21152;&#24555;&#25554;&#20214;&#36816;&#34892;&#36895;&#24230;&#12290;</p><p>&#36825;&#23601;&#26159;&#32473;SNMP&#24211;&#30340;&#20363;&#23376;&#12290;&#26377;&#25104;&#30334;&#19978;&#21315;&#31181;&#20449;&#24687;&#21487;&#20197;&#36890;&#36807;SNMP&#26469;&#30417;&#25511;&#65292;&#36825;&#23436;&#20840;&#21462;&#20915;&#20110;&#20320;&#38656;&#35201;&#20570;&#20160;&#20040;&#21644;&#22914;&#26524;&#26469;&#20570;&#30417;&#25511;&#12290;&#31069;&#20320;&#22909;&#36816;&#65281;</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#25552;&#31034;</h3><div><img src="../pub/images/tip.gif"></div>&#36890;&#24120;&#21487;&#20197;&#29992;&#22914;&#19979;&#21629;&#20196;&#26469;&#23547;&#25214;&#20320;&#24819;&#29992;&#20110;&#30417;&#25511;&#30340;OID&#33410;&#28857;(&#29992;&#20320;&#30340;&#20132;&#25442;&#26426;IP&#26367;&#25442;<span class="strong"><strong>192.168.1.253</strong></span>)&#65306;<span class="strong"><strong>snmpwalk -v1 -c public 192.168.1.253 -m ALL .1</strong></span></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2398"></a>4.9.10.&nbsp;&#30417;&#25511;&#24102;&#23485;&#21644;&#27969;&#37327;</h3></div></div></div><p>&#21487;&#20197;&#30417;&#25511;&#20132;&#25442;&#26426;&#25110;&#36335;&#30001;&#22120;&#30340;&#24102;&#23485;&#21033;&#29992;&#29575;&#65292;&#29992;<a class="ulink" href="http://oss.oetiker.ch/mrtg/" target="_top">MRTG</a>&#32472;&#22270;&#24182;&#35753;Nagios&#22312;&#27969;&#37327;&#36229;&#20986;&#25351;&#23450;&#38376;&#38480;&#26102;&#25253;&#35686;&#12290;<span class="strong"><strong>check_mrtgtraf</strong></span>&#25554;&#20214;(&#23427;&#24050;&#32463;&#21253;&#21547;&#22312;Nagios&#25554;&#20214;&#36719;&#20214;&#21457;&#34892;&#21253;&#20013;)&#21487;&#20197;&#23454;&#29616;&#12290;</p><p>&#38656;&#35201;&#35753;<span class="strong"><strong>check_mrtgtraf</strong></span>&#25554;&#20214;&#30693;&#36947;&#22914;&#20309;&#26469;&#20445;&#23384;MRTG&#25968;&#25454;&#24182;&#23384;&#20837;&#25991;&#20214;&#65292;&#20197;&#21450;&#38376;&#38480;&#31561;&#12290;&#22312;&#20363;&#23376;&#20013;&#65292;&#30417;&#25511;&#20102;&#19968;&#20010;Linksys&#20132;&#25442;&#26426;&#12290;MRTG&#26085;&#24535;&#20445;&#23384;&#20110;<span class="strong"><strong>/var/lib/mrtg/192.168.1.253_1.log</strong></span>&#25991;&#20214;&#20013;&#12290;&#36825;&#23601;&#26159;&#25105;&#29992;&#20110;&#30417;&#25511;&#30340;&#26381;&#21153;&#23450;&#20041;&#65292;&#23427;&#21487;&#20197;&#29992;&#20110;&#30417;&#25511;&#24102;&#23485;&#25968;&#25454;&#21040;&#26085;&#24535;&#25991;&#20214;&#20043;&#20013;...</p><pre class="programlisting"><p>define service{
	use			generic-service	; Inherit values from a template
	host_name		linksys-srw224p
	service_description	Port 1 Bandwidth Usage
	check_command		check_local_mrtgtraf!/var/lib/mrtg/192.168.1.253_1.log!AVG!1000000,2000000!5000000,5000000!10
}</p></pre><p>&#22312;&#19978;&#20363;&#20013;&#65292;"/var/lib/mrtg/192.168.1.253_1.log"&#21442;&#25968;&#20256;&#32473;<span class="strong"><strong>check_local_mrtgtraf</strong></span>&#21629;&#20196;&#24847;&#24605;&#26159;&#25554;&#20214;&#30340;MRTG&#26085;&#24535;&#25991;&#20214;&#22312;&#36825;&#20010;&#25991;&#20214;&#37324;&#35835;&#20889;&#65292;"AVG"&#21442;&#25968;&#30340;&#24847;&#24605;&#26159;&#21462;&#24102;&#23485;&#30340;&#32479;&#35745;&#24179;&#22343;&#20540;&#65292;"1000000,200000"&#21442;&#25968;&#26159;&#25351;&#27969;&#20837;&#30340;&#21578;&#35686;&#38376;&#38480;(&#20197;&#23383;&#33410;&#20026;&#21333;&#20301;)&#65292;"5000000,5000000"&#26159;&#36755;&#20986;&#27969;&#37327;&#32039;&#24613;&#29366;&#24577;&#38376;&#38480;(&#20197;&#23383;&#33410;&#20026;&#21333;&#20301;)&#65292;"10"&#26159;&#25351;&#22914;&#26524;MRTG&#26085;&#24535;&#22914;&#26524;&#36229;&#36807;10&#20998;&#38047;&#27809;&#26377;&#25968;&#25454;&#36820;&#22238;&#19968;&#20010;&#32039;&#24613;&#29366;&#24577;(&#24212;&#35813;&#27599;5&#20998;&#38047;&#26356;&#26032;&#19968;&#27425;)&#12290;</p><p>&#20445;&#23384;&#35813;&#37197;&#32622;&#25991;&#20214;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2427"></a>4.9.11.&nbsp;&#37325;&#21551;&#21160;Nagios</h3></div></div></div><p>&#19968;&#26086;&#32473;<span class="strong"><strong>switch.cfg</strong></span>&#25991;&#20214;&#37324;&#21152;&#22909;&#26032;&#30340;&#20027;&#26426;&#19982;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#65292;&#23601;&#21487;&#20197;&#24320;&#22987;&#23545;&#36335;&#30001;&#22120;&#19982;&#20132;&#25442;&#26426;&#36827;&#34892;&#30417;&#25511;&#12290;&#20026;&#20102;&#24320;&#22987;&#30417;&#25511;&#65292;&#38656;&#35201;&#20808;<a class="link" href="#verifyconfig" title="7.1.&nbsp;&#39564;&#35777;&#37197;&#32622;&#25991;&#20214;&#30340;&#27491;&#30830;&#24615;">&#39564;&#35777;&#37197;&#32622;&#25991;&#20214;</a>&#20877;<a class="link" href="#startstop" title="7.2.&nbsp;&#21551;&#21160;&#19982;&#20572;&#27490;Nagios">&#37325;&#26032;&#21551;&#21160;Nagios</a>&#12290;</p><p>&#22914;&#26524;&#39564;&#35777;&#36807;&#31243;&#26377;&#26377;&#20219;&#20309;&#38169;&#35823;&#20449;&#24687;&#65292;&#20462;&#25913;&#37197;&#32622;&#25991;&#20214;&#20877;&#32487;&#32493;&#12290;&#19968;&#23450;&#35201;&#20445;&#35777;&#37197;&#32622;&#39564;&#35777;&#36807;&#31243;&#20013;&#27809;&#26377;&#38169;&#35823;&#20449;&#24687;&#20877;&#21551;&#21160;Nagios&#65281;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="monitoring-printers"></a>4.10.&nbsp;&#30417;&#25511;&#32593;&#32476;&#25171;&#21360;&#26426;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2446"></a>4.10.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>&#26412;&#25991;&#20214;&#25551;&#36848;&#20102;&#22914;&#20309;&#30417;&#25511;&#32593;&#32476;&#25171;&#21360;&#26426;&#12290;&#29305;&#21035;&#26159;&#26377;&#20869;&#32622;&#25110;&#22806;&#32622;JetDirect&#21345;&#30340;HP&#24800;&#26222;&#25171;&#21360;&#26426;&#35774;&#22791;&#65292;&#25110;&#26159;&#20854;&#20182;(&#35937;Troy PocketPro 100S&#25110;Netgear PS101)&#25903;&#25345;JetDirect&#21327;&#35758;&#30340;&#25171;&#21360;&#26426;&#12290;</p><p><span class="strong"><strong>check_hpjd</strong></span>&#25554;&#20214;(&#35813;&#21629;&#20196;&#26159;Nagios&#25554;&#20214;&#36719;&#20214;&#21457;&#34892;&#21253;&#30340;&#26631;&#20934;&#32452;&#25104;&#37096;&#20998;)&#21487;&#20197;&#29992;SNMP&#20351;&#33021;&#30340;&#26041;&#24335;&#26469;&#30417;&#25511;JetDirect&#20860;&#23481;&#22411;&#25171;&#21360;&#26426;&#12290;&#35813;&#25554;&#20214;&#21487;&#20197;&#26816;&#26597;&#22914;&#19979;&#25171;&#21360;&#26426;&#29366;&#24577;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#21345;&#32440;</li><li>&#26080;&#32440;</li><li>&#25171;&#21360;&#26426;&#31163;&#32447;</li><li>&#38656;&#35201;&#20154;&#24037;&#24178;&#39044;</li><li>&#22696;&#30418;&#22696;&#31881;&#20302;</li><li>&#20869;&#23384;&#19981;&#36275;</li><li>&#24320;&#22806;&#22771;</li><li>&#36755;&#20986;&#25176;&#30424;&#24050;&#28385;</li><li>&#21644;&#20854;&#20182;...</li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><div><img src="../pub/images/note.gif"></div>&#22914;&#19979;&#25351;&#20196;&#20551;&#23450;&#20320;&#24050;&#32463;&#25353;&#29031;<a class="link" href="#quickstart" title="4.3.&nbsp;&#24555;&#36895;&#23433;&#35013;&#25351;&#21335;">&#24555;&#36895;&#23433;&#35013;&#25351;&#21335;</a>&#23433;&#35013;&#22909;Nagios&#12290;&#21487;&#20197;&#21442;&#32771;&#23433;&#35013;&#22909;&#30340;&#26679;&#26412;&#37197;&#32622;&#25991;&#20214;(<span class="strong"><strong>commands.cfg</strong></span>&#12289;<span class="strong"><strong>templates.cfg</strong></span>&#31561;)&#12290;</div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2487"></a>4.10.2.&nbsp;&#27010;&#35272;</h3></div></div></div><p>&#30417;&#25511;&#32593;&#32476;&#25171;&#21360;&#26426;&#30340;&#29366;&#24577;&#24456;&#31616;&#21333;&#12290;&#26377;JetDirect&#21151;&#33021;&#30340;&#25171;&#21360;&#26426;&#19968;&#33324;&#25552;&#20379;SNMP&#21151;&#33021;&#65292;&#21487;&#20197;&#29992;<span class="strong"><strong>check_hpjd</strong></span>&#25554;&#20214;&#26469;&#26816;&#27979;&#29366;&#24577;&#12290;</p><p><span class="strong"><strong>check_hpjd</strong></span>&#25554;&#20214;&#21482;&#26159;&#24403;&#24403;&#21069;&#31995;&#32479;&#20013;&#23433;&#35013;&#26377;net-snmp&#21644;net-snmp-utils&#36719;&#20214;&#21253;&#26102;&#25165;&#20250;&#34987;&#32534;&#35793;&#21644;&#23433;&#35013;&#12290;&#35201;&#20445;&#35777;&#22312;<span class="strong"><strong>/usr/local/nagios/libexec</strong></span>&#30446;&#24405;&#19979;&#26377;check_hpjd&#25991;&#20214;&#20877;&#32487;&#25215;&#65292;&#21542;&#21017;&#65292;&#35201;&#23433;&#35013;&#22909;net-snmp&#21644;net-snmp-utils&#36719;&#20214;&#21253;&#20877;&#37325;&#26032;&#32534;&#35793;&#23433;&#35013;Nagios&#25554;&#20214;&#21253;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2502"></a>4.10.3.&nbsp;&#27493;&#39588;</h3></div></div></div><p>&#30417;&#25511;&#25171;&#21360;&#26426;&#38656;&#35201;&#20570;&#22914;&#19979;&#20960;&#27493;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#20570;&#20123;&#20107;&#20808;&#20934;&#22791;&#24037;&#20316;&#65307;</li><li>&#21019;&#24314;&#19968;&#20010;&#29992;&#20110;&#30417;&#25511;&#25171;&#21360;&#26426;&#30340;&#20027;&#26426;&#19982;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#65307;</li><li>&#37325;&#21551;&#21160;Nagios&#23432;&#25252;&#36827;&#31243;&#12290;</li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2514"></a>4.10.4.&nbsp;&#24050;&#32463;&#20570;&#20102;&#20160;&#20040;&#65311;</h3></div></div></div><p>&#20026;&#20351;&#36825;&#39033;&#24037;&#20316;&#26356;&#36731;&#26494;&#65292;&#20960;&#20010;&#37197;&#32622;&#24037;&#20316;&#24050;&#32463;&#20570;&#22909;&#65306;</p><div class="orderedlist"><ol type="1"><li><span class="strong"><strong>check_hpjd</strong></span>&#30340;&#21629;&#20196;&#23450;&#20041;&#24050;&#32463;&#21152;&#21040;&#20102;<span class="strong"><strong>commands.cfg</strong></span>&#37197;&#32622;&#25991;&#20214;&#20013;&#65292;&#21487;&#20197;&#29992;<span class="strong"><strong>check_hpjd</strong></span>&#25554;&#20214;&#26469;&#30417;&#25511;&#32593;&#32476;&#25171;&#21360;&#26426;&#65307;</li><li>&#19968;&#20010;&#32593;&#32476;&#25171;&#21360;&#26426;&#27169;&#26495;(&#21629;&#21517;&#20026;<span class="strong"><strong>generic-printer</strong></span>)&#24050;&#32463;&#22312;<span class="strong"><strong>templates.cfg</strong></span>&#37197;&#32622;&#25991;&#20214;&#37324;&#21019;&#24314;&#22909;&#65292;&#21487;&#20197;&#26356;&#26041;&#20415;&#22320;&#21152;&#20837;&#19968;&#20010;&#26032;&#25171;&#21360;&#26426;&#35774;&#22791;&#30340;&#20027;&#26426;&#23545;&#35937;&#12290;</li></ol></div><p>&#19978;&#38754;&#30340;&#30417;&#25511;&#37197;&#32622;&#25991;&#20214;&#21487;&#20197;&#22312;<span class="strong"><strong>/usr/local/nagios/etc/objects/</strong></span>&#30446;&#24405;&#37324;&#25214;&#21040;&#12290;&#22914;&#26524;&#24819;&#20570;&#65292;&#21487;&#20197;&#20462;&#25913;&#37324;&#38754;&#30340;&#23450;&#20041;&#20197;&#26356;&#22909;&#22320;&#36866;&#29992;&#20110;&#20320;&#30340;&#24773;&#20917;&#12290;&#20294;&#26159;&#22312;&#27492;&#20043;&#21069;&#65292;&#25512;&#33616;&#20320;&#35201;&#29087;&#24713;Nagios&#30340;&#37197;&#32622;&#20043;&#21518;&#20877;&#20570;&#12290;&#36215;&#21021;&#65292;&#26368;&#22909;&#21482;&#26159;&#25353;&#19979;&#38754;&#30340;&#22823;&#27010;&#20462;&#25913;&#19968;&#19979;&#20197;&#23454;&#29616;&#23545;&#32593;&#32476;&#25171;&#21360;&#26426;&#30340;&#30417;&#25511;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2543"></a>4.10.5.&nbsp;&#20107;&#20808;&#20934;&#22791;&#24037;&#20316;</h3></div></div></div><p>&#22312;&#37197;&#32622;Nagios&#29992;&#20110;&#30417;&#25511;&#32593;&#32476;&#25171;&#21360;&#26426;&#20043;&#21069;&#65292;&#26377;&#20123;&#39069;&#22806;&#24037;&#20316;&#65292;&#35760;&#20303;&#36825;&#26159;&#35201;&#23545;<span class="emphasis"><em>&#31532;&#19968;&#21488;</em></span>&#25171;&#21360;&#26426;&#35774;&#22791;&#36827;&#34892;&#30417;&#25511;&#12290;</p><p>&#32534;&#36753;Nagios&#30340;&#20027;&#37197;&#32622;&#25991;&#20214;&#12290;</p><pre class="programlisting">vi /usr/local/nagios/etc/nagios.cfg</pre><p>&#31227;&#38500;&#19979;&#38754;&#36825;&#34892;&#26368;&#21069;&#38754;&#30340;(#)&#21495;&#65306;</p><pre class="programlisting">#cfg_file=/usr/local/nagios/etc/objects/printer.cfg</pre><p>&#20445;&#23384;&#25991;&#20214;&#24182;&#36864;&#20986;&#32534;&#36753;&#12290;</p><p>&#20026;&#20309;&#35201;&#36825;&#26679;&#65311;&#21578;&#35785;Nagios&#26597;&#25214;<span class="strong"><strong>/usr/local/nagios/etc/objects/printer.cfg</strong></span>&#25991;&#20214;&#20197;&#21462;&#24471;&#39069;&#22806;&#23545;&#35937;&#23450;&#20041;&#12290;&#35813;&#25991;&#20214;&#20013;&#23558;&#21152;&#20837;&#32593;&#32476;&#25171;&#21360;&#26426;&#35774;&#22791;&#30340;&#20027;&#26426;&#19982;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#12290;&#36825;&#20010;&#37197;&#32622;&#25991;&#20214;&#37324;&#24050;&#32463;&#21253;&#21547;&#26377;&#19968;&#20010;&#26679;&#26412;&#20027;&#26426;&#12289;&#20027;&#26426;&#32452;&#21644;&#26381;&#21153;&#23450;&#20041;&#12290;&#32473;&#31532;&#19968;&#21488;&#25171;&#21360;&#26426;&#35774;&#22791;&#20570;&#30417;&#25511;&#65292;&#21487;&#20197;&#31616;&#21333;&#22320;&#20462;&#25913;&#36825;&#20010;&#25991;&#20214;&#32780;&#19981;&#38656;&#37325;&#29983;&#25104;&#19968;&#20010;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2566"></a>4.10.6.&nbsp;&#37197;&#32622;Nagios</h3></div></div></div><p>&#38656;&#35201;&#21019;&#24314;&#20960;&#20010;<a class="link" href="#objectdefinitions" title="6.1.&nbsp;&#23545;&#35937;&#23450;&#20041;">&#23545;&#35937;&#23450;&#20041;</a>&#20197;&#36827;&#34892;&#32593;&#32476;&#25171;&#21360;&#26426;&#30340;&#30417;&#25511;&#12290;</p><p>&#25171;&#24320;<span class="strong"><strong>printer.cfg</strong></span>&#25991;&#20214;&#24182;&#32534;&#36753;&#23427;&#12290;</p><pre class="programlisting">vi /usr/local/nagios/etc/objects/printer.cfg</pre><p>&#22686;&#21152;&#19968;&#20010;&#20320;&#35201;&#30417;&#25511;&#30340;&#32593;&#32476;&#25171;&#21360;&#26426;&#35774;&#22791;&#30340;<a class="link" href="#objectdefinitions_host">&#20027;&#26426;&#23545;&#35937;&#23450;&#20041;</a>&#12290;&#22914;&#26524;&#36825;&#26159;&#31532;&#19968;&#21488;&#25171;&#21360;&#26426;&#35774;&#22791;&#65292;&#21487;&#20197;&#31616;&#21333;&#22320;&#20462;&#25913;<span class="strong"><strong>printer.cfg</strong></span>&#25991;&#20214;&#37324;&#30340;&#26679;&#26412;&#20027;&#26426;&#23450;&#20041;&#12290;&#23558;&#21512;&#29702;&#30340;&#20540;&#36171;&#22312;<span class="strong"><strong>host_name</strong></span>&#12289;<span class="strong"><strong>alias</strong></span>&#21644;<span class="strong"><strong>address</strong></span>&#22495;&#37324;&#12290;</p><pre class="programlisting"><p>define host{
	use		generic-printer	; Inherit default values from a template
	host_name	hplj2605dn	; The name we're giving to this printer
	alias		HP LaserJet 2605dn	; A longer name associated with the printer
	address		192.168.1.30	; IP address of the printer
	hostgroups	allhosts	; Host groups this printer is associated with
}</p></pre><p>&#29616;&#22312;&#21487;&#20197;&#32473;&#30417;&#25511;&#30340;&#25171;&#21360;&#26426;&#21152;&#20123;&#26381;&#21153;&#23450;&#20041;(&#22312;&#21516;&#19968;&#20010;&#37197;&#32622;&#25991;&#20214;&#37324;)&#12290;&#22914;&#26524;&#26159;&#31532;&#19968;&#21488;&#34987;&#30417;&#25511;&#30340;&#32593;&#32476;&#25171;&#21360;&#26426;&#65292;&#21487;&#20197;&#31616;&#21333;&#22320;&#20462;&#25913;<span class="strong"><strong>printer.cfg</strong></span>&#37324;&#30340;&#26381;&#21153;&#37197;&#32622;&#12290;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><div><img src="../pub/images/note.gif"></div>&#35201;&#29992;&#20320;&#35201;&#21018;&#21018;&#21152;&#19978;&#30340;&#34987;&#30417;&#25511;&#25171;&#21360;&#26426;&#20027;&#26426;&#21517;&#26367;&#25442;&#26679;&#20363;&#23545;&#35937;"<span class="strong"><strong>hplj2605dn</strong></span>"&#37324;&#30340;<span class="strong"><strong>host_name</strong></span>&#22495;&#20540;&#12290;</div><p>&#25353;&#22914;&#19979;&#26041;&#24335;&#21152;&#22909;&#23545;&#25171;&#21360;&#26426;&#29366;&#24577;&#26816;&#27979;&#30340;&#26381;&#21153;&#23450;&#20041;&#12290;&#26381;&#21153;&#29992;<span class="strong"><strong>check_hpjd</strong></span>&#25554;&#20214;&#26469;&#26816;&#27979;&#25171;&#21360;&#26426;&#29366;&#24577;&#65292;&#40664;&#35748;&#24773;&#20917;&#19979;&#27599;10&#20998;&#38047;&#26816;&#27979;&#19968;&#27425;&#12290;SNMP&#20849;&#21516;&#20307;&#20018;&#26159;"public"&#12290;</p><pre class="programlisting"><p>define service{
	use			generic-service		; Inherit values from a template
	host_name		hplj2605dn		; The name of the host the service is associated with
	service_description	Printer Status		; The service description
	check_command		check_hpjd!-C public	; The command used to monitor the service
	normal_check_interval	10	; Check the service every 10 minutes under normal conditions
	retry_check_interval	1	; Re-check the service every minute until its final/hard state is determined
}</p></pre><p>&#21152;&#20837;&#19968;&#20010;&#40664;&#35748;&#27599;10&#20998;&#38047;&#36827;&#34892;&#19968;&#27425;&#30340;PING&#26816;&#27979;&#26381;&#21153;&#12290;&#29992;&#20110;&#26816;&#27979;RTA&#12289;&#20002;&#21253;&#29575;&#21644;&#32593;&#32476;&#32852;&#25509;&#29366;&#24577;&#12290;</p><pre class="programlisting"><p>define service{
        use                     generic-service
        host_name               hplj2605dn
        service_description     PING
        check_command           check_ping!3000.0,80%!5000.0,100%
        normal_check_interval   10
        retry_check_interval    1
}</p></pre><p>&#20445;&#23384;&#37197;&#32622;&#25991;&#20214;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2631"></a>4.10.7.&nbsp;&#37325;&#21551;&#21160;Nagios</h3></div></div></div><p>&#19968;&#26086;&#22312;<span class="strong"><strong>printer.cfg</strong></span>&#25991;&#20214;&#37324;&#21152;&#22909;&#26032;&#30340;&#20027;&#26426;&#21644;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#23601;&#21487;&#20197;&#30417;&#25511;&#32593;&#32476;&#25171;&#21360;&#26426;&#12290;&#20026;&#20102;&#24320;&#22987;&#65292;&#24212;&#35813;&#20808;<a class="link" href="#verifyconfig" title="7.1.&nbsp;&#39564;&#35777;&#37197;&#32622;&#25991;&#20214;&#30340;&#27491;&#30830;&#24615;">&#39564;&#35777;&#37197;&#32622;&#25991;&#20214;</a>&#24182;<a class="link" href="#startstop" title="7.2.&nbsp;&#21551;&#21160;&#19982;&#20572;&#27490;Nagios">&#37325;&#21551;&#21160;Nagios</a>&#12290;</p><p>&#22914;&#26524;&#22312;&#39564;&#35777;&#37197;&#32622;&#36807;&#31243;&#20013;&#26377;&#20219;&#20309;&#38169;&#35823;&#20449;&#24687;&#65292;&#20462;&#25913;&#22909;&#37197;&#32622;&#25991;&#20214;&#20877;&#32487;&#32493;&#12290;&#20445;&#35777;&#39564;&#35777;&#36807;&#31243;&#23436;&#25104;&#19988;&#27809;&#26377;&#20219;&#20309;&#38169;&#35823;&#30340;&#24773;&#20917;&#19979;&#20877;&#37325;&#21551;&#21160;Nagios&#65281;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="monitoring-netware"></a>4.11.&nbsp;&#30417;&#25511;Netware&#26381;&#21153;&#22120;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2650"></a>4.11.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>&#26412;&#25991;&#26723;&#25551;&#36848;&#20102;&#22914;&#20309;&#23545;Netware&#26381;&#21153;&#22120;&#30340;"&#31169;&#26377;"&#26381;&#21153;&#21644;&#23646;&#24615;&#36827;&#34892;&#30417;&#25511;&#65292;&#35937;&#36825;&#20123;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#20869;&#23384;&#21344;&#29992;&#29575;</li><li>&#22788;&#29702;&#22120;&#21033;&#29992;&#29575;</li><li>&#32531;&#20914;&#21306;&#20351;&#29992;&#24773;&#20917;</li><li>&#27963;&#21160;&#30340;&#32852;&#25509;</li><li>&#30913;&#30424;&#21367;&#20351;&#29992;&#29575;</li><li>&#31561;</li></ol></div><p>&#30001;Netware&#26381;&#21153;&#22120;&#25552;&#20379;&#30340;&#20844;&#20247;&#26381;&#21153;(HTTP&#12289;FTP&#31561;)&#30340;&#30417;&#25511;&#21487;&#20197;&#25353;&#25991;&#26723;<a class="link" href="#monitoring-publicservices" title="4.12.&nbsp;&#30417;&#25511;&#20844;&#20247;&#26381;&#21153;&#24179;&#21488;">&#30417;&#25511;&#20844;&#20247;&#26381;&#21153;</a>&#26469;&#20570;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2673"></a>4.11.2.&nbsp;&#27010;&#35272;</h3></div></div></div><p> TODO... </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><div><img src="../pub/images/note.gif"></div>&#25105;&#22312;&#25214;&#19968;&#20010;&#24535;&#24895;&#32773;&#26469;&#20889;&#23601;HOWTO&#25991;&#26723;&#12290;&#25105;&#21482;&#33021;&#25509;&#35302;&#21040;&#19968;&#21488;&#26087;&#30340;Netware 4.11&#26381;&#21153;&#22120;&#65292;&#25152;&#20197;&#26080;&#27861;&#36319;&#19978;&#24418;&#21183;&#38656;&#35201;&#12290;&#22914;&#26524;&#21487;&#20197;&#26356;&#26032;&#36825;&#20010;&#25991;&#26723;&#65292;&#35831;&#25226;&#23427;&#24352;&#36148;&#21040;<a class="ulink" href="http://www.nagioscommunity.org/wiki/" target="_top">NagiosCommunity wiki</a>&#37324;&#12290;</div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2685"></a>4.11.3.&nbsp;&#20854;&#20182;&#36164;&#28304;</h3></div></div></div><p>Novell&#26377;&#19968;&#20123;&#26377;&#20851;Nagios&#22914;&#20309;&#26469;&#20570;Netware&#30417;&#25511;&#30340;&#25991;&#26723;&#65292;&#22312;&#32593;&#31449;&#30340;<a class="ulink" href="http://www.novell.com/coolsolutions/" target="_top">Cool Solutions</a>&#26639;&#30446;&#37324;&#65292;&#21253;&#25324;&#65306;</p><div class="orderedlist"><ol type="1"><li><a class="ulink" href="http://developer.novell.com/wiki/index.php/MRTGEXT" target="_top">MRTGEXT: NLM module for MRTG and Nagios</a></li><li><a class="ulink" href="http://www.novell.com/coolsolutions/feature/16723.html" target="_top">Nagios: Host and Service Monitoring Tool</a></li><li><a class="ulink" href="http://www.novell.com/coolsolutions/appnote/17494.html" target="_top">Nagios and NetWare: SNMP-based Monitoring</a></li><li><a class="ulink" href="http://www.novell.com/coolsolutions/tools/17255.html" target="_top">Monitor DirXML/IDM Driver States with Nagios</a></li><li><a class="ulink" href="http://www.novell.com/coolsolutions/tools/17038.html" target="_top">Check NDS Login ability with Nagios</a></li><li><a class="ulink" href="http://www.novell.com/coolsolutions/tools/17580.html" target="_top">NDPS/iPrint Print Queue Monitoring by Nagios</a></li><li><a class="ulink" href="http://www.novell.com/coolsolutions/tools/16935.html" target="_top">check_gwiaRL Plugin for Nagios 2.0</a></li></ol></div></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="monitoring-publicservices"></a>4.12.&nbsp;&#30417;&#25511;&#20844;&#20247;&#26381;&#21153;&#24179;&#21488;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2718"></a>4.12.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>&#26412;&#25991;&#26723;&#20171;&#32461;&#22914;&#20309;&#26469;&#30417;&#25511;&#19968;&#20123;&#20844;&#20247;&#21270;&#30340;&#26381;&#21153;&#12289;&#24212;&#29992;&#21450;&#21327;&#35758;&#12290;&#25152;&#35859;&#30340;"&#20844;&#20247;"&#26381;&#21153;&#26159;&#25351;&#22312;&#32593;&#32476;&#37324;&#24120;&#35265;&#30340;&#26381;&#21153;&#65293;&#19981;&#31649;&#26159;&#26412;&#22320;&#32593;&#32476;&#36824;&#26159;&#22240;&#29305;&#32593;&#19978;&#37117;&#26159;&#36825;&#26679;&#12290;&#20844;&#20247;&#26381;&#21153;&#21253;&#25324;&#35937;&#65293;HTTP&#26381;&#21153;(WEB)&#12289;POP3&#12289;IMAP/SMTP&#12289;FTP&#21644;SSH&#12290;&#20854;&#23454;&#22312;&#26085;&#24120;&#20351;&#29992;&#20013;&#36824;&#26377;&#26356;&#22810;&#30340;&#22522;&#30784;&#26381;&#21153;&#12290;&#36825;&#20123;&#26381;&#21153;&#19982;&#24212;&#29992;&#65292;&#21253;&#25324;&#25152;&#20381;&#25176;&#30340;&#21327;&#35758;&#65292;&#21487;&#20197;&#34987;Nagios&#30452;&#25509;&#30417;&#25511;&#32780;&#19981;&#38656;&#35201;&#39069;&#22806;&#30340;&#25903;&#25345;&#12290;</p><p>&#19982;&#20043;&#30456;&#23545;&#65292;&#31169;&#26377;&#26381;&#21153;&#22914;&#26524;&#27809;&#26377;&#26576;&#20123;&#20013;&#38388;&#20214;&#20570;&#20195;&#29702;Nagios&#26159;&#26080;&#27861;&#30417;&#25511;&#30340;&#12290;&#20027;&#26426;&#19978;&#30340;&#31169;&#26377;&#26381;&#21153;&#27604;&#22914;&#35828;CPU&#36127;&#33655;&#12289;&#20869;&#23384;&#21344;&#29992;&#29575;&#12289;&#30913;&#30424;&#21033;&#29992;&#29575;&#12289;&#24403;&#21069;&#30331;&#24405;&#29992;&#25143;&#12289;&#36827;&#31243;&#20449;&#24687;&#31561;&#12290;&#36825;&#20123;&#31169;&#26377;&#26381;&#21153;&#25110;&#23646;&#24615;&#19981;&#33021;&#26292;&#38706;&#32473;&#22806;&#37096;&#23458;&#25143;&#12290;&#36825;&#26679;&#23601;&#35201;&#22312;&#36825;&#20123;&#34987;&#30417;&#25511;&#30340;&#20027;&#26426;&#19978;&#23433;&#35013;&#19968;&#20123;&#20013;&#38388;&#20214;&#20570;&#20195;&#29702;&#26469;&#21462;&#24471;&#27492;&#31867;&#20449;&#24687;&#12290;&#26356;&#22810;&#26377;&#20851;&#22312;&#19981;&#21516;&#31867;&#22411;&#20027;&#26426;&#19978;&#30340;&#31169;&#26377;&#26381;&#21153;&#30340;&#20449;&#24687;&#21487;&#20197;&#26597;&#38405;&#22914;&#19979;&#25991;&#26723;&#65306;</p><div class="orderedlist"><ol type="1"><li><a class="link" href="#monitoring-windows" title="4.7.&nbsp;&#30417;&#25511;Windows&#20027;&#26426;">&#30417;&#25511;Windows&#20027;&#26426;</a></li><li><a class="link" href="#monitoring-netware" title="4.11.&nbsp;&#30417;&#25511;Netware&#26381;&#21153;&#22120;">&#30417;&#25511;Netware&#26381;&#21153;&#22120;</a></li><li><a class="link" href="#monitoring-linux" title="4.8.&nbsp;&#30417;&#25511;Linux/Unix&#20027;&#26426;">&#30417;&#25511;Linux/Unix&#26426;&#22120;</a></li></ol></div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#25552;&#31034;</h3><div><img src="../pub/images/tip.gif"></div>&#20598;&#23572;&#21457;&#29616;&#26377;&#20123;&#31169;&#26377;&#26381;&#21153;&#21644;&#24212;&#29992;&#30340;&#20449;&#24687;&#21487;&#20197;&#36890;&#36807;SNMP&#26469;&#20570;&#30417;&#25511;&#12290;SNMP&#20195;&#29702;&#21487;&#20197;&#35753;&#36828;&#31243;&#30417;&#25511;&#31995;&#32479;&#25552;&#21462;&#19968;&#20123;&#26377;&#29992;&#20449;&#24687;&#12290;&#26356;&#22810;&#26377;&#20851;SNMP&#26469;&#30417;&#25511;&#26381;&#21153;&#20449;&#24687;&#30340;&#20869;&#23481;&#21487;&#20197;&#26597;&#38405;&#19968;&#19979;<a class="link" href="#monitoring-routers" title="4.9.&nbsp;&#30417;&#25511;&#36335;&#30001;&#22120;&#21644;&#20132;&#25442;&#26426;">&#30417;&#25511;&#20132;&#25442;&#26426;&#21644;&#36335;&#30001;&#22120;</a>&#12290;</div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><div><img src="../pub/images/note.gif"></div>&#22914;&#19979;&#20869;&#23481;&#20551;&#23450;&#20320;&#24050;&#32463;&#25353;&#29031;<a class="link" href="#quickstart" title="4.3.&nbsp;&#24555;&#36895;&#23433;&#35013;&#25351;&#21335;">&#24555;&#36895;&#23433;&#35013;&#25351;&#21335;</a>&#23433;&#35013;&#22909;Nagios&#31995;&#32479;&#12290;&#22914;&#19979;&#30340;&#37197;&#32622;&#26679;&#20363;&#23545;&#35937;&#21487;&#20197;&#21442;&#32771;&#23433;&#35013;&#21253;&#37324;&#30340;<span class="strong"><strong>commands.cfg</strong></span>&#21644;<span class="strong"><strong>localhost.cfg</strong></span>&#20004;&#20010;&#37197;&#32622;&#25991;&#20214;&#12290;</div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2755"></a>4.12.2.&nbsp;&#30417;&#25511;&#26381;&#21153;&#30340;&#25554;&#20214;</h3></div></div></div><p>&#24403;&#38656;&#35201;&#23545;&#19968;&#20123;&#24212;&#29992;&#12289;&#26381;&#21153;&#25110;&#21327;&#35758;&#36827;&#34892;&#30417;&#25511;&#26102;&#65292;&#21487;&#33021;&#24050;&#32463;&#26377;&#19968;&#20010;&#29992;&#20110;&#30417;&#25511;&#30340;<a class="link" href="#plugins" title="8.1.&nbsp;Nagios&#30340;&#25554;&#20214;">&#25554;&#20214;</a>&#20102;&#12290;Nagios&#30340;&#23448;&#26041;&#25554;&#20214;&#21253;&#24102;&#26377;&#25554;&#20214;&#21487;&#20197;&#29992;&#20110;&#30417;&#25511;&#24456;&#22810;&#31181;&#26381;&#21153;&#19982;&#21327;&#35758;&#65292;&#22312;&#25554;&#20214;&#21253;&#30340;<span class="strong"><strong>contrib/</strong></span>&#30446;&#24405;&#19979;&#26377;&#24456;&#22810;&#21487;&#29992;&#30340;&#25554;&#20214;&#12290;&#32780;&#19988;&#22312;<a class="ulink" href="http://www.nagiosexchange.org" target="_top">NagiosExchange.org</a>&#32593;&#31449;&#19978;&#26377;&#35768;&#22810;&#39069;&#22806;&#30340;&#20854;&#20182;&#20154;&#20889;&#30340;&#25554;&#20214;&#21487;&#20197;&#35797;&#35797;&#30475;&#65281;</p><p>&#22914;&#26524;&#19981;&#24039;&#27809;&#26377;&#25214;&#21040;&#35201;&#30417;&#25511;&#25152;&#38656;&#30340;&#25554;&#20214;&#65292;&#21487;&#20197;&#33258;&#24049;&#20889;&#19968;&#20010;&#12290;&#25554;&#20214;&#20889;&#36215;&#26469;&#24456;&#23481;&#26131;&#65292;&#19981;&#35201;&#24597;&#23427;&#65292;&#35835;&#19968;&#35835;<a class="link" href="#pluginapi" title="12.3.&nbsp;Nagios&#25554;&#20214;API">&#25554;&#20214;&#30340;&#24320;&#21457;</a>&#36825;&#31687;&#25991;&#26723;&#21543;&#12290;</p><p>&#19979;&#38754;&#23558;&#20250;&#39046;&#30053;&#19968;&#19979;&#20320;&#36831;&#26089;&#20250;&#29992;&#21040;&#30340;&#19968;&#20123;&#22522;&#30784;&#26381;&#21153;&#65292;&#27599;&#20010;&#26381;&#21153;&#37117;&#21487;&#20197;&#22312;Nagios&#25554;&#20214;&#21253;&#37324;&#25214;&#21040;&#23545;&#24212;&#30340;&#26816;&#27979;&#25554;&#20214;&#12290;&#19979;&#38754;&#23601;&#24320;&#22987;&#20102;...</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2776"></a>4.12.3.&nbsp;&#21019;&#24314;&#19968;&#20010;&#20027;&#26426;&#23545;&#35937;&#23450;&#20041;</h3></div></div></div><p>&#22312;&#30417;&#25511;&#19968;&#20010;&#26381;&#21153;&#20043;&#21069;&#38656;&#35201;&#20808;&#23450;&#20041;&#19968;&#20010;&#26381;&#21153;&#35201;&#32465;&#23450;&#30340;<a class="link" href="#objectdefinitions_host">&#20027;&#26426;</a>&#23545;&#35937;&#12290;&#21487;&#20197;&#25226;&#20027;&#26426;&#23545;&#35937;&#23450;&#20041;&#25918;&#22312;<a class="link" href="#cfg_file" title="&#34920;&nbsp;5.2.&nbsp;&#23545;&#35937;&#37197;&#32622;&#25991;&#20214;">cfg_file</a>&#22495;&#25152;&#25351;&#21521;&#30340;&#20219;&#20309;&#19968;&#20010;&#23545;&#35937;&#37197;&#32622;&#25991;&#20214;&#37324;&#25110;&#26159;&#25918;&#22312;&#30001;<a class="link" href="#cfg_dir" title="&#34920;&nbsp;5.3.&nbsp;&#23545;&#35937;&#37197;&#32622;&#30446;&#24405;">cfg_dir</a>&#22495;&#25152;&#25351;&#21521;&#30340;&#20219;&#20309;&#19968;&#20010;&#30446;&#24405;&#19979;&#30340;&#25991;&#20214;&#37324;&#12290;&#22914;&#26524;&#24050;&#32463;&#23450;&#20041;&#36807;&#19968;&#20010;&#20027;&#26426;&#23545;&#35937;&#20102;&#65292;&#21487;&#20197;&#36339;&#36807;&#36825;&#19968;&#27493;&#12290;</p><p>&#22312;&#26412;&#20363;&#20013;&#65292;&#20551;&#23450;&#20320;&#24819;&#22312;&#19968;&#21488;&#20027;&#26426;&#19978;&#30417;&#25511;&#35768;&#22810;&#31181;&#26381;&#21153;&#65292;&#25226;&#36825;&#21488;&#20027;&#26426;&#21629;&#21517;&#20026;<span class="strong"><strong>remotehost</strong></span>&#12290;&#21487;&#20197;&#25226;&#20027;&#26426;&#23545;&#35937;&#23450;&#20041;&#25918;&#22312;&#23427;&#33258;&#24049;&#30340;&#37197;&#32622;&#25991;&#20214;&#37324;&#25110;&#21152;&#21040;&#19968;&#20010;&#24050;&#26377;&#30340;&#23545;&#35937;&#23450;&#20041;&#25991;&#20214;&#37324;&#12290;&#36825;&#37324;&#26377;&#20010;<span class="strong"><strong>remotehost</strong></span>&#23545;&#35937;&#30340;&#23450;&#20041;&#35937;&#26159;&#36825;&#26679;&#65306;</p><pre class="programlisting"><p>define host{
	use		generic-host		; Inherit default values from a template
	host_name		remotehost		; The name we're giving to this host
	alias		Some Remote Host	; A longer name associated with the host
	address		192.168.1.50		; IP address of the host
	hostgroups		allhosts		; Host groups this host is associated with
	}</p></pre><p>&#29616;&#22312;&#21487;&#20197;&#26377;&#20102;&#19968;&#20010;&#21487;&#34987;&#30417;&#25511;&#30340;&#20027;&#26426;&#23545;&#35937;&#20102;&#65292;&#20043;&#21518;&#23601;&#21487;&#20197;&#23450;&#20041;&#25152;&#35201;&#30417;&#25511;&#30340;&#26381;&#21153;&#12290;&#26377;&#20102;&#20027;&#26426;&#23545;&#35937;&#23450;&#20041;&#65292;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#21487;&#20197;&#21152;&#22312;&#20219;&#20309;&#19968;&#20010;&#23545;&#35937;&#37197;&#32622;&#25991;&#20214;&#30340;&#20219;&#20309;&#19968;&#20010;&#20301;&#32622;&#37324;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2803"></a>4.12.4.&nbsp;&#21019;&#24314;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;</h3></div></div></div><p>&#22312;Nagios&#37324;&#27599;&#20010;&#35201;&#30417;&#25511;&#30340;&#26381;&#21153;&#37117;&#24517;&#39035;&#32473;&#20986;&#19968;&#20010;&#32465;&#23450;&#22312;&#21018;&#25165;&#23450;&#20041;&#20986;&#30340;&#20027;&#26426;&#19978;&#30340;&#19968;&#20010;<a class="link" href="#objectdefinitions_service">&#26381;&#21153;&#23545;&#35937;</a>&#12290;&#21487;&#20197;&#25226;&#26381;&#21153;&#23545;&#35937;&#25918;&#22312;&#20219;&#20309;&#19968;&#20010;&#30001;<a class="link" href="#cfg_file" title="&#34920;&nbsp;5.2.&nbsp;&#23545;&#35937;&#37197;&#32622;&#25991;&#20214;">cfg_file</a>&#22495;&#25351;&#21521;&#30340;&#23545;&#35937;&#37197;&#32622;&#25991;&#20214;&#37324;&#25110;&#26159;&#25918;&#22312;<a class="link" href="#cfg_dir" title="&#34920;&nbsp;5.3.&nbsp;&#23545;&#35937;&#37197;&#32622;&#30446;&#24405;">cfg_dir</a>&#22495;&#25152;&#25351;&#21521;&#30340;&#30446;&#24405;&#19979;&#12290;</p><p>&#19979;&#38754;&#20250;&#32473;&#20986;&#19968;&#20123;&#35201;&#30417;&#25511;&#30340;&#26679;&#20363;&#26381;&#21153;(HTTP&#12289;FTP&#31561;)&#30340;&#23545;&#35937;&#23450;&#20041;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2819"></a>4.12.5.&nbsp;&#30417;&#25511;HTTP</h3></div></div></div><p>&#26377;&#26102;&#19981;&#31649;&#26159;&#20320;&#25110;&#26159;&#20854;&#20182;&#20154;&#38656;&#35201;&#30417;&#25511;&#19968;&#20010;Web&#26381;&#21153;&#22120;&#12290;<span class="strong"><strong>check_http</strong></span>&#25554;&#20214;&#23601;&#26159;&#20570;&#36825;&#20214;&#20107;&#30340;&#12290;&#25554;&#20214;&#21487;&#20197;&#36879;&#36807;HTTP&#21327;&#35758;&#24182;&#30417;&#25511;&#21709;&#24212;&#26102;&#38388;&#12289;&#38169;&#35823;&#20195;&#30721;&#12289;&#36820;&#22238;&#39029;&#38754;&#37324;&#30340;&#23383;&#31526;&#20018;&#12289;&#26381;&#21153;&#22120;&#35777;&#20070;&#21644;&#26356;&#22810;&#30340;&#19996;&#35199;&#12290;</p><p>&#22312;<span class="strong"><strong>commands.cfg</strong></span>&#25991;&#20214;&#37324;&#21253;&#21547;&#26377;&#19968;&#20010;&#20351;&#29992;<span class="strong"><strong>check_http</strong></span>&#25554;&#20214;&#30340;&#21629;&#20196;&#23450;&#20041;&#12290;&#35937;&#26159;&#36825;&#26679;&#30340;&#65306;</p><pre class="programlisting"><p>define command{
	name		check_http
	command_name	check_http
	command_line	$USER1$/check_http -I $HOSTADDRESS$ $ARG1$
	}</p></pre><p>&#23545;&#20110;&#30417;&#25511;&#22312;<span class="strong"><strong>remotehost</strong></span>&#26426;&#22120;&#19978;&#30340;HTTP&#26381;&#21153;&#30340;&#31616;&#21333;&#30340;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#20250;&#35937;&#26159;&#36825;&#26679;&#30340;&#65306;</p><pre class="programlisting"><p>define service{
	use		generic-service		; Inherit default values from a template
	host_name		remotehost
	service_description	HTTP
	check_command	check_http
	}</p></pre><p>&#36825;&#20010;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#23558;&#20250;&#30417;&#25511;&#20301;&#20110;<span class="strong"><strong>remotehost</strong></span>&#26426;&#22120;&#19978;&#30340;HTTP&#26381;&#21153;&#12290;&#22914;&#26524;WEB&#26381;&#21153;&#22312;10&#31186;&#20869;&#27809;&#26377;&#21709;&#24212;&#23558;&#20135;&#29983;&#35686;&#25253;&#25110;&#26159;&#36820;&#22238;&#20102;&#19968;&#20010;HTTP&#30340;&#38169;&#35823;&#30721;(403&#12289;404&#31561;)&#20063;&#20250;&#20135;&#29983;&#35686;&#25253;&#12290;&#36825;&#26159;&#26368;&#22522;&#26412;&#30340;&#30417;&#25511;&#35201;&#27714;&#65292;&#24456;&#31616;&#21333;&#65292;&#19981;&#26159;&#20040;&#65311;</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#25552;&#31034;</h3><div><img src="../pub/images/tip.gif"></div>&#23545;&#20110;&#26356;&#39640;&#32423;&#30340;&#30417;&#25511;&#65292;&#21487;&#20197;&#22312;&#21629;&#20196;&#34892;&#19979;&#25163;&#24037;&#36816;&#34892;<span class="strong"><strong>check_http</strong></span>&#25554;&#20214;&#65292;&#24102;&#30528;<span class="strong"><strong>--help</strong></span>&#21442;&#25968;&#65292;&#30475;&#30475;&#36825;&#20010;&#25554;&#20214;&#26377;&#20160;&#20040;&#36873;&#39033;&#12290;<span class="strong"><strong>--help</strong></span>&#35821;&#27861;&#23545;&#20110;&#26412;&#25991;&#26723;&#25152;&#28041;&#21450;&#30340;&#25554;&#20214;&#37117;&#36866;&#29992;&#12290;</div><p>&#19979;&#38754;&#30475;&#30475;&#23545;HTTP&#26381;&#21153;&#26356;&#39640;&#32423;&#30340;&#30417;&#25511;&#12290;&#36825;&#20010;&#26381;&#21153;&#23450;&#20041;&#23558;&#20250;&#26816;&#27979;&#22914;&#19979;&#20869;&#23481;&#65306;&#22312;URI(/download/index.php)&#37324;&#26159;&#21542;&#21253;&#21547;&#26377;"latest-version.tar.gz"&#23383;&#31526;&#20018;&#12290;&#22914;&#26524;&#27809;&#26377;&#25351;&#23450;&#23383;&#31526;&#20018;&#65292;&#25110;&#26159;URI&#38750;&#27861;&#20063;&#25110;&#35768;&#26159;&#22312;5&#31186;&#20869;&#27809;&#26377;&#21709;&#24212;&#30340;&#35805;&#65292;&#23427;&#23558;&#20135;&#29983;&#19968;&#20010;&#38169;&#35823;&#12290;</p><pre class="programlisting"><p>define service{
	use		generic-service		; Inherit default values from a template
	host_name		remotehost
	service_description	Product Download Link
	check_command	check_http!-u /download/index.php -t 5 -s "latest-version.tar.gz"
	}</p></pre></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2869"></a>4.12.6.&nbsp;&#30417;&#25511;FTP</h3></div></div></div><p>&#30417;&#25511;FTP&#26381;&#21153;&#21487;&#20197;&#29992;<span class="strong"><strong>check_ftp</strong></span>&#25554;&#20214;&#12290;&#22312;<span class="strong"><strong>commands.cfg</strong></span>&#25991;&#20214;&#37324;&#21253;&#21547;&#26377;&#19968;&#20010;&#20351;&#29992;<span class="strong"><strong>check_ftp</strong></span>&#25554;&#20214;&#30340;&#21629;&#20196;&#26679;&#20363;&#65292;&#35937;&#26159;&#36825;&#26679;&#65306;</p><pre class="programlisting"><p>define command{
	command_name	check_ftp
	command_line	$USER1$/check_ftp -H $HOSTADDRESS$ $ARG1$
	}</p></pre><p>&#23545;<span class="strong"><strong>remotehost</strong></span>&#20027;&#26426;&#19978;&#30340;FTP&#26381;&#21153;&#30340;&#31616;&#21333;&#30417;&#25511;&#30340;&#20363;&#23376;&#35937;&#26159;&#36825;&#26679;&#65306;</p><pre class="programlisting"><p>define service{
	use		generic-service		; Inherit default values from a template
	host_name		remotehost
	service_description	FTP
	check_command	check_ftp
	}</p></pre><p>&#36825;&#20010;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#23558;&#20250;&#22312;FTP&#26381;&#21153;&#22120;10&#31186;&#20869;&#19981;&#21709;&#24212;&#26102;&#32473;&#20986;&#19968;&#20010;&#35686;&#25253;&#12290;</p><p>&#19979;&#38754;&#23545;FTP&#20570;&#20123;&#39640;&#32423;&#30417;&#25511;&#12290;&#19979;&#38754;&#36825;&#20010;&#26381;&#21153;&#23558;&#26816;&#27979;FTP&#26381;&#21153;&#22120;&#32465;&#23450;&#22312;<span class="strong"><strong>remotehost</strong></span>&#20027;&#26426;&#19978;&#30340;1023&#31471;&#21475;&#30340;FTP&#26381;&#21153;&#12290;&#22914;&#26524;&#22312;5&#31186;&#20869;&#27809;&#26377;&#21709;&#24212;&#25110;&#26159;&#26381;&#21153;&#37324;&#27809;&#26377;&#22238;&#24212;&#23383;&#31526;&#20018;"Pure-FTPd [TLS]"&#26102;&#23558;&#20250;&#20135;&#29983;&#35686;&#25253;&#12290;</p><pre class="programlisting"><p>define service{
	use		generic-service		; Inherit default values from a template
	host_name		remotehost
	service_description	Special FTP 
	check_command	check_ftp!-p 1023 -t 5 -e "Pure-FTPd [TLS]"
	}</p></pre></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2904"></a>4.12.7.&nbsp;&#30417;&#25511;SSH</h3></div></div></div><p>&#30417;&#25511;SSH&#26381;&#21153;&#21487;&#20197;&#29992;<span class="strong"><strong>check_ssh</strong></span>&#25554;&#20214;&#12290;&#22312;<span class="strong"><strong>commands.cfg</strong></span>&#25991;&#20214;&#37324;&#21253;&#21547;&#22312;&#20351;&#29992;<span class="strong"><strong>check_ssh</strong></span>&#25554;&#20214;&#26377;&#26679;&#20363;&#21629;&#20196;&#65292;&#35937;&#26159;&#36825;&#26679;&#65306;</p><pre class="programlisting"><p>define command{
	command_name	check_ssh
	command_line	$USER1$/check_ssh $ARG1$ $HOSTADDRESS$
	}</p></pre><p>&#30417;&#25511;<span class="strong"><strong>remotehost</strong></span>&#19978;&#30340;SSH&#26381;&#21153;&#30340;&#31616;&#21333;&#20363;&#23376;&#35937;&#26159;&#36825;&#26679;&#65306;</p><pre class="programlisting"><p>define service{
	use		generic-service		; Inherit default values from a template
	host_name		remotehost
	service_description	SSH
	check_command	check_ssh
	}</p></pre><p>&#36825;&#20010;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#23558;&#20250;&#22312;SSH&#26381;&#21153;10&#31186;&#20869;&#19981;&#21709;&#24212;&#26102;&#32473;&#20986;&#19968;&#20010;&#35686;&#25253;&#12290;</p><p>&#19979;&#38754;&#23545;SSH&#20570;&#20123;&#39640;&#32423;&#30417;&#25511;&#12290;&#19979;&#38754;&#36825;&#20010;&#26381;&#21153;&#23558;&#26816;&#27979;SSH&#26381;&#21153;&#65292;&#22914;&#26524;5&#31186;&#20869;&#19981;&#21709;&#24212;&#25110;&#26159;&#26381;&#21153;&#22120;&#29256;&#26412;&#20018;&#37324;&#27809;&#26377;&#33021;&#21305;&#37197;&#23383;&#31526;&#20018;"OpenSSH_4.2"&#26102;&#20135;&#29983;&#19968;&#20010;&#35686;&#25253;&#12290;</p><pre class="programlisting"><p>define service{
	use		generic-service		; Inherit default values from a template
	host_name		remotehost
	service_description	SSH Version Check 
	check_command	check_ssh!-t 5 -r "OpenSSH_4.2"
	}</p></pre></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2936"></a>4.12.8.&nbsp;&#30417;&#25511;SMTP</h3></div></div></div><p>&#29992;<span class="strong"><strong>check_smtp</strong></span>&#25554;&#20214;&#26469;&#30417;&#25511;EMail&#26381;&#21153;&#12290;<span class="strong"><strong>commands.cfg</strong></span>&#25991;&#20214;&#37324;&#21253;&#21547;&#26377;&#20351;&#29992;<span class="strong"><strong>check_smtp</strong></span>&#25554;&#20214;&#30340;&#21629;&#20196;&#65292;&#35937;&#26159;&#36825;&#26679;&#65306;</p><pre class="programlisting"><p>define command{
	command_name	check_smtp
	command_line	$USER1$/check_smtp -H $HOSTADDRESS$ $ARG1$
	}</p></pre><p>&#30417;&#25511;<span class="strong"><strong>remotehost</strong></span>&#19978;&#30340;SMTP&#26381;&#21153;&#30340;&#31616;&#21333;&#20363;&#23376;&#35937;&#26159;&#36825;&#26679;&#65306;</p><pre class="programlisting"><p>define service{
	use		generic-service		; Inherit default values from a template
	host_name		remotehost
	service_description	SMTP
	check_command	check_smtp
	}</p></pre><p>&#36825;&#20010;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#23558;&#20250;&#22312;SMTP&#26381;&#21153;&#22120;10&#31186;&#20869;&#19981;&#21709;&#24212;&#26102;&#32473;&#20986;&#19968;&#20010;&#35686;&#25253;&#12290;</p><p>&#19979;&#38754;&#26159;&#26356;&#39640;&#32423;&#30340;&#30417;&#25511;&#12290;&#19979;&#38754;&#36825;&#20010;&#26381;&#21153;&#23558;&#26816;&#27979;SMTP&#26381;&#21153;&#65292;&#22914;&#26524;&#26381;&#21153;&#22312;5&#23569;&#20869;&#19981;&#21709;&#24212;&#25110;&#26159;&#36820;&#22238;&#20018;&#37324;&#27809;&#26377;&#21253;&#21547;&#23383;&#31526;&#20018;"mygreatmailserver.com"&#26102;&#23558;&#20135;&#29983;&#19968;&#20010;&#35686;&#25253;&#12290;</p><pre class="programlisting"><p>define service{
	use		generic-service		; Inherit default values from a template
	host_name		remotehost
	service_description	SMTP Response Check 
	check_command	check_smtp!-t 5 -e "mygreatmailserver.com"
	}</p></pre></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2968"></a>4.12.9.&nbsp;&#30417;&#25511;POP3</h3></div></div></div><p>&#29992;<span class="strong"><strong>check_pop</strong></span>&#25554;&#20214;&#26469;&#30417;&#25511;EMail&#30340;POP3&#26381;&#21153;&#12290;<span class="strong"><strong>commands.cfg</strong></span>&#25991;&#20214;&#37324;&#21253;&#21547;&#26377;&#20351;&#29992;<span class="strong"><strong>check_pop</strong></span>&#25554;&#20214;&#30340;&#21629;&#20196;&#65292;&#35937;&#26159;&#36825;&#26679;&#65306;</p><pre class="programlisting"><p>define command{
	command_name	check_pop
	command_line	$USER1$/check_pop -H $HOSTADDRESS$ $ARG1$
	}</p></pre><p>&#30417;&#25511;<span class="strong"><strong>remotehost</strong></span>&#19978;&#30340;POP3&#26381;&#21153;&#30340;&#31616;&#21333;&#20363;&#23376;&#35937;&#26159;&#36825;&#26679;&#65306;</p><pre class="programlisting"><p>define service{
	use		generic-service		; Inherit default values from a template
	host_name		remotehost
	service_description	POP3
	check_command	check_pop
	}</p></pre><p>&#36825;&#20010;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#23558;&#20250;&#22312;POP3&#26381;&#21153;10&#31186;&#20869;&#19981;&#21709;&#24212;&#26102;&#32473;&#20986;&#19968;&#20010;&#35686;&#25253;&#12290;</p><p>&#19979;&#38754;&#26159;&#26356;&#39640;&#32423;&#30417;&#25511;&#12290;&#19979;&#38754;&#36825;&#20010;&#26381;&#21153;&#23558;&#26816;&#27979;POP3&#26381;&#21153;&#65292;&#24403;&#26381;&#21153;&#22312;5&#31186;&#20869;&#19981;&#21709;&#24212;&#25110;&#26159;&#36820;&#22238;&#20018;&#37324;&#27809;&#26377;&#21253;&#21547;&#23383;&#31526;&#20018;"mygreatmailserver.com"&#26102;&#23558;&#20135;&#29983;&#19968;&#20010;&#35686;&#25253;&#12290;</p><pre class="programlisting"><p>define service{
	use		generic-service		; Inherit default values from a template
	host_name		remotehost
	service_description	POP3 Response Check 
	check_command	check_pop!-t 5 -e "mygreatmailserver.com"
	}</p></pre></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3000"></a>4.12.10.&nbsp;&#30417;&#25511;IMAP</h3></div></div></div><p>&#29992;<span class="strong"><strong>check_imap</strong></span>&#25554;&#20214;&#21487;&#20197;&#30417;&#25511;EMail&#30340;IMAP4&#26381;&#21153;&#12290;<span class="strong"><strong>commands.cfg</strong></span>&#25991;&#20214;&#37324;&#21253;&#21547;&#26377;&#20351;&#29992;<span class="strong"><strong>check_imap</strong></span>&#25554;&#20214;&#30340;&#21629;&#20196;&#65292;&#35937;&#26159;&#36825;&#26679;&#65306;</p><pre class="programlisting"><p>define command{
	command_name	check_imap
	command_line	$USER1$/check_imap -H $HOSTADDRESS$ $ARG1$
	}</p></pre><p>&#30417;&#25511;<span class="strong"><strong>remotehost</strong></span>&#19978;&#30340;IMAP&#26381;&#21153;&#30340;&#31616;&#21333;&#20363;&#23376;&#35937;&#26159;&#36825;&#26679;&#65306;</p><pre class="programlisting"><p>define service{
	use		generic-service		; Inherit default values from a template
	host_name		remotehost
	service_description	IMAP
	check_command	check_imap
	}</p></pre><p>&#36825;&#20010;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#23558;&#22312;IMAP&#26381;&#21153;10&#31186;&#20869;&#19981;&#21709;&#24212;&#26102;&#32473;&#20986;&#19968;&#20010;&#35686;&#25253;&#12290;</p><p>&#19979;&#38754;&#26159;&#26356;&#39640;&#32423;&#30417;&#25511;&#12290;&#19979;&#38754;&#36825;&#20010;&#26381;&#21153;&#23558;&#26816;&#27979;IAMP4&#26381;&#21153;&#65292;&#24403;&#26381;&#21153;&#22312;5&#31186;&#20869;&#19981;&#21709;&#24212;&#25110;&#26159;&#36820;&#22238;&#20018;&#37324;&#27809;&#26377;&#21253;&#21547;&#26377;"mygreatmailserver.com"&#26102;&#23558;&#20135;&#29983;&#19968;&#20010;&#35686;&#25253;&#12290;</p><pre class="programlisting"><p>define service{
	use		generic-service		; Inherit default values from a template
	host_name		remotehost
	service_description	IMAP4 Response Check 
	check_command	check_imap!-t 5 -e "mygreatmailserver.com"
	}</p></pre></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3032"></a>4.12.11.&nbsp;&#37325;&#21551;&#21160;Nagios</h3></div></div></div><p>&#19968;&#26086;&#22312;&#37197;&#32622;&#25991;&#20214;&#37324;&#21152;&#20837;&#20102;&#19968;&#20010;&#26032;&#30340;&#20027;&#26426;&#25110;&#26159;&#26381;&#21153;&#23545;&#35937;&#65292;&#35201;&#24320;&#22987;&#23545;&#20854;&#36827;&#34892;&#30417;&#25511;&#65292;&#24517;&#39035;&#35201;<a class="link" href="#verifyconfig" title="7.1.&nbsp;&#39564;&#35777;&#37197;&#32622;&#25991;&#20214;&#30340;&#27491;&#30830;&#24615;">&#39564;&#35777;&#37197;&#32622;&#25991;&#20214;n</a>&#24182;<a class="link" href="#startstop" title="7.2.&nbsp;&#21551;&#21160;&#19982;&#20572;&#27490;Nagios">&#37325;&#21551;&#21160;Nagios</a>&#12290;</p><p>&#22914;&#26524;&#39564;&#35777;&#36807;&#31243;&#37324;&#25253;&#20986;&#38169;&#35823;&#20449;&#24687;&#65292;&#35201;&#20462;&#27491;&#37197;&#32622;&#21518;&#20877;&#32487;&#32493;&#12290;&#35201;&#20445;&#35777;&#22312;&#39564;&#35777;&#36807;&#31243;&#37324;&#27809;&#26377;&#21457;&#29616;&#20219;&#20309;&#38169;&#35823;&#20043;&#21518;&#20877;&#21551;&#21160;&#25110;&#37325;&#21551;Nagios&#65281;</p></div></div></div><div class="chapter" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title"><a name="configuration"></a>&#31532;&nbsp;5&nbsp;&#31456;&nbsp;&#20934;&#22791;&#37197;&#32622;Nagios</h2></div></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="config"></a>5.1.&nbsp;&#37197;&#32622;&#27010;&#35272;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3051"></a>5.1.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>&#22312;&#20320;&#24320;&#22987;&#30417;&#25511;&#32593;&#32476;&#19982;&#31995;&#32479;&#20043;&#21069;&#35201;&#26377;&#21516;&#20010;&#19981;&#21516;&#37197;&#32622;&#25991;&#20214;&#38656;&#35201;&#21019;&#24314;&#21644;&#32534;&#36753;&#12290;&#32784;&#24515;&#28857;&#65292;&#37197;&#32622;Nagios&#21487;&#33021;&#26159;&#35201;&#33457;&#20123;&#26102;&#38388;&#29305;&#21035;&#26159;&#23545;&#20110;&#37027;&#20123;&#21021;&#27425;&#20351;&#29992;&#32773;&#12290;&#24324;&#28165;&#20854;&#26426;&#29702;&#25152;&#26377;&#30340;&#23558;&#23427;&#20204;&#25630;&#23450;&#32477;&#23545;&#26159;&#20540;&#24471;&#30340;&#12290; :-) </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><div><img src="../pub/images/note.gif"></div><p>&#26679;&#26412;&#37197;&#32622;&#25991;&#20214;&#22312;&#23433;&#35013;&#26102;&#25918;&#22312;&#20102;<span class="strong"><strong>/usr/local/nagios/etc/</strong></span>&#30446;&#24405;&#19979;&#65292;&#22914;&#26524;&#20320;&#26159;&#25353;&#29031;&#21069;&#38754;&#32473;&#20986;&#30340;<a class="link" href="#quickstart" title="4.3.&nbsp;&#24555;&#36895;&#23433;&#35013;&#25351;&#21335;">&#24555;&#36895;&#23433;&#35013;&#25351;&#21335;</a>&#26469;&#20570;&#30340;&#35805;&#12290;</p></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3066"></a>5.1.2.&nbsp;&#20027;&#37197;&#32622;&#25991;&#20214;</h3></div></div></div><p>&#20027;&#37197;&#32622;&#25991;&#20214;&#21253;&#25324;&#20102;&#19968;&#31995;&#21015;&#30340;&#35774;&#32622;&#65292;&#23427;&#20204;&#20250;&#24433;&#21709;Nagios&#23432;&#25252;&#36827;&#31243;&#12290;&#19981;&#20165;&#26159;Nagios&#23432;&#25252;&#36827;&#31243;&#35201;&#20351;&#29992;&#20027;&#37197;&#32622;&#25991;&#20214;&#65292;CGIs&#31243;&#24207;&#32452;&#27169;&#22359;&#20063;&#38656;&#35201;&#65292;&#22240;&#27492;&#65292;&#20027;&#37197;&#32622;&#25991;&#20214;&#26159;&#20320;&#24320;&#22987;&#23398;&#20064;&#37197;&#32622;&#20854;&#20182;&#25991;&#20214;&#30340;&#22522;&#30784;&#12290;</p><p>&#26377;&#20851;&#20027;&#37197;&#32622;&#25991;&#20214;&#30340;&#25991;&#26723;&#22312;<a class="link" href="#configmain" title="5.2.&nbsp;&#20027;&#37197;&#32622;&#25991;&#20214;&#36873;&#39033;">&#36825;&#37324;</a>&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3076"></a>5.1.3.&nbsp;&#36164;&#28304;&#37197;&#32622;&#25991;&#20214;</h3></div></div></div><p>&#36164;&#28304;&#25991;&#20214;&#21487;&#20197;&#20445;&#23384;&#29992;&#25143;&#33258;&#23450;&#20041;&#30340;&#23439;&#12290;&#36164;&#28304;&#25991;&#20214;&#30340;&#19968;&#20010;&#20027;&#35201;&#29992;&#22788;&#26159;&#29992;&#20110;&#20445;&#23384;&#19968;&#20123;&#25935;&#24863;&#30340;&#37197;&#32622;&#20449;&#24687;&#22914;&#31995;&#32479;&#21475;&#20196;&#31561;&#19981;&#33021;&#35753;CGIs&#31243;&#24207;&#27169;&#22359;&#33719;&#21462;&#21040;&#30340;&#19996;&#35199;&#12290;</p><p>&#20320;&#21487;&#20197;&#22312;&#20027;&#37197;&#32622;&#25991;&#20214;&#20013;&#35774;&#32622;<a class="link" href="#resource_file" title="&#34920;&nbsp;5.6.&nbsp;&#36164;&#28304;&#25991;&#20214;">resource_file</a>&#25351;&#21521;&#19968;&#20010;&#25110;&#26159;&#22810;&#20010;&#36164;&#28304;&#25991;&#20214;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3086"></a>5.1.4.&nbsp;&#23545;&#35937;&#23450;&#20041;&#25991;&#20214;</h3></div></div></div><p>&#23545;&#35937;&#23450;&#20041;&#25991;&#20214;&#29992;&#20110;&#23450;&#20041;&#20027;&#26426;&#12289;&#26381;&#21153;&#12289;&#20027;&#26426;&#32452;&#12289;&#26381;&#21153;&#32452;&#12289;&#32852;&#31995;&#20154;&#12289;&#32852;&#31995;&#20154;&#32452;&#12289;&#21629;&#20196;&#31561;&#31561;&#12290;&#36825;&#20123;&#23558;&#23450;&#20041;&#20320;&#38656;&#35201;&#30417;&#25511;&#20160;&#20040;&#24182;&#23558;&#22914;&#20309;&#30417;&#25511;&#23427;&#20204;&#12290;</p><p>&#20320;&#21487;&#20197;&#22312;&#20027;&#37197;&#32622;&#25991;&#20214;&#37324;&#35774;&#32622;<a class="link" href="#cfg_file" title="&#34920;&nbsp;5.2.&nbsp;&#23545;&#35937;&#37197;&#32622;&#25991;&#20214;">cfg_file</a>&#21152;&#19978;<a class="link" href="#cfg_dir" title="&#34920;&nbsp;5.3.&nbsp;&#23545;&#35937;&#37197;&#32622;&#30446;&#24405;">cfg_dir</a>&#26469;&#25351;&#21521;&#19968;&#20010;&#25110;&#26159;&#22810;&#20010;&#23545;&#35937;&#23450;&#20041;&#25991;&#20214;&#12290;</p><p>&#26377;&#20851;&#23545;&#35937;&#23450;&#20041;&#21644;&#19982;&#20854;&#20182;&#38388;&#20851;&#31995;&#30340;&#25991;&#26723;&#26159;<a class="link" href="#configobject" title="5.3.&nbsp;&#23545;&#35937;&#37197;&#32622;&#27010;&#35272;">&#36825;&#37324;</a>&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3104"></a>5.1.5.&nbsp;CGI&#37197;&#32622;&#25991;&#20214;</h3></div></div></div><p>CGI&#37197;&#32622;&#25991;&#20214;&#21253;&#21547;&#20102;&#19968;&#31995;&#21015;&#30340;&#35774;&#32622;&#65292;&#23427;&#20204;&#20250;&#24433;&#21709;<a class="link" href="#cgis" title="7.4.&nbsp;&#20851;&#20110;CGI&#31243;&#24207;&#27169;&#22359;&#30340;&#20449;&#24687;">CGIs</a>&#31243;&#24207;&#27169;&#22359;&#12290;&#36824;&#26377;&#19968;&#20123;&#20445;&#23384;&#22312;&#20027;&#37197;&#32622;&#25991;&#20214;&#20043;&#20013;&#65292;&#22240;&#27492;CGI&#31243;&#24207;&#20250;&#30693;&#36947;&#20320;&#26159;&#22914;&#20309;&#37197;&#32622;&#30340;Nagios&#24182;&#19988;&#22312;&#21738;&#37324;&#20445;&#23384;&#20102;&#23545;&#35937;&#23450;&#20041;&#12290;</p><p>&#26377;&#20851;CGI&#37197;&#32622;&#25991;&#20214;&#30340;&#25991;&#26723;&#22312;<a class="link" href="#configcgi" title="5.4.&nbsp;CGI&#37197;&#32622;&#25991;&#20214;&#36873;&#39033;">&#36825;&#37324;</a>&#12290;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="configmain"></a>5.2.&nbsp;&#20027;&#37197;&#32622;&#25991;&#20214;&#36873;&#39033;</h2></div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><p>&#24403;&#21019;&#24314;&#25110;&#32534;&#36753;&#37197;&#32622;&#25991;&#20214;&#26102;&#65292;&#35201;&#36981;&#23432;&#22914;&#19979;&#35201;&#27714;&#65306;</p><div class="itemizedlist"><ul type="disc"><li>&#20197;&#31526;&#21495;'#'&#24320;&#22836;&#30340;&#34892;&#23558;&#35270;&#20026;&#27880;&#37322;&#19981;&#20570;&#22788;&#29702;&#65307;</li><li>&#21464;&#37327;&#24517;&#39035;&#26159;&#26032;&#36215;&#30340;&#19968;&#34892; &#65293; &#21464;&#37327;&#20043;&#21069;&#19981;&#33021;&#26377;&#31354;&#26684;&#31526;&#65307;</li><li>&#21464;&#37327;&#21517;&#26159;&#22823;&#23567;&#20889;&#25935;&#24863;&#30340;&#65307;</li></ul></div></div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#25552;&#31034;</h3><div><img src="../pub/images/tip.gif"></div><p>&#26679;&#20363;&#37197;&#32622;&#25991;&#20214;(<span class="strong"><strong>/usr/local/nagios/etc/nagios.cfg</strong></span>)&#24050;&#32463;&#23433;&#35013;&#21040;&#20301;&#65292;&#22914;&#26524;&#20320;&#26159;&#25353;&#29031;<a class="link" href="#quickstart" title="4.3.&nbsp;&#24555;&#36895;&#23433;&#35013;&#25351;&#21335;">&#24555;&#36895;&#23433;&#35013;&#25351;&#21335;</a>&#26469;&#25805;&#20316;&#30340;&#35805;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3140"></a>5.2.1.&nbsp;&#37197;&#32622;&#25991;&#20214;&#30340;&#20301;&#32622;</h3></div></div></div><p>&#20027;&#37197;&#32622;&#25991;&#20214;&#19968;&#33324;(&#23454;&#38469;&#26159;&#22266;&#23450;&#30340;)&#26159;<span class="strong"><strong>nagios.cfg</strong></span>&#65292;&#23384;&#25918;&#20301;&#32622;&#22312;<span class="strong"><strong>/usr/local/nagios/etc/</strong></span>&#30446;&#24405;&#37324;(&#65293;&#65293;&#22914;&#26524;&#26159;rpm&#21253;&#26469;&#23433;&#35013;&#65292;&#24212;&#35813;&#26159;&#22312;/etc/nagios/)&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3151"></a>5.2.2.&nbsp;&#37197;&#32622;&#25991;&#20214;&#37324;&#30340;&#21464;&#37327;</h3></div></div></div><p>&#19979;&#38754;&#23558;&#23545;&#27599;&#20010;&#20027;&#37197;&#32622;&#25991;&#20214;&#37324;&#30340;&#36873;&#39033;&#36827;&#34892;&#35828;&#26126;...</p><div class="table"><a name="log_file"></a><p class="title"><b>&#34920;&nbsp;5.1.&nbsp;&#26085;&#24535;&#25991;&#20214;</b></p><div class="table-contents"><table summary="&#26085;&#24535;&#25991;&#20214;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>log_file=&lt;file_name&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>log_file=/usr/local/nagios/var/nagios.log</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#36825;&#20010;&#21464;&#37327;&#29992;&#20110;&#35774;&#23450;Nagios&#22312;&#20309;&#22788;&#21019;&#24314;&#20854;&#26085;&#24535;&#25991;&#20214;&#12290;&#23427;&#24212;&#35813;&#26159;&#20320;&#20027;&#37197;&#32622;&#25991;&#20214;&#37324;&#38754;&#30340;&#31532;&#19968;&#20010;&#21464;&#37327;&#65292;&#24403;Nagios&#25214;&#21040;&#20320;&#37197;&#32622;&#25991;&#20214;&#24182;&#21457;&#29616;&#37197;&#32622;&#37324;&#26377;&#38169;&#35823;&#26102;&#20250;&#21521;&#35813;&#25991;&#20214;&#20013;&#20889;&#20837;&#38169;&#35823;&#20449;&#24687;&#12290;&#22914;&#26524;&#20320;&#20351;&#33021;&#20102;<a class="link" href="#log_rotation_method" title="&#34920;&nbsp;5.19.&nbsp;&#26085;&#24535;&#22238;&#28378;&#26041;&#27861;">&#26085;&#24535;&#22238;&#28378;</a>&#65292;Nagios&#23558;&#22312;&#27599;&#23567;&#26102;&#12289;&#27599;&#22825;&#12289;&#27599;&#21608;&#25110;&#27599;&#26376;&#23545;&#26085;&#24535;&#36827;&#34892;&#22238;&#28378;&#12290;</p><div class="table"><a name="cfg_file"></a><p class="title"><b>&#34920;&nbsp;5.2.&nbsp;&#23545;&#35937;&#37197;&#32622;&#25991;&#20214;</b></p><div class="table-contents"><table summary="&#23545;&#35937;&#37197;&#32622;&#25991;&#20214;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>cfg_file=&lt;file_name&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><p><span class="bold"><strong>cfg_file=/usr/local/nagios/etc/hosts.cfg</strong></span></p><p><span class="bold"><strong>cfg_file=/usr/local/nagios/etc/services.cfg</strong></span></p><p><span class="bold"><strong>cfg_file=/usr/local/nagios/etc/commands.cfg</strong></span></p></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#21464;&#37327;&#29992;&#20110;&#25351;&#23450;&#19968;&#20010;&#21253;&#21547;&#26377;&#23558;&#29992;&#20110;Nagios&#30417;&#25511;&#23545;&#35937;&#30340;<a class="link" href="#configobject" title="5.3.&nbsp;&#23545;&#35937;&#37197;&#32622;&#27010;&#35272;">&#23545;&#35937;&#37197;&#32622;&#25991;&#20214;</a>&#12290;&#23545;&#35937;&#37197;&#32622;&#25991;&#20214;&#20013;&#21253;&#25324;&#26377;&#20027;&#26426;&#12289;&#20027;&#26426;&#32452;&#12289;&#32852;&#31995;&#20154;&#12289;&#32852;&#31995;&#20154;&#32452;&#12289;&#26381;&#21153;&#12289;&#21629;&#20196;&#31561;&#31561;&#23545;&#35937;&#30340;&#23450;&#20041;&#12290;&#37197;&#32622;&#20449;&#24687;&#21487;&#20197;&#20999;&#20998;&#20026;&#22810;&#20010;&#25991;&#20214;&#24182;&#19988;&#29992;<span class="strong"><strong>cfg_file=</strong></span>&#35821;&#21477;&#26469;&#25351;&#21521;&#27599;&#20010;&#24453;&#22788;&#29702;&#30340;&#37197;&#32622;&#25991;&#20214;&#12290;</p><div class="table"><a name="cfg_dir"></a><p class="title"><b>&#34920;&nbsp;5.3.&nbsp;&#23545;&#35937;&#37197;&#32622;&#30446;&#24405;</b></p><div class="table-contents"><table summary="&#23545;&#35937;&#37197;&#32622;&#30446;&#24405;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>cfg_dir=&lt;directory_name&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><p><span class="bold"><strong>cfg_dir=/usr/local/nagios/etc/commands</strong></span></p>
<p><span class="bold"><strong>cfg_dir=/usr/local/nagios/etc/services</strong></span></p>
<p><span class="bold"><strong>cfg_dir=/usr/local/nagios/etc/hosts</strong></span></p></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#21464;&#37327;&#29992;&#20110;&#25351;&#23450;&#19968;&#20010;&#30446;&#24405;&#65292;&#30446;&#24405;&#37324;&#21253;&#21547;&#26377;&#23558;&#29992;&#20110;Nagios&#30417;&#25511;&#23545;&#35937;&#30340;<a class="link" href="#configobject" title="5.3.&nbsp;&#23545;&#35937;&#37197;&#32622;&#27010;&#35272;">&#23545;&#35937;&#37197;&#32622;&#25991;&#20214;</a>&#12290;&#25152;&#26377;&#30340;&#22312;&#36825;&#20010;&#30446;&#24405;&#19979;&#30340;&#19988;&#20197;<span class="strong"><strong>.cfg</strong></span>&#20026;&#25193;&#23637;&#21517;&#30340;&#25991;&#20214;&#23558;&#34987;&#20316;&#20026;&#37197;&#32622;&#25991;&#20214;&#26469;&#22788;&#29702;&#12290;&#21478;&#22806;&#65292;Nagios&#23558;&#20250;&#36882;&#24402;&#35813;&#30446;&#24405;&#19979;&#30340;&#23376;&#30446;&#24405;&#24182;&#22788;&#29702;&#20854;&#23376;&#30446;&#24405;&#19979;&#30340;&#20840;&#37096;&#37197;&#32622;&#25991;&#20214;&#12290;&#20320;&#21487;&#20197;&#25226;&#37197;&#32622;&#25918;&#20837;&#19981;&#21516;&#30340;&#30446;&#24405;&#24182;&#19988;&#29992;<span class="strong"><strong>cfg_dir=</strong></span>&#35821;&#21477;&#26469;&#25351;&#21521;&#27599;&#20010;&#24453;&#22788;&#29702;&#30340;&#30446;&#24405;&#12290;</p><div class="table"><a name="object_cache_file"></a><p class="title"><b>&#34920;&nbsp;5.4.&nbsp;&#23545;&#35937;&#32531;&#20914;&#25991;&#20214;</b></p><div class="table-contents"><table summary="&#23545;&#35937;&#32531;&#20914;&#25991;&#20214;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>object_cache_file=&lt;file_name&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>object_cache_file=/usr/local/nagios/var/objects.cache</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#21464;&#37327;&#29992;&#20110;&#25351;&#23450;&#19968;&#20010;&#29992;&#20110;&#32531;&#20914;<a class="link" href="#configobject" title="5.3.&nbsp;&#23545;&#35937;&#37197;&#32622;&#27010;&#35272;">&#23545;&#35937;&#23450;&#20041;</a>&#22797;&#26412;&#30340;&#25991;&#20214;&#23384;&#25918;&#20301;&#32622;&#12290;&#23545;&#35937;&#32531;&#20914;&#23558;&#22312;&#27599;&#27425;Nagios&#30340;&#21551;&#21160;&#21644;&#37325;&#21551;&#26102;&#21644;&#20351;&#29992;CGI&#27169;&#22359;&#26102;&#34987;&#21019;&#24314;&#25110;&#37325;&#24314;&#12290;&#23427;&#35797;&#22270;&#21152;&#24555;&#22312;CGI&#37324;&#30340;&#37197;&#32622;&#32531;&#20914;&#24182;&#20351;&#24471;&#20320;&#22312;&#32534;&#36753;<a class="link" href="#cfg_file" title="&#34920;&nbsp;5.2.&nbsp;&#23545;&#35937;&#37197;&#32622;&#25991;&#20214;">&#23545;&#35937;&#37197;&#32622;&#25991;&#20214;</a>&#26102;&#21487;&#20197;&#35753;&#27491;&#22312;&#36816;&#34892;&#30340;Nagios&#19981;&#24433;&#21709;CGI&#30340;&#26174;&#31034;&#36755;&#20986;&#12290;</p><div class="table"><a name="precached_object_file"></a><p class="title"><b>&#34920;&nbsp;5.5.&nbsp;&#39044;&#32531;&#20914;&#23545;&#35937;&#25991;&#20214;</b></p><div class="table-contents"><table summary="&#39044;&#32531;&#20914;&#23545;&#35937;&#25991;&#20214;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>precached_object_file=&lt;file_name&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>precached_object_file=/usr/local/nagios/var/objects.precache</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#21464;&#37327;&#29992;&#20110;&#25351;&#23450;&#19968;&#20010;&#29992;&#20110;&#25351;&#23450;&#19968;&#20010;&#29992;&#20110;&#39044;&#22788;&#29702;&#12289;&#39044;&#32531;&#20914; This directive is used to specify a file in which a pre-processed, pre-cached copy of <a class="link" href="#configobject" title="5.3.&nbsp;&#23545;&#35937;&#37197;&#32622;&#27010;&#35272;">&#23545;&#35937;&#23450;&#20041;</a>&#22797;&#26412;&#30340;&#25991;&#20214;&#23384;&#25918;&#20301;&#32622;&#12290;&#22312;&#22823;&#22411;&#25110;&#22797;&#26434;Nagios&#23433;&#35013;&#27169;&#24335;&#19979;&#36825;&#20010;&#25991;&#20214;&#21487;&#29992;&#20110;&#26174;&#33879;&#22320;&#20943;&#23569;Nagios&#30340;&#21551;&#21160;&#26102;&#38388;&#12290;&#22914;&#20309;&#21152;&#24555;&#21551;&#21160;&#30340;&#26356;&#22810;&#20449;&#24687;&#21487;&#20197;&#26597;&#30475;<a class="link" href="#faststartup" title="7.3.&nbsp;&#24555;&#36895;&#21551;&#21160;&#36873;&#39033;">&#36825;&#20010;</a>&#20869;&#23481;&#12290;</p><div class="table"><a name="resource_file"></a><p class="title"><b>&#34920;&nbsp;5.6.&nbsp;&#36164;&#28304;&#25991;&#20214;</b></p><div class="table-contents"><table summary="&#36164;&#28304;&#25991;&#20214;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>resource_file=&lt;file_name&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>resource_file=/usr/local/nagios/etc/resource.cfg</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#21464;&#37327;&#29992;&#20110;&#25351;&#23450;&#19968;&#20010;&#21487;&#36873;&#30340;&#21253;&#21547;&#26377;$USERn$<a class="link" href="#macros" title="8.2.&nbsp;&#29702;&#35299;Nagios&#23439;&#21450;&#20854;&#24037;&#20316;&#26426;&#21046;">&#23439;</a>&#23450;&#20041;&#30340;&#21487;&#36873;&#36164;&#28304;&#25991;&#20214;&#12290;$USERn$&#23439;&#22312;&#23384;&#25918;&#29992;&#25143;&#21517;&#12289;&#21475;&#20196;&#21450;&#36890;&#29992;&#30340;&#21629;&#20196;&#23450;&#20041;&#20869;&#23481;(&#22914;&#30446;&#24405;&#36335;&#24452;)&#26102;&#38750;&#24120;&#26377;&#29992;&#12290;CGIs&#27169;&#22359;&#23558;<span class="strong"><strong>&#19981;&#20250;</strong></span>&#35797;&#22270;&#35835;&#21462;&#36164;&#28304;&#25991;&#20214;&#65292;&#25152;&#20197;&#20320;&#21487;&#20197;&#38480;&#23450;&#36825;&#26435;&#25991;&#20214;&#26435;&#38480;(600&#25110;660)&#26469;&#20445;&#25252;&#25935;&#24863;&#20449;&#24687;&#12290;&#20320;&#21487;&#20197;&#22312;&#20027;&#37197;&#32622;&#25991;&#20214;&#37324;&#29992;resource_file&#35821;&#21477;&#26469;&#21152;&#20837;&#22810;&#20010;&#36164;&#28304;&#25991;&#20214;&#65293;Nagios&#23558;&#20250;&#22788;&#29702;&#23427;&#20204;&#12290;&#22914;&#20309;&#23450;&#20041;$USERn$&#23439;&#21442;&#35265;&#26679;&#20363;resource.cfg&#25991;&#20214;&#65292;&#23427;&#25918;&#22312;Nagios&#21457;&#34892;&#21253;&#30340;<span class="strong"><strong>sample-config/</strong></span>&#23376;&#30446;&#24405;&#19979;&#12290;</p><div class="table"><a name="temp_file"></a><p class="title"><b>&#34920;&nbsp;5.7.&nbsp;&#20020;&#26102;&#25991;&#20214;</b></p><div class="table-contents"><table summary="&#20020;&#26102;&#25991;&#20214;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>temp_file=&lt;file_name&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>temp_file=/usr/local/nagios/var/nagios.tmp</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#21464;&#37327;&#29992;&#20110;&#25351;&#23450;&#19968;&#20010;&#20020;&#26102;&#25991;&#20214;&#65292;Nagios&#23558;&#22312;&#26356;&#26032;&#27880;&#37322;&#25968;&#25454;&#12289;&#29366;&#24577;&#25968;&#25454;&#31561;&#26102;&#21608;&#26399;&#24615;&#22320;&#21019;&#24314;&#23427;&#12290;&#35813;&#25991;&#20214;&#19981;&#20877;&#38656;&#35201;&#26102;&#20250;&#21024;&#38500;&#23427;&#12290;</p><div class="table"><a name="temp_path"></a><p class="title"><b>&#34920;&nbsp;5.8.&nbsp;&#20020;&#26102;&#36335;&#24452;</b></p><div class="table-contents"><table summary="&#20020;&#26102;&#36335;&#24452;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>temp_path=&lt;dir_name&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>temp_path=/tmp</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#36825;&#20010;&#21464;&#37327;&#26159;&#19968;&#20010;&#30446;&#24405;&#65292;&#35813;&#30446;&#24405;&#26159;&#22359;&#39134;&#22320;&#65292;&#22312;&#30417;&#25511;&#36807;&#31243;&#20013;&#29992;&#20110;&#21019;&#24314;&#20020;&#26102;&#25991;&#20214;&#12290;&#20320;&#24212;&#22312;&#35813;&#30446;&#24405;&#20869;&#36816;&#34892;<span class="strong"><strong>tmpwatch</strong></span>&#25110;&#31867;&#20284;&#30340;&#24037;&#20855;&#31243;&#24207;&#20197;&#21024;&#38500;&#26089;&#20110;24&#23567;&#26102;&#30340;&#25991;&#20214;(&#36825;&#26159;&#20010;&#22403;&#22334;&#25991;&#20214;&#23384;&#25918;&#22320;)&#12290;</p><div class="table"><a name="status_file"></a><p class="title"><b>&#34920;&nbsp;5.9.&nbsp;&#29366;&#24577;&#25991;&#20214;</b></p><div class="table-contents"><table summary="&#29366;&#24577;&#25991;&#20214;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>status_file=&lt;file_name&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>status_file=/usr/local/nagios/var/status.dat</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#36825;&#20010;&#21464;&#37327;&#25351;&#21521;&#19968;&#20010;&#25991;&#20214;&#65292;&#25991;&#20214;&#34987;Nagios&#29992;&#20110;&#20445;&#23384;&#24403;&#21069;&#29366;&#24577;&#12289;&#27880;&#37322;&#21644;&#23445;&#26426;&#20449;&#24687;&#12290;CGI&#27169;&#22359;&#20063;&#20250;&#29992;&#36825;&#20010;&#25991;&#20214;&#20197;&#36890;&#36807;Web&#25509;&#21475;&#26469;&#26174;&#31034;&#24403;&#21069;&#34987;&#30417;&#25511;&#30340;&#29366;&#24577;&#65292;CGI&#27169;&#22359;&#24517;&#39035;&#35201;&#26377;&#36825;&#20010;&#25991;&#20214;&#30340;&#35835;&#21462;&#26435;&#38480;&#20197;&#20351;&#24037;&#20316;&#27491;&#24120;&#12290;&#22312;Nagios&#20572;&#26426;&#25110;&#22312;&#37325;&#21551;&#21160;&#26102;&#23558;&#20250;&#21024;&#38500;&#24182;&#37325;&#24314;&#35813;&#25991;&#20214;&#12290;</p><div class="table"><a name="status_update_interval"></a><p class="title"><b>&#34920;&nbsp;5.10.&nbsp;&#29366;&#24577;&#25991;&#20214;&#26356;&#26032;&#38388;&#38548;</b></p><div class="table-contents"><table summary="&#29366;&#24577;&#25991;&#20214;&#26356;&#26032;&#38388;&#38548;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>status_update_interval=&lt;seconds&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>status_update_interval=15</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#36825;&#20010;&#21464;&#37327;&#35774;&#32622;&#20102;Nagios&#26356;&#26032;<a class="link" href="#status_file" title="&#34920;&nbsp;5.9.&nbsp;&#29366;&#24577;&#25991;&#20214;">&#29366;&#24577;&#25991;&#20214;</a>&#30340;&#36895;&#24230;(&#31186;&#20026;&#21333;&#20301;)&#65292;&#26368;&#23567;&#26356;&#26032;&#38388;&#38548;&#26159;1&#31186;&#12290;</p><div class="table"><a name="nagios_user"></a><p class="title"><b>&#34920;&nbsp;5.11.&nbsp;Nagios&#29992;&#25143;</b></p><div class="table-contents"><table summary="Nagios&#29992;&#25143;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>nagios_user=&lt;username/UID&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>nagios_user=nagios</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#21464;&#37327;&#25351;&#23450;&#20102;Nagios&#36827;&#31243;&#20351;&#29992;&#21738;&#20010;&#29992;&#25143;&#36816;&#34892;&#12290;&#24403;&#31243;&#24207;&#21551;&#21160;&#23436;&#25104;&#24182;&#24320;&#22987;&#30417;&#25511;&#23545;&#35937;&#20043;&#21069;&#65292;Nagios&#23558;&#20999;&#25442;&#33258;&#24049;&#30340;&#26435;&#38480;&#24182;&#20351;&#29992;&#35813;&#29992;&#25143;&#26435;&#38480;&#36816;&#34892;&#12290;&#20320;&#21487;&#20197;&#25351;&#23450;&#29992;&#25143;&#25110;&#26159;UID&#21517;&#12290;</p><div class="table"><a name="nagios_group"></a><p class="title"><b>&#34920;&nbsp;5.12.&nbsp;Nagios&#32452;</b></p><div class="table-contents"><table summary="Nagios&#32452;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>nagios_group=&lt;groupname/GID&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>nagios_group=nagios</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#21464;&#37327;&#29992;&#20110;&#25351;&#23450;Nagios&#20351;&#29992;&#21738;&#20010;&#29992;&#25143;&#32452;&#36816;&#34892;&#12290;&#24403;&#31243;&#24207;&#21551;&#21160;&#23436;&#25104;&#24182;&#24320;&#22987;&#30417;&#25511;&#23545;&#35937;&#20043;&#21069;&#65292;Nagios&#23558;&#20999;&#25442;&#33258;&#24049;&#30340;&#26435;&#38480;&#24182;&#20197;&#35813;&#29992;&#25143;&#32452;&#26435;&#38480;&#36816;&#34892;&#12290;&#20320;&#21487;&#20197;&#25341;&#23450;&#29992;&#25143;&#32452;&#25110;GID&#21517;&#12290;</p><div class="table"><a name="enable_notifications"></a><p class="title"><b>&#34920;&nbsp;5.13.&nbsp;&#36890;&#30693;&#36873;&#39033;</b></p><div class="table-contents"><table summary="&#36890;&#30693;&#36873;&#39033;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>enable_notifications=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>enable_notifications=1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#20915;&#23450;&#20102;Nagios&#22312;&#21021;&#22987;&#21270;&#21551;&#21160;&#25110;&#37325;&#21551;&#21160;&#26102;&#26159;&#21542;&#35201;&#36865;&#20986;<a class="link" href="#notifications" title="6.7.&nbsp;&#36890;&#30693;">&#36890;&#30693;</a>&#12290;&#22914;&#26524;&#36825;&#20010;&#36873;&#39033;&#19981;&#20351;&#33021;&#65292;Nagios&#23558;&#19981;&#20250;&#21521;&#20219;&#20309;&#20027;&#26426;&#25110;&#26381;&#21153;&#36865;&#20986;&#36890;&#30693;&#12290;&#27880;&#24847;&#65292;&#22914;&#26524;&#20320;&#25171;&#24320;&#20102;<a class="link" href="#retain_state_information" title="&#34920;&nbsp;5.26.&nbsp;&#29366;&#24577;&#20445;&#25345;&#36873;&#39033;">&#29366;&#24577;&#20445;&#25345;</a>&#36873;&#39033;&#65292;Nagios&#22312;&#20854;&#21551;&#21160;&#21644;&#37325;&#21551;&#26102;&#23558;&#24573;&#30053;&#27492;&#35774;&#32622;&#24182;&#29992;&#36825;&#20010;&#36873;&#39033;&#30340;&#26368;&#36817;&#30340;&#19968;&#20010;&#35774;&#32622;(&#24050;&#32463;&#20445;&#23384;&#22312;<a class="link" href="#state_retention_file" title="&#34920;&nbsp;5.27.&nbsp;&#29366;&#24577;&#20445;&#25345;&#25991;&#20214;">&#29366;&#24577;&#20445;&#25345;&#25991;&#20214;</a>)&#30340;&#20540;&#26469;&#24037;&#20316;&#65292;<span class="strong"><strong>&#38500;&#38750;</strong></span>&#20320;&#21462;&#28040;&#20102;<a class="link" href="#use_retained_program_state" title="&#34920;&nbsp;5.29.&nbsp;&#31243;&#24207;&#25152;&#29992;&#29366;&#24577;&#30340;&#20351;&#29992;&#36873;&#39033;">use_retained_program_state</a>&#36873;&#39033;&#12290;&#22914;&#26524;&#20320;&#24819;&#22312;&#20351;&#33021;&#29366;&#24577;&#20445;&#23384;&#36873;&#39033;(&#24182;&#19988;&#26159;<a class="link" href="#use_retained_program_state" title="&#34920;&nbsp;5.29.&nbsp;&#31243;&#24207;&#25152;&#29992;&#29366;&#24577;&#30340;&#20351;&#29992;&#36873;&#39033;">use_retained_program_state</a>&#20351;&#33021;)&#30340;&#24773;&#20917;&#19979;&#26356;&#25913;&#36825;&#20010;&#36873;&#39033;&#65292;&#20320;&#24517;&#39035;&#35201;&#36890;&#36807;&#21512;&#36866;&#30340;<a class="link" href="#extcommands" title="6.9.&nbsp;&#22806;&#37096;&#21629;&#20196;">&#22806;&#37096;&#21629;&#20196;</a>&#25110;&#26159;&#36890;&#36807;Web&#25509;&#21475;&#26469;&#20462;&#25913;&#23427;&#12290;&#36873;&#39033;&#30340;&#21462;&#20540;&#21487;&#20197;&#26159;&#65306;</p><div class="orderedlist"><ol type="1"><li>0 = &#20851;&#38381;&#36890;&#30693;</li><li>1 = &#25171;&#24320;&#36890;&#30693;(&#40664;&#35748;)</li></ol></div><div class="table"><a name="execute_service_checks"></a><p class="title"><b>&#34920;&nbsp;5.14.&nbsp;&#26381;&#21153;&#26816;&#27979;&#25191;&#34892;&#36873;&#39033;</b></p><div class="table-contents"><table summary="&#26381;&#21153;&#26816;&#27979;&#25191;&#34892;&#36873;&#39033;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>execute_service_checks=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>execute_service_checks=1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#36825;&#20010;&#36873;&#39033;&#25351;&#23450;&#20102;Nagios&#22312;&#21021;&#22987;&#30340;&#21551;&#21160;&#25110;&#37325;&#21551;&#26102;&#26159;&#21542;&#35201;&#25191;&#34892;&#26381;&#21153;&#26816;&#27979;&#12290;&#22914;&#26524;&#36825;&#20010;&#27809;&#26377;&#20351;&#33021;&#65292;Nagios&#23558;&#19981;&#20250;&#20027;&#21160;&#22320;&#25191;&#34892;&#20219;&#20309;&#26381;&#21153;&#30340;&#26816;&#27979;&#24182;&#19988;&#20445;&#25345;&#19968;&#31995;&#21015;&#30340;"&#38745;&#40664;"&#29366;&#24577;(&#23427;&#20173;&#26087;&#21487;&#20197;&#25509;&#25910;<a class="link" href="#passivechecks" title="6.14.&nbsp;&#24378;&#21046;&#26816;&#27979;">&#24378;&#21046;&#26816;&#27979;</a>&#38500;&#38750;&#20320;&#24050;&#32463;&#23558;<a class="link" href="#accept_passive_service_checks" title="&#34920;&nbsp;5.15.&nbsp;&#24378;&#21046;&#26381;&#21153;&#26816;&#27979;&#32467;&#26524;&#25509;&#21463;&#36873;&#39033;">accept_passive_service_checks</a>&#36873;&#39033;&#20851;&#38381;)&#12290;&#36825;&#20010;&#36873;&#39033;&#32463;&#24120;&#29992;&#20110;&#22791;&#20221;&#34987;&#30417;&#25511;&#26381;&#21153;&#37197;&#32622;&#65292;&#34987;&#30417;&#25511;&#26381;&#21153;&#30340;&#37197;&#32622;&#22791;&#20221;&#22312;&#25991;&#26723;<a class="link" href="#redundancy" title="9.3.&nbsp;&#20887;&#20313;&#24335;&#19982;&#22833;&#25928;&#24335;&#32593;&#32476;&#30417;&#25511;">&#20887;&#20313;&#23433;&#35013;</a>&#25110;&#35774;&#32622;&#25104;&#19968;&#20010;<a class="link" href="#distributed" title="9.2.&nbsp;&#20998;&#24067;&#24335;&#30417;&#25511;">&#20998;&#24067;&#24335;</a>&#30417;&#25511;&#29615;&#22659;&#20013;&#26377;&#25551;&#36848;&#12290;&#27880;&#24847;&#65306;&#22914;&#26524;&#20320;&#24050;&#32463;&#20351;&#33021;&#20102;<a class="link" href="#retain_state_information" title="&#34920;&nbsp;5.26.&nbsp;&#29366;&#24577;&#20445;&#25345;&#36873;&#39033;">&#29366;&#24577;&#20445;&#25345;</a>&#65292;Nagios&#22312;&#20854;&#21551;&#21160;&#25110;&#37325;&#21551;&#26102;&#23558;&#20250;&#24573;&#30053;&#36825;&#20010;&#36873;&#39033;&#35774;&#32622;&#24182;&#20351;&#29992;&#21644;&#26087;&#30340;&#35774;&#32622;&#20540;(&#26087;&#20540;&#20445;&#23384;&#20110;<a class="link" href="#state_retention_file" title="&#34920;&nbsp;5.27.&nbsp;&#29366;&#24577;&#20445;&#25345;&#25991;&#20214;">&#29366;&#24577;&#20445;&#25345;&#25991;&#20214;</a>)&#65292;<span class="strong"><strong>&#38500;&#38750;</strong></span>&#20320;&#20851;&#38381;&#20102;<a class="link" href="#use_retained_program_state" title="&#34920;&nbsp;5.29.&nbsp;&#31243;&#24207;&#25152;&#29992;&#29366;&#24577;&#30340;&#20351;&#29992;&#36873;&#39033;">use_retained_program_state</a>&#36873;&#39033;&#12290;&#22914;&#26524;&#20320;&#24819;&#22312;&#29366;&#24577;&#20445;&#25345;&#20351;&#33021;(&#21644;<a class="link" href="#use_retained_program_state" title="&#34920;&nbsp;5.29.&nbsp;&#31243;&#24207;&#25152;&#29992;&#29366;&#24577;&#30340;&#20351;&#29992;&#36873;&#39033;">use_retained_program_state</a>&#36873;&#39033;&#20351;&#33021;)&#30340;&#24773;&#20917;&#19979;&#20462;&#25913;&#36825;&#20010;&#36873;&#39033;&#65292;&#20320;&#21482;&#24471;&#29992;&#36866;&#24403;&#30340;<a class="link" href="#extcommands" title="6.9.&nbsp;&#22806;&#37096;&#21629;&#20196;">&#22806;&#37096;&#21629;&#20196;</a>&#25110;&#26159;&#36890;&#36807;Web&#25509;&#21475;&#26469;&#20462;&#25913;&#23427;&#12290;&#36873;&#39033;&#21487;&#29992;&#30340;&#20540;&#26377;&#65306;</p><div class="orderedlist"><ol type="1"><li>0 = &#19981;&#25191;&#34892;&#26381;&#21153;&#26816;&#27979;</li><li>1 = &#25191;&#34892;&#26381;&#21153;&#26816;&#27979;(&#40664;&#35748;)</li></ol></div><div class="table"><a name="accept_passive_service_checks"></a><p class="title"><b>&#34920;&nbsp;5.15.&nbsp;&#24378;&#21046;&#26381;&#21153;&#26816;&#27979;&#32467;&#26524;&#25509;&#21463;&#36873;&#39033;</b></p><div class="table-contents"><table summary="&#24378;&#21046;&#26381;&#21153;&#26816;&#27979;&#32467;&#26524;&#25509;&#21463;&#36873;&#39033;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>accept_passive_service_checks=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>accept_passive_service_checks=1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#20915;&#23450;&#20102;Nagios&#22312;&#20854;&#21021;&#22987;&#21270;&#21551;&#21160;&#25110;&#37325;&#21551;&#21518;&#26159;&#21542;&#35201;&#25480;&#21463;<a class="link" href="#passivechecks" title="6.14.&nbsp;&#24378;&#21046;&#26816;&#27979;">&#24378;&#21046;&#26381;&#21153;&#26816;&#27979;</a>&#65292;&#22914;&#26524;&#23427;&#20851;&#38381;&#20102;&#65292;Nagios&#23558;&#19981;&#20250;&#25509;&#21463;&#20219;&#20309;&#24378;&#21046;&#26381;&#21153;&#26816;&#27979;&#32467;&#26524;&#12290;&#27880;&#24847;&#65306;&#22914;&#26524;&#20320;&#24050;&#32463;&#20351;&#33021;&#20102;<a class="link" href="#retain_state_information" title="&#34920;&nbsp;5.26.&nbsp;&#29366;&#24577;&#20445;&#25345;&#36873;&#39033;">&#29366;&#24577;&#20445;&#25345;</a>&#65292;Nagios&#22312;&#20854;&#21551;&#21160;&#25110;&#37325;&#21551;&#26102;&#23558;&#20250;&#24573;&#30053;&#36825;&#20010;&#36873;&#39033;&#35774;&#32622;&#24182;&#20351;&#29992;&#21644;&#26087;&#30340;&#35774;&#32622;&#20540;(&#26087;&#20540;&#20445;&#23384;&#20110;<a class="link" href="#state_retention_file" title="&#34920;&nbsp;5.27.&nbsp;&#29366;&#24577;&#20445;&#25345;&#25991;&#20214;">&#29366;&#24577;&#20445;&#25345;&#25991;&#20214;</a>)&#65292;<span class="strong"><strong>&#38500;&#38750;</strong></span>&#20320;&#20851;&#38381;&#20102;<a class="link" href="#use_retained_program_state" title="&#34920;&nbsp;5.29.&nbsp;&#31243;&#24207;&#25152;&#29992;&#29366;&#24577;&#30340;&#20351;&#29992;&#36873;&#39033;">use_retained_program_state</a>&#36873;&#39033;&#12290;&#22914;&#26524;&#20320;&#24819;&#22312;&#29366;&#24577;&#20445;&#25345;&#20351;&#33021;(&#21644;<a class="link" href="#use_retained_program_state" title="&#34920;&nbsp;5.29.&nbsp;&#31243;&#24207;&#25152;&#29992;&#29366;&#24577;&#30340;&#20351;&#29992;&#36873;&#39033;">use_retained_program_state</a>&#36873;&#39033;&#20351;&#33021;)&#30340;&#24773;&#20917;&#19979;&#20462;&#25913;&#36825;&#20010;&#36873;&#39033;&#65292;&#20320;&#21482;&#24471;&#29992;&#36866;&#24403;&#30340;<a class="link" href="#extcommands" title="6.9.&nbsp;&#22806;&#37096;&#21629;&#20196;">&#22806;&#37096;&#21629;&#20196;</a>&#25110;&#26159;&#36890;&#36807;Web&#25509;&#21475;&#26469;&#20462;&#25913;&#23427;&#12290;&#36873;&#39033;&#21487;&#29992;&#30340;&#20540;&#26377;&#65306;</p><div class="orderedlist"><ol type="1"><li>0 = &#19981;&#25509;&#21463;&#24378;&#21046;&#26381;&#21153;&#26816;&#27979;&#32467;&#26524;</li><li>1 = &#25509;&#21463;&#24378;&#21046;&#26381;&#21153;&#26816;&#27979;&#32467;&#26524;(&#40664;&#35748;)</li></ol></div><div class="table"><a name="execute_host_checks"></a><p class="title"><b>&#34920;&nbsp;5.16.&nbsp;&#20027;&#26426;&#26816;&#27979;&#25191;&#34892;&#36873;&#39033;</b></p><div class="table-contents"><table summary="&#20027;&#26426;&#26816;&#27979;&#25191;&#34892;&#36873;&#39033;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>execute_host_checks=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>execute_host_checks=1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#23558;&#20915;&#23450;Nagios&#22312;&#21021;&#22987;&#22320;&#21551;&#21160;&#25110;&#37325;&#21551;&#26102;&#26159;&#21542;&#25191;&#34892;&#25353;&#38656;&#22320;&#21644;&#26377;&#35268;&#24459;&#35268;&#21010;&#26816;&#27979;&#12290;&#22914;&#26524;&#35813;&#36873;&#39033;&#19981;&#20351;&#33021;&#65292;&#37027;&#20040;Nagios&#23558;&#19981;&#20250;&#23545;&#20219;&#20309;&#20027;&#26426;&#36827;&#34892;&#26816;&#27979;&#65292;&#28982;&#32780;&#23427;&#20173;&#26087;&#21487;&#20197;&#25509;&#25910;<a class="link" href="#passivechecks" title="6.14.&nbsp;&#24378;&#21046;&#26816;&#27979;">&#24378;&#21046;&#20027;&#26426;&#26816;&#27979;</a>&#32467;&#26524;&#38500;&#38750;&#20320;&#24050;&#32463;&#23558;<a class="link" href="#accept_passive_host_checks" title="&#34920;&nbsp;5.17.&nbsp;&#24378;&#21046;&#20027;&#26426;&#26816;&#27979;&#25509;&#21463;&#36873;&#39033;">accept_passive_host_checks</a>&#36873;&#39033;&#20851;&#38381;&#12290;&#35813;&#36873;&#39033;&#36890;&#24120;&#29992;&#20110;&#30417;&#25511;&#26381;&#21153;&#22120;&#30340;&#37197;&#32622;&#22791;&#20221;&#65292;&#35814;&#32454;&#20449;&#24687;&#35831;&#26597;&#30475;<a class="link" href="#redundancy" title="9.3.&nbsp;&#20887;&#20313;&#24335;&#19982;&#22833;&#25928;&#24335;&#32593;&#32476;&#30417;&#25511;">&#20887;&#20313;&#23433;&#35013;</a>&#30340;&#37197;&#32622;&#65292;&#25110;&#26159;&#29992;&#20110;&#35774;&#32622;&#19968;&#20010;<a class="link" href="#distributed" title="9.2.&nbsp;&#20998;&#24067;&#24335;&#30417;&#25511;">&#20998;&#24067;&#24335;</a>&#30417;&#25511;&#29615;&#22659;&#20013;&#12290;&#27880;&#24847;&#65306;&#22914;&#26524;&#20320;&#24050;&#32463;&#20351;&#33021;<a class="link" href="#retain_state_information" title="&#34920;&nbsp;5.26.&nbsp;&#29366;&#24577;&#20445;&#25345;&#36873;&#39033;">retain_state_information</a>&#29366;&#24577;&#20445;&#25345;&#36873;&#39033;&#65292;Nagios&#23558;&#22312;&#21551;&#21160;&#21644;&#37325;&#21551;&#26102;&#20351;&#29992;&#26087;&#30340;&#36873;&#39033;&#20540;(&#20445;&#23384;&#20110;<a class="link" href="#state_retention_file" title="&#34920;&nbsp;5.27.&nbsp;&#29366;&#24577;&#20445;&#25345;&#25991;&#20214;">state_retention_file</a>&#29366;&#24577;&#20445;&#25345;&#25991;&#20214;&#20013;)&#32780;&#24573;&#30053;&#27492;&#35774;&#32622;&#65292;<span class="strong"><strong>&#38500;&#38750;</strong></span>&#20320;&#20851;&#38381;&#20102;<a class="link" href="#use_retained_program_state" title="&#34920;&nbsp;5.29.&nbsp;&#31243;&#24207;&#25152;&#29992;&#29366;&#24577;&#30340;&#20351;&#29992;&#36873;&#39033;">use_retained_program_state</a>&#36873;&#39033;&#12290;&#22914;&#26524;&#20320;&#24819;&#22312;&#20445;&#25345;&#36873;&#39033;&#20351;&#33021;(&#19988;<a class="link" href="#use_retained_program_state" title="&#34920;&nbsp;5.29.&nbsp;&#31243;&#24207;&#25152;&#29992;&#29366;&#24577;&#30340;&#20351;&#29992;&#36873;&#39033;">use_retained_program_state</a>&#36873;&#39033;&#20351;&#33021;)&#30340;&#24773;&#20917;&#19979;&#20462;&#25913;&#36825;&#20010;&#36873;&#39033;&#65292;&#20320;&#21482;&#24471;&#29992;&#36866;&#24403;&#30340;<a class="link" href="#extcommands" title="6.9.&nbsp;&#22806;&#37096;&#21629;&#20196;">&#22806;&#37096;&#21629;&#20196;</a>&#25110;&#26159;&#36890;&#36807;Web&#25509;&#21475;&#26469;&#20462;&#25913;&#23427;&#12290;&#36873;&#39033;&#21487;&#29992;&#30340;&#20540;&#26377;&#65306;</p><div class="orderedlist"><ol type="1"><li>0 = &#19981;&#25191;&#34892;&#20027;&#26426;&#26816;&#27979;</li><li>1 = &#25191;&#34892;&#20027;&#26426;&#26816;&#27979;(&#40664;&#35748;)</li></ol></div><div class="table"><a name="accept_passive_host_checks"></a><p class="title"><b>&#34920;&nbsp;5.17.&nbsp;&#24378;&#21046;&#20027;&#26426;&#26816;&#27979;&#25509;&#21463;&#36873;&#39033;</b></p><div class="table-contents"><table summary="&#24378;&#21046;&#20027;&#26426;&#26816;&#27979;&#25509;&#21463;&#36873;&#39033;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>accept_passive_host_checks=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>accept_passive_host_checks=1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#20915;&#23450;&#20102;&#22312;Nagios&#21021;&#22987;&#21551;&#21160;&#25110;&#37325;&#21551;&#21518;&#26159;&#21542;&#35201;&#25509;&#21463;<a class="link" href="#passivechecks" title="6.14.&nbsp;&#24378;&#21046;&#26816;&#27979;">&#24378;&#21046;&#20027;&#26426;&#26816;&#27979;</a>&#32467;&#26524;&#12290;&#22914;&#26524;&#36825;&#20010;&#36873;&#39033;&#20851;&#38381;&#65292;Nagios&#23558;&#19981;&#20877;&#25509;&#21463;&#20219;&#20309;&#24378;&#21046;&#20027;&#26426;&#26816;&#27979;&#32467;&#26524;&#12290;&#27880;&#24847;&#65306;&#22914;&#26524;&#20320;&#20351;&#33021;<a class="link" href="#retain_state_information" title="&#34920;&nbsp;5.26.&nbsp;&#29366;&#24577;&#20445;&#25345;&#36873;&#39033;">retain_state_information</a>&#29366;&#24577;&#20445;&#25345;&#36873;&#39033;&#65292;Nagios&#23558;&#22312;&#21551;&#21160;&#25110;&#37325;&#21551;&#21160;&#26102;&#20351;&#29992;&#26087;&#30340;&#36873;&#39033;&#35774;&#32622;(&#20445;&#23384;&#20110;<a class="link" href="#state_retention_file" title="&#34920;&nbsp;5.27.&nbsp;&#29366;&#24577;&#20445;&#25345;&#25991;&#20214;">state_retention_file</a>&#29366;&#24577;&#20445;&#25345;&#25991;&#20214;&#20013;)&#32780;&#24573;&#30053;&#36825;&#20010;&#35774;&#32622;&#12290;<span class="strong"><strong>&#38500;&#38750;</strong></span>&#20320;&#24050;&#32463;&#20851;&#38381;<a class="link" href="#use_retained_program_state" title="&#34920;&nbsp;5.29.&nbsp;&#31243;&#24207;&#25152;&#29992;&#29366;&#24577;&#30340;&#20351;&#29992;&#36873;&#39033;">use_retained_program_state</a>&#36873;&#39033;&#12290;&#22914;&#26524;&#20320;&#24819;&#22312;&#20445;&#25345;&#36873;&#39033;&#20351;&#33021;(&#19988;<a class="link" href="#use_retained_program_state" title="&#34920;&nbsp;5.29.&nbsp;&#31243;&#24207;&#25152;&#29992;&#29366;&#24577;&#30340;&#20351;&#29992;&#36873;&#39033;">use_retained_program_state</a>&#36873;&#39033;&#20351;&#33021;)&#30340;&#24773;&#20917;&#19979;&#20462;&#25913;&#36825;&#20010;&#36873;&#39033;&#65292;&#20320;&#21482;&#24471;&#29992;&#36866;&#24403;&#30340;<a class="link" href="#extcommands" title="6.9.&nbsp;&#22806;&#37096;&#21629;&#20196;">&#22806;&#37096;&#21629;&#20196;</a>&#25110;&#26159;&#36890;&#36807;Web&#25509;&#21475;&#26469;&#20462;&#25913;&#23427;&#12290;&#36873;&#39033;&#21487;&#29992;&#30340;&#20540;&#26377;&#65306;</p><div class="orderedlist"><ol type="1"><li>0 = &#19981;&#25509;&#21463;&#24378;&#21046;&#20027;&#26426;&#26816;&#27979;&#32467;&#26524;</li><li>1 = &#25509;&#21463;&#24378;&#21046;&#20027;&#26426;&#26816;&#27979;&#32467;&#26524;(&#40664;&#35748;)</li></ol></div><div class="table"><a name="enable_event_handlers"></a><p class="title"><b>&#34920;&nbsp;5.18.&nbsp;&#20107;&#20214;&#22788;&#29702;&#36873;&#39033;</b></p><div class="table-contents"><table summary="&#20107;&#20214;&#22788;&#29702;&#36873;&#39033;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>enable_event_handlers=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>enable_event_handlers=1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#20915;&#23450;&#20102;&#22312;Nagios&#21021;&#22987;&#21551;&#21160;&#25110;&#37325;&#21551;&#21518;&#26159;&#21542;&#35201;&#36816;&#34892;<a class="link" href="#eventhandlers" title="6.8.&nbsp;&#20107;&#20214;&#22788;&#29702;">&#20107;&#20214;&#22788;&#29702;</a>&#65292;&#22914;&#26524;&#35813;&#36873;&#39033;&#20851;&#38381;&#65292;Nagios&#23558;&#19981;&#20570;&#20219;&#20309;&#20027;&#26426;&#25110;&#26381;&#21153;&#30340;&#20107;&#20214;&#22788;&#29702;&#12290;&#27880;&#24847;&#65306;&#22914;&#26524;&#20320;&#20351;&#33021;<a class="link" href="#retain_state_information" title="&#34920;&nbsp;5.26.&nbsp;&#29366;&#24577;&#20445;&#25345;&#36873;&#39033;">retain_state_information</a>&#29366;&#24577;&#20445;&#25345;&#36873;&#39033;(&#20445;&#23384;&#20110;<a class="link" href="#state_retention_file" title="&#34920;&nbsp;5.27.&nbsp;&#29366;&#24577;&#20445;&#25345;&#25991;&#20214;">state_retention_file</a>&#29366;&#24577;&#20445;&#25345;&#25991;&#20214;&#20013;)&#32780;&#24573;&#30053;&#36825;&#20010;&#35774;&#32622;&#65292;<span class="strong"><strong>&#38500;&#38750;</strong></span>&#20320;&#24050;&#32463;&#20851;&#38381;<a class="link" href="#use_retained_program_state" title="&#34920;&nbsp;5.29.&nbsp;&#31243;&#24207;&#25152;&#29992;&#29366;&#24577;&#30340;&#20351;&#29992;&#36873;&#39033;">use_retained_program_state</a>&#36873;&#39033;&#12290;&#22914;&#26524;&#20320;&#24819;&#22312;&#20445;&#25345;&#36873;&#39033;&#20351;&#33021;(&#19988;<a class="link" href="#use_retained_program_state" title="&#34920;&nbsp;5.29.&nbsp;&#31243;&#24207;&#25152;&#29992;&#29366;&#24577;&#30340;&#20351;&#29992;&#36873;&#39033;">use_retained_program_state</a>&#36873;&#39033;&#20351;&#33021;)&#30340;&#24773;&#20917;&#19979;&#20462;&#25913;&#36825;&#20010;&#36873;&#39033;&#65292;&#20320;&#21482;&#24471;&#29992;&#36866;&#24403;&#30340;<a class="link" href="#extcommands" title="6.9.&nbsp;&#22806;&#37096;&#21629;&#20196;">&#22806;&#37096;&#21629;&#20196;</a>&#25110;&#26159;&#36890;&#36807;Web&#25509;&#21475;&#26469;&#20462;&#25913;&#23427;&#12290;&#36873;&#39033;&#21487;&#29992;&#30340;&#20540;&#26377;&#65306;</p><div class="orderedlist"><ol type="1"><li>0 = &#31105;&#27490;&#20107;&#20214;&#22788;&#29702;</li><li>1 = &#25171;&#24320;&#20107;&#20214;&#22788;&#29702;(&#40664;&#35748;)</li></ol></div><div class="table"><a name="log_rotation_method"></a><p class="title"><b>&#34920;&nbsp;5.19.&nbsp;&#26085;&#24535;&#22238;&#28378;&#26041;&#27861;</b></p><div class="table-contents"><table summary="&#26085;&#24535;&#22238;&#28378;&#26041;&#27861;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>log_rotation_method=&lt;n/h/d/w/m&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>log_rotation_method=d</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#20915;&#23450;&#20102;&#20320;&#24819;&#35753;Nagios&#20197;&#20309;&#31181;&#26041;&#27861;&#22238;&#28378;&#20320;&#30340;&#26085;&#24535;&#25991;&#20214;&#12290;&#21487;&#29992;&#30340;&#20540;&#26377;&#65306;</p><div class="orderedlist"><ol type="1"><li>n = None (&#19981;&#20570;&#26085;&#24535;&#22238;&#28378; &#65293; &#36825;&#20010;&#26159;&#40664;&#35748;&#20540;)</li><li>h = Hourly (&#27599;&#23567;&#26102;&#20570;&#19968;&#27425;&#26085;&#24535;&#22238;&#28378;)</li><li>d = Daily (&#27599;&#22825;&#21320;&#22812;&#20570;&#26085;&#24535;&#22238;&#28378;)</li><li>w = Weekly (&#27599;&#21608;&#20845;&#21320;&#22812;&#20570;&#26085;&#24535;&#22238;&#28378;)</li><li>m = Monthly (&#27599;&#26376;&#26368;&#21518;&#19968;&#22825;&#30340;&#21320;&#22812;&#20570;&#26085;&#24535;&#22238;&#28378;)</li></ol></div><div class="table"><a name="log_archive_path"></a><p class="title"><b>&#34920;&nbsp;5.20.&nbsp;&#26085;&#24535;&#25171;&#21253;&#36335;&#24452;</b></p><div class="table-contents"><table summary="&#26085;&#24535;&#25171;&#21253;&#36335;&#24452;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>log_archive_path=&lt;path&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>log_archive_path=/usr/local/nagios/var/archives/</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#23558;&#25351;&#23450;&#19968;&#20010;&#29992;&#20110;&#23384;&#25918;&#22238;&#28378;&#26085;&#24535;&#25991;&#20214;&#30340;&#20445;&#23384;&#36335;&#24452;&#12290;&#22914;&#26524;&#27809;&#26377;&#20351;&#29992;<a class="link" href="#log_rotation_method" title="&#34920;&nbsp;5.19.&nbsp;&#26085;&#24535;&#22238;&#28378;&#26041;&#27861;">&#26085;&#24535;&#22238;&#28378;</a>&#21151;&#33021;&#26102;&#20250;&#24573;&#30053;&#27492;&#35774;&#32622;&#12290;</p><div class="table"><a name="check_external_commands"></a><p class="title"><b>&#34920;&nbsp;5.21.&nbsp;&#22806;&#37096;&#21629;&#20196;&#26816;&#26597;&#36873;&#39033;</b></p><div class="table-contents"><table summary="&#22806;&#37096;&#21629;&#20196;&#26816;&#26597;&#36873;&#39033;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>check_external_commands=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>check_external_commands=1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#20915;&#23450;&#20102;Nagios&#26159;&#21542;&#35201;&#26816;&#26597;&#23384;&#20110;<a class="link" href="#command_file" title="&#34920;&nbsp;5.23.&nbsp;&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;">&#21629;&#20196;&#25991;&#20214;</a>&#37324;&#30340;&#23558;&#35201;&#25191;&#34892;&#30340;&#21629;&#20196;&#12290;&#36825;&#20010;&#36873;&#39033;&#22312;&#20320;&#35745;&#21010;&#36890;&#36807;Web&#25509;&#21475;&#26469;&#36816;&#34892;<a class="link" href="#cgis_cmd_cgi">CGI&#21629;&#20196;</a>&#26102;&#24517;&#39035;&#35201;&#25171;&#24320;&#23427;&#12290;&#26356;&#22810;&#30340;&#20851;&#20110;&#22806;&#37096;&#21629;&#20196;&#30340;&#20449;&#24687;&#21487;&#20197;&#26597;&#38405;<a class="link" href="#extcommands" title="6.9.&nbsp;&#22806;&#37096;&#21629;&#20196;">&#36825;&#20221;&#25991;&#26723;</a>&#12290;</p><div class="orderedlist"><ol type="1"><li>0 = &#19981;&#20570;&#22806;&#37096;&#21629;&#20196;&#26816;&#27979;</li><li>1 = &#26816;&#27979;&#22806;&#37096;&#21629;&#20196;(&#40664;&#35748;&#20540;)</li></ol></div><div class="table"><a name="command_check_interval"></a><p class="title"><b>&#34920;&nbsp;5.22.&nbsp;&#22806;&#37096;&#21629;&#20196;&#26816;&#27979;&#38388;&#38548;</b></p><div class="table-contents"><table summary="&#22806;&#37096;&#21629;&#20196;&#26816;&#27979;&#38388;&#38548;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>command_check_interval=&lt;xxx&gt;[s]</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>command_check_interval=1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#22914;&#26524;&#20320;&#25351;&#23450;&#20102;&#19968;&#20010;&#25968;&#23383;&#21152;&#19968;&#20010;"s"(&#22914;30s)&#65292;&#37027;&#20040;&#22806;&#37096;&#26816;&#27979;&#21629;&#20196;&#30340;&#38388;&#38548;&#26159;&#36825;&#20010;&#25968;&#20540;&#20197;<span class="strong"><strong>&#31186;</strong></span>&#20026;&#21333;&#20301;&#30340;&#26102;&#38388;&#38388;&#38548;&#12290;&#22914;&#26524;&#27809;&#26377;&#29992;"s"&#65292;&#37027;&#20040;&#22806;&#37096;&#26816;&#27979;&#21629;&#20196;&#30340;&#38388;&#38548;&#26159;&#20197;&#36825;&#20010;&#25968;&#20540;&#30340;&#8220;&#26102;&#38388;&#21333;&#20301;&#8221;&#30340;&#26102;&#38388;&#38388;&#38548;&#65292;&#38500;&#38750;&#20320;&#25226;<a class="link" href="#interval_length" title="&#34920;&nbsp;5.55.&nbsp;&#35745;&#25968;&#38388;&#38548;&#38271;&#24230;">interval_length</a>&#30340;&#20540;(&#19979;&#38754;&#26377;&#35828;&#26126;)&#20174;&#40664;&#35748;60&#32473;&#26356;&#25913;&#20102;&#65292;&#36825;&#20010;&#20540;&#30340;&#24847;&#24605;&#26159;60s&#65292;&#21363;&#19968;&#20998;&#38047;&#12290;</p><p>&#27880;&#24847;&#65306;&#23558;&#36825;&#20010;&#20540;&#35774;&#32622;&#20026;-1&#21487;&#20196;Nagios&#23613;&#21487;&#33021;&#39057;&#32321;&#22320;&#23545;&#22806;&#21629;&#20196;&#36827;&#34892;&#26816;&#27979;&#12290;&#22312;&#36827;&#34892;&#20854;&#20182;&#20219;&#21153;&#20043;&#21069;&#65292;Nagios&#27599;&#27425;&#37117;&#23558;&#20250;&#35835;&#20837;&#24182;&#22788;&#29702;&#20445;&#23384;&#20110;<a class="link" href="#command_file" title="&#34920;&nbsp;5.23.&nbsp;&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;">&#21629;&#20196;&#25991;&#20214;</a>&#20043;&#20013;&#30340;&#20840;&#37096;&#21629;&#20196;&#20197;&#36827;&#34892;&#21629;&#20196;&#26816;&#26597;&#12290;&#26356;&#22810;&#30340;&#20851;&#20110;&#22806;&#37096;&#21629;&#20196;&#30340;&#20449;&#24687;&#21487;&#20197;&#26597;&#38405;<a class="link" href="#extcommands" title="6.9.&nbsp;&#22806;&#37096;&#21629;&#20196;">&#36825;&#20221;&#25991;&#26723;</a>&#12290;</p><div class="table"><a name="command_file"></a><p class="title"><b>&#34920;&nbsp;5.23.&nbsp;&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;</b></p><div class="table-contents"><table summary="&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>command_file=&lt;file_name&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>command_file=/usr/local/nagios/var/rw/nagios.cmd</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#36825;&#26159;&#19968;&#20010;Nagios&#29992;&#20110;&#22806;&#37096;&#21629;&#20196;&#26816;&#27979;&#22788;&#29702;&#30340;&#25991;&#20214;&#65292;<a class="link" href="#cgis_cmd_cgi">&#21629;&#20196;CGI&#31243;&#24207;&#27169;&#22359;</a>&#23558;&#21629;&#20196;&#20889;&#20837;&#35813;&#25991;&#20214;&#65292;&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;&#23454;&#29616;&#25104;&#19968;&#20010;&#21629;&#21517;&#31649;&#36947;(&#20808;&#20837;&#20808;&#20986;)&#65292;&#22312;Nagios&#21551;&#21160;&#26102;&#21019;&#24314;&#23427;&#65292;&#24182;&#22312;&#20851;&#38381;&#26102;&#21024;&#38500;&#23427;&#12290;&#22914;&#26524;&#22312;Nagios&#21551;&#21160;&#26102;&#35813;&#25991;&#20214;&#24050;&#32463;&#23384;&#22312;&#65292;&#37027;&#20040;Nagios&#20250;&#32473;&#20986;&#19968;&#20010;&#38169;&#35823;&#20449;&#24687;&#21518;&#20013;&#27490;&#12290;&#26356;&#22810;&#30340;&#20851;&#20110;&#22806;&#37096;&#21629;&#20196;&#30340;&#20449;&#24687;&#21487;&#20197;&#26597;&#38405;<a class="link" href="#extcommands" title="6.9.&nbsp;&#22806;&#37096;&#21629;&#20196;">&#36825;&#20221;&#25991;&#26723;</a>&#12290;</p><div class="table"><a name="external_command_buffer_slots"></a><p class="title"><b>&#34920;&nbsp;5.24.&nbsp;&#22806;&#37096;&#21629;&#20196;&#32531;&#20914;&#38431;&#21015;&#25968;</b></p><div class="table-contents"><table summary="&#22806;&#37096;&#21629;&#20196;&#32531;&#20914;&#38431;&#21015;&#25968;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>external_command_buffer_slots=&lt;#&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>external_command_buffer_slots=512</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#27880;&#24847;&#65306;&#36825;&#26159;&#20010;&#39640;&#32423;&#29305;&#24615;&#12290;&#35813;&#36873;&#39033;&#20915;&#23450;&#20102;Nagios&#23558;&#20351;&#29992;&#22810;&#23569;&#32531;&#20914;&#38431;&#21015;&#26469;&#32531;&#23384;&#22806;&#37096;&#21629;&#20196;&#65292;&#22806;&#37096;&#21629;&#20196;&#26159;&#20174;&#19968;&#20010;&#24037;&#20316;&#32447;&#31243;&#20174;&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;&#23558;&#21629;&#20196;&#35835;&#20837;&#30340;&#65292;&#20294;&#36825;&#20123;&#22806;&#37096;&#21629;&#20196;&#36824;&#27809;&#26377;&#34987;Nagios&#30340;&#20027;&#23432;&#25252;&#31243;&#24207;&#22788;&#29702;&#12290;&#32531;&#20914;&#20013;&#30340;&#27599;&#20010;&#20301;&#32622;&#21487;&#20197;&#22788;&#29702;&#19968;&#20010;&#22806;&#37096;&#21629;&#20196;&#65292;&#25152;&#20197;&#36825;&#20010;&#36873;&#39033;&#20915;&#23450;&#20102;&#26377;&#22810;&#23569;&#21629;&#20196;&#21487;&#20197;&#34987;&#32531;&#20914;&#22788;&#29702;&#12290;&#20026;&#20102;&#23545;&#19968;&#20010;&#26377;&#22823;&#37327;&#24378;&#21046;&#26816;&#27979;&#31995;&#32479;(&#27604;&#22914;<a class="link" href="#distributed" title="9.2.&nbsp;&#20998;&#24067;&#24335;&#30417;&#25511;">&#20998;&#24067;&#24335;&#31995;&#32479;&#23433;&#35013;</a>)&#36827;&#34892;&#23433;&#35013;&#26102;&#65292;&#20320;&#21487;&#33021;&#38656;&#35201;&#38477;&#20302;&#36825;&#20010;&#20540;&#12290;&#20320;&#35201;&#32771;&#34385;&#20351;&#29992;MRTG&#24037;&#20855;&#26469;&#32472;&#21046;&#22806;&#37096;&#21629;&#20196;&#32531;&#20914;&#30340;&#21033;&#29992;&#29575;&#22270;&#34920;&#65292;&#22914;&#20309;&#37197;&#32622;&#32472;&#21046;&#22270;&#34920;&#21487;&#38405;&#35835;<a class="link" href="#mrtggraphs" title="10.4.&nbsp;&#20351;&#29992;MRTG&#32472;&#21046;&#24615;&#33021;&#25968;&#25454;">&#36825;&#31687;</a>&#25991;&#26723;&#12290;</p><div class="table"><a name="lock_file"></a><p class="title"><b>&#34920;&nbsp;5.25.&nbsp;&#20114;&#38145;&#25991;&#20214;</b></p><div class="table-contents"><table summary="&#20114;&#38145;&#25991;&#20214;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>lock_file=&lt;file_name&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>lock_file=/tmp/nagios.lock</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#25351;&#23450;&#20102;Nagios&#22312;&#20197;&#23432;&#25252;&#24577;&#36816;&#34892;(&#20197;-d&#21629;&#20196;&#34892;&#21442;&#25968;&#36816;&#34892;)&#26102;&#22312;&#21738;&#20010;&#20301;&#32622;&#19978;&#21019;&#24314;&#20114;&#38145;&#25991;&#20214;&#12290;&#35813;&#25991;&#20214;&#21253;&#21547;&#26377;&#36816;&#34892;Nagios&#30340;&#36827;&#31243;id&#20540;(PID)&#12290;</p><div class="table"><a name="retain_state_information"></a><p class="title"><b>&#34920;&nbsp;5.26.&nbsp;&#29366;&#24577;&#20445;&#25345;&#36873;&#39033;</b></p><div class="table-contents"><table summary="&#29366;&#24577;&#20445;&#25345;&#36873;&#39033;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>retain_state_information=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>retain_state_information=1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#20915;&#23450;&#20102;Nagios&#26159;&#21542;&#35201;&#22312;&#31243;&#24207;&#30340;&#20004;&#27425;&#21551;&#21160;&#20043;&#38388;&#20445;&#23384;&#20027;&#26426;&#21644;&#26381;&#21153;&#30340;&#29366;&#24577;&#20449;&#24687;&#12290;&#22914;&#26524;&#20320;&#20351;&#33021;&#20102;&#36825;&#20010;&#36873;&#39033;&#65292;&#20320;&#24212;&#39044;&#20808;&#32473;&#20986;&#20102;<a class="link" href="#state_retention_file" title="&#34920;&nbsp;5.27.&nbsp;&#29366;&#24577;&#20445;&#25345;&#25991;&#20214;">state_retention_file</a>&#21464;&#37327;&#30340;&#20540;&#65292;&#24403;&#36873;&#39033;&#20351;&#33021;&#26102;&#65292;Nagios&#23558;&#20250;&#22312;&#31243;&#24207;&#20572;&#27490;(&#25110;&#37325;&#21551;)&#26102;&#20445;&#23384;&#20840;&#37096;&#30340;&#20027;&#26426;&#21644;&#26381;&#21153;&#30340;&#29366;&#24577;&#20449;&#24687;&#24182;&#19988;&#20250;&#22312;&#21551;&#21160;&#26102;&#20877;&#27425;&#39044;&#35835;&#20837;&#20445;&#23384;&#30340;&#29366;&#24577;&#20449;&#24687;&#12290;</p><div class="orderedlist"><ol type="1"><li>0 = &#19981;&#20445;&#23384;&#29366;&#24577;&#20445;&#25345;&#20449;&#24687;</li><li>1 = &#20445;&#30041;&#29366;&#24577;&#20445;&#25345;&#20449;&#24687;(&#40664;&#35748;)</li></ol></div><div class="table"><a name="state_retention_file"></a><p class="title"><b>&#34920;&nbsp;5.27.&nbsp;&#29366;&#24577;&#20445;&#25345;&#25991;&#20214;</b></p><div class="table-contents"><table summary="&#29366;&#24577;&#20445;&#25345;&#25991;&#20214;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>state_retention_file=&lt;file_name&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>state_retention_file=/usr/local/nagios/var/retention.dat</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#25991;&#20214;&#29992;&#20110;&#22312;Nagios&#20572;&#27490;&#20043;&#21069;&#20445;&#23384;&#29366;&#24577;&#12289;&#20572;&#26426;&#26102;&#38388;&#21644;&#27880;&#37322;&#31561;&#20449;&#24687;&#12290;&#24403;Nagios&#37325;&#21551;&#26102;&#23427;&#20250;&#22312;&#24320;&#22987;&#30417;&#25511;&#24037;&#20316;&#20043;&#21069;&#20351;&#29992;&#20445;&#23384;&#20110;&#36825;&#20010;&#25991;&#20214;&#37324;&#30340;&#20449;&#24687;&#29992;&#20110;&#21021;&#22987;&#21270;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#29366;&#24577;&#12290;&#20026;&#20351;Nagios&#22312;&#31243;&#24207;&#30340;&#21551;&#21160;&#20043;&#38388;&#21033;&#29992;&#29366;&#24577;&#20445;&#25345;&#20449;&#24687;&#65292;&#20320;&#24517;&#39035;&#20351;&#33021;<a class="link" href="#retain_state_information" title="&#34920;&nbsp;5.26.&nbsp;&#29366;&#24577;&#20445;&#25345;&#36873;&#39033;">retain_state_information</a>&#36873;&#39033;&#12290;</p><div class="table"><a name="retention_update_interval"></a><p class="title"><b>&#34920;&nbsp;5.28.&nbsp;&#33258;&#21160;&#29366;&#24577;&#20445;&#25345;&#30340;&#26356;&#26032;&#38388;&#38548;</b></p><div class="table-contents"><table summary="&#33258;&#21160;&#29366;&#24577;&#20445;&#25345;&#30340;&#26356;&#26032;&#38388;&#38548;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>retention_update_interval=&lt;minutes&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>retention_update_interval=60</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#20915;&#23450;&#20102;Nagios&#38656;&#35201;&#20197;&#20160;&#20040;&#39057;&#24230;(&#20998;&#38047;&#20026;&#21333;&#20301;)&#22312;&#27491;&#24120;&#25805;&#20316;&#26102;&#33258;&#21160;&#22320;&#20445;&#23384;&#29366;&#24577;&#20445;&#25345;&#20449;&#24687;&#12290;&#22914;&#26524;&#20320;&#25226;&#36825;&#20010;&#20540;&#35774;&#32622;&#20026;0&#65292;Nagios&#23558;&#19981;&#20250;&#20197;&#35268;&#21017;&#30340;&#38388;&#38548;&#20445;&#23384;&#29366;&#24577;&#20445;&#25345;&#25968;&#25454;&#65292;&#20294;&#26159;Nagios&#20173;&#26087;&#20250;&#22312;&#20572;&#26426;&#25110;&#37325;&#21551;&#20043;&#21069;&#20570;&#20445;&#23384;&#29366;&#24577;&#20445;&#25345;&#25968;&#25454;&#30340;&#24037;&#20316;&#12290;&#22914;&#26524;&#20320;&#20851;&#38381;&#20102;&#29366;&#24577;&#20445;&#25345;&#21151;&#33021;(&#29992;<a class="link" href="#retain_state_information" title="&#34920;&nbsp;5.26.&nbsp;&#29366;&#24577;&#20445;&#25345;&#36873;&#39033;">retain_state_information</a>&#36873;&#39033;&#35774;&#32622;)&#65292;&#36825;&#20010;&#36873;&#39033;&#20540;&#23558;&#26080;&#25928;&#12290;</p><div class="table"><a name="use_retained_program_state"></a><p class="title"><b>&#34920;&nbsp;5.29.&nbsp;&#31243;&#24207;&#25152;&#29992;&#29366;&#24577;&#30340;&#20351;&#29992;&#36873;&#39033;</b></p><div class="table-contents"><table summary="&#31243;&#24207;&#25152;&#29992;&#29366;&#24577;&#30340;&#20351;&#29992;&#36873;&#39033;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>use_retained_program_state=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>use_retained_program_state=1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#36825;&#20010;&#35774;&#32622;&#23558;&#20915;&#23450;&#20102;Nagios&#26159;&#21542;&#35201;&#20351;&#29992;&#20445;&#23384;&#20110;&#29366;&#24577;&#20445;&#25345;&#25991;&#20214;&#20043;&#20013;&#30340;&#20540;&#20197;&#26356;&#26032;&#31243;&#24207;&#33539;&#22260;&#20869;&#30340;&#21464;&#37327;&#29366;&#24577;&#12290;&#26377;&#20123;&#31243;&#24207;&#33539;&#22260;&#20869;&#30340;&#21464;&#37327;&#30340;&#29366;&#24577;&#23558;&#22312;&#31243;&#24207;&#37325;&#21551;&#26102;&#34987;&#20445;&#23384;&#20110;&#29366;&#24577;&#20445;&#25345;&#25991;&#20214;&#20043;&#20013;&#65292;&#21253;&#25324;<a class="link" href="#enable_notifications" title="&#34920;&nbsp;5.13.&nbsp;&#36890;&#30693;&#36873;&#39033;">enable_notifications</a>&#12289;<a class="link" href="#enable_flap_detection" title="&#34920;&nbsp;5.70.&nbsp;Flap Detection Option">enable_flap_detection</a>&#12289;<a class="link" href="#enable_event_handlers" title="&#34920;&nbsp;5.18.&nbsp;&#20107;&#20214;&#22788;&#29702;&#36873;&#39033;">enable_event_handlers</a>&#12289;<a class="link" href="#execute_service_checks" title="&#34920;&nbsp;5.14.&nbsp;&#26381;&#21153;&#26816;&#27979;&#25191;&#34892;&#36873;&#39033;">execute_service_checks</a>&#21644;<a class="link" href="#accept_passive_service_checks" title="&#34920;&nbsp;5.15.&nbsp;&#24378;&#21046;&#26381;&#21153;&#26816;&#27979;&#32467;&#26524;&#25509;&#21463;&#36873;&#39033;">accept_passive_service_checks</a>&#36873;&#39033;&#12290;&#22914;&#26524;&#20320;&#27809;&#26377;&#20351;&#29992;<a class="link" href="#retain_state_information" title="&#34920;&nbsp;5.26.&nbsp;&#29366;&#24577;&#20445;&#25345;&#36873;&#39033;">retain_state_information</a>&#29366;&#24577;&#20445;&#25345;&#36873;&#39033;&#20351;&#33021;&#65292;&#36825;&#20010;&#36873;&#39033;&#23558;&#26080;&#25928;&#12290;</p><div class="orderedlist"><ol type="1"><li>0 = &#19981;&#20351;&#29992;&#31243;&#24207;&#21464;&#37327;&#30340;&#29366;&#24577;&#20540;</li><li>1 = &#20351;&#29992;&#29366;&#24577;&#20445;&#25345;&#25991;&#20214;&#20013;&#30340;&#31243;&#24207;&#21464;&#37327;&#29366;&#24577;&#35760;&#24405;(&#40664;&#35748;)</li></ol></div><div class="table"><a name="use_retained_scheduling_info"></a><p class="title"><b>&#34920;&nbsp;5.30.&nbsp;&#20351;&#29992;&#20445;&#25345;&#35745;&#21010;&#34920;&#20449;&#24687;&#36873;&#39033;</b></p><div class="table-contents"><table summary="&#20351;&#29992;&#20445;&#25345;&#35745;&#21010;&#34920;&#20449;&#24687;&#36873;&#39033;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>use_retained_scheduling_info=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>use_retained_scheduling_info=1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#20915;&#23450;Nagios&#22312;&#37325;&#21551;&#26102;&#26159;&#21542;&#35201;&#20351;&#29992;&#20027;&#26426;&#21644;&#26381;&#21153;&#30340;&#20445;&#25345;&#35745;&#21010;&#34920;&#20449;&#24687;(&#19979;&#27425;&#26816;&#27979;&#26102;&#38388;)&#12290;&#22914;&#26524;&#22686;&#21152;&#20102;&#24456;&#22810;&#25968;&#37327;(&#25110;&#24456;&#22823;&#30334;&#20998;&#27604;)&#30340;&#20027;&#26426;&#21644;&#26381;&#21153;&#65292;&#24314;&#35758;&#20320;&#22312;&#39318;&#27425;&#37325;&#21551;&#21160;Nagios&#26102;&#20851;&#38381;&#36873;&#39033;&#65292;&#22240;&#20026;&#36825;&#20010;&#36873;&#39033;&#23558;&#20250;&#20351;&#21021;&#22987;&#26816;&#27979;&#35823;&#20837;&#27495;&#36884;&#12290;&#20854;&#20182;&#24773;&#20917;&#19979;&#20320;&#21487;&#20197;&#35201;&#20351;&#33021;&#36825;&#20010;&#36873;&#39033;&#12290;</p><div class="orderedlist"><ol type="1"><li>0 = &#19981;&#20351;&#29992;&#35745;&#21010;&#34920;&#20449;&#24687;</li><li>1 = &#20351;&#29992;&#20445;&#23384;&#30340;&#35745;&#21010;&#34920;&#20449;&#24687;(&#40664;&#35748;)</li></ol></div><div class="table"><a name="retained_host_attribute_mask"></a><p class="title"><b>&#34920;&nbsp;5.31.&nbsp;&#20445;&#25345;&#20027;&#26426;&#21644;&#26381;&#21153;&#23646;&#24615;&#25513;&#30721;</b></p><div class="table-contents"><table summary="&#20445;&#25345;&#20027;&#26426;&#21644;&#26381;&#21153;&#23646;&#24615;&#25513;&#30721;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><p><span class="bold"><strong>retained_host_attribute_mask=&lt;number&gt;</strong></span></p><p><span class="bold"><strong>retained_service_attribute_mask=&lt;number&gt;</strong></span></p></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><p><span class="bold"><strong>retained_host_attribute_mask=0</strong></span></p><p><span class="bold"><strong>retained_service_attribute_mask=0</strong></span></p></td></tr></tbody></table></div></div><br class="table-break"><p>&#35686;&#21578;&#65306;&#36825;&#26159;&#20010;&#39640;&#32423;&#29305;&#24615;&#12290;&#20320;&#38656;&#35201;&#35835;&#19968;&#19979;&#28304;&#31243;&#24207;&#20197;&#30475;&#28165;&#26970;&#23427;&#26159;&#22914;&#20309;&#36215;&#25928;&#26524;&#30340;&#12290;</p><p>&#35813;&#36873;&#39033;&#20915;&#23450;&#20102;&#21738;&#20010;&#20027;&#26426;&#21644;&#26381;&#21153;&#30340;&#23646;&#24615;&#22312;&#31243;&#24207;&#37325;&#21551;&#26102;&#19981;&#20250;&#34987;&#20445;&#30041;&#12290;&#36825;&#20123;&#36873;&#39033;&#20540;&#26159;&#19982;&#25351;&#23450;&#30340;"MODATTR_"&#20540;&#36827;&#34892;<span class="emphasis"><em>&#25353;&#20301;&#19982;</em></span>&#36816;&#31639;&#20986;&#30340;&#65292;MODATTR_&#22312;&#28304;&#31243;&#24207;&#30340;include/common.h&#37324;&#23450;&#20041;&#65292;&#40664;&#35748;&#24773;&#20917;&#19979;&#65292;&#20840;&#37096;&#20027;&#26426;&#21644;&#26381;&#21153;&#30340;&#23646;&#24615;&#37117;&#20250;&#34987;&#20445;&#25345;&#12290;</p><div class="table"><a name="retained_process_host_attribute_mask"></a><p class="title"><b>&#34920;&nbsp;5.32.&nbsp;&#20445;&#25345;&#36827;&#31243;&#23646;&#24615;&#25513;&#30721;</b></p><div class="table-contents"><table summary="&#20445;&#25345;&#36827;&#31243;&#23646;&#24615;&#25513;&#30721;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><p><span class="bold"><strong>retained_process_host_attribute_mask=&lt;number&gt;</strong></span></p><p><span class="bold"><strong>retained_process_service_attribute_mask=&lt;number&gt;</strong></span></p></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><p><span class="bold"><strong>retained_process_host_attribute_mask=0</strong></span></p><p><span class="bold"><strong>retained_process_service_attribute_mask=0</strong></span></p></td></tr></tbody></table></div></div><br class="table-break"><p>&#35686;&#21578;&#65306;&#36825;&#26159;&#20010;&#39640;&#32423;&#29305;&#24615;&#12290;&#20320;&#38656;&#35201;&#35835;&#19968;&#19979;&#28304;&#31243;&#24207;&#20197;&#30475;&#28165;&#26970;&#23427;&#26159;&#22914;&#20309;&#36215;&#25928;&#26524;&#30340;&#12290;</p><p>&#35813;&#36873;&#39033;&#20915;&#23450;&#20102;&#21738;&#20010;&#36827;&#31243;&#23646;&#24615;&#22312;&#31243;&#24207;&#37325;&#21551;&#26102;&#19981;&#20250;&#34987;&#20445;&#30041;&#12290;&#26377;&#20004;&#20010;&#23646;&#24615;&#25513;&#30721;&#22240;&#20026;&#32463;&#24120;&#26159;&#20027;&#26426;&#21644;&#26381;&#21153;&#30340;&#36827;&#31243;&#23646;&#24615;&#21487;&#20197;&#20998;&#21035;&#34987;&#20462;&#25913;&#12290;&#20363;&#22914;&#65292;&#20027;&#26426;&#26816;&#27979;&#22312;&#31243;&#24207;&#23618;&#38754;&#19978;&#34987;&#20851;&#38381;&#65292;&#32780;&#26381;&#21153;&#26816;&#27979;&#20173;&#26087;&#34987;&#25171;&#24320;&#12290;&#36825;&#20123;&#36873;&#39033;&#20540;&#26159;&#19982;&#25351;&#23450;&#30340;"MODATTR_"&#20540;&#36827;&#34892;<span class="emphasis"><em>&#25353;&#20301;&#19982;</em></span>&#36816;&#31639;&#20986;&#30340;&#65292;MODATTR_&#22312;&#28304;&#31243;&#24207;&#30340;include/common.h&#37324;&#23450;&#20041;&#65292;&#40664;&#35748;&#24773;&#20917;&#19979;&#65292;&#20840;&#37096;&#20027;&#26426;&#21644;&#26381;&#21153;&#30340;&#23646;&#24615;&#37117;&#20250;&#34987;&#20445;&#25345;&#12290;</p><div class="table"><a name="retained_contact_host_attribute_mask"></a><p class="title"><b>&#34920;&nbsp;5.33.&nbsp;&#20445;&#25345;&#32852;&#31995;&#20154;&#23646;&#24615;&#25513;&#30721;</b></p><div class="table-contents"><table summary="&#20445;&#25345;&#32852;&#31995;&#20154;&#23646;&#24615;&#25513;&#30721;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><p><span class="bold"><strong>retained_contact_host_attribute_mask=&lt;number&gt;</strong></span></p><p><span class="bold"><strong>retained_contact_service_attribute_mask=&lt;number&gt;</strong></span></p></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><p><span class="bold"><strong>retained_contact_host_attribute_mask=0</strong></span></p><p><span class="bold"><strong>retained_contact_service_attribute_mask=0</strong></span></p></td></tr></tbody></table></div></div><br class="table-break"><p>&#35686;&#21578;&#65306;&#36825;&#26159;&#20010;&#39640;&#32423;&#29305;&#24615;&#12290;&#20320;&#38656;&#35201;&#35835;&#19968;&#19979;&#28304;&#31243;&#24207;&#20197;&#30475;&#28165;&#26970;&#23427;&#26159;&#22914;&#20309;&#36215;&#25928;&#26524;&#30340;&#12290;</p><p>&#35813;&#36873;&#39033;&#20915;&#23450;&#20102;&#21738;&#20010;&#32852;&#31995;&#20154;&#23646;&#24615;&#22312;&#31243;&#24207;&#37325;&#21551;&#26102;&#19981;&#20250;&#34987;&#20445;&#30041;&#12290;&#26377;&#20004;&#20010;&#23646;&#24615;&#25513;&#30721;&#22240;&#20026;&#32463;&#24120;&#26159;&#20027;&#26426;&#21644;&#26381;&#21153;&#30340;&#32852;&#31995;&#20154;&#23646;&#24615;&#21487;&#20197;&#20998;&#21035;&#34987;&#20462;&#25913;&#12290;&#36825;&#20123;&#36873;&#39033;&#20540;&#26159;&#19982;&#25351;&#23450;&#30340;"MODATTR_"&#20540;&#36827;&#34892;<span class="emphasis"><em>&#25353;&#20301;&#19982;</em></span>&#36816;&#31639;&#20986;&#30340;&#65292;MODATTR_&#22312;&#28304;&#31243;&#24207;&#30340;include/common.h&#37324;&#23450;&#20041;&#65292;&#40664;&#35748;&#24773;&#20917;&#19979;&#65292;&#20840;&#37096;&#20027;&#26426;&#21644;&#26381;&#21153;&#30340;&#23646;&#24615;&#37117;&#20250;&#34987;&#20445;&#25345;&#12290;</p><div class="table"><a name="use_syslog"></a><p class="title"><b>&#34920;&nbsp;5.34.&nbsp;Syslog&#26085;&#24535;&#36873;&#39033;</b></p><div class="table-contents"><table summary="Syslog&#26085;&#24535;&#36873;&#39033;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>use_syslog=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>use_syslog=1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#20915;&#23450;&#20102;&#26159;&#21542;&#23558;&#26085;&#24535;&#20449;&#24687;&#35760;&#24405;&#21040;&#26412;&#22320;&#30340;Syslog&#20013;&#12290;&#21487;&#29992;&#30340;&#20540;&#26377;&#65306;</p><div class="orderedlist"><ol type="1"><li>0 = &#19981;&#20351;&#29992;Syslog&#26426;&#21046;</li><li>1 = &#20351;&#29992;Syslog&#26426;&#21046;</li></ol></div><div class="table"><a name="log_notifications"></a><p class="title"><b>&#34920;&nbsp;5.35.&nbsp;&#36890;&#30693;&#35760;&#24405;&#26085;&#24535;&#36873;&#39033;</b></p><div class="table-contents"><table summary="&#36890;&#30693;&#35760;&#24405;&#26085;&#24535;&#36873;&#39033;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>log_notifications=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>log_notifications=1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#20915;&#23450;&#20102;&#26159;&#21542;&#23558;&#36890;&#30693;&#20449;&#24687;&#35760;&#24405;&#36827;&#34892;&#35760;&#24405;&#65292;&#22914;&#26524;&#26377;&#24456;&#22810;&#32852;&#31995;&#20154;&#25110;&#26159;&#26377;&#35268;&#24459;&#24615;&#30340;&#26381;&#21153;&#25925;&#38556;&#26102;&#65292;&#35760;&#24405;&#25991;&#20214;&#23558;&#20250;&#22686;&#38271;&#24456;&#24555;&#12290;&#20351;&#29992;&#36825;&#20010;&#36873;&#39033;&#26469;&#20445;&#23384;&#24050;&#21457;&#20986;&#30340;&#36890;&#30693;&#35760;&#24405;&#12290;</p><div class="orderedlist"><ol type="1"><li>0 = &#19981;&#35760;&#24405;&#36890;&#30693;</li><li>1 = &#35760;&#24405;&#36890;&#30693;</li></ol></div><div class="table"><a name="log_service_retries"></a><p class="title"><b>&#34920;&nbsp;5.36.&nbsp;&#26381;&#21153;&#26816;&#27979;&#37325;&#35797;&#35760;&#24405;&#36873;&#39033;</b></p><div class="table-contents"><table summary="&#26381;&#21153;&#26816;&#27979;&#37325;&#35797;&#35760;&#24405;&#36873;&#39033;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>log_service_retries=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>log_service_retries=1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#20915;&#23450;&#20102;&#26159;&#21542;&#23558;&#26381;&#21153;&#26816;&#27979;&#37325;&#35797;&#36827;&#34892;&#35760;&#24405;&#12290;&#26381;&#21153;&#26816;&#27979;&#37325;&#35797;&#21457;&#29983;&#22312;&#26381;&#21153;&#26816;&#27979;&#32467;&#26524;&#36820;&#22238;&#19968;&#20010;&#24322;&#24120;&#29366;&#24577;&#20449;&#24687;&#20043;&#26102;&#65292;&#32780;&#19988;&#20320;&#24050;&#32463;&#37197;&#32622;Nagios&#22312;&#23545;&#25925;&#38556;&#20986;&#29616;&#26102;&#36827;&#34892;&#19968;&#27425;&#20197;&#19978;&#30340;&#26381;&#21153;&#26816;&#27979;&#37325;&#35797;&#12290;&#27492;&#26102;&#26377;&#26381;&#21153;&#29366;&#24577;&#34987;&#35748;&#20026;&#26159;&#22788;&#29702;&#8220;&#36719;&#8221;&#25925;&#38556;&#29366;&#24577;&#12290;&#24403;&#35843;&#35797;Nagios&#25110;&#23545;&#26381;&#21153;&#30340;<a class="link" href="#eventhandlers" title="6.8.&nbsp;&#20107;&#20214;&#22788;&#29702;">&#20107;&#20214;&#22788;&#29702;</a>&#36827;&#34892;&#27979;&#35797;&#26102;&#35760;&#24405;&#19979;&#26381;&#21153;&#26816;&#27979;&#30340;&#37325;&#35797;&#26159;&#38750;&#24120;&#26377;&#29992;&#30340;&#12290;</p><div class="orderedlist"><ol type="1"><li>0 = &#19981;&#35760;&#24405;&#26381;&#21153;&#26816;&#27979;&#37325;&#35797;</li><li>1 = &#35760;&#24405;&#26381;&#21153;&#26816;&#27979;&#37325;&#35797;</li></ol></div><div class="table"><a name="log_host_retries"></a><p class="title"><b>&#34920;&nbsp;5.37.&nbsp;&#20027;&#26426;&#26816;&#27979;&#37325;&#35797;&#35760;&#24405;&#36873;&#39033;</b></p><div class="table-contents"><table summary="&#20027;&#26426;&#26816;&#27979;&#37325;&#35797;&#35760;&#24405;&#36873;&#39033;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>log_host_retries=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>log_host_retries=1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#20915;&#23450;&#20102;&#26159;&#21542;&#23558;&#20027;&#26426;&#26816;&#27979;&#37325;&#35797;&#36827;&#34892;&#35760;&#24405;&#12290;&#24403;&#35843;&#35797;Nagios&#25110;&#23545;&#20027;&#26426;&#30340;<a class="link" href="#eventhandlers" title="6.8.&nbsp;&#20107;&#20214;&#22788;&#29702;">&#20107;&#20214;&#22788;&#29702;</a>&#36827;&#34892;&#27979;&#35797;&#26102;&#35760;&#24405;&#19979;&#20027;&#26426;&#26816;&#27979;&#30340;&#37325;&#35797;&#26159;&#38750;&#24120;&#26377;&#29992;&#30340;&#12290;</p><div class="orderedlist"><ol type="1"><li>0 = &#19981;&#35760;&#24405;&#20027;&#26426;&#26816;&#27979;&#37325;&#35797;</li><li>1 = &#35760;&#24405;&#20027;&#26426;&#26816;&#27979;&#37325;&#35797;</li></ol></div><div class="table"><a name="log_event_handlers"></a><p class="title"><b>&#34920;&nbsp;5.38.&nbsp;&#20107;&#20214;&#22788;&#29702;&#35760;&#24405;&#36873;&#39033;</b></p><div class="table-contents"><table summary="&#20107;&#20214;&#22788;&#29702;&#35760;&#24405;&#36873;&#39033;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>log_event_handlers=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>log_event_handlers=1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#20915;&#23450;&#20102;&#26159;&#21542;&#23558;&#26381;&#21153;&#21644;&#20027;&#26426;&#30340;<a class="link" href="#eventhandlers" title="6.8.&nbsp;&#20107;&#20214;&#22788;&#29702;">&#20107;&#20214;&#22788;&#29702;</a>&#36827;&#34892;&#35760;&#24405;&#12290;&#19968;&#26086;&#21457;&#29983;&#26381;&#21153;&#25110;&#20027;&#26426;&#29366;&#24577;&#36801;&#31227;&#26102;&#65292;&#21487;&#36873;&#30340;&#20107;&#20214;&#22788;&#29702;&#21629;&#20196;&#20250;&#34987;&#25191;&#34892;&#12290;&#24403;&#35843;&#35797;Nagios&#25110;&#39318;&#27425;&#23581;&#35797;&#20107;&#20214;&#22788;&#29702;&#33050;&#26412;&#26102;&#35760;&#24405;&#19979;&#20107;&#20214;&#22788;&#29702;&#26159;&#38750;&#24120;&#26377;&#29992;&#30340;&#12290;</p><div class="orderedlist"><ol type="1"><li>0 = &#19981;&#35760;&#24405;&#20107;&#20214;&#22788;&#29702;</li><li>1 = &#35760;&#24405;&#20107;&#20214;&#22788;&#29702;</li></ol></div><div class="table"><a name="log_initial_states"></a><p class="title"><b>&#34920;&nbsp;5.39.&nbsp;&#21021;&#22987;&#29366;&#24577;&#35760;&#24405;&#36873;&#39033;</b></p><div class="table-contents"><table summary="&#21021;&#22987;&#29366;&#24577;&#35760;&#24405;&#36873;&#39033;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>log_initial_states=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>log_initial_states=1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#20915;&#23450;&#20102;Nagios&#26159;&#21542;&#35201;&#24378;&#34892;&#35760;&#24405;&#20840;&#37096;&#30340;&#20027;&#26426;&#21644;&#26381;&#21153;&#30340;&#21021;&#22987;&#29366;&#24577;&#65292;&#21363;&#20415;&#29366;&#24577;&#25253;&#21578;&#26159;OK&#20063;&#35201;&#35760;&#24405;&#12290;&#21482;&#26159;&#22312;&#31532;&#19968;&#27425;&#26816;&#27979;&#21457;&#29616;&#20027;&#26426;&#21644;&#26381;&#21153;&#26377;&#24322;&#24120;&#26102;&#25165;&#20250;&#35760;&#24405;&#19979;&#21021;&#22987;&#29366;&#24577;&#12290;&#22914;&#26524;&#24819;&#29992;&#24212;&#29992;&#31243;&#24207;&#25195;&#25551;&#19968;&#27573;&#26102;&#38388;&#20869;&#30340;&#20027;&#26426;&#21644;&#26381;&#21153;&#29366;&#24577;&#20197;&#29983;&#25104;&#32479;&#35745;&#25253;&#21578;&#26102;&#65292;&#20351;&#33021;&#36825;&#20010;&#36873;&#39033;&#23558;&#26377;&#24456;&#26377;&#24110;&#21161;&#12290;</p><div class="orderedlist"><ol type="1"><li>0 = &#19981;&#35760;&#24405;&#21021;&#22987;&#29366;&#24577;(&#40664;&#35748;)</li><li>1 = &#35760;&#24405;&#21021;&#22987;&#29366;&#24577;</li></ol></div><div class="table"><a name="log_external_commands"></a><p class="title"><b>&#34920;&nbsp;5.40.&nbsp;&#22806;&#37096;&#21629;&#20196;&#35760;&#24405;&#36873;&#39033;</b></p><div class="table-contents"><table summary="&#22806;&#37096;&#21629;&#20196;&#35760;&#24405;&#36873;&#39033;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>log_external_commands=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>log_external_commands=1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#20915;&#23450;&#20102;Nagios&#26159;&#21542;&#35201;&#35760;&#24405;<a class="link" href="#extcommands" title="6.9.&nbsp;&#22806;&#37096;&#21629;&#20196;">&#22806;&#37096;&#21629;&#20196;</a>&#65292;&#22806;&#37096;&#21629;&#20196;&#26159;&#20174;<a class="link" href="#command_file" title="&#34920;&nbsp;5.23.&nbsp;&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;">command_file</a>&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;&#20013;&#25552;&#21462;&#30340;&#12290;&#27880;&#24847;&#65306;&#36825;&#20010;&#36873;&#39033;&#24182;&#19981;&#25511;&#21046;&#26159;&#21542;&#35201;&#23545;<a class="link" href="#passivechecks" title="6.14.&nbsp;&#24378;&#21046;&#26816;&#27979;">&#24378;&#21046;&#26381;&#21153;&#26816;&#27979;</a> (&#19968;&#31181;&#22806;&#37096;&#21629;&#20196;&#31867;&#22411;)&#36827;&#34892;&#35760;&#24405;&#12290;&#20026;&#20351;&#33021;&#25110;&#20851;&#38381;&#23545;&#24378;&#21046;&#26381;&#21153;&#26816;&#27979;&#30340;&#35760;&#24405;&#65292;&#20351;&#29992;<a class="link" href="#log_passive_checks" title="&#34920;&nbsp;5.41.&nbsp;&#24378;&#21046;&#26816;&#27979;&#35760;&#24405;&#36873;&#39033;">log_passive_checks</a>&#24378;&#21046;&#26816;&#27979;&#35760;&#24405;&#36873;&#39033;&#12290;</p><div class="orderedlist"><ol type="1"><li>0 = &#19981;&#35760;&#24405;&#22806;&#37096;&#21629;&#20196;</li><li>1 = &#35760;&#24405;&#22806;&#37096;&#21629;&#20196;(&#40664;&#35748;)</li></ol></div><div class="table"><a name="log_passive_checks"></a><p class="title"><b>&#34920;&nbsp;5.41.&nbsp;&#24378;&#21046;&#26816;&#27979;&#35760;&#24405;&#36873;&#39033;</b></p><div class="table-contents"><table summary="&#24378;&#21046;&#26816;&#27979;&#35760;&#24405;&#36873;&#39033;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>log_passive_checks=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>log_passive_checks=1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#20915;&#23450;&#20102;Nagios&#26159;&#21542;&#35201;&#35760;&#24405;&#26469;&#33258;&#20110;<a class="link" href="#command_file" title="&#34920;&nbsp;5.23.&nbsp;&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;">command_file</a>&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;&#30340;<a class="link" href="#passivechecks" title="6.14.&nbsp;&#24378;&#21046;&#26816;&#27979;">&#24378;&#21046;&#20027;&#26426;&#21644;&#24378;&#21046;&#26381;&#21153;&#26816;&#27979;</a>&#21629;&#20196;&#12290;&#22914;&#26524;&#35201;&#35774;&#32622;&#19968;&#20010;<a class="link" href="#distributed" title="9.2.&nbsp;&#20998;&#24067;&#24335;&#30417;&#25511;">&#20998;&#24067;&#24335;&#30417;&#25511;&#29615;&#22659;</a>&#25110;&#26159;&#35745;&#21010;&#22312;&#35268;&#25972;&#30340;&#22522;&#30784;&#19978;&#35201;&#23545;&#22823;&#37327;&#30340;&#24378;&#21046;&#26816;&#27979;&#30340;&#32467;&#26524;&#36827;&#34892;&#22788;&#29702;&#26102;&#65292;&#38656;&#35201;&#20851;&#38381;&#36825;&#20010;&#36873;&#39033;&#20197;&#38450;&#27490;&#26085;&#24535;&#25991;&#20214;&#36807;&#20221;&#22686;&#38271;&#12290;</p><div class="orderedlist"><ol type="1"><li>0 = &#19981;&#35760;&#24405;&#24378;&#21046;&#26816;&#27979;</li><li>1 = &#35760;&#24405;&#24378;&#21046;&#26816;&#27979;(&#40664;&#35748;)</li></ol></div><div class="table"><a name="global_host_event_handler"></a><p class="title"><b>&#34920;&nbsp;5.42.&nbsp;&#20840;&#23616;&#20027;&#26426;&#20107;&#20214;&#22788;&#29702;&#36873;&#39033;</b></p><div class="table-contents"><table summary="&#20840;&#23616;&#20027;&#26426;&#20107;&#20214;&#22788;&#29702;&#36873;&#39033;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>global_host_event_handler=&lt;command&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>global_host_event_handler=log-host-event-to-db</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#25351;&#23450;&#20102;&#24403;&#27599;&#20010;&#20027;&#26426;&#29366;&#24577;&#36801;&#31227;&#26102;&#38656;&#35201;&#25191;&#34892;&#30340;&#20027;&#26426;&#20107;&#20214;&#22788;&#29702;&#21629;&#20196;&#12290;&#20840;&#23616;&#20107;&#20214;&#22788;&#29702;&#21629;&#20196;&#23558;&#20248;&#20110;&#22312;&#27599;&#20010;&#20027;&#26426;&#23450;&#20041;&#30340;&#20107;&#20214;&#22788;&#29702;&#21629;&#20196;&#32780;&#31435;&#21363;&#25191;&#34892;&#12290;<span class="strong"><strong>&#21629;&#20196;</strong></span>&#21442;&#25968;&#26159;&#22312;<a class="link" href="#configobject" title="5.3.&nbsp;&#23545;&#35937;&#37197;&#32622;&#27010;&#35272;">&#23545;&#35937;&#37197;&#32622;&#25991;&#20214;</a>&#37324;&#23450;&#20041;&#30340;&#21629;&#20196;&#30340;&#30701;&#21517;&#31216;&#12290;&#30001;<a class="link" href="#event_handler_timeout" title="&#34920;&nbsp;5.78.&nbsp;&#20107;&#20214;&#22788;&#29702;&#36229;&#26102;">event_handler_timeout</a>&#20107;&#20214;&#22788;&#29702;&#36229;&#26102;&#36873;&#39033;&#25511;&#21046;&#30340;&#36825;&#20010;&#21629;&#20196;&#21487;&#36816;&#34892;&#30340;&#26368;&#22823;&#27425;&#25968;&#12290;&#26356;&#22810;&#30340;&#26377;&#20851;&#20107;&#20214;&#22788;&#29702;&#30340;&#20449;&#24687;&#21487;&#20197;&#26597;&#38405;<a class="link" href="#eventhandlers" title="6.8.&nbsp;&#20107;&#20214;&#22788;&#29702;">&#36825;&#31687;&#25991;&#26723;</a>&#12290;</p><div class="table"><a name="global_service_event_handler"></a><p class="title"><b>&#34920;&nbsp;5.43.&nbsp;&#20840;&#23616;&#26381;&#21153;&#20107;&#20214;&#22788;&#29702;&#36873;&#39033;</b></p><div class="table-contents"><table summary="&#20840;&#23616;&#26381;&#21153;&#20107;&#20214;&#22788;&#29702;&#36873;&#39033;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>global_service_event_handler=&lt;command&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>global_service_event_handler=log-service-event-to-db</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#25351;&#23450;&#20102;&#24403;&#27599;&#20010;&#26381;&#21153;&#29366;&#24577;&#36801;&#31227;&#26102;&#38656;&#35201;&#25191;&#34892;&#30340;&#26381;&#21153;&#20107;&#20214;&#22788;&#29702;&#21629;&#20196;&#12290;&#20840;&#23616;&#20107;&#20214;&#22788;&#29702;&#21629;&#20196;&#23558;&#20248;&#20110;&#22312;&#27599;&#20010;&#26381;&#21153;&#23450;&#20041;&#30340;&#20107;&#20214;&#22788;&#29702;&#21629;&#20196;&#32780;&#31435;&#21363;&#25191;&#34892;&#12290;<span class="strong"><strong>&#21629;&#20196;</strong></span>&#21442;&#25968;&#26159;&#22312;<a class="link" href="#configobject" title="5.3.&nbsp;&#23545;&#35937;&#37197;&#32622;&#27010;&#35272;">&#23545;&#35937;&#37197;&#32622;&#25991;&#20214;</a>&#37324;&#23450;&#20041;&#30340;&#21629;&#20196;&#30340;&#30701;&#21517;&#31216;&#12290;&#30001;<a class="link" href="#event_handler_timeout" title="&#34920;&nbsp;5.78.&nbsp;&#20107;&#20214;&#22788;&#29702;&#36229;&#26102;">event_handler_timeout</a>&#20107;&#20214;&#22788;&#29702;&#36229;&#26102;&#36873;&#39033;&#25511;&#21046;&#30340;&#36825;&#20010;&#21629;&#20196;&#21487;&#36816;&#34892;&#30340;&#26368;&#22823;&#27425;&#25968;&#12290;&#26356;&#22810;&#30340;&#26377;&#20851;&#20107;&#20214;&#22788;&#29702;&#30340;&#20449;&#24687;&#21487;&#20197;&#26597;&#38405;<a class="link" href="#eventhandlers" title="6.8.&nbsp;&#20107;&#20214;&#22788;&#29702;">&#36825;&#31687;&#25991;&#26723;</a>&#12290;</p><div class="table"><a name="sleep_time"></a><p class="title"><b>&#34920;&nbsp;5.44.&nbsp;&#26816;&#27979;&#20241;&#27490;&#26102;&#38388;&#38388;&#38548;</b></p><div class="table-contents"><table summary="&#26816;&#27979;&#20241;&#27490;&#26102;&#38388;&#38388;&#38548;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>sleep_time=&lt;seconds&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>sleep_time=1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#23427;&#25351;&#23450;&#20102;Nagios&#22312;&#36827;&#34892;&#35745;&#21010;&#34920;&#30340;&#19979;&#19968;&#27425;&#26381;&#21153;&#25110;&#20027;&#26426;&#26816;&#27979;&#21629;&#20196;&#25191;&#34892;&#20043;&#21069;&#24212;&#35813;&#20241;&#27490;&#22810;&#23569;&#31186;&#12290;&#27880;&#24847;Nagios&#21482;&#26159;&#22312;&#24050;&#32463;&#36827;&#34892;&#20102;&#26381;&#21153;&#25925;&#38556;&#30340;&#25490;&#38431;&#26816;&#27979;&#20043;&#21518;&#25165;&#20250;&#20241;&#27490;&#12290;</p><div class="table"><a name="service_inter_check_delay_method"></a><p class="title"><b>&#34920;&nbsp;5.45.&nbsp;&#26381;&#21153;&#26816;&#27979;&#36831;&#28382;&#38388;&#38548;&#35745;&#25968;&#26041;&#27861;</b></p><div class="table-contents"><table summary="&#26381;&#21153;&#26816;&#27979;&#36831;&#28382;&#38388;&#38548;&#35745;&#25968;&#26041;&#27861;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>service_inter_check_delay_method=&lt;n/d/s/x.xx&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>service_inter_check_delay_method=s</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#23481;&#35768;&#20320;&#25511;&#21046;&#26381;&#21153;&#26816;&#27979;&#23558;&#22914;&#20309;&#21021;&#22987;&#23637;&#24320;&#20107;&#20214;&#38431;&#21015;&#12290; Using a "smart" delay calculation (the default) will cause Nagios to calculate an average check interval and spread initial checks of all services out over that interval, thereby helping to eliminate CPU load spikes. Using no delay is generally <span class="strong"><strong>not</strong></span> recommended, as it will cause all service checks to be scheduled for execution at the same time. This means that you will generally have large CPU spikes when the services are all executed in parallel. More information on how to estimate how the inter-check delay affects service check scheduling can be found <a class="link" href="#checkscheduling_service_inter_check_delay">here</a>. Values are as follows: </p><div class="orderedlist"><ol type="1"><li>n = Don't use any delay - schedule all service checks to run immediately (i.e. at the same time!) </li><li>d = Use a "dumb" delay of 1 second between service checks </li><li>s = Use a "smart" delay calculation to spread service checks out evenly (default) </li><li>x.xx = Use a user-supplied inter-check delay of x.xx seconds </li></ol></div><div class="table"><a name="max_service_check_spread"></a><p class="title"><b>&#34920;&nbsp;5.46.&nbsp;&#26368;&#22823;&#26381;&#21153;&#26816;&#27979;&#20256;&#25773;&#26102;&#38388;</b></p><div class="table-contents"><table summary="&#26368;&#22823;&#26381;&#21153;&#26816;&#27979;&#20256;&#25773;&#26102;&#38388;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>max_service_check_spread=&lt;minutes&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>max_service_check_spread=30</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option determines the maximum number of minutes from when Nagios starts that all services (that are scheduled to be regularly checked) are checked. This option will automatically adjust the <a class="link" href="#service_inter_check_delay_method" title="&#34920;&nbsp;5.45.&nbsp;&#26381;&#21153;&#26816;&#27979;&#36831;&#28382;&#38388;&#38548;&#35745;&#25968;&#26041;&#27861;">service_inter_check_delay_method</a>service inter-check delay method (if necessary) to ensure that the initial checks of all services occur within the timeframe you specify. In general, this option will not have an affect on service check scheduling if scheduling information is being retained using the <a class="link" href="#use_retained_scheduling_info" title="&#34920;&nbsp;5.30.&nbsp;&#20351;&#29992;&#20445;&#25345;&#35745;&#21010;&#34920;&#20449;&#24687;&#36873;&#39033;">use_retained_scheduling_info</a>use_retained_scheduling_info option. &#40664;&#35748;&#20540;&#26159;30&#20998;&#38047;&#12290;</p><div class="table"><a name="service_interleave_factor"></a><p class="title"><b>&#34920;&nbsp;5.47.&nbsp;&#26381;&#21153;&#20132;&#38169;&#22240;&#23376;</b></p><div class="table-contents"><table summary="&#26381;&#21153;&#20132;&#38169;&#22240;&#23376;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>service_interleave_factor=&lt;s|<span class="strong"><strong>x</strong></span>&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>service_interleave_factor=s</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This variable determines how service checks are interleaved. Interleaving allows for a more even distribution of service checks, reduced load on remote hosts, and faster overall detection of host problems. Setting this value to 1 is equivalent to not interleaving the service checks (this is how versions of Nagios previous to 0.0.5 worked). Set this value to s (smart) for automatic calculation of the interleave factor unless you have a specific reason to change it. The best way to understand how interleaving works is to watch the <a class="link" href="#cgis_status_cgi">status CGI</a> (detailed view) when Nagios is just starting. You should see that the service check results are spread out as they begin to appear. More information on how interleaving works can be found <a class="link" href="#checkscheduling_service_interleaving">here</a>. </p><div class="orderedlist"><ol type="1"><li><span class="strong"><strong>x</strong></span> = A number greater than or equal to 1 that specifies the interleave factor to use. An interleave factor of 1 is equivalent to not interleaving the service checks. </li><li>s = Use a "smart" interleave factor calculation (default) </li></ol></div><div class="table"><a name="max_concurrent_checks"></a><p class="title"><b>&#34920;&nbsp;5.48.&nbsp;&#26368;&#22823;&#24182;&#21457;&#26381;&#21153;&#26816;&#27979;&#25968;</b></p><div class="table-contents"><table summary="&#26368;&#22823;&#24182;&#21457;&#26381;&#21153;&#26816;&#27979;&#25968;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>max_concurrent_checks=&lt;max_checks&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>max_concurrent_checks=20</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#21487;&#25351;&#23450;&#22312;&#20219;&#24847;&#32473;&#23450;&#26102;&#38388;&#37324;&#21487;&#34987;&#21516;&#26102;&#36816;&#34892;&#30340;&#26381;&#21153;&#26816;&#27979;&#21629;&#20196;&#30340;&#26368;&#22823;&#25968;&#37327;&#12290;&#22914;&#26524;&#25351;&#23450;&#36825;&#20010;&#20540;&#20026;1&#65292;&#21017;&#35828;&#26126;&#19981;&#20801;&#35768;&#20219;&#20309;&#24182;&#34892;&#26381;&#21153;&#26816;&#27979;&#65292;&#22914;&#26524;&#25351;&#23450;&#20026;0(&#40664;&#35748;&#20540;)&#21017;&#26159;&#23545;&#24182;&#34892;&#26381;&#21153;&#26816;&#27979;&#12290;&#20320;&#39035;&#25353;&#29031;&#21487;&#36816;&#34892;Nagios&#30340;&#26426;&#22120;&#19978;&#30340;&#26426;&#22120;&#36164;&#28304;&#24773;&#20917;&#20462;&#25913;&#36825;&#20010;&#20540;&#65292;&#22240;&#20026;&#23427;&#20250;&#30452;&#25509;&#24433;&#21709;&#31995;&#32479;&#26368;&#22823;&#36127;&#33655;&#65292;&#23427;&#26045;&#21152;&#20110;&#31995;&#32479;(&#22788;&#29702;&#22120;&#21033;&#29992;&#29575;&#12289;&#20869;&#23384;&#20351;&#29992;&#29575;&#31561;)&#20043;&#19978;&#12290;&#26356;&#22810;&#30340;&#20851;&#20110;&#22914;&#20309;&#35780;&#20272;&#38656;&#35201;&#35774;&#32622;&#22810;&#23569;&#24182;&#34892;&#26816;&#27979;&#20540;&#30340;&#20449;&#24687;&#21487;&#20197;&#26597;&#38405;<a class="link" href="#checkscheduling_max_concurrent_checks">&#36825;&#31687;</a>&#25991;&#26723;&#12290;</p><div class="table"><a name="check_result_reaper_frequency"></a><p class="title"><b>&#34920;&nbsp;5.49.&nbsp;&#26816;&#27979;&#32467;&#26524;&#30340;&#22238;&#25910;&#39057;&#24230;</b></p><div class="table-contents"><table summary="&#26816;&#27979;&#32467;&#26524;&#30340;&#22238;&#25910;&#39057;&#24230;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>check_result_reaper_frequency=&lt;frequency_in_seconds&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>check_result_reaper_frequency=5</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#25511;&#21046;&#26816;&#27979;&#32467;&#26524;&#30340;&#22238;&#25910;&#20107;&#20214;&#30340;&#22788;&#29702;&#39057;&#24230;(<span class="strong"><strong>&#20197;&#31186;&#20026;&#21333;&#20301;</strong></span>)&#12290;&#20174;&#20027;&#26426;&#21644;&#26381;&#21153;&#30340;&#26816;&#27979;&#36807;&#31243;&#37324;&#8220;&#22238;&#25910;&#8221;&#20107;&#20214;&#22788;&#29702;&#32467;&#26524;&#23558;&#26159;&#23545;&#24050;&#32463;&#25191;&#34892;&#32467;&#26463;&#30340;&#26816;&#27979;&#12290;&#20107;&#20214;&#30340;&#26500;&#25104;&#22312;Nagios&#37324;&#26159;&#30417;&#25511;&#36923;&#36753;&#37324;&#30340;&#26680;&#24515;&#20869;&#23481;&#12290;</p><div class="table"><a name="max_check_result_reaper_time"></a><p class="title"><b>&#34920;&nbsp;5.50.&nbsp;&#26368;&#22823;&#26816;&#27979;&#32467;&#26524;&#22238;&#25910;&#26102;&#38388;&#27573;</b></p><div class="table-contents"><table summary="&#26368;&#22823;&#26816;&#27979;&#32467;&#26524;&#22238;&#25910;&#26102;&#38388;&#27573;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>max_check_result_reaper_time=&lt;seconds&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>max_check_result_reaper_time=30</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#20915;&#23450;&#20027;&#26426;&#21644;&#26381;&#21153;&#26816;&#27979;&#32467;&#26524;&#22238;&#25910;&#26102;&#23545;&#32467;&#26524;&#22238;&#25910;&#26102;&#38388;&#27573;&#30340;&#25511;&#21046;&#65292;&#36825;&#20010;&#20540;&#26159;&#20010;<span class="strong"><strong>&#20197;&#31186;&#20026;&#21333;&#20301;</strong></span>&#30340;&#26368;&#22823;&#26102;&#38388;&#36328;&#24230;&#12290;&#20174;&#20027;&#26426;&#21644;&#26381;&#21153;&#30340;&#26816;&#27979;&#36807;&#31243;&#37324;&#8220;&#22238;&#25910;&#8221;&#20107;&#20214;&#22788;&#29702;&#32467;&#26524;&#23558;&#26159;&#23545;&#24050;&#32463;&#25191;&#34892;&#32467;&#26463;&#30340;&#26816;&#27979;&#12290;&#22914;&#26524;&#26377;&#35768;&#22810;&#32467;&#26524;&#35201;&#22788;&#29702;&#65292;&#22238;&#25910;&#20107;&#20214;&#36807;&#31243;&#23558;&#21344;&#29992;&#24456;&#38271;&#26102;&#38388;&#26469;&#23436;&#25104;&#23427;&#65292;&#36825;&#23558;&#24310;&#36831;&#23545;&#26032;&#30340;&#20027;&#26426;&#21644;&#26381;&#21153;&#26816;&#27979;&#30340;&#25191;&#34892;&#12290;&#35813;&#36873;&#39033;&#21487;&#20197;&#38480;&#21046;&#20174;&#26816;&#27979;&#32467;&#26524;&#24471;&#21040;&#19982;&#22238;&#25910;&#22788;&#29702;&#20043;&#38388;&#30340;&#26368;&#22823;&#26102;&#38388;&#38388;&#38548;&#20197;&#20351;Nagios&#21487;&#20197;&#23436;&#25104;&#23545;&#20854;&#20182;&#30417;&#25511;&#36923;&#36753;&#30340;&#36716;&#25442;&#22788;&#29702;&#12290;</p><div class="table"><a name="check_result_path"></a><p class="title"><b>&#34920;&nbsp;5.51.&nbsp;&#26816;&#27979;&#32467;&#26524;&#20445;&#23384;&#36335;&#24452;</b></p><div class="table-contents"><table summary="&#26816;&#27979;&#32467;&#26524;&#20445;&#23384;&#36335;&#24452;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>check_result_path=&lt;path&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>check_result_path=/var/spool/nagios/checkresults</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#20915;&#23450;&#20102;Nagios&#23558;&#22312;&#22788;&#29702;&#26816;&#27979;&#32467;&#26524;&#20043;&#21069;&#20351;&#29992;&#21738;&#20010;&#30446;&#24405;&#26469;&#20445;&#23384;&#20027;&#26426;&#21644;&#26381;&#21153;&#26816;&#27979;&#32467;&#26524;&#12290;&#36825;&#20010;&#30446;&#24405;&#19981;&#33021;&#20445;&#23384;&#20854;&#20182;&#25991;&#20214;&#65292;&#22240;&#20026;Nagios&#20250;&#21608;&#26399;&#24615;&#22320;&#28165;&#29702;&#36825;&#20010;&#30446;&#24405;&#19979;&#30340;&#26087;&#25991;&#20214;(&#26356;&#22810;&#20449;&#24687;&#35265;<a class="link" href="#max_check_result_file_age" title="&#34920;&nbsp;5.52.&nbsp;&#26816;&#27979;&#32467;&#26524;&#25991;&#20214;&#30340;&#26368;&#22823;&#29983;&#23384;&#26102;&#38388;">max_check_result_file_age</a>&#36873;&#39033;)&#12290;</p><p>&#27880;&#24847;&#65306;&#30830;&#20445;&#21482;&#26377;&#19968;&#20010;Nagios&#30340;&#23454;&#20363;&#22312;&#25805;&#20316;&#26816;&#27979;&#32467;&#26524;&#20445;&#23384;&#36335;&#24452;&#12290;&#22914;&#26524;&#26377;&#22810;&#20010;Nagios&#30340;&#23454;&#20363;&#26469;&#25805;&#20316;&#30456;&#21516;&#30340;&#30446;&#24405;&#65292;&#23558;&#20250;&#22240;&#20026;&#38169;&#35823;&#30340;Nagios&#23454;&#20363;&#19981;&#27491;&#30830;&#22320;&#22788;&#29702;&#23548;&#33268;&#26377;&#38169;&#35823;&#32467;&#26524;&#65281;</p><div class="table"><a name="max_check_result_file_age"></a><p class="title"><b>&#34920;&nbsp;5.52.&nbsp;&#26816;&#27979;&#32467;&#26524;&#25991;&#20214;&#30340;&#26368;&#22823;&#29983;&#23384;&#26102;&#38388;</b></p><div class="table-contents"><table summary="&#26816;&#27979;&#32467;&#26524;&#25991;&#20214;&#30340;&#26368;&#22823;&#29983;&#23384;&#26102;&#38388;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>max_check_result_file_age=&lt;seconds&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>max_check_result_file_age=3600</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#20915;&#23450;&#29992;&#26368;&#22823;&#22810;&#23569;&#31186;&#26469;&#38480;&#23450;&#37027;&#20123;&#22312;<a class="link" href="#check_result_path" title="&#34920;&nbsp;5.51.&nbsp;&#26816;&#27979;&#32467;&#26524;&#20445;&#23384;&#36335;&#24452;">check_result_path</a>&#35774;&#32622;&#25152;&#25351;&#21521;&#30446;&#24405;&#37324;&#30340;&#26816;&#27979;&#32467;&#26524;&#25991;&#20214;&#26159;&#21512;&#27861;&#30340;&#12290;&#22914;&#26524;&#26816;&#27979;&#32467;&#26524;&#25991;&#20214;&#36229;&#20986;&#20102;&#36825;&#20010;&#38376;&#38480;&#65292;Nagios&#23558;&#20250;&#25226;&#36807;&#26087;&#30340;&#25991;&#20214;&#21024;&#38500;&#32780;&#19988;&#19981;&#20250;&#22788;&#29702;&#20869;&#21547;&#30340;&#26816;&#27979;&#32467;&#26524;&#12290;&#33509;&#35774;&#32622;&#35813;&#36873;&#39033;&#20026;0&#65292;Nagios&#23558;&#22788;&#29702;&#20840;&#37096;&#30340;&#26816;&#27979;&#32467;&#26524;&#25991;&#20214;&#65293;&#21363;&#20415;&#36825;&#20123;&#25991;&#20214;&#27604;&#20320;&#30340;&#30828;&#20214;&#36824;&#32769;&#26087;&#12290;</p><div class="table"><a name="host_inter_check_delay_method"></a><p class="title"><b>&#34920;&nbsp;5.53.&nbsp;&#20027;&#26426;&#26816;&#27979;&#36831;&#28382;&#38388;&#38548;&#35745;&#25968;&#26041;&#24335;</b></p><div class="table-contents"><table summary="&#20027;&#26426;&#26816;&#27979;&#36831;&#28382;&#38388;&#38548;&#35745;&#25968;&#26041;&#24335;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>host_inter_check_delay_method=&lt;n/d/s/x.xx&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>host_inter_check_delay_method=s</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option allows you to control how host checks <span class="strong"><strong>that are scheduled to be checked on a regular basis</strong></span> are initially "spread out" in the event queue. Using a "smart" delay calculation (the default) will cause Nagios to calculate an average check interval and spread initial checks of all hosts out over that interval, thereby helping to eliminate CPU load spikes. Using no delay is generally <span class="strong"><strong>not</strong></span> recommended. Using no delay will cause all host checks to be scheduled for execution at the same time. More information on how to estimate how the inter-check delay affects host check scheduling can be found <a class="link" href="#checkscheduling_host_inter_check_delay">here</a>.Values are as follows: </p><div class="orderedlist"><ol type="1"><li>n = Don't use any delay - schedule all host checks to run immediately (i.e. at the same time!) </li><li>d = Use a "dumb" delay of 1 second between host checks </li><li>s = Use a "smart" delay calculation to spread host checks out evenly (default) </li><li>x.xx = Use a user-supplied inter-check delay of x.xx seconds </li></ol></div><div class="table"><a name="max_host_check_spread"></a><p class="title"><b>&#34920;&nbsp;5.54.&nbsp;&#26368;&#22823;&#20027;&#26426;&#26816;&#27979;&#20256;&#25773;&#26102;&#38388;</b></p><div class="table-contents"><table summary="&#26368;&#22823;&#20027;&#26426;&#26816;&#27979;&#20256;&#25773;&#26102;&#38388;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>max_host_check_spread=&lt;minutes&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>max_host_check_spread=30</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option determines the maximum number of minutes from when Nagios starts that all hosts (that are scheduled to be regularly checked) are checked. This option will automatically adjust the <a class="link" href="#host_inter_check_delay_method" title="&#34920;&nbsp;5.53.&nbsp;&#20027;&#26426;&#26816;&#27979;&#36831;&#28382;&#38388;&#38548;&#35745;&#25968;&#26041;&#24335;">host_inter_check_delay_method</a>host inter-check delay method (if necessary) to ensure that the initial checks of all hosts occur within the timeframe you specify. In general, this option will not have an affect on host check scheduling if scheduling information is being retained using the <a class="link" href="#use_retained_scheduling_info" title="&#34920;&nbsp;5.30.&nbsp;&#20351;&#29992;&#20445;&#25345;&#35745;&#21010;&#34920;&#20449;&#24687;&#36873;&#39033;">use_retained_scheduling_info</a>use_retained_scheduling_info option. Default value is 30 (minutes). </p><div class="table"><a name="interval_length"></a><p class="title"><b>&#34920;&nbsp;5.55.&nbsp;&#35745;&#25968;&#38388;&#38548;&#38271;&#24230;</b></p><div class="table-contents"><table summary="&#35745;&#25968;&#38388;&#38548;&#38271;&#24230;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>interval_length=&lt;seconds&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>interval_length=60</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#25351;&#23450;&#20102;&#8220;&#21333;&#20301;&#38388;&#38548;&#8221;&#26159;&#22810;&#23569;&#31186;&#25968;&#65292;&#21333;&#20301;&#38388;&#38548;&#29992;&#20110;&#35745;&#25968;&#35745;&#21010;&#38431;&#21015;&#22788;&#29702;&#12289;&#20877;&#27425;&#36890;&#30693;&#31561;&#12290;&#21333;&#20301;&#38388;&#38548;&#22312;&#23545;&#35937;&#37197;&#32622;&#25991;&#20214;&#34987;&#29992;&#20110;&#20915;&#23450;&#20197;&#20309;&#39057;&#24230;&#36816;&#34892;&#26381;&#21153;&#26816;&#27979;&#12289;&#20197;&#20309;&#39057;&#24230;&#19982;&#32852;&#31995;&#20154;&#20877;&#36890;&#30693;&#31561;&#12290;</p><p><span class="bold"><strong>&#37325;&#35201;&#65306;</strong></span>&#40664;&#35748;&#20540;&#26159;60&#65292;&#36825;&#35828;&#26126;&#22312;&#23545;&#35937;&#37197;&#32622;&#25991;&#20214;&#37324;&#35774;&#23450;&#30340;&#8220;&#21333;&#20301;&#38388;&#38548;&#8221;&#26159;60&#31186;(1&#20998;&#38047;)&#12290;&#25105;&#27809;&#27979;&#35797;&#36807;&#20854;&#20182;&#20540;&#65292;&#25152;&#20197;&#22914;&#26524;&#35201;&#29992;&#20854;&#20182;&#20540;&#35201;&#33258;&#25285;&#39118;&#38505;&#65281;</p><div class="table"><a name="auto_reschedule_checks"></a><p class="title"><b>&#34920;&nbsp;5.56.&nbsp;&#33258;&#21160;&#35745;&#21010;&#26816;&#27979;&#36873;&#39033;</b></p><div class="table-contents"><table summary="&#33258;&#21160;&#35745;&#21010;&#26816;&#27979;&#36873;&#39033;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>auto_reschedule_checks=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>auto_reschedule_checks=1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#20915;&#23450;&#20102;Nagios&#26159;&#21542;&#35201;&#35797;&#22270;&#33258;&#21160;&#22320;&#36827;&#34892;&#35745;&#21010;&#30340;&#33258;&#20027;&#26816;&#27979;&#20027;&#26426;&#19982;&#26381;&#21153;&#20197;&#20351;&#22312;&#20043;&#21518;&#30340;&#26102;&#38388;&#37324;&#26816;&#27979;&#26356;&#20026;&#8220;&#24179;&#28369;&#8221;&#12290;&#36825;&#21487;&#20197;&#20351;&#24471;&#30417;&#25511;&#20027;&#26426;&#20445;&#25345;&#19968;&#20010;&#22343;&#34913;&#30340;&#36127;&#36733;&#65292;&#20063;&#20351;&#24471;&#22312;&#25345;&#32493;&#26816;&#27979;&#20043;&#38388;&#30340;&#20445;&#25345;&#30456;&#23545;&#19968;&#33268;&#65292;&#20854;&#20195;&#20215;&#26159;&#35201;&#26356;&#21018;&#24615;&#22320;&#25353;&#35745;&#21010;&#25191;&#34892;&#26816;&#27979;&#24037;&#20316;&#12290;</p><p><span class="bold"><strong>WARNING:</strong></span> THIS IS AN EXPERIMENTAL FEATURE AND MAY BE REMOVED IN FUTURE VERSIONS. ENABLING THIS OPTION CAN DEGRADE PERFORMANCE - RATHER THAN INCREASE IT - IF USED IMPROPERLY! </p><div class="table"><a name="auto_rescheduling_interval"></a><p class="title"><b>&#34920;&nbsp;5.57.&nbsp;Auto-Rescheduling Interval</b></p><div class="table-contents"><table summary="Auto-Rescheduling Interval" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>auto_rescheduling_interval=&lt;seconds&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>auto_rescheduling_interval=30</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option determines how often (in seconds) Nagios will attempt to automatically reschedule checks. This option only has an effect if the <a class="link" href="#auto_reschedule_checks" title="&#34920;&nbsp;5.56.&nbsp;&#33258;&#21160;&#35745;&#21010;&#26816;&#27979;&#36873;&#39033;">auto_reschedule_checks</a>auto_reschedule_checks option is enabled. Default is 30 seconds. </p><p><span class="bold"><strong>WARNING:</strong></span> THIS IS AN EXPERIMENTAL FEATURE AND MAY BE REMOVED IN FUTURE VERSIONS. ENABLING THE AUTO-RESCHEDULING OPTION CAN DEGRADE PERFORMANCE - RATHER THAN INCREASE IT - IF USED IMPROPERLY! </p><div class="table"><a name="auto_rescheduling_window"></a><p class="title"><b>&#34920;&nbsp;5.58.&nbsp;Auto-Rescheduling Window</b></p><div class="table-contents"><table summary="Auto-Rescheduling Window" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>auto_rescheduling_window=&lt;seconds&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>auto_rescheduling_window=180</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option determines the "window" of time (in seconds) that Nagios will look at when automatically rescheduling checks. Only host and service checks that occur in the next X seconds (determined by this variable) will be rescheduled. This option only has an effect if the <a class="link" href="#auto_reschedule_checks" title="&#34920;&nbsp;5.56.&nbsp;&#33258;&#21160;&#35745;&#21010;&#26816;&#27979;&#36873;&#39033;">auto_reschedule_checks</a>auto_reschedule_checks option is enabled. Default is 180 seconds (3 minutes). </p><p><span class="bold"><strong>WARNING:</strong></span> THIS IS AN EXPERIMENTAL FEATURE AND MAY BE REMOVED IN FUTURE VERSIONS. ENABLING THE AUTO-RESCHEDULING OPTION CAN DEGRADE PERFORMANCE - RATHER THAN INCREASE IT - IF USED IMPROPERLY! </p><div class="table"><a name="use_aggressive_host_checking"></a><p class="title"><b>&#34920;&nbsp;5.59.&nbsp;&#36827;&#21462;&#24335;&#20027;&#26426;&#26816;&#27979;&#36873;&#39033;</b></p><div class="table-contents"><table summary="&#36827;&#21462;&#24335;&#20027;&#26426;&#26816;&#27979;&#36873;&#39033;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>use_aggressive_host_checking=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>use_aggressive_host_checking=0</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> Nagios tries to be smart about how and when it checks the status of hosts. In general, disabling this option will allow Nagios to make some smarter decisions and check hosts a bit faster. Enabling this option will increase the amount of time required to check hosts, but may improve reliability a bit. Unless you have problems with Nagios not recognizing that a host recovered, I would suggest not enabling this option. </p><div class="orderedlist"><ol type="1"><li>0 = Don't use aggressive host checking (default) </li><li>1 = Use aggressive host checking </li></ol></div><div class="table"><a name="translate_passive_host_checks"></a><p class="title"><b>&#34920;&nbsp;5.60.&nbsp;&#20256;&#36882;&#24378;&#21046;&#20027;&#26426;&#26816;&#27979;&#32467;&#26524;&#36873;&#39033;</b></p><div class="table-contents"><table summary="&#20256;&#36882;&#24378;&#21046;&#20027;&#26426;&#26816;&#27979;&#32467;&#26524;&#36873;&#39033;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>translate_passive_host_checks=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>translate_passive_host_checks=1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option determines whether or not Nagios will DOWN/UNREACHABLE passive host check results to their "correct" state from the viewpoint of the local Nagios instance. This can be very useful in distributed and failover monitoring installations. More information on passive check state translation can be found <a class="link" href="#passivestatetranslation" title="9.9.&nbsp;&#24378;&#21046;&#24335;&#20027;&#26426;&#29366;&#24577;&#36801;&#31227;">here</a>. </p><div class="orderedlist"><ol type="1"><li>0 = Disable check translation (default) </li><li>1 = Enable check translation </li></ol></div><div class="table"><a name="passive_host_checks_are_soft"></a><p class="title"><b>&#34920;&nbsp;5.61.&nbsp;Passive Host Checks Are SOFT Option</b></p><div class="table-contents"><table summary="Passive Host Checks Are SOFT Option" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>passive_host_checks_are_soft=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>passive_host_checks_are_soft=1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option determines whether or not Nagios will treat <a class="link" href="#passivechecks" title="6.14.&nbsp;&#24378;&#21046;&#26816;&#27979;">passive host checks</a> as HARD states or SOFT states. By default, a passive host check result will put a host into a <a class="link" href="#statetypes" title="6.10.&nbsp;&#29366;&#24577;&#31867;&#22411;">HARD state type</a>. You can change this behavior by enabling this option. </p><div class="orderedlist"><ol type="1"><li>0 = Passive host checks are HARD (default) </li><li>1 = Passive host checks are SOFT </li></ol></div><div class="table"><a name="enable_predictive_host_dependency_checks"></a><p class="title"><b>&#34920;&nbsp;5.62.&nbsp;Predictive Host Dependency Checks Option</b></p><div class="table-contents"><table summary="Predictive Host Dependency Checks Option" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>enable_predictive_host_dependency_checks=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>enable_predictive_host_dependency_checks=1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option determines whether or not Nagios will execute predictive checks of hosts that are being dependended upon (as defined in <a class="link" href="#objectdefinitions_hostdependency">host dependencies</a>) for a particular host when it changes state.</p><p> Predictive checks help ensure that the dependency logic is as accurate as possible. More information on how predictive checks work can be found <a class="link" href="#dependencychecks" title="8.12.&nbsp;&#20381;&#36182;&#26816;&#27979;&#30340;&#21069;&#22788;&#29702;">here</a>. </p><div class="orderedlist"><ol type="1"><li>0 = Disable predictive checks </li><li>1 = Enable predictive checks (default) </li></ol></div><div class="table"><a name="enable_predictive_service_dependency_checks"></a><p class="title"><b>&#34920;&nbsp;5.63.&nbsp;Predictive Service Dependency Checks Option</b></p><div class="table-contents"><table summary="Predictive Service Dependency Checks Option" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>enable_predictive_service_dependency_checks=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>enable_predictive_service_dependency_checks=1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option determines whether or not Nagios will execute predictive checks of services that are being dependended upon (as defined in <a class="link" href="#objectdefinitions_servicedependency">service dependencies</a>) for a particular service when it changes state.</p><p> Predictive checks help ensure that the dependency logic is as accurate as possible. More information on how predictive checks work can be found <a class="link" href="#dependencychecks" title="8.12.&nbsp;&#20381;&#36182;&#26816;&#27979;&#30340;&#21069;&#22788;&#29702;">here</a>. </p><div class="orderedlist"><ol type="1"><li>0 = Disable predictive checks </li><li>1 = Enable predictive checks (default) </li></ol></div><div class="table"><a name="cached_host_check_horizon"></a><p class="title"><b>&#34920;&nbsp;5.64.&nbsp;Cached Host Check Horizon</b></p><div class="table-contents"><table summary="Cached Host Check Horizon" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>cached_host_check_horizon=&lt;seconds&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>cached_host_check_horizon=15</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option determines the maximum amount of time (in seconds) that the state of a previous host check is considered current. Cached host states (from host checks that were performed more recently than the time specified by this value) can improve host check performance immensely. Too high of a value for this option may result in (temporarily) inaccurate host states, while a low value may result in a performance hit for host checks. Use a value of 0 if you want to disable host check caching. More information on cached checks can be found <a class="link" href="#cachedchecks" title="9.5.&nbsp;&#32531;&#23384;&#26816;&#27979;">here</a>. </p><div class="table"><a name="cached_service_check_horizon"></a><p class="title"><b>&#34920;&nbsp;5.65.&nbsp;Cached Service Check Horizon</b></p><div class="table-contents"><table summary="Cached Service Check Horizon" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>cached_service_check_horizon=&lt;seconds&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>cached_service_check_horizon=15</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option determines the maximum amount of time (in seconds) that the state of a previous service check is considered current. Cached service states (from service checks that were performed more recently than the time specified by this value) can improve service check performance when a lot of <a class="link" href="#objectdefinitions_servicedependency">service dependencies</a> are used. Too high of a value for this option may result in inaccuracies in the service dependency logic. Use a value of 0 if you want to disable service check caching. More information on cached checks can be found <a class="link" href="#cachedchecks" title="9.5.&nbsp;&#32531;&#23384;&#26816;&#27979;">here</a>. </p><div class="table"><a name="use_large_installation_tweaks"></a><p class="title"><b>&#34920;&nbsp;5.66.&nbsp;Large Installation Tweaks Option</b></p><div class="table-contents"><table summary="Large Installation Tweaks Option" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>use_large_installation_tweaks=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>use_large_installation_tweaks=0</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option determines whether or not the Nagios daemon will take several shortcuts to improve performance. These shortcuts result in the loss of a few features, but larger installations will likely see a lot of benefit from doing so. More information on what optimizations are taken when you enable this option can be found <a class="link" href="#largeinstalltweaks" title="9.4.&nbsp;&#22823;&#22411;&#23433;&#35013;&#27169;&#24335;&#30340;&#21464;&#21270;">here</a>. </p><div class="orderedlist"><ol type="1"><li>0 = Don't use tweaks (default) </li><li>1 = Use tweaks </li></ol></div><div class="table"><a name="free_child_process_memory"></a><p class="title"><b>&#34920;&nbsp;5.67.&nbsp;&#23376;&#36827;&#31243;&#20869;&#23384;&#36873;&#39033;</b></p><div class="table-contents"><table summary="&#23376;&#36827;&#31243;&#20869;&#23384;&#36873;&#39033;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>free_child_process_memory=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>free_child_process_memory=0</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option determines whether or not Nagios will free memory in child processes when they are fork()ed off from the main process. By default, Nagios frees memory. However, if the <a class="link" href="#use_large_installation_tweaks" title="&#34920;&nbsp;5.66.&nbsp;Large Installation Tweaks Option">use_large_installation_tweaks</a> option is enabled, it will not. By defining this option in your configuration file, you are able to override things to get the behavior you want. </p><div class="orderedlist"><ol type="1"><li>0 = Don't free memory </li><li>1 = Free memory </li></ol></div><div class="table"><a name="child_processes_fork_twice"></a><p class="title"><b>&#34920;&nbsp;5.68.&nbsp;&#23376;&#36827;&#31243;&#20108;&#27425;&#27966;&#29983;&#36873;&#39033;</b></p><div class="table-contents"><table summary="&#23376;&#36827;&#31243;&#20108;&#27425;&#27966;&#29983;&#36873;&#39033;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>child_processes_fork_twice=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>child_processes_fork_twice=0</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option determines whether or not Nagios will fork() child processes twice when it executes host and service checks. By default, Nagios fork()s twice. However, if the <a class="link" href="#use_large_installation_tweaks" title="&#34920;&nbsp;5.66.&nbsp;Large Installation Tweaks Option">use_large_installation_tweaks</a> option is enabled, it will only fork() once. By defining this option in your configuration file, you are able to override things to get the behavior you want. </p><div class="orderedlist"><ol type="1"><li>0 = Fork() just once </li><li>1 = Fork() twice </li></ol></div><div class="table"><a name="enable_environment_macros"></a><p class="title"><b>&#34920;&nbsp;5.69.&nbsp;&#29615;&#22659;&#21464;&#37327;&#20013;&#26631;&#20934;&#23439;&#21487;&#29992;&#24615;&#36873;&#39033;</b></p><div class="table-contents"><table summary="&#29615;&#22659;&#21464;&#37327;&#20013;&#26631;&#20934;&#23439;&#21487;&#29992;&#24615;&#36873;&#39033;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>enable_environment_macros=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>enable_environment_macros=0</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option determines whether or not the Nagios daemon will make all standard <a class="link" href="#macrolist" title="8.3.&nbsp;Nagiosr&#20869;&#23884;&#30340;&#26631;&#20934;&#23439;">macros</a> available as environment variables to your check, notification, event hander, etc. commands. In large Nagios installations this can be problematic because it takes additional memory and (more importantly) CPU to compute the values of all macros and make them available to the environment. </p><div class="orderedlist"><ol type="1"><li>0 = Don't make macros available as environment variables </li><li>1 = Make macros available as environment variables (default) </li></ol></div><div class="table"><a name="enable_flap_detection"></a><p class="title"><b>&#34920;&nbsp;5.70.&nbsp;Flap Detection Option</b></p><div class="table-contents"><table summary="Flap Detection Option" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>enable_flap_detection=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>enable_flap_detection=0</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option determines whether or not Nagios will try and detect hosts and services that are "flapping". Flapping occurs when a host or service changes between states too frequently, resulting in a barrage of notifications being sent out. When Nagios detects that a host or service is flapping, it will temporarily suppress notifications for that host/service until it stops flapping. Flap detection is very experimental at this point, so use this feature with caution! More information on how flap detection and handling works can be found <a class="link" href="#flapping" title="8.7.&nbsp;&#24863;&#30693;&#21644;&#22788;&#29702;&#29366;&#24577;&#25238;&#21160;">here</a>.&#27880;&#24847;&#65306;&#22914;&#26524;&#20320;&#20351;&#33021;<a class="link" href="#retain_state_information" title="&#34920;&nbsp;5.26.&nbsp;&#29366;&#24577;&#20445;&#25345;&#36873;&#39033;">retain_state_information</a>&#29366;&#24577;&#20445;&#25345;&#36873;&#39033;(&#20445;&#23384;&#20110;<a class="link" href="#state_retention_file" title="&#34920;&nbsp;5.27.&nbsp;&#29366;&#24577;&#20445;&#25345;&#25991;&#20214;">state_retention_file</a>&#29366;&#24577;&#20445;&#25345;&#25991;&#20214;&#20013;)&#32780;&#24573;&#30053;&#36825;&#20010;&#35774;&#32622;&#65292;<span class="strong"><strong>&#38500;&#38750;</strong></span>&#20320;&#24050;&#32463;&#20851;&#38381;<a class="link" href="#use_retained_program_state" title="&#34920;&nbsp;5.29.&nbsp;&#31243;&#24207;&#25152;&#29992;&#29366;&#24577;&#30340;&#20351;&#29992;&#36873;&#39033;">use_retained_program_state</a>&#36873;&#39033;&#12290;&#22914;&#26524;&#20320;&#24819;&#22312;&#20445;&#25345;&#36873;&#39033;&#20351;&#33021;(&#19988;<a class="link" href="#use_retained_program_state" title="&#34920;&nbsp;5.29.&nbsp;&#31243;&#24207;&#25152;&#29992;&#29366;&#24577;&#30340;&#20351;&#29992;&#36873;&#39033;">use_retained_program_state</a>&#36873;&#39033;&#20351;&#33021;)&#30340;&#24773;&#20917;&#19979;&#20462;&#25913;&#36825;&#20010;&#36873;&#39033;&#65292;&#20320;&#21482;&#24471;&#29992;&#36866;&#24403;&#30340;<a class="link" href="#extcommands" title="6.9.&nbsp;&#22806;&#37096;&#21629;&#20196;">&#22806;&#37096;&#21629;&#20196;</a>&#25110;&#26159;&#36890;&#36807;Web&#25509;&#21475;&#26469;&#20462;&#25913;&#23427;&#12290;&#36873;&#39033;&#21487;&#29992;&#30340;&#20540;&#26377;&#65306;</p><div class="orderedlist"><ol type="1"><li>0 = Don't enable flap detection (default) </li><li>1 = Enable flap detection </li></ol></div><div class="table"><a name="low_service_flap_threshold"></a><p class="title"><b>&#34920;&nbsp;5.71.&nbsp;Low Service Flap Threshold</b></p><div class="table-contents"><table summary="Low Service Flap Threshold" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>low_service_flap_threshold=&lt;percent&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>low_service_flap_threshold=25.0</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option is used to set the low threshold for detection of service flapping. For more information on how flap detection and handling works (and how this option affects things) read <a class="link" href="#flapping" title="8.7.&nbsp;&#24863;&#30693;&#21644;&#22788;&#29702;&#29366;&#24577;&#25238;&#21160;">this</a>. </p><div class="table"><a name="high_service_flap_threshold"></a><p class="title"><b>&#34920;&nbsp;5.72.&nbsp;High Service Flap Threshold</b></p><div class="table-contents"><table summary="High Service Flap Threshold" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>high_service_flap_threshold=&lt;percent&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>high_service_flap_threshold=50.0</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option is used to set the low threshold for detection of service flapping. For more information on how flap detection and handling works (and how this option affects things) read <a class="link" href="#flapping" title="8.7.&nbsp;&#24863;&#30693;&#21644;&#22788;&#29702;&#29366;&#24577;&#25238;&#21160;">this</a>. </p><div class="table"><a name="low_host_flap_threshold"></a><p class="title"><b>&#34920;&nbsp;5.73.&nbsp;Low Host Flap Threshold</b></p><div class="table-contents"><table summary="Low Host Flap Threshold" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>low_host_flap_threshold=&lt;percent&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>low_host_flap_threshold=25.0</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option is used to set the low threshold for detection of host flapping. For more information on how flap detection and handling works (and how this option affects things) read <a class="link" href="#flapping" title="8.7.&nbsp;&#24863;&#30693;&#21644;&#22788;&#29702;&#29366;&#24577;&#25238;&#21160;">this</a>. </p><div class="table"><a name="high_host_flap_threshold"></a><p class="title"><b>&#34920;&nbsp;5.74.&nbsp;High Host Flap Threshold</b></p><div class="table-contents"><table summary="High Host Flap Threshold" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>high_host_flap_threshold=&lt;percent&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>high_host_flap_threshold=50.0</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option is used to set the low threshold for detection of host flapping. For more information on how flap detection and handling works (and how this option affects things) read <a class="link" href="#flapping" title="8.7.&nbsp;&#24863;&#30693;&#21644;&#22788;&#29702;&#29366;&#24577;&#25238;&#21160;">this</a>. </p><div class="table"><a name="soft_state_dependencies"></a><p class="title"><b>&#34920;&nbsp;5.75.&nbsp;Soft State Dependencies Option</b></p><div class="table-contents"><table summary="Soft State Dependencies Option" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>soft_state_dependencies=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>soft_state_dependencies=0</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option determines whether or not Nagios will use soft state information when checking <a class="link" href="#dependencies" title="8.11.&nbsp;&#20027;&#26426;&#38388;&#19982;&#26381;&#21153;&#38388;&#20381;&#36182;&#20851;&#31995;">host and service dependencies</a>. Normally Nagios will only use the latest hard host or service state when checking dependencies. If you want it to use the latest state (regardless of whether its a soft or hard <a class="link" href="#statetypes" title="6.10.&nbsp;&#29366;&#24577;&#31867;&#22411;">state type</a>), enable this option. </p><div class="orderedlist"><ol type="1"><li>0 = Don't use soft state dependencies (default) </li><li>1 = Use soft state dependencies </li></ol></div><div class="table"><a name="service_check_timeout"></a><p class="title"><b>&#34920;&nbsp;5.76.&nbsp;&#26381;&#21153;&#26816;&#27979;&#36229;&#26102;</b></p><div class="table-contents"><table summary="&#26381;&#21153;&#26816;&#27979;&#36229;&#26102;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>service_check_timeout=&lt;seconds&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>service_check_timeout=60</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This is the maximum number of seconds that Nagios will allow service checks to run. If checks exceed this limit, they are killed and a &#32039;&#24613; state is returned. A timeout error will also be logged. </p><p> There is often widespread confusion as to what this option really does. It is meant to be used as a last ditch mechanism to kill off plugins which are misbehaving and not exiting in a timely manner. It should be set to something high (like 60 seconds or more), so that each service check normally finishes executing within this time limit. If a service check runs longer than this limit, Nagios will kill it off thinking it is a runaway processes. </p><div class="table"><a name="host_check_timeout"></a><p class="title"><b>&#34920;&nbsp;5.77.&nbsp;&#20027;&#26426;&#26816;&#27979;&#36229;&#26102;</b></p><div class="table-contents"><table summary="&#20027;&#26426;&#26816;&#27979;&#36229;&#26102;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>host_check_timeout=&lt;seconds&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>host_check_timeout=60</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This is the maximum number of seconds that Nagios will allow host checks to run. If checks exceed this limit, they are killed and a &#32039;&#24613; state is returned and the host will be assumed to be DOWN. A timeout error will also be logged. </p><p> There is often widespread confusion as to what this option really does. It is meant to be used as a last ditch mechanism to kill off plugins which are misbehaving and not exiting in a timely manner. It should be set to something high (like 60 seconds or more), so that each host check normally finishes executing within this time limit. If a host check runs longer than this limit, Nagios will kill it off thinking it is a runaway processes. </p><div class="table"><a name="event_handler_timeout"></a><p class="title"><b>&#34920;&nbsp;5.78.&nbsp;&#20107;&#20214;&#22788;&#29702;&#36229;&#26102;</b></p><div class="table-contents"><table summary="&#20107;&#20214;&#22788;&#29702;&#36229;&#26102;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>event_handler_timeout=&lt;seconds&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>event_handler_timeout=60</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This is the maximum number of seconds that Nagios will allow <a class="link" href="#eventhandlers" title="6.8.&nbsp;&#20107;&#20214;&#22788;&#29702;">event handlers</a> to be run. If an event handler exceeds this time limit it will be killed and a warning will be logged. </p><p> There is often widespread confusion as to what this option really does. It is meant to be used as a last ditch mechanism to kill off commands which are misbehaving and not exiting in a timely manner. It should be set to something high (like 60 seconds or more), so that each event handler command normally finishes executing within this time limit. If an event handler runs longer than this limit, Nagios will kill it off thinking it is a runaway processes. </p><div class="table"><a name="notification_timeout"></a><p class="title"><b>&#34920;&nbsp;5.79.&nbsp;&#36890;&#30693;&#36229;&#26102;</b></p><div class="table-contents"><table summary="&#36890;&#30693;&#36229;&#26102;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>notification_timeout=&lt;seconds&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>notification_timeout=60</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This is the maximum number of seconds that Nagios will allow notification commands to be run. If a notification command exceeds this time limit it will be killed and a warning will be logged. </p><p> There is often widespread confusion as to what this option really does. It is meant to be used as a last ditch mechanism to kill off commands which are misbehaving and not exiting in a timely manner. It should be set to something high (like 60 seconds or more), so that each notification command finishes executing within this time limit. If a notification command runs longer than this limit, Nagios will kill it off thinking it is a runaway processes. </p><div class="table"><a name="ocsp_timeout"></a><p class="title"><b>&#34920;&nbsp;5.80.&nbsp;Obsessive Compulsive Service Processor Timeout</b></p><div class="table-contents"><table summary="Obsessive Compulsive Service Processor Timeout" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>ocsp_timeout=&lt;seconds&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>ocsp_timeout=5</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This is the maximum number of seconds that Nagios will allow an <a class="link" href="#ocsp_command" title="&#34920;&nbsp;5.84.&nbsp;Obsessive Compulsive Service Processor Command">ocsp_command</a>obsessive compulsive service processor command to be run. If a command exceeds this time limit it will be killed and a warning will be logged. </p><div class="table"><a name="ochp_timeout"></a><p class="title"><b>&#34920;&nbsp;5.81.&nbsp;Obsessive Compulsive Host Processor Timeout</b></p><div class="table-contents"><table summary="Obsessive Compulsive Host Processor Timeout" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>ochp_timeout=&lt;seconds&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>ochp_timeout=5</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This is the maximum number of seconds that Nagios will allow an <a class="link" href="#ochp_command" title="&#34920;&nbsp;5.86.&nbsp;Obsessive Compulsive Host Processor Command">ochp_command</a>obsessive compulsive host processor command to be run. If a command exceeds this time limit it will be killed and a warning will be logged. </p><div class="table"><a name="perfdata_timeout"></a><p class="title"><b>&#34920;&nbsp;5.82.&nbsp;&#24615;&#33021;&#25968;&#25454;&#22788;&#29702;&#21629;&#20196;&#36229;&#26102;</b></p><div class="table-contents"><table summary="&#24615;&#33021;&#25968;&#25454;&#22788;&#29702;&#21629;&#20196;&#36229;&#26102;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>perfdata_timeout=&lt;seconds&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>perfdata_timeout=5</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This is the maximum number of seconds that Nagios will allow a <a class="link" href="#host_perfdata_command" title="&#34920;&nbsp;5.88.&nbsp;&#20027;&#26426;&#24615;&#33021;&#25968;&#25454;&#22788;&#29702;&#21629;&#20196;">host_perfdata_command</a>host performance data processor command or <a class="link" href="#service_perfdata_command" title="&#34920;&nbsp;5.89.&nbsp;&#26381;&#21153;&#24615;&#33021;&#25968;&#25454;&#22788;&#29702;&#21629;&#20196;">service_perfdata_command</a>service performance data processor command to be run. If a command exceeds this time limit it will be killed and a warning will be logged. </p><div class="table"><a name="obsess_over_services"></a><p class="title"><b>&#34920;&nbsp;5.83.&nbsp;Obsess Over Services Option</b></p><div class="table-contents"><table summary="Obsess Over Services Option" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>obsess_over_services=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>obsess_over_services=1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This value determines whether or not Nagios will "obsess" over service checks results and run the <a class="link" href="#ocsp_command" title="&#34920;&nbsp;5.84.&nbsp;Obsessive Compulsive Service Processor Command">ocsp_command</a>obsessive compulsive service processor command you define. I know - funny name, but it was all I could think of. This option is useful for performing <a class="link" href="#distributed" title="9.2.&nbsp;&#20998;&#24067;&#24335;&#30417;&#25511;">distributed monitoring</a>. If you're not doing distributed monitoring, don't enable this option. </p><div class="orderedlist"><ol type="1"><li>0 = Don't obsess over services (default) </li><li>1 = Obsess over services </li></ol></div><div class="table"><a name="ocsp_command"></a><p class="title"><b>&#34920;&nbsp;5.84.&nbsp;Obsessive Compulsive Service Processor Command</b></p><div class="table-contents"><table summary="Obsessive Compulsive Service Processor Command" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>ocsp_command=&lt;command&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>ocsp_command=obsessive_service_handler</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option allows you to specify a command to be run after <span class="strong"><strong>every</strong></span> service check, which can be useful in <a class="link" href="#distributed" title="9.2.&nbsp;&#20998;&#24067;&#24335;&#30417;&#25511;">distributed monitoring</a>. This command is executed after any <a class="link" href="#eventhandlers" title="6.8.&nbsp;&#20107;&#20214;&#22788;&#29702;">event handler</a> or <a class="link" href="#notifications" title="6.7.&nbsp;&#36890;&#30693;">notification</a> commands. The <span class="strong"><strong>command</strong></span> argument is the short name of a <a class="link" href="#objectdefinitions_command">command definition</a> that you define in your &#23545;&#35937;&#37197;&#32622;&#25991;&#20214;. The maximum amount of time that this command can run is controlled by the <a class="link" href="#ocsp_timeout" title="&#34920;&nbsp;5.80.&nbsp;Obsessive Compulsive Service Processor Timeout">ocsp_timeout</a>ocsp_timeout option. More information on distributed monitoring can be found <a class="link" href="#distributed" title="9.2.&nbsp;&#20998;&#24067;&#24335;&#30417;&#25511;">here</a>. This command is only executed if the <a class="link" href="#obsess_over_services" title="&#34920;&nbsp;5.83.&nbsp;Obsess Over Services Option">obsess_over_services</a>obsess_over_services option is enabled globally and if the <span class="strong"><strong>obsess_over_service</strong></span> directive in the <a class="link" href="#objectdefinitions_service">service definition</a> is enabled. </p><div class="table"><a name="obsess_over_hosts"></a><p class="title"><b>&#34920;&nbsp;5.85.&nbsp;Obsess Over Hosts Option</b></p><div class="table-contents"><table summary="Obsess Over Hosts Option" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>obsess_over_hosts=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>obsess_over_hosts=1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This value determines whether or not Nagios will "obsess" over host checks results and run the <a class="link" href="#ochp_command" title="&#34920;&nbsp;5.86.&nbsp;Obsessive Compulsive Host Processor Command">ochp_command</a>obsessive compulsive host processor command you define. I know - funny name, but it was all I could think of. This option is useful for performing <a class="link" href="#distributed" title="9.2.&nbsp;&#20998;&#24067;&#24335;&#30417;&#25511;">distributed monitoring</a>. If you're not doing distributed monitoring, don't enable this option. </p><div class="orderedlist"><ol type="1"><li>0 = Don't obsess over hosts (default) </li><li>1 = Obsess over hosts </li></ol></div><div class="table"><a name="ochp_command"></a><p class="title"><b>&#34920;&nbsp;5.86.&nbsp;Obsessive Compulsive Host Processor Command</b></p><div class="table-contents"><table summary="Obsessive Compulsive Host Processor Command" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>ochp_command=&lt;command&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>ochp_command=obsessive_host_handler</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option allows you to specify a command to be run after <span class="strong"><strong>every</strong></span> host check, which can be useful in <a class="link" href="#distributed" title="9.2.&nbsp;&#20998;&#24067;&#24335;&#30417;&#25511;">distributed monitoring</a>. This command is executed after any <a class="link" href="#eventhandlers" title="6.8.&nbsp;&#20107;&#20214;&#22788;&#29702;">event handler</a> or <a class="link" href="#notifications" title="6.7.&nbsp;&#36890;&#30693;">notification</a> commands. The <span class="strong"><strong>command</strong></span> argument is the short name of a <a class="link" href="#objectdefinitions_command">command definition</a> that you define in your &#23545;&#35937;&#37197;&#32622;&#25991;&#20214;. The maximum amount of time that this command can run is controlled by the <a class="link" href="#ochp_timeout" title="&#34920;&nbsp;5.81.&nbsp;Obsessive Compulsive Host Processor Timeout">ochp_timeout</a>ochp_timeout option. More information on distributed monitoring can be found <a class="link" href="#distributed" title="9.2.&nbsp;&#20998;&#24067;&#24335;&#30417;&#25511;">here</a>. This command is only executed if the <a class="link" href="#obsess_over_hosts" title="&#34920;&nbsp;5.85.&nbsp;Obsess Over Hosts Option">obsess_over_hosts</a>obsess_over_hosts option is enabled globally and if the <span class="strong"><strong>obsess_over_host</strong></span> directive in the <a class="link" href="#objectdefinitions_host">host definition</a> is enabled. </p><div class="table"><a name="process_performance_data"></a><p class="title"><b>&#34920;&nbsp;5.87.&nbsp;&#24615;&#33021;&#25968;&#25454;&#22788;&#29702;&#36873;&#39033;</b></p><div class="table-contents"><table summary="&#24615;&#33021;&#25968;&#25454;&#22788;&#29702;&#36873;&#39033;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>process_performance_data=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>process_performance_data=1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#20915;&#23450;Nagios&#26159;&#21542;&#35201;&#22788;&#29702;&#20027;&#26426;&#21644;&#26381;&#21153;&#26816;&#27979;<a class="link" href="#perfdata" title="8.13.&nbsp;&#24615;&#33021;&#25968;&#25454;">&#24615;&#33021;&#25968;&#25454;</a>&#12290;</p><div class="orderedlist"><ol type="1"><li>0 = Don't process performance data (default) </li><li>1 = Process performance data </li></ol></div><div class="table"><a name="host_perfdata_command"></a><p class="title"><b>&#34920;&nbsp;5.88.&nbsp;&#20027;&#26426;&#24615;&#33021;&#25968;&#25454;&#22788;&#29702;&#21629;&#20196;</b></p><div class="table-contents"><table summary="&#20027;&#26426;&#24615;&#33021;&#25968;&#25454;&#22788;&#29702;&#21629;&#20196;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>host_perfdata_command=&lt;command&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>host_perfdata_command=process-host-perfdata</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option allows you to specify a command to be run after <span class="strong"><strong>every</strong></span> host check to process host <a class="link" href="#perfdata" title="8.13.&nbsp;&#24615;&#33021;&#25968;&#25454;">performance data</a> that may be returned from the check. The <span class="strong"><strong>command</strong></span> argument is the short name of a <a class="link" href="#objectdefinitions_command">command definition</a> that you define in your &#23545;&#35937;&#37197;&#32622;&#25991;&#20214;. This command is only executed if the <a class="link" href="#process_performance_data" title="&#34920;&nbsp;5.87.&nbsp;&#24615;&#33021;&#25968;&#25454;&#22788;&#29702;&#36873;&#39033;">process_performance_data</a>process_performance_data option is enabled globally and if the <span class="strong"><strong>process_perf_data</strong></span> directive in the <a class="link" href="#objectdefinitions_host">host definition</a> is enabled. </p><div class="table"><a name="service_perfdata_command"></a><p class="title"><b>&#34920;&nbsp;5.89.&nbsp;&#26381;&#21153;&#24615;&#33021;&#25968;&#25454;&#22788;&#29702;&#21629;&#20196;</b></p><div class="table-contents"><table summary="&#26381;&#21153;&#24615;&#33021;&#25968;&#25454;&#22788;&#29702;&#21629;&#20196;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>service_perfdata_command=&lt;command&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>service_perfdata_command=process-service-perfdata</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option allows you to specify a command to be run after <span class="strong"><strong>every</strong></span> service check to process service <a class="link" href="#perfdata" title="8.13.&nbsp;&#24615;&#33021;&#25968;&#25454;">performance data</a> that may be returned from the check. The <span class="strong"><strong>command</strong></span> argument is the short name of a <a class="link" href="#objectdefinitions_command">command definition</a> that you define in your &#23545;&#35937;&#37197;&#32622;&#25991;&#20214;. This command is only executed if the <a class="link" href="#process_performance_data" title="&#34920;&nbsp;5.87.&nbsp;&#24615;&#33021;&#25968;&#25454;&#22788;&#29702;&#36873;&#39033;">process_performance_data</a>process_performance_data option is enabled globally and if the <span class="strong"><strong>process_perf_data</strong></span> directive in the <a class="link" href="#objectdefinitions_service">service definition</a> is enabled. </p><div class="table"><a name="host_perfdata_file"></a><p class="title"><b>&#34920;&nbsp;5.90.&nbsp;&#20027;&#26426;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;</b></p><div class="table-contents"><table summary="&#20027;&#26426;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>host_perfdata_file=&lt;file_name&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>host_perfdata_file=/usr/local/nagios/var/host-perfdata.dat</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option allows you to specify a file to which host <a class="link" href="#perfdata" title="8.13.&nbsp;&#24615;&#33021;&#25968;&#25454;">performance data</a> will be written after every host check. Data will be written to the performance file as specified by the <a class="link" href="#host_perfdata_file" title="&#34920;&nbsp;5.90.&nbsp;&#20027;&#26426;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;">host_perfdata_file_template</a>host_perfdata_file_template option. Performance data is only written to this file if the <a class="link" href="#process_performance_data" title="&#34920;&nbsp;5.87.&nbsp;&#24615;&#33021;&#25968;&#25454;&#22788;&#29702;&#36873;&#39033;">process_performance_data</a>process_performance_data option is enabled globally and if the <span class="strong"><strong>process_perf_data</strong></span> directive in the <a class="link" href="#objectdefinitions_host">host definition</a> is enabled. </p><div class="table"><a name="service_perfdata_file"></a><p class="title"><b>&#34920;&nbsp;5.91.&nbsp;&#26381;&#21153;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;</b></p><div class="table-contents"><table summary="&#26381;&#21153;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>service_perfdata_file=&lt;file_name&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>service_perfdata_file=/usr/local/nagios/var/service-perfdata.dat</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option allows you to specify a file to which service <a class="link" href="#perfdata" title="8.13.&nbsp;&#24615;&#33021;&#25968;&#25454;">performance data</a> will be written after every service check. Data will be written to the performance file as specified by the <a class="link" href="#service_perfdata_file_template" title="&#34920;&nbsp;5.93.&nbsp;&#26381;&#21153;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;&#27169;&#26495;">service_perfdata_file_template</a> option. Performance data is only written to this file if the <a class="link" href="#process_performance_data" title="&#34920;&nbsp;5.87.&nbsp;&#24615;&#33021;&#25968;&#25454;&#22788;&#29702;&#36873;&#39033;">process_performance_data</a>process_performance_data option is enabled globally and if the <span class="strong"><strong>process_perf_data</strong></span> directive in the <a class="link" href="#objectdefinitions_service">service definition</a> is enabled. </p><div class="table"><a name="host_perfdata_file_template"></a><p class="title"><b>&#34920;&nbsp;5.92.&nbsp;&#20027;&#26426;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;&#27169;&#26495;</b></p><div class="table-contents"><table summary="&#20027;&#26426;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;&#27169;&#26495;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>host_perfdata_file_template=&lt;template&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong><p>host_perfdata_file_template=[HOSTPERFDATA]\t$TIMET$\t$HOSTNAME$\t$HOSTEXECUTIONTIME$</p><p>\t$HOSTOUTPUT$\t$HOSTPERFDATA$</p></strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option determines what (and how) data is written to the <a class="link" href="#host_perfdata_file" title="&#34920;&nbsp;5.90.&nbsp;&#20027;&#26426;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;">host_perfdata_file</a>host performance data file. The template may contain <a class="link" href="#macros" title="8.2.&nbsp;&#29702;&#35299;Nagios&#23439;&#21450;&#20854;&#24037;&#20316;&#26426;&#21046;">macros</a>, special characters (\t for tab, \r for carriage return, \n for newline) and plain text. A newline is automatically added after each write to the performance data file. </p><div class="table"><a name="service_perfdata_file_template"></a><p class="title"><b>&#34920;&nbsp;5.93.&nbsp;&#26381;&#21153;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;&#27169;&#26495;</b></p><div class="table-contents"><table summary="&#26381;&#21153;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;&#27169;&#26495;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>service_perfdata_file_template=&lt;template&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong><p>service_perfdata_file_template=[SERVICEPERFDATA]\t$TIMET$\t$HOSTNAME$\t$SERVICEDESC$\t</p><p>$SERVICEEXECUTIONTIME$\t$SERVICELATENCY$\t$SERVICEOUTPUT$\t$SERVICEPERFDATA$</p></strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option determines what (and how) data is written to the <a class="link" href="#service_perfdata_file" title="&#34920;&nbsp;5.91.&nbsp;&#26381;&#21153;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;">service performance data file</a>. The template may contain <a class="link" href="#macros" title="8.2.&nbsp;&#29702;&#35299;Nagios&#23439;&#21450;&#20854;&#24037;&#20316;&#26426;&#21046;">macros</a>, special characters (\t for tab, \r for carriage return, \n for newline) and plain text. A newline is automatically added after each write to the performance data file. </p><div class="table"><a name="host_perfdata_file_mode"></a><p class="title"><b>&#34920;&nbsp;5.94.&nbsp;&#20027;&#26426;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;&#25171;&#24320;&#26041;&#24335;</b></p><div class="table-contents"><table summary="&#20027;&#26426;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;&#25171;&#24320;&#26041;&#24335;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>host_perfdata_file_mode=&lt;mode&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>host_perfdata_file_mode=a</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option determines how the <a class="link" href="#host_perfdata_file" title="&#34920;&nbsp;5.90.&nbsp;&#20027;&#26426;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;">host_perfdata_file</a>host performance data file is opened. Unless the file is a named pipe you'll probably want to use the default mode of append. </p><div class="orderedlist"><ol type="1"><li>a = Open file in append mode (default) </li><li>w = Open file in write mode </li><li>p = Open in non-blocking read/write mode (useful when writing to pipes) </li></ol></div><div class="table"><a name="service_perfdata_file_mode"></a><p class="title"><b>&#34920;&nbsp;5.95.&nbsp;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;&#25171;&#24320;&#26041;&#24335;</b></p><div class="table-contents"><table summary="&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;&#25171;&#24320;&#26041;&#24335;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>service_perfdata_file_mode=&lt;mode&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>service_perfdata_file_mode=a</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option determines how the <a class="link" href="#service_perfdata_file" title="&#34920;&nbsp;5.91.&nbsp;&#26381;&#21153;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;">service performance data file</a> is opened. Unless the file is a named pipe you'll probably want to use the default mode of append. </p><div class="orderedlist"><ol type="1"><li>a = Open file in append mode (default) </li><li>w = Open file in write mode </li><li>p = Open in non-blocking read/write mode (useful when writing to pipes) </li></ol></div><div class="table"><a name="host_perfdata_file_processing_interval"></a><p class="title"><b>&#34920;&nbsp;5.96.&nbsp;&#20027;&#26426;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;&#22788;&#29702;&#38388;&#38548;</b></p><div class="table-contents"><table summary="&#20027;&#26426;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;&#22788;&#29702;&#38388;&#38548;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>host_perfdata_file_processing_interval=&lt;seconds&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>host_perfdata_file_processing_interval=0</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option allows you to specify the interval (in seconds) at which the <a class="link" href="#host_perfdata_file" title="&#34920;&nbsp;5.90.&nbsp;&#20027;&#26426;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;">host_perfdata_file</a>host performance data file is processed using the <a class="link" href="#host_perfdata_file" title="&#34920;&nbsp;5.90.&nbsp;&#20027;&#26426;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;">host_perfdata_file_processing_command</a>host performance data file processing command. A value of 0 indicates that the performance data file should not be processed at regular intervals. </p><div class="table"><a name="service_perfdata_file_processing_interval"></a><p class="title"><b>&#34920;&nbsp;5.97.&nbsp;&#26381;&#21153;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;&#22788;&#29702;&#38388;&#38548;</b></p><div class="table-contents"><table summary="&#26381;&#21153;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;&#22788;&#29702;&#38388;&#38548;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>service_perfdata_file_processing_interval=&lt;seconds&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>service_perfdata_file_processing_interval=0</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option allows you to specify the interval (in seconds) at which the <a class="link" href="#service_perfdata_file" title="&#34920;&nbsp;5.91.&nbsp;&#26381;&#21153;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;">service_perfdata_file</a>service performance data file is processed using the <a class="link" href="#service_perfdata_file" title="&#34920;&nbsp;5.91.&nbsp;&#26381;&#21153;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;">service_perfdata_file_processing_command</a>service performance data file processing command. A value of 0 indicates that the performance data file should not be processed at regular intervals. </p><div class="table"><a name="host_perfdata_file_processing_command"></a><p class="title"><b>&#34920;&nbsp;5.98.&nbsp;&#20027;&#26426;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;&#22788;&#29702;&#21629;&#20196;</b></p><div class="table-contents"><table summary="&#20027;&#26426;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;&#22788;&#29702;&#21629;&#20196;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>host_perfdata_file_processing_command=&lt;command&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>host_perfdata_file_processing_command=process-host-perfdata-file</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option allows you to specify the command that should be executed to process the <a class="link" href="#host_perfdata_file" title="&#34920;&nbsp;5.90.&nbsp;&#20027;&#26426;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;">host_perfdata_file</a>host performance data file. The <span class="strong"><strong>command</strong></span> argument is the short name of a <a class="link" href="#objectdefinitions_command">command definition</a> that you define in your &#23545;&#35937;&#37197;&#32622;&#25991;&#20214;. The interval at which this command is executed is determined by the <a class="link" href="#host_perfdata_file" title="&#34920;&nbsp;5.90.&nbsp;&#20027;&#26426;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;">host_perfdata_file_processing_interval</a>host_perfdata_file_processing_interval directive. </p><div class="table"><a name="service_perfdata_file_processing_command"></a><p class="title"><b>&#34920;&nbsp;5.99.&nbsp;&#26381;&#21153;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;&#22788;&#29702;&#21629;&#20196;</b></p><div class="table-contents"><table summary="&#26381;&#21153;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;&#22788;&#29702;&#21629;&#20196;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>service_perfdata_file_processing_command=&lt;command&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>service_perfdata_file_processing_command=process-service-perfdata-file</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option allows you to specify the command that should be executed to process the <a class="link" href="#service_perfdata_file" title="&#34920;&nbsp;5.91.&nbsp;&#26381;&#21153;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;">service_perfdata_file</a>service performance data file. The <span class="strong"><strong>command</strong></span> argument is the short name of a <a class="link" href="#objectdefinitions_command">command definition</a> that you define in your &#23545;&#35937;&#37197;&#32622;&#25991;&#20214;. The interval at which this command is executed is determined by the <a class="link" href="#service_perfdata_file" title="&#34920;&nbsp;5.91.&nbsp;&#26381;&#21153;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;">service_perfdata_file_processing_interval</a>service_perfdata_file_processing_interval directive. </p><div class="table"><a name="check_for_orphaned_services"></a><p class="title"><b>&#34920;&nbsp;5.100.&nbsp;&#23396;&#31435;&#26381;&#21153;&#26816;&#27979;&#36873;&#39033;</b></p><div class="table-contents"><table summary="&#23396;&#31435;&#26381;&#21153;&#26816;&#27979;&#36873;&#39033;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>check_for_orphaned_services=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>check_for_orphaned_services=1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option allows you to enable or disable checks for orphaned service checks. Orphaned service checks are checks which have been executed and have been removed from the event queue, but have not had any results reported in a long time. Since no results have come back in for the service, it is not rescheduled in the event queue. This can cause service checks to stop being executed. Normally it is very rare for this to happen - it might happen if an external user or process killed off the process that was being used to execute a service check. If this option is enabled and Nagios finds that results for a particular service check have not come back, it will log an error message and reschedule the service check. If you start seeing service checks that never seem to get rescheduled, enable this option and see if you notice any log messages about orphaned services. </p><div class="orderedlist"><ol type="1"><li>0 = Don't check for orphaned service checks </li><li>1 = Check for orphaned service checks (default) </li></ol></div><div class="table"><a name="check_for_orphaned_hosts"></a><p class="title"><b>&#34920;&nbsp;5.101.&nbsp;&#23396;&#31435;&#20027;&#26426;&#26816;&#27979;&#36873;&#39033;</b></p><div class="table-contents"><table summary="&#23396;&#31435;&#20027;&#26426;&#26816;&#27979;&#36873;&#39033;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>check_for_orphaned_hosts=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>check_for_orphaned_hosts=1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option allows you to enable or disable checks for orphaned hoste checks. Orphaned host checks are checks which have been executed and have been removed from the event queue, but have not had any results reported in a long time. Since no results have come back in for the host, it is not rescheduled in the event queue. This can cause host checks to stop being executed. Normally it is very rare for this to happen - it might happen if an external user or process killed off the process that was being used to execute a host check. If this option is enabled and Nagios finds that results for a particular host check have not come back, it will log an error message and reschedule the host check. If you start seeing host checks that never seem to get rescheduled, enable this option and see if you notice any log messages about orphaned hosts. </p><div class="orderedlist"><ol type="1"><li>0 = Don't check for orphaned host checks </li><li>1 = Check for orphaned host checks (default) </li></ol></div><div class="table"><a name="check_service_freshness"></a><p class="title"><b>&#34920;&nbsp;5.102.&nbsp;&#26381;&#21153;&#26356;&#26032;&#26816;&#27979;&#36873;&#39033;</b></p><div class="table-contents"><table summary="&#26381;&#21153;&#26356;&#26032;&#26816;&#27979;&#36873;&#39033;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>check_service_freshness=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>check_service_freshness=0</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option determines whether or not Nagios will periodically check the "freshness" of service checks. Enabling this option is useful for helping to ensure that <a class="link" href="#passivechecks" title="6.14.&nbsp;&#24378;&#21046;&#26816;&#27979;">passive service checks</a> are received in a timely manner. More information on freshness checking can be found <a class="link" href="#freshness" title="8.6.&nbsp;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#21047;&#26032;&#26816;&#27979;">here</a>. </p><div class="orderedlist"><ol type="1"><li>0 = Don't check service freshness </li><li>1 = Check service freshness (default) </li></ol></div><div class="table"><a name="service_freshness_check_interval"></a><p class="title"><b>&#34920;&nbsp;5.103.&nbsp;&#26381;&#21153;&#26356;&#26032;&#26816;&#27979;&#38388;&#38548;</b></p><div class="table-contents"><table summary="&#26381;&#21153;&#26356;&#26032;&#26816;&#27979;&#38388;&#38548;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>service_freshness_check_interval=&lt;seconds&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>service_freshness_check_interval=60</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This setting determines how often (in seconds) Nagios will periodically check the "freshness" of service check results. If you have disabled service freshness checking (with the <a class="link" href="#check_service_freshness" title="&#34920;&nbsp;5.102.&nbsp;&#26381;&#21153;&#26356;&#26032;&#26816;&#27979;&#36873;&#39033;">check_service_freshness</a>check_service_freshness option), this option has no effect. More information on freshness checking can be found <a class="link" href="#freshness" title="8.6.&nbsp;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#21047;&#26032;&#26816;&#27979;">here</a>. </p><div class="table"><a name="check_host_freshness"></a><p class="title"><b>&#34920;&nbsp;5.104.&nbsp;&#20027;&#26426;&#26356;&#26032;&#26816;&#27979;&#36873;&#39033;</b></p><div class="table-contents"><table summary="&#20027;&#26426;&#26356;&#26032;&#26816;&#27979;&#36873;&#39033;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>check_host_freshness=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>check_host_freshness=0</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option determines whether or not Nagios will periodically check the "freshness" of host checks. Enabling this option is useful for helping to ensure that <a class="link" href="#passivechecks" title="6.14.&nbsp;&#24378;&#21046;&#26816;&#27979;">passive host checks</a> are received in a timely manner. More information on freshness checking can be found <a class="link" href="#freshness" title="8.6.&nbsp;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#21047;&#26032;&#26816;&#27979;">here</a>. </p><div class="orderedlist"><ol type="1"><li>0 = Don't check host freshness </li><li>1 = Check host freshness (default) </li></ol></div><div class="table"><a name="host_freshness_check_interval"></a><p class="title"><b>&#34920;&nbsp;5.105.&nbsp;&#20027;&#26426;&#26356;&#26032;&#26816;&#27979;&#38388;&#38548;</b></p><div class="table-contents"><table summary="&#20027;&#26426;&#26356;&#26032;&#26816;&#27979;&#38388;&#38548;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>host_freshness_check_interval=&lt;seconds&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>host_freshness_check_interval=60</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This setting determines how often (in seconds) Nagios will periodically check the "freshness" of host check results. If you have disabled host freshness checking (with the <a class="link" href="#check_host_freshness" title="&#34920;&nbsp;5.104.&nbsp;&#20027;&#26426;&#26356;&#26032;&#26816;&#27979;&#36873;&#39033;">check_host_freshness</a>check_host_freshness option), this option has no effect. More information on freshness checking can be found <a class="link" href="#freshness" title="8.6.&nbsp;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#21047;&#26032;&#26816;&#27979;">here</a>. </p><div class="table"><a name="additional_freshness_latency"></a><p class="title"><b>&#34920;&nbsp;5.106.&nbsp;Additional Freshness Threshold Latency Option</b></p><div class="table-contents"><table summary="Additional Freshness Threshold Latency Option" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>additional_freshness_latency=&lt;#&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>additional_freshness_latency=15</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option determines the number of seconds Nagios will add to any host or services freshness threshold it automatically calculates (e.g. those not specified explicity by the user). More information on freshness checking can be found <a class="link" href="#freshness" title="8.6.&nbsp;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#21047;&#26032;&#26816;&#27979;">here</a>. </p><div class="table"><a name="enable_embedded_perl"></a><p class="title"><b>&#34920;&nbsp;5.107.&nbsp;Embedded Perl Interpreter Option</b></p><div class="table-contents"><table summary="Embedded Perl Interpreter Option" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>enable_embedded_perl=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>enable_embedded_perl=1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This setting determines whether or not the embedded Perl interpreter is enabled on a program-wide basis. Nagios must be compiled with support for embedded Perl for this option to have an effect. More information on the embedded Perl interpreter can be found <a class="link" href="#embeddedperl" title="12.1.&nbsp;&#20351;&#29992;&#20869;&#23884;Perl&#35299;&#37322;&#22120;">here</a>. </p><div class="table"><a name="use_embedded_perl_implicitly"></a><p class="title"><b>&#34920;&nbsp;5.108.&nbsp;Embedded Perl Implicit Use Option</b></p><div class="table-contents"><table summary="Embedded Perl Implicit Use Option" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>use_embedded_perl_implicitly=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>use_embedded_perl_implicitly=1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This setting determines whether or not the embedded Perl interpreter should be used for Perl plugins/scripts that do not explicitly enable/disable it. Nagios must be compiled with support for embedded Perl for this option to have an effect. More information on the embedded Perl interpreter and the effect of this setting can be found <a class="link" href="#embeddedperl" title="12.1.&nbsp;&#20351;&#29992;&#20869;&#23884;Perl&#35299;&#37322;&#22120;">here</a>. </p><div class="table"><a name="date_format"></a><p class="title"><b>&#34920;&nbsp;5.109.&nbsp;Date Format</b></p><div class="table-contents"><table summary="Date Format" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>date_format=&lt;option&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>date_format=us</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option allows you to specify what kind of date/time format Nagios should use in the web interface and date/time <a class="link" href="#macros" title="8.2.&nbsp;&#29702;&#35299;Nagios&#23439;&#21450;&#20854;&#24037;&#20316;&#26426;&#21046;">macros</a>. Possible options (along with example output) include: </p><div class="table"><a name="d0e6252"></a><p class="title"><b>&#34920;&nbsp;5.110.&nbsp;</b></p><div class="table-contents"><table border="1"><colgroup><col><col><col></colgroup><thead><tr><th>&#36873;&#39033;</th><th>&#36755;&#20986;&#26684;&#24335;</th><th>&#36755;&#20986;&#26679;&#20363;</th></tr></thead><tbody><tr><td>us</td><td>MM/DD/YYYY HH:MM:SS</td><td>06/30/2002 03:15:00</td></tr><tr><td>euro</td><td>DD/MM/YYYY HH:MM:SS</td><td>30/06/2002 03:15:00</td></tr><tr><td>iso8601</td><td>YYYY-MM-DD HH:MM:SS</td><td>2002-06-30 03:15:00</td></tr><tr><td>strict-iso8601</td><td>YYYY-MM-DDTHH:MM:SS</td><td>2002-06-30T03:15:00</td></tr></tbody></table></div></div><br class="table-break"><div class="table"><a name="use_timezone"></a><p class="title"><b>&#34920;&nbsp;5.111.&nbsp;&#26102;&#21306;&#36873;&#39033;</b></p><div class="table-contents"><table summary="&#26102;&#21306;&#36873;&#39033;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>use_timezone=&lt;tz&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>use_timezone=US/Mountain</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option allows you to override the default timezone that this instance of Nagios runs in. Useful if you have multiple instances of Nagios that need to run from the same server, but have different local times associated with them. If not specified, Nagios will use the system configured timezone. </p><div><img src="../pub/images/note.gif"></div><p> Note: If you use this option to specify a custom timezone, you will also need to alter the Apache configuration directives for the CGIs to specify the timezone you want. Example: </p><p> &lt;Directory "/usr/local/nagios/sbin/"&gt;</p><p> SetEnv TZ "US/Mountain"</p><p> ...</p><p> &lt;/Directory&gt; </p><div class="table"><a name="illegal_object_name_chars"></a><p class="title"><b>&#34920;&nbsp;5.112.&nbsp;&#38750;&#27861;&#23545;&#35937;&#21517;&#23383;&#31526;</b></p><div class="table-contents"><table summary="&#38750;&#27861;&#23545;&#35937;&#21517;&#23383;&#31526;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>illegal_object_name_chars=&lt;chars...&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>illegal_object_name_chars=`~!$%^&amp;*"|'&lt;&gt;?,()=</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option allows you to specify illegal characters that cannot be used in host names, service descriptions, or names of other object types. Nagios will allow you to use most characters in object definitions, but I recommend not using the characters shown in the example above. Doing may give you problems in the web interface, notification commands, etc. </p><div class="table"><a name="illegal_macro_output_chars"></a><p class="title"><b>&#34920;&nbsp;5.113.&nbsp;&#38750;&#27861;&#23439;&#36755;&#20986;&#23383;&#31526;</b></p><div class="table-contents"><table summary="&#38750;&#27861;&#23439;&#36755;&#20986;&#23383;&#31526;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>illegal_macro_output_chars=&lt;chars...&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>illegal_macro_output_chars=`~$^&amp;"|'&lt;&gt;</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option allows you to specify illegal characters that should be stripped from <a class="link" href="#macros" title="8.2.&nbsp;&#29702;&#35299;Nagios&#23439;&#21450;&#20854;&#24037;&#20316;&#26426;&#21046;">macros</a> before being used in notifications, event handlers, and other commands. This DOES NOT affect macros used in service or host check commands. You can choose to not strip out the characters shown in the example above, but I recommend you do not do this. Some of these characters are interpreted by the shell (i.e. the backtick) and can lead to security problems. The following macros are stripped of the characters you specify: </p><p>$HOSTOUTPUT$, $HOSTPERFDATA$, $HOSTACKAUTHOR$, $HOSTACKCOMMENT$, $SERVICEOUTPUT$, $SERVICEPERFDATA$, $SERVICEACKAUTHOR$, and $SERVICEACKCOMMENT$</p><div class="table"><a name="use_regexp_matching"></a><p class="title"><b>&#34920;&nbsp;5.114.&nbsp;&#27491;&#21017;&#34920;&#36798;&#24335;&#36873;&#39033;</b></p><div class="table-contents"><table summary="&#27491;&#21017;&#34920;&#36798;&#24335;&#36873;&#39033;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>use_regexp_matching=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>use_regexp_matching=0</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option determines whether or not various directives in your <a class="link" href="#configobject" title="5.3.&nbsp;&#23545;&#35937;&#37197;&#32622;&#27010;&#35272;">&#23545;&#35937;&#23450;&#20041;</a> will be processed as regular expressions. More information on how this works can be found <a class="link" href="#objecttricks" title="6.2.&nbsp;&#23545;&#35937;&#23450;&#20041;&#30340;&#30465;&#26102;&#20915;&#31373;">here</a>. </p><div class="orderedlist"><ol type="1"><li>0 = Don't use regular expression matching (default) </li><li>1 = Use regular expression matching </li></ol></div><div class="table"><a name="use_true_regexp_matching"></a><p class="title"><b>&#34920;&nbsp;5.115.&nbsp;True Regular Expression Matching Option</b></p><div class="table-contents"><table summary="True Regular Expression Matching Option" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>use_true_regexp_matching=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>use_true_regexp_matching=0</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> If you've enabled regular expression matching of various object directives using the <a class="link" href="#use_regexp_matching" title="&#34920;&nbsp;5.114.&nbsp;&#27491;&#21017;&#34920;&#36798;&#24335;&#36873;&#39033;">use_regexp_matching</a> option, this option will determine when object directives are treated as regular expressions. If this option is disabled (the default), directives will only be treated as regular expressions if the contain *, ?, +, or \.. If this option is enabled, all appropriate directives will be treated as regular expression - be careful when enabling this! More information on how this works can be found <a class="link" href="#objecttricks" title="6.2.&nbsp;&#23545;&#35937;&#23450;&#20041;&#30340;&#30465;&#26102;&#20915;&#31373;">here</a>. </p><div class="orderedlist"><ol type="1"><li>0 = Don't use true regular expression matching (default) </li><li>1 = Use true regular expression matching </li></ol></div><div class="table"><a name="admin_email"></a><p class="title"><b>&#34920;&nbsp;5.116.&nbsp;&#31649;&#29702;&#21592;EMail&#24080;&#21495;</b></p><div class="table-contents"><table summary="&#31649;&#29702;&#21592;EMail&#24080;&#21495;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>admin_email=&lt;email_address&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>admin_email=root@localhost.localdomain</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This is the email address for the administrator of the local machine (i.e. the one that Nagios is running on). This value can be used in notification commands by using the $ADMINEMAIL$<a class="link" href="#macros" title="8.2.&nbsp;&#29702;&#35299;Nagios&#23439;&#21450;&#20854;&#24037;&#20316;&#26426;&#21046;">macro</a>. </p><div class="table"><a name="admin_pager"></a><p class="title"><b>&#34920;&nbsp;5.117.&nbsp;&#31649;&#29702;&#21592;BP&#26426;&#24080;&#21495;</b></p><div class="table-contents"><table summary="&#31649;&#29702;&#21592;BP&#26426;&#24080;&#21495;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>admin_pager=&lt;pager_number_or_pager_email_gateway&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>admin_pager=pageroot@localhost.localdomain</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This is the pager number (or pager email gateway) for the administrator of the local machine (i.e. the one that Nagios is running on). The pager number/address can be used in notification commands by using the $ADMINPAGER$<a class="link" href="#macros" title="8.2.&nbsp;&#29702;&#35299;Nagios&#23439;&#21450;&#20854;&#24037;&#20316;&#26426;&#21046;">macro</a>. </p><div class="table"><a name="event_broker_options"></a><p class="title"><b>&#34920;&nbsp;5.118.&nbsp;Event Broker Options</b></p><div class="table-contents"><table summary="Event Broker Options" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>event_broker_options=&lt;#&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>event_broker_options=-1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option controls what (if any) data gets sent to the event broker and, in turn, to any loaded event broker modules. This is an advanced option. When in doubt, either broker nothing (if not using event broker modules) or broker everything (if using event broker modules). Possible values are shown below. </p><div class="orderedlist"><ol type="1"><li>0 = Broker nothing </li><li>-1 = Broker everything </li><li># = See BROKER_* definitions in source code (include/broker.h) for other values that can be OR'ed together </li></ol></div><div class="table"><a name="broker_module"></a><p class="title"><b>&#34920;&nbsp;5.119.&nbsp;Event Broker Modules</b></p><div class="table-contents"><table summary="Event Broker Modules" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>broker_module=&lt;modulepath&gt; [moduleargs]</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong><p>broker_module=/usr/local/nagios/bin/ndomod.o</p><p>cfg_file=/usr/local/nagios/etc/ndomod.cfg</p></strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This directive is used to specify an event broker module that should by loaded by Nagios at startup. Use multiple directives if you want to load more than one module. Arguments that should be passed to the module at startup are seperated from the module path by a space. </p><p> !!! WARNING !!! </p><p> Do NOT overwrite modules while they are being used by Nagios or Nagios will crash in a fiery display of SEGFAULT glory. This is a bug/limitation either in dlopen(), the kernel, and/or the filesystem. And maybe Nagios... </p><p> The correct/safe way of updating a module is by using one of these methods: </p><div class="orderedlist"><ol type="1"><li>Shutdown Nagios, replace the module file, restart Nagios</li><li>While Nagios is running... delete the original module file, move the new module file into place, restart Nagios</li></ol></div><div class="table"><a name="debug_file"></a><p class="title"><b>&#34920;&nbsp;5.120.&nbsp;&#35843;&#35797;&#25991;&#20214;</b></p><div class="table-contents"><table summary="&#35843;&#35797;&#25991;&#20214;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>debug_file=&lt;file_name&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>debug_file=/usr/local/nagios/var/nagios.debug</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option determines where Nagios should write debugging information. What (if any) information is written is determined by the <a class="link" href="#debug_level" title="&#34920;&nbsp;5.121.&nbsp;&#35843;&#35797;&#31561;&#32423;">debug_level</a> and <a class="link" href="#debug_verbosity" title="&#34920;&nbsp;5.122.&nbsp;Debug Verbosity">debug_verbosity</a> options. You can have Nagios automaticaly rotate the debug file when it reaches a certain size by using the <a class="link" href="#max_debug_file_size" title="&#34920;&nbsp;5.123.&nbsp;&#35843;&#35797;&#25991;&#20214;&#26368;&#22823;&#38271;&#24230;">max_debug_file_size</a> option. </p><div class="table"><a name="debug_level"></a><p class="title"><b>&#34920;&nbsp;5.121.&nbsp;&#35843;&#35797;&#31561;&#32423;</b></p><div class="table-contents"><table summary="&#35843;&#35797;&#31561;&#32423;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>debug_level=&lt;#&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>debug_level=24</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#20915;&#23450;Nagios&#23558;&#24448;<a class="link" href="#debug_file" title="&#34920;&nbsp;5.120.&nbsp;&#35843;&#35797;&#25991;&#20214;">debug_file</a>&#25991;&#20214;&#37324;&#20889;&#20837;&#20160;&#20040;&#35843;&#35797;&#20449;&#24687;&#12290;&#19979;&#38754;&#20540;&#26159;&#21487;&#20197;&#36923;&#36753;&#25110;&#20851;&#31995;&#65306;</p><div class="orderedlist"><ol type="1"><li>-1 = Log everything </li><li>0 = Log nothing (default) </li><li>1 = Function enter/exit information </li><li>2 = Config information </li><li>4 = Process information </li><li>8 = Scheduled event information </li><li>16 = Host/service check information </li><li>32 = Notification information </li><li>64 = Event broker information </li></ol></div><div class="table"><a name="debug_verbosity"></a><p class="title"><b>&#34920;&nbsp;5.122.&nbsp;Debug Verbosity</b></p><div class="table-contents"><table summary="Debug Verbosity" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>debug_verbosity=&lt;#&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>debug_verbosity=1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p> This option determines how much debugging information Nagios should write to the <a class="link" href="#debug_file" title="&#34920;&nbsp;5.120.&nbsp;&#35843;&#35797;&#25991;&#20214;">debug_file</a>debug_file. </p><div class="orderedlist"><ol type="1"><li>0 = Basic information </li><li>1 = More detailed information (default) </li><li>2 = Highly detailed information </li></ol></div><div class="table"><a name="max_debug_file_size"></a><p class="title"><b>&#34920;&nbsp;5.123.&nbsp;&#35843;&#35797;&#25991;&#20214;&#26368;&#22823;&#38271;&#24230;</b></p><div class="table-contents"><table summary="&#35843;&#35797;&#25991;&#20214;&#26368;&#22823;&#38271;&#24230;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>max_debug_file_size=&lt;#&gt;</strong></span></td></tr><tr><td>&#26679;&#20363;&#65306;</td><td><span class="bold"><strong>max_debug_file_size=1000000</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#23450;&#20041;&#20102;&#20197;&#23383;&#33410;&#20026;&#21333;&#20301;&#30340;<a class="link" href="#debug_file" title="&#34920;&nbsp;5.120.&nbsp;&#35843;&#35797;&#25991;&#20214;">debug_file</a>&#35843;&#35797;&#25991;&#20214;&#26368;&#22823;&#38271;&#24230;&#12290;&#22914;&#26524;&#25991;&#20214;&#22686;&#33267;&#22823;&#20110;&#35813;&#20540;&#65292;&#23558;&#20250;&#33258;&#21160;&#34987;&#21629;&#21517;&#20026;.old&#25193;&#23637;&#21517;&#30340;&#25991;&#20214;&#65292;&#22914;&#26524;.old&#25193;&#23637;&#21517;&#24050;&#32463;&#23384;&#22312;&#65292;&#37027;&#20040;&#26087;.old&#25991;&#20214;&#23558;&#34987;&#21024;&#38500;&#12290;&#36825;&#21487;&#20197;&#20445;&#35777;&#22312;Nagios&#35843;&#35797;&#26102;&#30913;&#30424;&#31354;&#38388;&#19981;&#20250;&#36807;&#22810;&#21344;&#29992;&#32780;&#22833;&#25511;&#12290;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="configobject"></a>5.3.&nbsp;&#23545;&#35937;&#37197;&#32622;&#27010;&#35272;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e6650"></a>5.3.1.&nbsp;&#20160;&#20040;&#26159;&#23545;&#35937;&#65311;</h3></div></div></div><p>&#23545;&#35937;&#26159;&#25351;&#25152;&#26377;&#22312;&#30417;&#25511;&#21644;&#36890;&#30693;&#36923;&#36753;&#20013;&#28041;&#21450;&#21040;&#30340;&#20803;&#32032;&#12290;&#23545;&#35937;&#30340;&#31867;&#22411;&#21253;&#25324;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#26381;&#21153;</li><li>&#26381;&#21153;&#32452;</li><li>&#20027;&#26426;</li><li>&#20027;&#26426;&#32452;</li><li>&#32852;&#31995;&#20154;</li><li>&#32852;&#31995;&#20154;&#32452;</li><li>&#21629;&#20196;</li><li>&#26102;&#38388;&#21608;&#26399;</li><li>&#36890;&#30693;&#25193;&#23637;</li><li>&#36890;&#30693;&#21644;&#25191;&#34892;&#20381;&#36182;&#20851;&#31995;</li></ol></div><p>&#26356;&#22810;&#26377;&#20851;&#23545;&#35937;&#21644;&#23427;&#20204;&#20043;&#38388;&#20851;&#31995;&#30340;&#35828;&#26126;&#35265;&#19979;&#38754;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e6678"></a>5.3.2.&nbsp;&#23545;&#35937;&#22312;&#21738;&#37324;&#23450;&#20041;&#65311;</h3></div></div></div><p>&#23545;&#35937;&#21487;&#20197;&#22312;&#19968;&#20010;&#37197;&#32622;&#25991;&#20214;<a class="link" href="#cfg_file" title="&#34920;&nbsp;5.2.&nbsp;&#23545;&#35937;&#37197;&#32622;&#25991;&#20214;">cfg_file</a>&#25110;&#26159;&#22810;&#20010;&#30001;&#20027;&#37197;&#32622;&#25991;&#20214;&#23545;&#35937;&#20445;&#23384;&#30446;&#24405;<a class="link" href="#cfg_dir" title="&#34920;&nbsp;5.3.&nbsp;&#23545;&#35937;&#37197;&#32622;&#30446;&#24405;">cfg_dir</a>&#37324;&#37197;&#32622;&#25991;&#20214;&#26469;&#23450;&#20041;&#12290;</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#25552;&#31034;</h3>&#24403;&#25353;&#29031;<a class="link" href="#quickstart" title="4.3.&nbsp;&#24555;&#36895;&#23433;&#35013;&#25351;&#21335;">&#24555;&#36895;&#23433;&#35013;&#25351;&#21335;</a>&#36827;&#34892;&#23433;&#35013;&#21518;&#65292;&#20960;&#20010;&#23545;&#35937;&#37197;&#32622;&#25991;&#20214;&#30340;&#26679;&#20363;&#25918;&#22312;&#20102;<span class="strong"><strong>/usr/local/nagios/etc/objects/</strong></span>&#30446;&#24405;&#19979;&#12290;&#21487;&#20197;&#29992;&#36825;&#20123;&#26679;&#20363;&#25991;&#20214;&#26469;&#25630;&#28165;&#26970;&#23545;&#35937;&#32487;&#25215;&#20851;&#31995;&#24182;&#23398;&#20064;&#22914;&#20309;&#36827;&#34892;&#33258;&#24049;&#30340;&#23545;&#35937;&#23450;&#20041;&#12290;</div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e6698"></a>5.3.3.&nbsp;&#23545;&#35937;&#22914;&#20309;&#23450;&#20041;&#65311;</h3></div></div></div><p>&#23545;&#35937;&#21487;&#20197;&#22312;&#19968;&#20010;&#29992;&#26580;&#24615;&#21270;&#27169;&#26495;&#26679;&#24335;&#26469;&#23450;&#20041;&#65292;&#27169;&#26495;&#21487;&#20351;&#24471;&#23545;Nagios&#30340;&#37197;&#32622;&#31649;&#29702;&#26356;&#20026;&#23481;&#26131;&#65292;&#26377;&#20851;&#22914;&#26524;&#36827;&#34892;&#23545;&#35937;&#23450;&#20041;&#30340;&#22522;&#26412;&#20449;&#24687;&#21487;&#20197;&#26597;&#38405;<a class="link" href="#objectdefinitions" title="6.1.&nbsp;&#23545;&#35937;&#23450;&#20041;">&#36825;&#31687;&#25991;&#20214;</a>&#12290;</p><p>&#19968;&#26086;&#29087;&#24713;&#20102;&#22914;&#20309;&#36827;&#34892;&#23545;&#35937;&#23450;&#20041;&#30340;&#22522;&#30784;&#65292;&#38656;&#35201;&#38405;&#35835;<a class="link" href="#objectinheritance" title="6.4.&nbsp;&#23545;&#35937;&#32487;&#25215;&#20851;&#31995;">&#23545;&#35937;&#32487;&#25215;</a>&#20197;&#22312;&#23558;&#26469;&#24212;&#29992;&#20013;&#37197;&#32622;&#26356;&#20026;&#40065;&#26834;(&#23601;&#26159;&#23613;&#37327;&#20351;&#29992;&#23545;&#35937;&#32487;&#25215;&#20851;&#31995;&#21862;)&#12290;&#32463;&#39564;&#20016;&#23500;&#30340;&#20351;&#29992;&#32773;&#21487;&#20197;&#22312;<a class="link" href="#objecttricks" title="6.2.&nbsp;&#23545;&#35937;&#23450;&#20041;&#30340;&#30465;&#26102;&#20915;&#31373;">&#23545;&#35937;&#23450;&#20041;&#20915;&#31373;</a>&#19968;&#25991;&#20013;&#21457;&#25496;&#21040;&#19968;&#20123;&#26377;&#20851;&#23545;&#35937;&#23450;&#20041;&#30340;&#39640;&#32423;&#29305;&#24615;. </p><p><span class="bold"><strong><span class="underline">&#20851;&#20110;&#23545;&#35937;&#30340;&#35299;&#37322;</span></strong></span></p><p>&#19979;&#38754;&#22312;&#19968;&#20123;&#20027;&#35201;&#30340;&#23545;&#35937;&#30340;&#35299;&#37322;...</p><div class="itemizedlist"><ul type="disc"><li><p><a class="link" href="#objectdefinitions_host">&#20027;&#26426;</a>&#26159;&#30417;&#25511;&#36923;&#36753;&#20013;&#30340;&#26680;&#24515;&#23545;&#35937;&#20043;&#19968;&#12290;&#20027;&#26426;&#30340;&#37325;&#35201;&#23646;&#24615;&#26377;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#20027;&#26426;&#36890;&#24120;&#22312;&#32593;&#32476;&#20013;&#30340;&#29289;&#29702;&#35774;&#22791;(&#22914;&#26381;&#21153;&#22120;&#12289;&#24037;&#20316;&#31449;&#12289;&#36335;&#30001;&#22120;&#12289;&#20132;&#25442;&#26426;&#21644;&#25171;&#21360;&#26426;&#31561;)&#65307;</li><li>&#20027;&#26426;&#26377;&#26576;&#31181;&#24418;&#24335;&#30340;&#22320;&#22336;(&#35937;IP&#25110;MAC&#22320;&#22336;)&#65307;</li><li>&#20027;&#26426;&#26377;&#19968;&#20010;&#25110;&#22810;&#20010;&#32465;&#23450;&#30340;&#26381;&#21153;&#65307;</li><li>&#20027;&#26426;&#19982;&#20854;&#20182;&#30340;&#20027;&#26426;&#38388;&#21487;&#20197;&#26377;&#29238;/&#23376;&#33410;&#28857;&#30340;&#20851;&#31995;&#65292;&#36890;&#24120;&#21453;&#24212;&#20986;&#30495;&#23454;&#19990;&#30028;&#37324;&#30340;&#32593;&#32476;&#32852;&#25509;&#20851;&#31995;&#65292;&#32780;&#32852;&#25509;&#20851;&#31995;&#20250;&#22312;<a class="link" href="#networkreachability" title="8.4.&nbsp;&#22914;&#20309;&#30830;&#35748;&#32593;&#32476;&#20013;&#20027;&#26426;&#30340;&#29366;&#24577;&#19982;&#21487;&#36798;&#24615;">&#32593;&#32476;&#21487;&#36798;&#24615;</a>&#36923;&#36753;&#20013;&#29992;&#21040;&#12290;</li></ol></div></li><li><p><a class="link" href="#objectdefinitions_hostgroup">&#20027;&#26426;&#32452;</a>&#26159;&#19968;&#21488;&#25110;&#22810;&#21488;&#20027;&#26426;&#32452;&#25104;&#30340;&#32452;&#12290;&#20027;&#26426;&#25104;&#32452;&#21487;&#20197;&#22914;&#19979;&#24037;&#20316;&#26356;&#31616;&#21333;(1)&#22312;Nagios&#30340;Web&#25509;&#21475;&#37324;&#26597;&#30475;&#30456;&#20851;&#30340;&#20027;&#26426;&#29366;&#24577;(2)&#20351;&#29992;<a class="link" href="#objecttricks" title="6.2.&nbsp;&#23545;&#35937;&#23450;&#20041;&#30340;&#30465;&#26102;&#20915;&#31373;">&#23545;&#35937;&#23450;&#20041;&#20915;&#31373;</a>&#26469;&#31616;&#21270;&#37197;&#32622;&#12290;</p><div><img src="../pub/images/objects-hosts.png"></div></li><li><p><a class="link" href="#objectdefinitions_service">&#26381;&#21153;</a>&#30417;&#25511;&#36923;&#36753;&#20013;&#30340;&#19968;&#20010;&#26680;&#24515;&#23545;&#35937;&#20043;&#19968;&#12290;&#22312;&#20027;&#26426;&#19978;&#30340;&#26381;&#21153;&#29992;&#25143;&#21487;&#20197;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#20027;&#26426;&#30340;&#23646;&#24615;(CPU&#36127;&#33655;&#12289;&#30913;&#30424;&#21033;&#29992;&#29575;&#12289;&#21551;&#21160;&#26102;&#38388;&#31561;)&#65307;</li><li>&#20027;&#26426;&#25552;&#20379;&#30340;&#26381;&#21153;(HTTP, POP3, FTP, SSH&#31561;&#31561;)&#65307;</li><li>&#20854;&#20182;&#19982;&#20027;&#26426;&#26377;&#20851;&#30340;&#20449;&#24687;(DNS&#35760;&#24405;&#31561;)&#65307;</li></ol></div></li><li><p><a class="link" href="#objectdefinitions_servicegroup">&#26381;&#21153;&#32452;</a>&#26159;&#19968;&#20010;&#25110;&#22810;&#20010;&#26381;&#21153;&#32452;&#25104;&#30340;&#32452;&#12290;&#26381;&#21153;&#32452;&#21487;&#20197;&#23545;&#22914;&#19979;&#24037;&#20316;&#26356;&#31616;&#21333;(1)&#22312;Nagios&#30340;Web&#25509;&#21475;&#37324;&#26597;&#30475;&#30456;&#20851;&#30340;&#26381;&#21153;&#29366;&#24577;(2)&#20351;&#29992;<a class="link" href="#objecttricks" title="6.2.&nbsp;&#23545;&#35937;&#23450;&#20041;&#30340;&#30465;&#26102;&#20915;&#31373;">&#23545;&#35937;&#23450;&#20041;&#20915;&#31373;</a>&#26469;&#31616;&#21270;&#37197;&#32622;&#12290;</p><div><img src="../pub/images/objects-services.png"></div></li><li><p><a class="link" href="#objectdefinitions_contact">&#32852;&#31995;&#20154;</a>&#26159;&#37027;&#20123;&#28041;&#21450;&#21040;&#36890;&#30693;&#36807;&#31243;&#20013;&#30340;&#20154;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#26377;&#22810;&#31181;&#36890;&#30693;&#32852;&#31995;&#20154;&#30340;&#26041;&#27861;(&#23545;&#35762;&#26426;&#12289;BP&#26426;&#12289;EMail&#12289;&#21363;&#26102;&#20449;&#24687;&#31561;)&#65307;</li><li>&#32852;&#31995;&#20154;&#25910;&#21040;&#30340;&#36890;&#30693;&#26469;&#33258;&#20110;&#20854;&#36127;&#36131;&#30340;&#20027;&#26426;&#25110;&#26381;&#21153;&#65307;</li></ol></div></li><li><p><a class="link" href="#objectdefinitions_contactgroup">&#32852;&#31995;&#20154;&#32452;</a>&#26159;&#19968;&#20010;&#25110;&#22810;&#20010;&#32852;&#31995;&#20154;&#32452;&#25104;&#30340;&#32452;&#12290;&#32852;&#31995;&#20154;&#32452;&#21487;&#20197;&#31616;&#21270;&#22312;&#20027;&#26426;&#25110;&#26381;&#21153;&#25925;&#38556;&#26102;&#36127;&#36131;&#30340;&#20154;&#21592;&#21010;&#20998;&#12290;</p><div><img src="../pub/images/objects-contacts.png"></div></li><li><p><a class="link" href="#objectdefinitions_timeperiod">&#26102;&#38388;&#21608;&#26399;</a>&#29992;&#20110;&#25511;&#21046;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#20027;&#26426;&#25110;&#26381;&#21153;&#34987;&#30417;&#25511;&#30340;&#26102;&#38388;&#65307;</li><li>&#32852;&#31995;&#20154;&#21487;&#25509;&#25910;&#36890;&#30693;&#30340;&#26102;&#38388;&#65307;</li></ol></div><p>&#26102;&#38388;&#27573;&#26102;&#22914;&#20309;&#24037;&#20316;&#30340;&#20449;&#24687;&#21487;&#20197;&#26597;&#38405;<a class="link" href="#timeperiods" title="6.6.&nbsp;&#26102;&#38388;&#21608;&#26399;">&#36825;&#31687;&#25991;&#26723;</a>&#12290;</p><div><img src="../pub/images/objects-timeperiods.png"></div></li><li><p><a class="link" href="#objectdefinitions_command">&#21629;&#20196;</a>&#26159;&#25351;&#20986;Nagios&#29992;&#21738;&#20010;&#31243;&#24207;&#12289;&#33050;&#26412;&#31561;&#65292;&#23427;&#24517;&#39035;&#21487;&#25191;&#34892;&#21518;&#23436;&#25104;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#20027;&#26426;&#21644;&#26381;&#21153;&#26816;&#27979;</li><li>&#36890;&#30693;</li><li>&#20107;&#20214;&#22788;&#29702;</li><li>&#21644;&#20854;&#20182;...</li></ol></div><div><img src="../pub/images/objects-commands.png"></div></li></ul></div></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="configcgi"></a>5.4.&nbsp;CGI&#37197;&#32622;&#25991;&#20214;&#36873;&#39033;</h2></div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><p>&#24403;&#21019;&#24314;&#25110;&#32534;&#36753;&#37197;&#32622;&#25991;&#20214;&#26102;&#65292;&#35201;&#36981;&#23432;&#22914;&#19979;&#35201;&#27714;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#20197;&#31526;&#21495;'#'&#24320;&#22836;&#30340;&#34892;&#23558;&#35270;&#20026;&#27880;&#37322;&#19981;&#20570;&#22788;&#29702;&#65307;</li><li>&#21464;&#37327;&#24517;&#39035;&#26159;&#26032;&#36215;&#30340;&#19968;&#34892; &#65293; &#21464;&#37327;&#20043;&#21069;&#19981;&#33021;&#26377;&#31354;&#26684;&#31526;&#65307;</li><li>&#21464;&#37327;&#21517;&#26159;&#22823;&#23567;&#20889;&#25935;&#24863;&#30340;&#65307;</li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e6829"></a>5.4.1.&nbsp;&#26679;&#20363;&#37197;&#32622;&#25991;&#20214;</h3></div></div></div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#25552;&#31034;</h3><div><img src="../pub/images/tip.gif"></div><p>&#19968;&#20010;CGI&#30340;&#26679;&#20363;&#37197;&#32622;&#25991;&#20214;(<span class="strong"><strong>/usr/local/nagios/etc/cgi.cfg</strong></span>)&#24050;&#32463;&#23433;&#35013;&#21040;&#20301;&#65292;&#22914;&#26524;&#20320;&#26159;&#25353;&#29031;<a class="link" href="#quickstart" title="4.3.&nbsp;&#24555;&#36895;&#23433;&#35013;&#25351;&#21335;">&#24555;&#36895;&#23433;&#35013;&#25351;&#21335;</a>&#26469;&#25805;&#20316;&#30340;&#35805;&#12290;</p></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e6842"></a>5.4.2.&nbsp;&#37197;&#32622;&#25991;&#20214;&#30340;&#20301;&#32622;</h3></div></div></div><p>&#40664;&#35748;&#24773;&#20917;&#19979;&#65292;Nagios&#26399;&#26395;&#30340;CGI&#37197;&#32622;&#25991;&#20214;&#34987;&#21629;&#21517;&#20026;cgi.cfg&#24182;&#19988;&#35813;&#37197;&#32622;&#25991;&#20214;&#34987;&#25918;&#22312;&#20102;<a class="link" href="#configmain" title="5.2.&nbsp;&#20027;&#37197;&#32622;&#25991;&#20214;&#36873;&#39033;">&#20027;&#37197;&#32622;&#25991;&#20214;</a>&#25351;&#23450;&#30340;&#20301;&#32622;&#12290;&#22914;&#26524;&#20320;&#24819;&#25913;&#21464;&#21517;&#31216;&#21644;&#20301;&#32622;&#65292;&#20320;&#21487;&#20197;&#22312;Apache&#37324;&#37197;&#32622;&#19968;&#20010;&#29615;&#22659;&#21464;&#37327;&#21483;&#20570;NAGIO_CGI_CONFIG&#30340;(&#37324;&#38754;&#35774;&#32622;&#22909;&#25991;&#20214;&#21517;&#21644;&#20301;&#32622;)&#32473;CGI&#31243;&#24207;&#29992;&#12290;&#22914;&#20309;&#26469;&#20570;&#21487;&#20197;&#26597;&#30475;Apache&#25991;&#26723;&#37324;&#30340;&#35828;&#26126;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e6850"></a>5.4.3.&nbsp;&#37197;&#32622;&#25991;&#20214;&#37324;&#30340;&#21464;&#37327;</h3></div></div></div><p>&#19979;&#38754;&#23558;&#32473;&#20986;&#27599;&#20010;&#20027;&#37197;&#32622;&#25991;&#20214;&#37324;&#30340;&#21464;&#37327;&#19982;&#20540;&#36873;&#39033;&#35828;&#26126;...</p><div class="table"><a name="main_config_file"></a><p class="title"><b>&#34920;&nbsp;5.124.&nbsp;&#20027;&#37197;&#32622;&#25991;&#20214;&#30340;&#20301;&#32622;</b></p><div class="table-contents"><table summary="&#20027;&#37197;&#32622;&#25991;&#20214;&#30340;&#20301;&#32622;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>main_config_file=&lt;file_name&gt;</strong></span></td></tr><tr><td>&#20030;&#20363;&#65306;</td><td><span class="bold"><strong>main_config_file=/usr/local/nagios/etc/nagios.cfg</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#23427;&#29992;&#20110;&#25351;&#21521;<a class="link" href="#configmain" title="5.2.&nbsp;&#20027;&#37197;&#32622;&#25991;&#20214;&#36873;&#39033;">&#20027;&#37197;&#32622;&#25991;&#20214;</a>&#25152;&#22312;&#30340;&#20301;&#32622;&#12290;CGI&#27169;&#22359;&#38656;&#35201;&#30693;&#36947;&#22312;&#21738;&#37324;&#21487;&#20197;&#24471;&#21040;&#20027;&#37197;&#32622;&#25991;&#20214;&#20197;&#21462;&#24471;&#37197;&#32622;&#20449;&#24687;&#12289;&#24403;&#21069;&#30340;&#20027;&#26426;&#21644;&#26381;&#21153;&#30340;&#29366;&#24577;&#31561;&#12290;</p><div class="table"><a name="physical_html_path"></a><p class="title"><b>&#34920;&nbsp;5.125.&nbsp;HTML&#25991;&#20214;&#30340;&#31995;&#32479;&#36335;&#24452;</b></p><div class="table-contents"><table summary="HTML&#25991;&#20214;&#30340;&#31995;&#32479;&#36335;&#24452;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>physical_html_path=&lt;path&gt;</strong></span></td></tr><tr><td>&#20030;&#20363;&#65306;</td><td><span class="bold"><strong>physical_html_path=/usr/local/nagios/share</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#23427;&#29992;&#20110;&#25351;&#26126;&#29992;&#20110;&#26381;&#21153;&#22120;&#25110;&#24037;&#20316;&#31449;&#19978;&#30340;HTML&#25991;&#20214;&#25152;&#22312;&#30340;<span class="strong"><strong>&#31995;&#32479;</strong></span>&#36335;&#24452;&#12290;Nagios&#20551;&#23450;&#25991;&#26723;&#21644;&#22270;&#29255;&#25991;&#20214;&#34987;&#20998;&#21035;&#25918;&#22312;&#20102;<span class="strong"><strong>docs/</strong></span>&#21644;<span class="strong"><strong>images/</strong></span>&#20004;&#20010;&#23376;&#30446;&#24405;&#19979;&#12290;</p><div class="table"><a name="url_html_path"></a><p class="title"><b>&#34920;&nbsp;5.126.&nbsp;URL&#37324;&#30340;HTML&#36335;&#24452;</b></p><div class="table-contents"><table summary="URL&#37324;&#30340;HTML&#36335;&#24452;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>url_html_path=&lt;path&gt;</strong></span></td></tr><tr><td>&#20030;&#20363;&#65306;</td><td><span class="bold"><strong>url_html_path=/nagios</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#22914;&#26524;&#36890;&#36807;Web&#27983;&#35272;&#22120;&#26469;&#25805;&#20316;Nagios&#65292;&#20320;&#35201;&#36890;&#36807;&#19968;&#20010;URL&#22914;http://www.myhost.com/nagios&#26469;&#25805;&#20316;&#30340;&#35805;&#65292;&#21017;&#38656;&#35201;&#35774;&#32622;&#20026;<span class="strong"><strong>/nagios</strong></span>&#12290;&#19968;&#33324;&#26159;&#29992;&#36825;&#20010;URL&#26469;&#25805;&#20316;Nagios&#30340;HTML&#39029;&#38754;&#12290;</p><div class="table"><a name="use_authentication"></a><p class="title"><b>&#34920;&nbsp;5.127.&nbsp;&#24212;&#29992;&#35748;&#35777;</b></p><div class="table-contents"><table summary="&#24212;&#29992;&#35748;&#35777;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>use_authentication=&lt;0/1&gt;</strong></span></td></tr><tr><td>&#20030;&#20363;&#65306;</td><td><span class="bold"><strong>use_authentication=1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#25511;&#21046;&#30528;CGI&#27169;&#22359;&#37324;&#65292;&#23545;&#20110;&#29992;&#25143;&#25805;&#20316;&#25110;&#26159;&#21462;&#24471;&#20449;&#24687;&#26102;&#26159;&#21542;&#38656;&#35201;&#25171;&#24320;&#35748;&#35777;&#21644;&#25480;&#26435;&#21151;&#33021;&#12290;&#22914;&#26524;&#20320;&#26029;&#23450;&#20320;&#19981;&#20351;&#29992;&#35748;&#35777;&#65292;&#19968;&#23450;&#35201;&#25226;<a class="link" href="#cgis_cmd_cgi">CGI&#21629;&#20196;</a>&#31227;&#36208;&#20197;&#20813;&#27809;&#26377;&#25480;&#26435;&#30340;&#29992;&#25143;&#21457;&#20986;Nagios&#21629;&#20196;&#12290;&#22914;&#26524;&#19981;&#20351;&#29992;&#35748;&#35777;&#21151;&#33021;&#65292;CGI&#27169;&#22359;&#19981;&#20250;&#21521;Nagios&#21457;&#20986;&#21629;&#20196;&#65292;&#20294;&#25105;&#21516;&#26102;&#20063;&#24314;&#35758;&#20320;&#20063;&#25226;CGI&#27169;&#22359;&#21516;&#26102;&#31227;&#21040;&#23433;&#20840;&#20301;&#32622;&#12290;&#26356;&#22810;&#30340;&#26377;&#20851;&#35774;&#32622;&#35748;&#35777;&#19982;&#25480;&#26435;&#30340;&#20869;&#23481;&#21487;&#20197;&#26597;&#30475;<a class="link" href="#cgiauth" title="10.5.&nbsp;&#23545;CGIs&#31243;&#24207;&#27169;&#22359;&#30340;&#25480;&#26435;&#19982;&#35748;&#35777;">&#36825;&#20010;</a>&#25991;&#20214;&#12290;</p><div class="orderedlist"><ol type="1"><li>0 = &#19981;&#20351;&#29992;&#35748;&#35777;&#21151;&#33021;</li><li>1 = &#20351;&#29992;&#35748;&#20027;&#19982;&#25480;&#26435;&#21151;&#33021;(&#40664;&#35748;&#20540;)</li></ol></div><div class="table"><a name="default_user_name"></a><p class="title"><b>&#34920;&nbsp;5.128.&nbsp;&#40664;&#35748;&#29992;&#25143;&#21517;</b></p><div class="table-contents"><table summary="&#40664;&#35748;&#29992;&#25143;&#21517;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>default_user_name=&lt;username&gt;</strong></span></td></tr><tr><td>&#20030;&#20363;&#65306;</td><td><span class="bold"><strong>default_user_name=guest</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#29992;&#36825;&#20010;&#21464;&#37327;&#21487;&#20197;&#35774;&#32622;&#19968;&#20010;&#40664;&#35748;&#30340;&#29992;&#25143;&#26469;&#25805;&#20316;CGI&#31243;&#24207;&#12290;&#23427;&#21487;&#20197;&#22312;&#19968;&#20010;&#21152;&#23494;&#30340;&#22495;&#37324;(&#22914;&#22312;&#38450;&#28779;&#22681;&#21518;&#24314;&#31435;&#30340;WEB)&#19981;&#38656;&#35201;WEB&#35748;&#35777;&#23601;&#21487;&#20197;&#25805;&#20316;CGI&#27169;&#22359;&#12290;&#20320;&#21487;&#33021;&#38656;&#35201;&#36825;&#20010;&#21151;&#33021;&#26469;&#36991;&#20813;&#20165;&#20165;&#22312;&#19968;&#20010;&#38750;&#21152;&#23494;&#30340;&#26381;&#21153;&#22120;&#19978;(&#36890;&#36807;&#22240;&#29305;&#32593;&#20197;&#26126;&#25991;&#26041;&#24335;&#26469;&#20256;&#36882;&#20320;&#30340;&#21475;&#20196;)&#26469;&#20570;&#22522;&#26412;&#30340;&#35748;&#35777;&#12290;</p><p><span class="bold"><strong>Important:</strong></span>&#38500;&#38750;&#20320;&#26159;&#22312;&#19968;&#20010;&#21152;&#23494;&#30340;WEB&#26381;&#21153;&#22120;&#19978;&#24182;&#19988;&#20445;&#35777;&#27599;&#20010;&#36827;&#20837;&#35813;&#22495;&#30340;&#29992;&#25143;&#37117;&#20855;&#22791;CGI&#25805;&#20316;&#26435;&#65292;&#21542;&#21017;&#30340;&#35805;&#65292;&#20320;<span class="strong"><strong>&#19981;</strong></span>&#35201;&#23450;&#20041;&#36825;&#20010;&#40664;&#35748;&#29992;&#25143;&#12290;&#22914;&#26524;&#20320;&#20915;&#23450;&#29992;&#23427;&#65292;&#37027;&#20040;&#20219;&#20309;&#19968;&#20010;&#26410;&#32463;&#35748;&#35777;&#30340;WEB&#26381;&#21153;&#22120;&#29992;&#25143;&#37117;&#21487;&#20197;&#32487;&#25215;&#20320;&#35774;&#23450;&#30340;&#20840;&#37096;&#26435;&#38480;&#65281;</p><div class="table"><a name="authorized_for_system_information"></a><p class="title"><b>&#34920;&nbsp;5.129.&nbsp;&#31995;&#32479;&#21644;&#36827;&#31243;&#30340;&#20449;&#24687;&#25805;&#20316;&#26435;</b></p><div class="table-contents"><table summary="&#31995;&#32479;&#21644;&#36827;&#31243;&#30340;&#20449;&#24687;&#25805;&#20316;&#26435;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>authorized_for_system_information=&lt;user1&gt;,&lt;user2&gt;,&lt;user3&gt;,...&lt;user<span class="strong"><strong>n</strong></span>&gt;</strong></span></td></tr><tr><td>&#20030;&#20363;&#65306;</td><td><span class="bold"><strong>authorized_for_system_information=nagiosadmin,theboss</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#36825;&#26159;&#19968;&#20010;&#20197;&#36887;&#21495;&#20998;&#38475;&#30340;&#21015;&#34920;&#65292;&#21015;&#20030;&#20986;&#20102;&#22312;<a class="link" href="#cgis_extinfo_cgi">&#25193;&#23637;CGI&#20449;&#24687;</a>&#37324;&#26597;&#30475;&#31995;&#32479;&#21644;&#36827;&#31243;&#20449;&#24687;&#30340;<span class="strong"><strong>&#21487;&#35748;&#35777;&#29992;&#25143;</strong></span>&#12290;&#22312;&#21015;&#34920;&#20013;&#21015;&#20986;&#30340;&#29992;&#25143;&#24182;<span class="strong"><strong>&#19981;&#20250;</strong></span>&#33258;&#21160;&#34987;&#25480;&#26435;&#21487;&#21457;&#20986;&#31995;&#32479;&#21644;&#36827;&#31243;&#30340;&#21629;&#20196;&#12290;&#22914;&#26524;&#20320;&#24819;&#20063;&#21516;&#26102;&#21487;&#20197;&#21457;&#20986;&#31995;&#32479;&#21644;&#36827;&#31243;&#21629;&#20196;&#65292;&#20320;&#24517;&#39035;&#25226;&#36825;&#20123;&#29992;&#25143;&#20063;&#21152;&#21040;<a class="link" href="#authorized_for_system_commands" title="&#34920;&nbsp;5.130.&nbsp;&#31995;&#32479;&#21644;&#36827;&#31243;&#30340;&#21629;&#20196;&#25805;&#20316;&#26435;">authorized_for_system_commands</a>&#21464;&#37327;&#20043;&#20013;&#12290;&#26356;&#22810;&#30340;&#22914;&#20309;&#32473;CGI&#27169;&#22359;&#35774;&#32622;&#35748;&#35777;&#21644;&#37197;&#32622;&#25480;&#26435;&#30340;&#20869;&#23481;&#21487;&#20197;&#26597;&#38405;<a class="link" href="#cgiauth" title="10.5.&nbsp;&#23545;CGIs&#31243;&#24207;&#27169;&#22359;&#30340;&#25480;&#26435;&#19982;&#35748;&#35777;">&#36825;&#20010;</a>&#25991;&#26723;&#12290;</p><div class="table"><a name="authorized_for_system_commands"></a><p class="title"><b>&#34920;&nbsp;5.130.&nbsp;&#31995;&#32479;&#21644;&#36827;&#31243;&#30340;&#21629;&#20196;&#25805;&#20316;&#26435;</b></p><div class="table-contents"><table summary="&#31995;&#32479;&#21644;&#36827;&#31243;&#30340;&#21629;&#20196;&#25805;&#20316;&#26435;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>authorized_for_system_commands=&lt;user1&gt;,&lt;user2&gt;,&lt;user3&gt;,...&lt;user<span class="strong"><strong>n</strong></span>&gt;</strong></span></td></tr><tr><td>&#20030;&#20363;&#65306;</td><td><span class="bold"><strong>authorized_for_system_commands=nagiosadmin</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#36825;&#26159;&#19968;&#20010;&#20197;&#36887;&#21495;&#20998;&#38548;&#30340;&#21015;&#34920;&#65292;&#21015;&#20986;&#20102;&#21487;&#20197;&#36890;&#36807;<a class="link" href="#cgis_cmd_cgi">CGI&#21629;&#20196;</a>&#21457;&#20986;&#31995;&#32479;&#21644;&#36827;&#31243;&#21629;&#20196;&#30340;<span class="strong"><strong>&#34987;&#35748;&#35777;&#29992;&#25143;</strong></span>&#12290;&#22312;&#21015;&#34920;&#20013;&#30340;&#29992;&#25143;&#24182;<span class="strong"><strong>&#27809;&#26377;</strong></span>&#34987;&#33258;&#21160;&#25480;&#26435;&#26597;&#30475;&#31995;&#32479;&#21644;&#36827;&#31243;&#30340;&#20449;&#24687;&#12290;&#22914;&#26524;&#20320;&#24819;&#35753;&#29992;&#25143;&#20063;&#21516;&#26102;&#21487;&#20197;&#26597;&#30475;&#31995;&#32479;&#21644;&#36827;&#31243;&#20449;&#24687;&#30340;&#35805;&#65292;&#20320;&#24517;&#39035;&#25226;&#36825;&#20123;&#29992;&#25143;&#20063;&#21152;&#21040;<a class="link" href="#authorized_for_system_information" title="&#34920;&nbsp;5.129.&nbsp;&#31995;&#32479;&#21644;&#36827;&#31243;&#30340;&#20449;&#24687;&#25805;&#20316;&#26435;">authorized_for_system_information</a>&#21464;&#37327;&#37324;&#38754;&#12290;&#26356;&#22810;&#30340;&#22914;&#20309;&#32473;CGI&#27169;&#22359;&#35774;&#32622;&#35748;&#35777;&#21644;&#37197;&#32622;&#25480;&#26435;&#30340;&#20869;&#23481;&#21487;&#20197;&#26597;&#38405;<a class="link" href="#cgiauth" title="10.5.&nbsp;&#23545;CGIs&#31243;&#24207;&#27169;&#22359;&#30340;&#25480;&#26435;&#19982;&#35748;&#35777;">&#36825;&#20010;</a>&#25991;&#26723;&#12290;</p><div class="table"><a name="authorized_for_configuration_information"></a><p class="title"><b>&#34920;&nbsp;5.131.&nbsp;&#37197;&#32622;&#30340;&#20449;&#24687;&#33719;&#21462;&#26435;&#38480;</b></p><div class="table-contents"><table summary="&#37197;&#32622;&#30340;&#20449;&#24687;&#33719;&#21462;&#26435;&#38480;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>authorized_for_configuration_information=&lt;user1&gt;,&lt;user2&gt;,&lt;user3&gt;,...&lt;user<span class="strong"><strong>n</strong></span>&gt;</strong></span></td></tr><tr><td>&#20030;&#20363;&#65306;</td><td><span class="bold"><strong>authorized_for_configuration_information=nagiosadmin</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#36825;&#26159;&#19968;&#20010;&#20197;&#36887;&#21495;&#20998;&#38548;&#30340;&#21015;&#34920;&#65292;&#21015;&#20986;&#20102;&#21487;&#20197;&#36890;&#36807;<a class="link" href="#cgis_config_cgi">&#37197;&#32622;&#26597;&#30475;CGI</a>&#37324;&#26597;&#30475;&#37197;&#32622;&#20449;&#24687;&#30340;<span class="strong"><strong>&#21487;&#35748;&#35777;&#29992;&#25143;</strong></span>&#12290;&#36825;&#20123;&#21015;&#34920;&#20013;&#30340;&#29992;&#25143;&#21487;&#20197;&#26597;&#30475;&#20840;&#37096;&#30340;&#37197;&#32622;&#22909;&#30340;&#20027;&#26426;&#12289;&#20027;&#26426;&#32452;&#12289;&#26381;&#21153;&#12289;&#32852;&#31995;&#20154;&#12289;&#32852;&#31995;&#20154;&#32452;&#31561;&#30340;&#37197;&#32622;&#20449;&#24687;&#12290;&#26356;&#22810;&#30340;&#22914;&#20309;&#32473;CGI&#27169;&#22359;&#35774;&#32622;&#35748;&#35777;&#21644;&#37197;&#32622;&#25480;&#26435;&#30340;&#20869;&#23481;&#21487;&#20197;&#26597;&#38405;<a class="link" href="#cgiauth" title="10.5.&nbsp;&#23545;CGIs&#31243;&#24207;&#27169;&#22359;&#30340;&#25480;&#26435;&#19982;&#35748;&#35777;">&#36825;&#20010;</a>&#25991;&#26723;&#12290;</p><div class="table"><a name="authorized_for_all_hosts"></a><p class="title"><b>&#34920;&nbsp;5.132.&nbsp;&#20840;&#23616;&#20027;&#26426;&#30340;&#20449;&#24687;&#33719;&#21462;&#26435;&#38480;</b></p><div class="table-contents"><table summary="&#20840;&#23616;&#20027;&#26426;&#30340;&#20449;&#24687;&#33719;&#21462;&#26435;&#38480;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>authorized_for_all_hosts=&lt;user1&gt;,&lt;user2&gt;,&lt;user3&gt;,...&lt;user<span class="strong"><strong>n</strong></span>&gt;</strong></span></td></tr><tr><td>&#20030;&#20363;&#65306;</td><td><span class="bold"><strong>authorized_for_all_hosts=nagiosadmin,theboss</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#36825;&#26159;&#19968;&#20010;&#20197;&#36887;&#21495;&#20998;&#38548;&#30340;&#21015;&#34920;&#65292;&#21015;&#20986;&#20102;&#21487;&#20197;&#26597;&#30475;&#20840;&#37096;&#20027;&#26426;&#30340;&#29366;&#24577;&#21644;&#37197;&#32622;&#20449;&#24687;&#30340;<span class="strong"><strong>&#34987;&#35748;&#35777;&#29992;&#25143;</strong></span>&#12290;&#36825;&#20123;&#21015;&#34920;&#20013;&#30340;&#29992;&#25143;&#21516;&#26102;&#34987;&#25480;&#26435;&#26597;&#30475;&#22312;&#20840;&#37096;&#30340;&#26381;&#21153;&#20449;&#24687;&#12290;&#20294;&#21015;&#34920;&#20013;&#30340;&#29992;&#25143;&#24182;<span class="strong"><strong>&#27809;&#26377;</strong></span>&#33258;&#21160;&#22320;&#25480;&#26435;&#21521;&#20840;&#37096;&#30340;&#20027;&#26426;&#25110;&#26381;&#21153;&#21457;&#20986;&#21629;&#20196;&#12290;&#22914;&#26524;&#20320;&#24819;&#35753;&#36825;&#20123;&#29992;&#25143;&#21516;&#26102;&#21487;&#20197;&#21521;&#20840;&#37096;&#20027;&#26426;&#21644;&#26381;&#21153;&#21457;&#20986;&#21629;&#20196;&#65292;&#20320;&#24517;&#39035;&#23558;&#29992;&#25143;&#21152;&#20837;&#21040;<a class="link" href="#authorized_for_all_host_commands" title="&#34920;&nbsp;5.133.&nbsp;&#20840;&#23616;&#20027;&#26426;&#30340;&#21629;&#20196;&#25805;&#20316;&#26435;">authorized_for_all_host_commands</a>&#21464;&#37327;&#37324;&#12290;&#26356;&#22810;&#30340;&#22914;&#20309;&#32473;CGI&#27169;&#22359;&#35774;&#32622;&#35748;&#35777;&#21644;&#37197;&#32622;&#25480;&#26435;&#30340;&#20869;&#23481;&#21487;&#20197;&#26597;&#38405;<a class="link" href="#cgiauth" title="10.5.&nbsp;&#23545;CGIs&#31243;&#24207;&#27169;&#22359;&#30340;&#25480;&#26435;&#19982;&#35748;&#35777;">&#36825;&#20010;</a>&#25991;&#26723;&#12290;</p><div class="table"><a name="authorized_for_all_host_commands"></a><p class="title"><b>&#34920;&nbsp;5.133.&nbsp;&#20840;&#23616;&#20027;&#26426;&#30340;&#21629;&#20196;&#25805;&#20316;&#26435;</b></p><div class="table-contents"><table summary="&#20840;&#23616;&#20027;&#26426;&#30340;&#21629;&#20196;&#25805;&#20316;&#26435;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>authorized_for_all_host_commands=&lt;user1&gt;,&lt;user2&gt;,&lt;user3&gt;,...&lt;user<span class="strong"><strong>n</strong></span>&gt;</strong></span></td></tr><tr><td>&#20030;&#20363;&#65306;</td><td><span class="bold"><strong>authorized_for_all_host_commands=nagiosadmin</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#36825;&#26159;&#19968;&#20010;&#20197;&#36887;&#21495;&#20998;&#38548;&#30340;&#21015;&#34920;&#65292;&#21015;&#20986;&#20102;&#21487;&#20197;&#36890;&#36807;<a class="link" href="#cgis_cmd_cgi">&#21629;&#20196;CGI</a>&#21151;&#33021;&#27169;&#22359;&#21521;&#20840;&#37096;&#20027;&#26426;&#21457;&#20986;&#21629;&#20196;&#30340;<span class="strong"><strong>&#34987;&#25480;&#26435;&#29992;&#25143;</strong></span>&#12290;&#21015;&#34920;&#20013;&#30340;&#29992;&#25143;&#21516;&#26102;&#33258;&#21160;&#22320;&#34987;&#25480;&#26435;&#21487;&#20197;&#21521;&#20840;&#37096;&#26381;&#21153;&#21457;&#20986;&#21629;&#20196;&#12290;&#20294;&#21015;&#34920;&#20013;&#30340;&#29992;&#25143;&#24182;<span class="strong"><strong>&#27809;&#26377;</strong></span>&#33258;&#21160;&#22320;&#25480;&#26435;&#21487;&#20197;&#26597;&#30475;&#20840;&#37096;&#30340;&#20027;&#26426;&#25110;&#26381;&#21153;&#30340;&#29366;&#24577;&#21644;&#37197;&#32622;&#20449;&#24687;&#65292;&#22914;&#26524;&#20320;&#24819;&#35753;&#29992;&#25143;&#21516;&#26679;&#21487;&#20197;&#26597;&#30475;&#29366;&#24577;&#21644;&#37197;&#32622;&#20449;&#24687;&#65292;&#20320;&#38656;&#35201;&#23558;&#29992;&#25143;&#21152;&#20837;&#21040;<a class="link" href="#authorized_for_all_hosts" title="&#34920;&nbsp;5.132.&nbsp;&#20840;&#23616;&#20027;&#26426;&#30340;&#20449;&#24687;&#33719;&#21462;&#26435;&#38480;">authorized_for_all_hosts</a>&#21464;&#37327;&#20043;&#20013;&#12290;&#26356;&#22810;&#30340;&#22914;&#20309;&#32473;CGI&#27169;&#22359;&#35774;&#32622;&#35748;&#35777;&#21644;&#37197;&#32622;&#25480;&#26435;&#30340;&#20869;&#23481;&#21487;&#20197;&#26597;&#38405;<a class="link" href="#cgiauth" title="10.5.&nbsp;&#23545;CGIs&#31243;&#24207;&#27169;&#22359;&#30340;&#25480;&#26435;&#19982;&#35748;&#35777;">&#36825;&#20010;</a>&#25991;&#26723;&#12290;</p><div class="table"><a name="authorized_for_all_services"></a><p class="title"><b>&#34920;&nbsp;5.134.&nbsp;&#20840;&#23616;&#26381;&#21153;&#30340;&#20449;&#24687;&#33719;&#21462;&#26435;</b></p><div class="table-contents"><table summary="&#20840;&#23616;&#26381;&#21153;&#30340;&#20449;&#24687;&#33719;&#21462;&#26435;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>authorized_for_all_services=&lt;user1&gt;,&lt;user2&gt;,&lt;user3&gt;,...&lt;user<span class="strong"><strong>n</strong></span>&gt;</strong></span></td></tr><tr><td>&#20030;&#20363;&#65306;</td><td><span class="bold"><strong>authorized_for_all_services=nagiosadmin,theboss</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#36825;&#26159;&#19968;&#20010;&#20197;&#36887;&#21495;&#20998;&#38548;&#30340;&#21015;&#34920;&#65292;&#21015;&#20986;&#20102;&#21487;&#20197;&#26597;&#30475;&#20840;&#37096;&#26381;&#21153;&#30340;&#29366;&#24577;&#21644;&#37197;&#32622;&#30340;<span class="strong"><strong>&#34987;&#25480;&#26435;&#29992;&#25143;</strong></span>&#12290;&#20294;&#21015;&#34920;&#20013;&#30340;&#29992;&#25143;&#24182;<span class="strong"><strong>&#27809;&#26377;</strong></span>&#33258;&#21160;&#22320;&#25480;&#26435;&#21487;&#20197;&#26597;&#30475;&#20840;&#37096;&#20027;&#26426;&#30340;&#20449;&#24687;&#12290;&#21015;&#34920;&#20013;&#30340;&#29992;&#25143;&#24182;<span class="strong"><strong>&#27809;&#26377;</strong></span>&#33258;&#21160;&#22320;&#25480;&#26435;&#21521;&#20840;&#37096;&#26381;&#21153;&#21457;&#36865;&#21629;&#20196;&#12290;&#22914;&#26524;&#20320;&#24819;&#35753;&#36825;&#20123;&#29992;&#25143;&#20063;&#21516;&#26679;&#21487;&#20197;&#21457;&#20840;&#37096;&#26381;&#21153;&#21457;&#36865;&#21629;&#20196;&#65292;&#20320;&#24517;&#39035;&#23558;&#36825;&#20123;&#29992;&#25143;&#21152;&#20837;&#21040;<a class="link" href="#authorized_for_all_service_commands" title="&#34920;&nbsp;5.135.&nbsp;&#20840;&#23616;&#26381;&#21153;&#30340;&#21629;&#20196;&#25805;&#20316;&#26435;">authorized_for_all_service_commands</a>&#21464;&#37327;&#20043;&#20013;&#12290;&#26356;&#22810;&#30340;&#22914;&#20309;&#32473;CGI&#27169;&#22359;&#35774;&#32622;&#35748;&#35777;&#21644;&#37197;&#32622;&#25480;&#26435;&#30340;&#20869;&#23481;&#21487;&#20197;&#26597;&#38405;<a class="link" href="#cgiauth" title="10.5.&nbsp;&#23545;CGIs&#31243;&#24207;&#27169;&#22359;&#30340;&#25480;&#26435;&#19982;&#35748;&#35777;">&#36825;&#20010;</a>&#25991;&#26723;&#12290;</p><div class="table"><a name="authorized_for_all_service_commands"></a><p class="title"><b>&#34920;&nbsp;5.135.&nbsp;&#20840;&#23616;&#26381;&#21153;&#30340;&#21629;&#20196;&#25805;&#20316;&#26435;</b></p><div class="table-contents"><table summary="&#20840;&#23616;&#26381;&#21153;&#30340;&#21629;&#20196;&#25805;&#20316;&#26435;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>authorized_for_all_service_commands=&lt;user1&gt;,&lt;user2&gt;,&lt;user3&gt;,...&lt;user<span class="strong"><strong>n</strong></span>&gt;</strong></span></td></tr><tr><td>&#20030;&#20363;&#65306;</td><td><span class="bold"><strong>authorized_for_all_service_commands=nagiosadmin</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#36825;&#26159;&#19968;&#20010;&#20197;&#36887;&#21495;&#20998;&#38548;&#30340;&#21015;&#34920;&#65292;&#21015;&#20986;&#20102;&#21487;&#20197;&#36890;&#36807;<a class="link" href="#cgis_cmd_cgi">&#21629;&#20196;CGI</a>&#26469;&#21521;&#20840;&#37096;&#26381;&#21153;&#21457;&#36865;&#21629;&#20196;&#30340;<span class="strong"><strong>&#34987;&#25480;&#26435;&#29992;&#25143;</strong></span>&#12290;&#20294;&#21015;&#34920;&#20013;&#30340;&#29992;&#25143;&#24182;<span class="strong"><strong>&#27809;&#26377;</strong></span>&#33258;&#21160;&#22320;&#25480;&#26435;&#21521;&#20840;&#37096;&#20027;&#26426;&#21457;&#36865;&#21629;&#20196;&#12290;&#21015;&#34920;&#20013;&#30340;&#29992;&#25143;&#20063;<span class="strong"><strong>&#27809;&#26377;</strong></span>&#33258;&#21160;&#22320;&#25480;&#26435;&#26597;&#30475;&#20840;&#37096;&#20027;&#26426;&#30340;&#29366;&#24577;&#21644;&#37197;&#32622;&#20449;&#24687;&#12290;&#22914;&#26524;&#20320;&#24819;&#35753;&#36825;&#20123;&#29992;&#25143;&#21516;&#26679;&#21487;&#20197;&#26597;&#24180;&#20840;&#37096;&#26381;&#21153;&#30340;&#29366;&#24577;&#21644;&#26381;&#21153;&#30340;&#20449;&#24687;&#65292;&#20320;&#24517;&#39035;&#25226;&#36825;&#20123;&#29992;&#25143;&#21152;&#20837;&#21040;<a class="link" href="#authorized_for_all_services" title="&#34920;&nbsp;5.134.&nbsp;&#20840;&#23616;&#26381;&#21153;&#30340;&#20449;&#24687;&#33719;&#21462;&#26435;">authorized_for_all_services</a>&#21464;&#37327;&#20013;&#12290;&#26356;&#22810;&#30340;&#22914;&#20309;&#32473;CGI&#27169;&#22359;&#35774;&#32622;&#35748;&#35777;&#21644;&#37197;&#32622;&#25480;&#26435;&#30340;&#20869;&#23481;&#21487;&#20197;&#26597;&#38405;<a class="link" href="#cgiauth" title="10.5.&nbsp;&#23545;CGIs&#31243;&#24207;&#27169;&#22359;&#30340;&#25480;&#26435;&#19982;&#35748;&#35777;">&#36825;&#20010;</a>&#25991;&#26723;&#12290;</p><div class="table"><a name="lock_author_names"></a><p class="title"><b>&#34920;&nbsp;5.136.&nbsp;&#38145;&#23450;&#21160;&#20316;&#32773;&#30340;&#29992;&#25143;&#21517;</b></p><div class="table-contents"><table summary="&#38145;&#23450;&#21160;&#20316;&#32773;&#30340;&#29992;&#25143;&#21517;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>lock_author_names=[0/1]</strong></span></td></tr><tr><td>&#20030;&#20363;&#65306;</td><td><span class="bold"><strong>lock_author_names=1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#23558;&#20351;&#29992;WEB&#25509;&#21475;&#26102;&#22312;&#25552;&#20132;&#27880;&#37322;&#12289;&#20570;&#20869;&#23481;&#30830;&#35748;&#21644;&#21046;&#35746;&#23445;&#26426;&#35745;&#21010;&#31561;&#25805;&#20316;&#26102;&#38480;&#21046;&#20462;&#25913;&#24050;&#32463;&#20182;&#20204;&#30340;&#21160;&#20316;&#25552;&#20132;&#32773;&#30340;&#21517;&#23383;&#12290;&#22914;&#26524;&#35813;&#36873;&#39033;&#20351;&#33021;&#65292;&#37027;&#20040;&#29992;&#25143;&#22312;&#20570;&#36825;&#20123;&#36827;&#34892;&#21629;&#20196;&#26102;&#23558;&#19981;&#33021;&#20462;&#25913;&#21457;&#20986;&#25805;&#20316;&#32773;&#30340;&#21517;&#23383;&#12290;</p><div class="orderedlist"><ol type="1"><li>0 = &#20801;&#35768;&#29992;&#25143;&#22312;&#25552;&#20132;&#21629;&#20196;&#26102;&#20462;&#25913;&#21517;&#23383;</li><li>1 = &#19981;&#35768;&#29992;&#25143;&#25552;&#20132;&#21629;&#20196;&#26102;&#20462;&#25913;&#21517;&#23383;(&#40664;&#35748;&#20540;) </li></ol></div><div class="table"><a name="statusmap_background_image"></a><p class="title"><b>&#34920;&nbsp;5.137.&nbsp;&#32593;&#32476;&#25299;&#25169;&#22270;&#30340;&#32972;&#26223;&#22270;&#35774;&#32622;</b></p><div class="table-contents"><table summary="&#32593;&#32476;&#25299;&#25169;&#22270;&#30340;&#32972;&#26223;&#22270;&#35774;&#32622;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>statusmap_background_image=&lt;image_file&gt;</strong></span></td></tr><tr><td>&#20030;&#20363;&#65306;</td><td><span class="bold"><strong>statusmap_background_image=smbackground.gd2</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#23558;&#35753;&#20320;&#21487;&#20197;&#22312;&#20351;&#29992;<a class="link" href="#cgis_statusmap_cgi">&#32593;&#32476;&#25299;&#25169;&#22270;</a>&#26102;&#21487;&#20197;&#25351;&#23450;&#19968;&#20010;&#22270;&#24418;&#25991;&#20214;&#20570;&#20026;&#32972;&#26223;&#22270;&#65292;&#22914;&#26524;&#20320;&#36873;&#25321;&#20102;&#20351;&#29992;&#29992;&#25143;&#23450;&#20041;&#22352;&#26631;&#26469;&#32472;&#21046;&#30340;&#20108;&#32500;&#32593;&#32476;&#25299;&#25169;&#22270;&#30340;&#35805;&#12290;&#35813;&#32972;&#26223;&#22270;&#25991;&#20214;&#23558;&#19981;&#33021;&#20026;&#20854;&#20182;&#32472;&#21046;&#26041;&#24335;&#25552;&#20379;&#32972;&#26223;&#12290;&#23427;&#20551;&#23450;&#36825;&#20010;&#25991;&#20214;&#26159;&#25918;&#22312;&#22270;&#20687;&#25991;&#20214;&#30340;&#36335;&#24452;&#37324;&#20102;(&#22914;/usr/local/nagios/share/images)&#12290;&#35813;&#36335;&#24452;&#23558;&#33258;&#21160;&#22320;&#22312;<a class="link" href="#physical_html_path" title="&#34920;&nbsp;5.125.&nbsp;HTML&#25991;&#20214;&#30340;&#31995;&#32479;&#36335;&#24452;">physical_html_path</a>&#22495;&#20043;&#21518;&#21152;&#19978;"/images"&#29983;&#25104;&#36335;&#24452;&#12290;&#27880;&#24847;&#65292;&#36825;&#20010;&#22270;&#20687;&#25991;&#20214;&#30340;&#26684;&#24335;&#21487;&#20197;&#26159;GIF&#12289;JPEG&#12289;PNG&#25110;GD2&#26684;&#24335;&#12290;&#32780;&#25512;&#33616;&#26159;GD2&#26684;&#24335;&#30340;&#25991;&#20214;&#65292;&#22240;&#20026;&#23427;&#21487;&#20197;&#22312;&#29983;&#25104;&#20108;&#32500;&#22270;&#26102;&#38477;&#20302;CPU&#36127;&#33655;&#12290;</p><div class="table"><a name="default_statusmap_layout"></a><p class="title"><b>&#34920;&nbsp;5.138.&nbsp;&#40664;&#35748;&#30340;&#20108;&#32500;&#25299;&#25169;&#22270;&#23618;&#32472;&#21046;&#26041;&#24335;</b></p><div class="table-contents"><table summary="&#40664;&#35748;&#30340;&#20108;&#32500;&#25299;&#25169;&#22270;&#23618;&#32472;&#21046;&#26041;&#24335;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>default_statusmap_layout=&lt;layout_number&gt;</strong></span></td></tr><tr><td>&#20030;&#20363;&#65306;</td><td><span class="bold"><strong>default_statusmap_layout=4</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#36825;&#20010;&#36873;&#39033;&#23558;&#35753;&#20320;&#25351;&#23450;&#20986;<a class="link" href="#cgis_statusmap_cgi">&#32593;&#32476;&#25299;&#25169;&#22270;CGI</a>&#30340;&#40664;&#35748;&#32472;&#21046;&#26041;&#24335;&#65292;&#21487;&#29992;&#30340;&#36873;&#39033;&#20540;&#26377;&#65306;</p><div class="table"><a name="layout_number"></a><p class="title"><b>&#34920;&nbsp;5.139.&nbsp;Statusmap&#30340;&lt;layout_number&gt;&#21462;&#20540;</b></p><div class="table-contents"><table summary="Statusmap&#30340;<layout_number&gt;&#21462;&#20540;" border="1"><colgroup><col><col></colgroup><thead><tr><th>Value</th><th>Layout Method</th></tr></thead><tbody><tr><td>0</td><td>&#29992;&#25143;&#23450;&#20041;&#22352;&#26631;&#31995;</td></tr><tr><td>1</td><td>&#28145;&#24230;&#22270;</td></tr><tr><td>2</td><td>&#26641;&#24418;&#25240;&#21472;&#22270;</td></tr><tr><td>3</td><td>&#24179;&#34913;&#26435;&#22270;</td></tr><tr><td>4</td><td>&#22278;&#24418;&#22270;</td></tr><tr><td>5</td><td>&#22278;&#24418;&#22270;(&#20986;&#26631;&#35760;&#30340;)</td></tr><tr><td>6</td><td>&#22278;&#24418;&#22270;(&#27668;&#27873;&#24335;)</td></tr></tbody></table></div></div><br class="table-break"><div class="table"><a name="statuswrl_include"></a><p class="title"><b>&#34920;&nbsp;5.140.&nbsp;&#19977;&#32500;&#31354;&#38388;&#30340;&#23481;&#32435;&#22120;</b></p><div class="table-contents"><table summary="&#19977;&#32500;&#31354;&#38388;&#30340;&#23481;&#32435;&#22120;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>statuswrl_include=&lt;vrml_file&gt;</strong></span></td></tr><tr><td>&#20030;&#20363;&#65306;</td><td><span class="bold"><strong>statuswrl_include=myworld.wrl</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#36825;&#20010;&#36873;&#39033;&#23558;&#35753;&#20320;&#25351;&#23450;&#19968;&#20010;&#20320;&#30340;&#23545;&#35937;&#23454;&#20307;&#22312;&#21738;&#20010;&#19977;&#32500;&#31354;&#38388;&#30340;&#23481;&#32435;&#22120;&#37324;&#23637;&#29616;&#12290;&#23427;&#40664;&#35748;&#26159;&#25991;&#20214;&#24050;&#32463;&#23384;&#25918;&#22312;&#25351;&#23450;&#30340;&#36335;&#24452;&#19979;&#20102;&#65292;&#35813;&#36335;&#24452;&#30001;<a class="link" href="#physical_html_path" title="&#34920;&nbsp;5.125.&nbsp;HTML&#25991;&#20214;&#30340;&#31995;&#32479;&#36335;&#24452;">physical_html_path</a>&#22495;&#26469;&#25351;&#23450;&#12290;&#27880;&#24847;&#65292;&#36825;&#20010;&#25991;&#20214;&#24517;&#39035;&#26159;&#21512;&#26684;&#30340;&#34394;&#25311;&#29616;&#23454;&#24314;&#27169;(VRML)&#25991;&#20214;(&#22914;&#20320;&#21487;&#20197;&#22312;&#23427;&#30340;&#19987;&#29992;&#27983;&#35272;&#22120;&#37324;&#21487;&#20197;&#26597;&#30475;&#23427;)&#12290;</p><div class="table"><a name="default_statuswrl_layout"></a><p class="title"><b>&#34920;&nbsp;5.141.&nbsp;&#40664;&#35748;&#19977;&#32500;&#31354;&#38388;&#22352;&#26631;&#29983;&#25104;&#31639;&#27861;</b></p><div class="table-contents"><table summary="&#40664;&#35748;&#19977;&#32500;&#31354;&#38388;&#22352;&#26631;&#29983;&#25104;&#31639;&#27861;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>default_statuswrl_layout=&lt;layout_number&gt;</strong></span></td></tr><tr><td>&#20030;&#20363;&#65306;</td><td><span class="bold"><strong>default_statuswrl_layout=4</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#35753;&#20320;&#25351;&#23450;&#22312;<a class="link" href="#cgis_statuswrl_cgi">&#19977;&#32500;&#31354;&#38388;&#22270;</a>&#37324;&#23545;&#35937;&#30340;&#19977;&#32500;&#31354;&#38388;&#22352;&#26631;&#30340;&#29983;&#25104;&#31639;&#27861;&#12290;&#21487;&#29992;&#30340;&#36873;&#39033;&#20540;&#26377;&#65306;</p><div class="table"><a name="statuswrl_layout"></a><p class="title"><b>&#34920;&nbsp;5.142.&nbsp;Statuswrl&#30340;&lt;layout_number&gt;&#21462;&#20540;</b></p><div class="table-contents"><table summary="Statuswrl&#30340;<layout_number&gt;&#21462;&#20540;" border="1"><colgroup><col><col></colgroup><thead><tr><th>&#20540;</th><th>&#32472;&#21046;&#31639;&#27861;</th></tr></thead><tbody><tr><td>0</td><td>&#29992;&#25143;&#23450;&#20041;&#22352;&#26631;&#31995;</td></tr><tr><td>2</td><td>&#25240;&#21472;&#26641;</td></tr><tr><td>3</td><td>&#24179;&#34913;&#26641;</td></tr><tr><td>4</td><td>&#22278;&#24418;</td></tr></tbody></table></div></div><br class="table-break"><div class="table"><a name="refresh_rate"></a><p class="title"><b>&#34920;&nbsp;5.143.&nbsp;CGI&#27169;&#22359;&#30340;&#21047;&#26032;&#36895;&#29575;</b></p><div class="table-contents"><table summary="CGI&#27169;&#22359;&#30340;&#21047;&#26032;&#36895;&#29575;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>refresh_rate=&lt;rate_in_seconds&gt;</strong></span></td></tr><tr><td>&#20030;&#20363;&#65306;</td><td><span class="bold"><strong>refresh_rate=90</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#35813;&#36873;&#39033;&#23558;&#35753;&#20320;&#25351;&#23450;&#20197;&#31186;&#20026;&#21333;&#20301;&#30340;&#23545;&#20110;CGI&#27169;&#22359;&#21047;&#26032;&#30340;&#21608;&#26399;&#65292;CGI&#27169;&#22359;&#26377;<a class="link" href="#cgis_status_cgi">&#29366;&#24577;&#21015;&#34920;</a>&#12289;<a class="link" href="#cgis_statusmap_cgi">&#20108;&#32500;&#25299;&#25169;&#22270;</a>&#21644;<a class="link" href="#cgis_extinfo_cgi">&#25193;&#23637;&#20449;&#24687;</a>&#31561;CGI&#27169;&#22359;&#12290;</p><div class="table"><a name="audio_alerts"></a><p class="title"><b>&#34920;&nbsp;5.144.&nbsp;&#22768;&#38899;&#25253;&#35686;</b></p><div class="table-contents"><table summary="&#22768;&#38899;&#25253;&#35686;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><p><span class="bold"><strong>host_unreachable_sound=&lt;sound_file&gt;</strong></span></p><p><span class="bold"><strong>host_down_sound=&lt;sound_file&gt;</strong></span></p><p><span class="bold"><strong>service_critical_sound=&lt;sound_file&gt;</strong></span></p><p><span class="bold"><strong>service_warning_sound=&lt;sound_file&gt;</strong></span></p><p><span class="bold"><strong>service_unknown_sound=&lt;sound_file&gt;</strong></span></p></td></tr><tr><td>&#20030;&#20363;&#65306;</td><td><p><span class="bold"><strong>host_unreachable_sound=hostu.wav</strong></span></p><p><span class="bold"><strong>host_down_sound=hostd.wav</strong></span></p><p><span class="bold"><strong>service_critical_sound=critical.wav</strong></span></p><p><span class="bold"><strong>service_warning_sound=warning.wav</strong></span></p><p><span class="bold"><strong>service_unknown_sound=unknown.wav</strong></span></p></td></tr></tbody></table></div></div><br class="table-break"><p>&#36825;&#20010;&#36873;&#39033;&#23558;&#35753;&#20320;&#25351;&#23450;&#22312;&#26597;&#30475;<a class="link" href="#cgis_status_cgi">&#29366;&#24577;&#21015;&#34920;</a>&#26102;&#22914;&#26524;&#26377;&#25925;&#38556;&#21457;&#29983;&#65292;&#20320;&#30340;&#27983;&#35272;&#22120;&#37324;&#23558;&#21457;&#20986;&#21738;&#20010;&#22768;&#38899;&#25991;&#20214;&#12290;&#22914;&#26524;&#26377;&#25925;&#38556;&#23558;&#25353;&#25351;&#23450;&#30340;&#20020;&#30028;&#25925;&#38556;&#31867;&#22411;&#26469;&#25773;&#25918;&#19981;&#21516;&#30340;&#22768;&#38899;&#25991;&#20214;&#12290;&#36825;&#20123;&#20020;&#30028;&#30340;&#25925;&#38556;&#31867;&#22411;&#26159;&#19968;&#20010;&#25110;&#22810;&#20010;&#20027;&#26426;&#19981;&#21487;&#36798;&#65292;&#33267;&#23569;&#26159;&#19968;&#20010;&#25110;&#22810;&#20010;&#26381;&#21153;&#22788;&#20110;&#26410;&#30693;&#30340;&#29366;&#24577;(&#35265;&#19978;&#20363;&#20013;&#30340;&#27425;&#24207;)&#12290;&#22768;&#38899;&#25991;&#20214;&#23558;&#20551;&#23450;&#20320;&#25918;&#22312;&#20102;<a class="link" href="#physical_html_path" title="&#34920;&nbsp;5.125.&nbsp;HTML&#25991;&#20214;&#30340;&#31995;&#32479;&#36335;&#24452;">HTML&#30446;&#24405;</a>&#30340;"media/"&#23376;&#30446;&#24405;&#37324;(&#22914;<span class="strong"><strong>/usr/local/nagios/share/media</strong></span>)&#12290;</p><div class="table"><a name="ping_syntax"></a><p class="title"><b>&#34920;&nbsp;5.145.&nbsp;Ping&#35821;&#27861;</b></p><div class="table-contents"><table summary="Ping&#35821;&#27861;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>ping_syntax=&lt;command&gt;</strong></span></td></tr><tr><td>&#20030;&#20363;&#65306;</td><td><span class="bold"><strong>ping_syntax=/bin/ping -n -U -c 5 $HOSTADDRESS$</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#36825;&#20010;&#36873;&#39033;&#32473;&#20986;&#20102;&#24403;&#20174;WAP&#25509;&#21475;(&#20351;&#29992;<a class="link" href="#cgis_statuswml_cgi">statuswml CGI</a>)&#20570;PING&#19968;&#20010;&#20027;&#26426;&#25805;&#20316;&#26102;&#30340;PING&#30340;&#35821;&#27861;&#12290;&#20320;&#24517;&#39035;&#32473;&#20986;&#21253;&#21547;&#20840;&#36335;&#24452;&#21517;&#30340;PING&#30340;&#25191;&#34892;&#25991;&#20214;&#21450;&#20840;&#37096;&#21442;&#25968;&#30340;&#21629;&#20196;&#34892;&#12290;&#21629;&#20196;&#20013;&#20351;&#29992;$HOSTADDRESS$&#23439;&#26469;&#39044;&#25351;&#23450;&#22312;&#21629;&#20196;&#25191;&#34892;&#21069;&#23545;&#21738;&#20010;&#22320;&#22336;&#26367;&#25442;&#24182;&#25191;&#34892;PING&#26816;&#27979;&#12290;</p><div class="table"><a name="escape_html_tags"></a><p class="title"><b>&#34920;&nbsp;5.146.&nbsp;&#25193;&#23637;HTML&#26631;&#35760;&#36873;&#39033;</b></p><div class="table-contents"><table summary="&#25193;&#23637;HTML&#26631;&#35760;&#36873;&#39033;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>escape_html_tags=[0/1]</strong></span></td></tr><tr><td>&#20030;&#20363;&#65306;</td><td><span class="bold"><strong>escape_html_tags=1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#36825;&#20010;&#36873;&#39033;&#23558;&#20915;&#23450;&#26159;&#21542;&#22312;&#20027;&#26426;&#21644;&#26381;&#21153;(&#25554;&#20214;)&#30340;&#26816;&#27979;&#36755;&#20986;&#20013;&#21253;&#21547;&#20351;&#29992;HTML&#30340;&#25193;&#23637;&#36873;&#39033;&#12290;&#22914;&#26524;&#20320;&#20351;&#33021;&#20102;&#23427;&#65292;&#20320;&#30340;&#25554;&#20214;&#23558;&#19981;&#33021;&#20351;&#29992;&#21487;&#28857;&#20987;&#30340;&#36229;&#38142;&#25509;&#26631;&#35760;&#12290;</p><div class="table"><a name="notes_url_target"></a><p class="title"><b>&#34920;&nbsp;5.147.&nbsp;&#27880;&#37322;&#30340;URL&#25351;&#21521;</b></p><div class="table-contents"><table summary="&#27880;&#37322;&#30340;URL&#25351;&#21521;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>notes_url_target=[target]</strong></span></td></tr><tr><td>&#20030;&#20363;&#65306;</td><td><span class="bold"><strong>notes_url_target=_blank</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#36825;&#20010;&#36873;&#39033;&#20915;&#23450;&#20102;&#20320;&#30340;&#27880;&#37322;URL&#24517;&#39035;&#35201;&#26174;&#31034;&#30340;URL&#30446;&#26631;&#12290;&#21512;&#27861;&#30340;&#36873;&#39033;&#20869;&#23481;&#21253;&#25324;<span class="strong"><strong>_blank</strong></span>&#12289;<span class="strong"><strong>_self</strong></span>&#12289;<span class="strong"><strong>_top</strong></span>&#12289;<span class="strong"><strong>_parent</strong></span>&#25110;&#26159;&#20854;&#20182;&#21512;&#27861;&#30446;&#26631;&#30340;&#21517;&#23383;&#12290;</p><div class="table"><a name="action_url_target"></a><p class="title"><b>&#34920;&nbsp;5.148.&nbsp;&#21160;&#20316;&#30340;URL&#25351;&#21521;</b></p><div class="table-contents"><table summary="&#21160;&#20316;&#30340;URL&#25351;&#21521;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>action_url_target=[target]</strong></span></td></tr><tr><td>&#20030;&#20363;&#65306;</td><td><span class="bold"><strong>action_url_target=_blank</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#36825;&#20010;&#36873;&#39033;&#32473;&#23450;&#20102;&#26694;&#20869;&#23545;&#35937;&#30340;&#21160;&#20316;&#37324;&#26174;&#31034;&#30340;&#21160;&#20316;URL&#30340;&#30446;&#26631;&#12290;&#21512;&#27861;&#30340;&#36873;&#39033;&#20540;&#21253;&#25324;<span class="strong"><strong>_blank</strong></span>&#12289;<span class="strong"><strong>_self</strong></span>&#12289;<span class="strong"><strong>_top</strong></span>&#12289;<span class="strong"><strong>_parent</strong></span>&#25110;&#26159;&#20219;&#20309;&#20854;&#20182;&#21512;&#27861;&#30446;&#26631;&#21517;&#23383;&#12290;</p><div class="table"><a name="enable_splunk_integration"></a><p class="title"><b>&#34920;&nbsp;5.149.&nbsp;Splunk&#38598;&#25104;&#36873;&#39033;</b></p><div class="table-contents"><table summary="Splunk&#38598;&#25104;&#36873;&#39033;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>enable_splunk_integration=[0/1]</strong></span></td></tr><tr><td>&#20030;&#20363;&#65306;</td><td><span class="bold"><strong>enable_splunk_integration=1</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#36825;&#20010;&#36873;&#39033;&#20915;&#23450;&#20102;&#22312;WEB&#25509;&#21475;&#37324;&#19982;Splunk&#38598;&#25104;&#21151;&#33021;&#26159;&#21542;&#38598;&#25104;&#12290;&#22914;&#26524;&#20351;&#33021;&#23427;&#65292;&#20320;&#39029;&#38754;&#20013;&#23558;&#22312;&#35768;&#22810;&#22320;&#26041;&#21576;&#29616;&#20986;"Splunk It"&#30340;&#38142;&#25509;&#65292;CGI&#27169;&#22359;&#39029;&#38754;(&#26085;&#24535;&#25991;&#20214;&#12289;&#21578;&#35686;&#21382;&#21490;&#12289;&#20027;&#26426;&#21644;&#26381;&#21153;&#30340;&#35814;&#32454;&#20449;&#24687;&#31561;)&#37324;&#37117;&#26377;&#12290;&#22914;&#26524;&#20320;&#24819;&#23545;&#29305;&#21035;&#30340;&#25925;&#38556;&#21457;&#29983;&#24819;&#30693;&#36947;&#21407;&#35839;&#26102;&#24456;&#26377;&#29992;&#12290;&#26356;&#22810;&#20851;&#20110;Splunk&#30340;&#20449;&#24687;&#35831;&#35775;&#38382;<a class="ulink" href="http://www.splunk.com/" target="_top">http://www.splunk.com/</a>&#12290;</p><div class="table"><a name="splunk_url"></a><p class="title"><b>&#34920;&nbsp;5.150.&nbsp;Splunk URL</b></p><div class="table-contents"><table summary="Splunk URL" border="1"><colgroup><col><col></colgroup><tbody><tr><td>&#26684;&#24335;&#65306;</td><td><span class="bold"><strong>splunk_url=&lt;path&gt;</strong></span></td></tr><tr><td>&#20030;&#20363;&#65306;</td><td><span class="bold"><strong>splunk_url=http://127.0.0.1:8000/</strong></span></td></tr></tbody></table></div></div><br class="table-break"><p>&#36825;&#20010;&#36873;&#39033;&#35774;&#32622;&#20102;&#25351;&#21521;Splunk&#32593;&#31449;&#30340;URL&#12290;&#22312;<a class="link" href="#enable_splunk_integration" title="&#34920;&nbsp;5.149.&nbsp;Splunk&#38598;&#25104;&#36873;&#39033;">enable_splunk_integration</a>&#20351;&#33021;&#26102;&#36825;&#20010;URL&#34987;CGI&#27169;&#22359;&#29992;&#20110;&#25351;&#21521;Splunk&#12290;</p></div></div></div><div class="chapter" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title"><a name="cgiconfig"></a>&#31532;&nbsp;6&nbsp;&#31456;&nbsp;Nagios&#30417;&#25511;&#19982;&#37197;&#32622;&#30340;&#22522;&#26412;&#27010;&#24565;</h2></div></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="objectdefinitions"></a>6.1.&nbsp;&#23545;&#35937;&#23450;&#20041;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="objectdefinitions_introduction"></a>6.1.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>Nagios&#23545;&#35937;&#26684;&#24335;&#30340;&#19968;&#20010;&#29305;&#28857;&#26159;&#21487;&#20197;&#21019;&#24314;&#19978;&#19979;&#32487;&#25215;&#20851;&#31995;&#30340;&#23545;&#35937;&#23450;&#20041;&#12290;&#19968;&#20010;&#22914;&#20309;&#23454;&#29616;&#23545;&#35937;&#32487;&#25215;&#20851;&#31995;&#30340;&#35299;&#37322;&#21487;&#26597;&#38405;<a class="link" href="#objectinheritance" title="6.4.&nbsp;&#23545;&#35937;&#32487;&#25215;&#20851;&#31995;">&#36825;&#31687;&#25991;&#26723;</a>&#12290;&#24378;&#28872;&#24314;&#35758;&#20320;&#22312;&#38405;&#35835;&#36807;&#19979;&#38754;&#20869;&#23481;&#21518;&#35201;&#20877;&#29087;&#24713;&#19968;&#19979;&#32487;&#25215;&#20851;&#31995;&#65292;&#22240;&#20026;&#23427;&#23558;&#20351;&#23545;&#35937;&#23450;&#20041;&#21019;&#24314;&#21644;&#32500;&#25252;&#21464;&#24471;&#26356;&#20026;&#23481;&#26131;&#65292;&#21516;&#26679;&#65292;&#36824;&#24471;&#38405;&#35835;<a class="link" href="#objecttricks" title="6.2.&nbsp;&#23545;&#35937;&#23450;&#20041;&#30340;&#30465;&#26102;&#20915;&#31373;">&#23545;&#35937;&#23450;&#20041;&#20915;&#31373;</a>&#19968;&#25991;&#20197;&#20351;&#19968;&#20123;&#20887;&#38271;&#23450;&#20041;&#20219;&#21153;&#21464;&#24471;&#31616;&#30701;&#12290;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3>&#24403;&#21019;&#24314;&#25110;&#32534;&#36753;&#37197;&#32622;&#25991;&#20214;&#26102;&#65292;&#35201;&#36981;&#23432;&#22914;&#19979;&#35201;&#27714;&#65306;</div><div class="orderedlist"><ol type="1"><li>&#20197;&#31526;&#21495;'#'&#24320;&#22836;&#30340;&#34892;&#23558;&#35270;&#20026;&#27880;&#37322;&#19981;&#20570;&#22788;&#29702;&#65307;</li><li>&#21464;&#37327;&#21517;&#26159;&#22823;&#23567;&#20889;&#25935;&#24863;&#30340;&#65307;</li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="objectdefinitions_retentions_notes"></a>6.1.2.&nbsp;&#27880;&#24847;&#29366;&#24577;&#20445;&#25345;&#35774;&#32622;</h3></div></div></div><p>&#38656;&#35201;&#30528;&#37325;&#25351;&#20986;&#19968;&#28857;&#65292;&#24403;&#20462;&#25913;&#20102;&#37197;&#32622;&#25991;&#20214;&#26102;&#26377;&#20960;&#20010;&#22312;&#20027;&#26426;&#12289;&#26381;&#21153;&#21644;&#32852;&#31995;&#20154;&#23450;&#20041;&#37324;&#30340;&#22495;&#20540;&#19981;&#20250;&#28165;&#38500;&#12290;&#26377;&#36825;&#31181;&#29305;&#24615;&#30340;&#23545;&#35937;&#22495;&#22312;&#19979;&#38754;&#34987;&#26631;&#35760;&#20102;&#26143;&#21495;(<a class="link" href="#objectdefinitions_retentions_notes" title="6.1.2.&nbsp;&#27880;&#24847;&#29366;&#24577;&#20445;&#25345;&#35774;&#32622;">*</a>)&#12290;&#36825;&#20010;&#21407;&#22240;&#26159;&#30001;&#20110;Nagios&#20250;&#23558;&#19968;&#20123;&#23545;&#35937;&#22495;&#20540;&#20250;&#29992;&#20445;&#23384;&#22312;<a class="ulink" href="state_retention_file" target="_top">&#29366;&#24577;&#20445;&#25345;&#25991;&#20214;</a>&#37324;&#30340;&#20540;&#26469;&#35206;&#30422;&#37197;&#32622;&#25991;&#20214;&#65292;&#21069;&#25552;&#26159;&#37197;&#32622;&#20102;&#23545;&#31243;&#24207;&#20869;&#23481;&#20840;&#38754;&#22320;<a class="link" href="#retain_state_information" title="&#34920;&nbsp;5.26.&nbsp;&#29366;&#24577;&#20445;&#25345;&#36873;&#39033;">&#29366;&#24577;&#20445;&#25345;</a>&#36873;&#39033;&#20351;&#33021;<span class="strong"><strong>&#24182;&#19988;</strong></span>&#22495;&#37324;&#30340;&#20540;&#22312;&#36816;&#34892;&#26102;&#34987;<a class="link" href="#check_external_commands" title="&#34920;&nbsp;5.21.&nbsp;&#22806;&#37096;&#21629;&#20196;&#26816;&#26597;&#36873;&#39033;">&#22806;&#37096;&#21629;&#20196;</a>&#20462;&#25913;&#36807;&#12290;</p><p>&#32469;&#36807;&#36825;&#20010;&#38382;&#39064;&#30340;&#19968;&#20010;&#26041;&#27861;&#26159;&#23558;&#38750;&#29366;&#24577;&#20449;&#24687;&#30340;&#20445;&#25345;&#36873;&#39033;&#20851;&#38381;&#25481;&#65292;&#22312;&#20027;&#26426;&#12289;&#26381;&#21153;&#21644;&#32852;&#31995;&#20154;&#23545;&#35937;&#23450;&#20041;&#37324;&#29992;<span class="strong"><strong>retain_nonstatus_information</strong></span>&#36873;&#39033;&#24320;&#20851;&#12290;&#20851;&#25481;&#36825;&#20010;&#36873;&#39033;&#21518;&#20250;&#20196;Nagios&#22312;&#37325;&#21551;&#21160;&#26102;&#20351;&#29992;&#37197;&#32622;&#25991;&#20214;&#37324;&#32473;&#20986;&#30340;&#22495;&#20540;&#32780;&#19981;&#26159;&#20174;&#29366;&#24577;&#20445;&#25345;&#25991;&#20214;&#20013;&#21462;&#20540;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="objectdefinitions_sample_config_file"></a>6.1.3.&nbsp;&#26679;&#20363;&#37197;&#32622;&#25991;&#20214;</h3></div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3>&#22914;&#26524;&#25353;&#29031;<a class="link" href="#quickstart" title="4.3.&nbsp;&#24555;&#36895;&#23433;&#35013;&#25351;&#21335;">&#24555;&#36895;&#23433;&#35013;&#25351;&#21335;</a>&#26469;&#25805;&#20316;&#30340;&#35805;&#65292;&#19968;&#20010;&#26679;&#20363;&#23545;&#35937;&#37197;&#32622;&#25991;&#20214;&#23558;&#34987;&#23433;&#35013;&#21040;<span class="strong"><strong>/usr/local/nagios/etc/</strong></span>&#30446;&#24405;&#37324;&#12290;</div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="objectdefinitions_object_types"></a>6.1.4.&nbsp;&#23545;&#35937;&#31181;&#31867;</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p><a class="xref" href="#objectdefinitions_host">&#31532;&nbsp;6.1.5&nbsp;&#33410; &#8220;<span class="strong"><strong>&#20027;&#26426;&#23450;&#20041;</strong></span>       &#8221;</a></p></li><li><p><a class="xref" href="#objectdefinitions_hostgroup">&#31532;&nbsp;6.1.6&nbsp;&#33410; &#8220;  <span class="strong"><strong>&#20027;&#26426;&#32452;&#23450;&#20041;</strong></span>       &#8221;</a></p></li><li><p><a class="xref" href="#objectdefinitions_service">&#31532;&nbsp;6.1.7&nbsp;&#33410; &#8220;  <span class="strong"><strong>&#26381;&#21153;&#23450;&#20041;</strong></span>       &#8221;</a></p></li><li><p><a class="xref" href="#objectdefinitions_servicegroup">&#31532;&nbsp;6.1.8&nbsp;&#33410; &#8220;  <span class="strong"><strong>&#26381;&#21153;&#32452;&#23450;&#20041;</strong></span>       &#8221;</a></p></li><li><p><a class="xref" href="#objectdefinitions_contact">&#31532;&nbsp;6.1.9&nbsp;&#33410; &#8220;  <span class="strong"><strong>&#32852;&#31995;&#20154;&#23450;&#20041;</strong></span>       &#8221;</a></p></li><li><p><a class="xref" href="#objectdefinitions_contactgroup">&#31532;&nbsp;6.1.10&nbsp;&#33410; &#8220;  <span class="strong"><strong>&#32852;&#31995;&#20154;&#32452;&#23450;&#20041;</strong></span>       &#8221;</a></p></li><li><p><a class="xref" href="#objectdefinitions_timeperiod">&#31532;&nbsp;6.1.11&nbsp;&#33410; &#8220;  <span class="strong"><strong>&#26102;&#38388;&#21608;&#26399;&#23450;&#20041;</strong></span>       &#8221;</a></p></li><li><p><a class="xref" href="#objectdefinitions_command">&#31532;&nbsp;6.1.12&nbsp;&#33410; &#8220;  <span class="strong"><strong>&#21629;&#20196;&#23450;&#20041;</strong></span>       &#8221;</a></p></li><li><p><a class="xref" href="#objectdefinitions_servicedependency">&#31532;&nbsp;6.1.13&nbsp;&#33410; &#8220;  <span class="strong"><strong>&#26381;&#21153;&#20381;&#36182;&#23450;&#20041;</strong></span>&#8221;</a></p></li><li><p><a class="xref" href="#objectdefinitions_serviceescalation">&#31532;&nbsp;6.1.14&nbsp;&#33410; &#8220;  <span class="strong"><strong>&#26381;&#21153;&#25193;&#23637;&#23450;&#20041;</strong></span>       &#8221;</a></p></li><li><p><a class="xref" href="#objectdefinitions_hostdependency">&#31532;&nbsp;6.1.15&nbsp;&#33410; &#8220;  <span class="strong"><strong>&#20027;&#26426;&#20381;&#36182;&#23450;&#20041;</strong></span> &#8221;</a></p></li><li><p><a class="xref" href="#objectdefinitions_hostescalation">&#31532;&nbsp;6.1.16&nbsp;&#33410; &#8220;  <span class="strong"><strong>&#20027;&#26426;&#25193;&#23637;&#23450;&#20041;</strong></span> &#8221;</a></p></li><li><p><a class="xref" href="#objectdefinitions_hostextinfo">&#31532;&nbsp;6.1.17&nbsp;&#33410; &#8220;  <span class="strong"><strong>&#39069;&#22806;&#20027;&#26426;&#20449;&#24687;&#23450;&#20041;</strong></span>  &#8221;</a></p></li><li><p><a class="xref" href="#objectdefinitions_serviceextinfo">&#31532;&nbsp;6.1.18&nbsp;&#33410; &#8220;  <span class="strong"><strong>&#39069;&#22806;&#26381;&#21153;&#20449;&#24687;&#23450;&#20041;</strong></span>&#8221;</a></p></li></ul></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e7767"></a>6.1.5.&nbsp;<span class="strong"><strong>&#20027;&#26426;&#23450;&#20041;</strong></span>       </h3></div></div></div><p>&#25551;&#36848;&#65306;</p><p>&#20027;&#26426;&#34987;&#23450;&#20041;&#20026;&#23384;&#22312;&#20110;&#32593;&#32476;&#20013;&#30340;&#19968;&#20010;&#29289;&#29702;&#26381;&#21153;&#22120;&#12289;&#24037;&#20316;&#31449;&#25110;&#35774;&#22791;&#31561;&#12290;</p><p>&#23450;&#20041;&#26684;&#24335;&#65306;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3>&#26631;&#35760;&#20102;<sup>(*)</sup>&#30340;&#22495;&#26159;&#24517;&#22791;&#30340;&#32780;&#40657;&#33394;&#26159;&#21487;&#36873;&#30340;&#12290;</div><pre class="programlisting"><p>define host{  
		host_name       <span class="strong"><strong>host_name<sup>(*)</sup></strong></span>       
		alias       <span class="strong"><strong>alias<sup>(*)</sup></strong></span>
		display_name       <span class="strong"><strong>display_name</strong></span>       
		address       <span class="strong"><strong>address<sup>(*)</sup></strong></span>       
		parents       <span class="strong"><strong>host_names</strong></span>       
		hostgroups       <span class="strong"><strong>hostgroup_names</strong></span>       
		check_command       <span class="strong"><strong>command_name</strong></span>       
		initial_state       [o,d,u]       
		max_check_attempts       #<sup>(*)</sup>       
		check_interval       #       
		retry_interval       #       
		active_checks_enabled       [0/1]       
		passive_checks_enabled       [0/1]       
		check_period       <span class="strong"><strong>timeperiod_name<sup>(*)</sup></strong></span>       
		obsess_over_host       [0/1]       
		check_freshness       [0/1]       
		freshness_threshold       #       
		event_handler       <span class="strong"><strong>command_name</strong></span>       
		event_handler_enabled       [0/1]       
		low_flap_threshold       #       
		high_flap_threshold       #       
		flap_detection_enabled       [0/1]       
		flap_detection_options       [o,d,u]       
		process_perf_data       [0/1]       
		retain_status_information       [0/1]       
		retain_nonstatus_information       [0/1]       
		contacts       <span class="strong"><strong>contacts<sup>(*)</sup></strong></span>       
		contact_groups       <span class="strong"><strong>contact_groups<sup>(*)</sup></strong></span>       
		notification_interval       #<sup>(*)</sup>       
		first_notification_delay       #       
		notification_period       <span class="strong"><strong>timeperiod_name<sup>(*)</sup></strong></span>       
		notification_options       [d,u,r,f,s]       
		notifications_enabled       [0/1]       
		stalking_options       [o,d,u]       
		notes       <span class="strong"><strong>note_string</strong></span>       
		notes_url       <span class="strong"><strong>url</strong></span>       
		action_url       <span class="strong"><strong>url</strong></span>       
		icon_image       <span class="strong"><strong>image_file</strong></span>       
		icon_image_alt       <span class="strong"><strong>alt_string</strong></span>       
		vrml_image       <span class="strong"><strong>image_file</strong></span>       
		statusmap_image       <span class="strong"><strong>image_file</strong></span>       
		2d_coords       <span class="strong"><strong>x_coord,y_coord</strong></span>       
		3d_coords       <span class="strong"><strong>x_coord,y_coord,z_coord</strong></span>       
		...
		}</p></pre><p>&#23450;&#20041;&#26679;&#20363;&#65306;</p><pre class="programlisting"><p>define host{
		host_name			bogus-router
		alias				Bogus Router #1
		address				192.168.1.254
		parents				server-backbone
		check_command			check-host-alive
		check_interval			5
		retry_interval			1
		max_check_attempts		5
		check_period			24x7
		process_perf_data		0
		retain_nonstatus_information	0
		contact_groups			router-admins
		notification_interval		30
		notification_period		24x7
		notification_options		d,u,r
		}</p></pre><p>&#22495;&#25551;&#36848;&#65306;</p><p>  <span class="bold"><strong>host_name</strong></span>:       This directive is used to define a short name used to identify the host. It is used in host group and service definitions to reference this particular host. Hosts can have multiple services (which are monitored) associated with them. When used properly, the $HOSTNAME$ <a class="link" href="#macros" title="8.2.&nbsp;&#29702;&#35299;Nagios&#23439;&#21450;&#20854;&#24037;&#20316;&#26426;&#21046;">macro</a> will contain this short name.        </p><p>    <span class="bold"><strong>alias</strong></span>:       This directive is used to define a longer name or description used to identify the host. It is provided in order to allow you to more easily identify a particular host. When used properly, the $HOSTALIAS$ <a class="link" href="#macros" title="8.2.&nbsp;&#29702;&#35299;Nagios&#23439;&#21450;&#20854;&#24037;&#20316;&#26426;&#21046;">macro</a> will contain this alias/description.        </p><p>    <span class="bold"><strong>address</strong></span>:       This directive is used to define the address of the host. Normally, this is an IP address, although it could really be anything you want (so long as it can be used to check the status of the host). You can use a FQDN to identify the host instead of an IP address, but if DNS services are not availble this could cause problems. When used properly, the $HOSTADDRESS$ <a class="link" href="#macros" title="8.2.&nbsp;&#29702;&#35299;Nagios&#23439;&#21450;&#20854;&#24037;&#20316;&#26426;&#21046;">macro</a> will contain this address. Note: If you do not specify an address directive in a host definition, the name of the host will be used as its address. A word of caution about doing this, however - if DNS fails, most of your service checks will fail because the plugins will be unable to resolve the host name.        </p><p>    <span class="bold"><strong>display_name</strong></span>:       This directive is used to define an alternate name that should be displayed in the web interface for this host. If not specified, this defaults to the value you specify for the <span class="strong"><strong>host_name</strong></span> directive. Note: The current CGIs do not use this option, although future versions of the web interface will.        </p><p>    <span class="bold"><strong>parents</strong></span>:       This directive is used to define a comma-delimited list of short names of the "parent" hosts for this particular host. Parent hosts are typically routers, switches, firewalls, etc. that lie between the monitoring host and a remote hosts. A router, switch, etc. which is closest to the remote host is considered to be that host's "parent". Read the "Determining Status and Reachability of Network Hosts" document located <a class="link" href="#networkreachability" title="8.4.&nbsp;&#22914;&#20309;&#30830;&#35748;&#32593;&#32476;&#20013;&#20027;&#26426;&#30340;&#29366;&#24577;&#19982;&#21487;&#36798;&#24615;">here</a> for more information. If this host is on the same network segment as the host doing the monitoring (without any intermediate routers, etc.) the host is considered to be on the local network and will not have a parent host. Leave this value blank if the host does not have a parent host (i.e. it is on the same segment as the Nagios host). The order in which you specify parent hosts has no effect on how things are monitored.        </p><p>    <span class="bold"><strong>hostgroups</strong></span>:       This directive is used to identify the <span class="strong"><strong>short name(s)</strong></span> of the <a class="link" href="#objectdefinitions_hostgroup">hostgroup(s)</a> that the host belongs to. Multiple hostgroups should be separated by commas. This directive may be used as an alternative to (or in addition to) using the <span class="strong"><strong>members</strong></span> directive in <a class="link" href="#objectdefinitions_hostgroup">hostgroup definitions</a>.        </p><p>    <span class="bold"><strong>check_command</strong></span>:       This directive is used to specify the <span class="strong"><strong>short name</strong></span> of the <a class="link" href="#objectdefinitions_command">command</a> that should be used to check if the host is up or down. Typically, this command would try and ping the host to see if it is "alive". The command must return a status of OK (0) or Nagios will assume the host is down. If you leave this argument blank, the host will <span class="strong"><strong>not</strong></span> be actively checked. Thus, Nagios will likely always assume the host is up (it may show up as being in a "PENDING" state in the web interface). This is useful if you are monitoring printers or other devices that are frequently turned off. The maximum amount of time that the notification command can run is controlled by the <a class="link" href="#host_check_timeout" title="&#34920;&nbsp;5.77.&nbsp;&#20027;&#26426;&#26816;&#27979;&#36229;&#26102;">host_check_timeout</a> option.        </p><p>    <span class="bold"><strong>initial_state</strong></span>:       By default Nagios will assume that all hosts are in UP states when in starts. You can override the initial state for a host by using this directive. Valid options are: o = UP, d = DOWN, and u = UNREACHABLE.        </p><p>    <span class="bold"><strong>max_check_attempts</strong></span>:       This directive is used to define the number of times that Nagios will retry the host check command if it returns any state other than an OK state. Setting this value to 1 will cause Nagios to generate an alert without retrying the host check again. Note: If you do not want to check the status of the host, you must still set this to a minimum value of 1. To bypass the host check, just leave the <span class="strong"><strong>check_command</strong></span> option blank.        </p><p>    <span class="bold"><strong>check_interval</strong></span>:       This directive is used to define the number of "time units" between regularly scheduled checks of the host. Unless you've changed the <a class="link" href="#interval_length" title="&#34920;&nbsp;5.55.&nbsp;&#35745;&#25968;&#38388;&#38548;&#38271;&#24230;">interval_length</a> directive from the default value of 60, this number will mean minutes. More information on this value can be found in the <a class="link" href="#checkscheduling" title="8.8.&nbsp;&#26381;&#21153;&#21644;&#20027;&#26426;&#30340;&#23450;&#26399;&#26816;&#27979;">check scheduling</a> documentation.        </p><p>    <span class="bold"><strong>retry_interval</strong></span>:       This directive is used to define the number of "time units" to wait before scheduling a re-check of the hosts. Hosts are rescheduled at the retry interval when the have changed to a non-UP state. Once the host has been retried max_attempts times without a change in its status, it will revert to being scheduled at its "normal" rate as defined by the check_interval value. Unless you've changed the <a class="link" href="#interval_length" title="&#34920;&nbsp;5.55.&nbsp;&#35745;&#25968;&#38388;&#38548;&#38271;&#24230;">interval_length</a> directive from the default value of 60, this number will mean minutes. More information on this value can be found in the <a class="link" href="#checkscheduling" title="8.8.&nbsp;&#26381;&#21153;&#21644;&#20027;&#26426;&#30340;&#23450;&#26399;&#26816;&#27979;">check scheduling</a> documentation.        </p><p>    <span class="bold"><strong>active_checks_enabled <a class="link" href="#objectdefinitions_retentions_notes" title="6.1.2.&nbsp;&#27880;&#24847;&#29366;&#24577;&#20445;&#25345;&#35774;&#32622;">*</a>*</strong></span>:       This directive is used to determine whether or not active checks (either regularly scheduled or on-demand) of this host are enabled. Values: 0 = disable active host checks, 1 = enable active host checks.        </p><p>    <span class="bold"><strong>passive_checks_enabled <a class="link" href="#objectdefinitions_retentions_notes" title="6.1.2.&nbsp;&#27880;&#24847;&#29366;&#24577;&#20445;&#25345;&#35774;&#32622;">*</a>*</strong></span>:       This directive is used to determine whether or not passive checks are enabled for this host. Values: 0 = disable passive host checks, 1 = enable passive host checks.        </p><p>    <span class="bold"><strong>check_period</strong></span>:       This directive is used to specify the short name of the <a class="link" href="#objectdefinitions_timeperiod">time period</a> during which active checks of this host can be made.        </p><p>    <span class="bold"><strong>obsess_over_host <a class="link" href="#objectdefinitions_retentions_notes" title="6.1.2.&nbsp;&#27880;&#24847;&#29366;&#24577;&#20445;&#25345;&#35774;&#32622;">*</a>*</strong></span>:       This directive determines whether or not checks for the host will be "obsessed" over using the <a class="link" href="#ochp_command" title="&#34920;&nbsp;5.86.&nbsp;Obsessive Compulsive Host Processor Command">ochp_command</a>.        </p><p>    <span class="bold"><strong>check_freshness <a class="link" href="#objectdefinitions_retentions_notes" title="6.1.2.&nbsp;&#27880;&#24847;&#29366;&#24577;&#20445;&#25345;&#35774;&#32622;">*</a>*</strong></span>:       This directive is used to determine whether or not <a class="link" href="#freshness" title="8.6.&nbsp;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#21047;&#26032;&#26816;&#27979;">freshness checks</a> are enabled for this host. Values: 0 = disable freshness checks, 1 = enable freshness checks.        </p><p>    <span class="bold"><strong>freshness_threshold</strong></span>:       This directive is used to specify the freshness threshold (in seconds) for this host. If you set this directive to a value of 0, Nagios will determine a freshness threshold to use automatically.        </p><p>    <span class="bold"><strong>event_handler</strong></span>:       This directive is used to specify the <span class="strong"><strong>short name</strong></span> of the <a class="link" href="#objectdefinitions_command">command</a> that should be run whenever a change in the state of the host is detected (i.e. whenever it goes down or recovers). Read the documentation on <a class="link" href="#eventhandlers" title="6.8.&nbsp;&#20107;&#20214;&#22788;&#29702;">event handlers</a> for a more detailed explanation of how to write scripts for handling events. The maximum amount of time that the event handler command can run is controlled by the <a class="link" href="#event_handler_timeout" title="&#34920;&nbsp;5.78.&nbsp;&#20107;&#20214;&#22788;&#29702;&#36229;&#26102;">event_handler_timeout</a> option.        </p><p>    <span class="bold"><strong>event_handler_enabled <a class="link" href="#objectdefinitions_retentions_notes" title="6.1.2.&nbsp;&#27880;&#24847;&#29366;&#24577;&#20445;&#25345;&#35774;&#32622;">*</a>*</strong></span>:       This directive is used to determine whether or not the event handler for this host is enabled. Values: 0 = disable host event handler, 1 = enable host event handler.        </p><p>    <span class="bold"><strong>low_flap_threshold</strong></span>:       This directive is used to specify the low state change threshold used in flap detection for this host. More information on flap detection can be found <a class="link" href="#flapping" title="8.7.&nbsp;&#24863;&#30693;&#21644;&#22788;&#29702;&#29366;&#24577;&#25238;&#21160;">here</a>. If you set this directive to a value of 0, the program-wide value specified by the <a class="link" href="#low_host_flap_threshold" title="&#34920;&nbsp;5.73.&nbsp;Low Host Flap Threshold">low_host_flap_threshold</a> directive will be used.        </p><p>    <span class="bold"><strong>high_flap_threshold</strong></span>:       This directive is used to specify the high state change threshold used in flap detection for this host. More information on flap detection can be found <a class="link" href="#flapping" title="8.7.&nbsp;&#24863;&#30693;&#21644;&#22788;&#29702;&#29366;&#24577;&#25238;&#21160;">here</a>. If you set this directive to a value of 0, the program-wide value specified by the <a class="link" href="#high_host_flap_threshold" title="&#34920;&nbsp;5.74.&nbsp;High Host Flap Threshold">high_host_flap_threshold</a> directive will be used.        </p><p>    <span class="bold"><strong>flap_detection_enabled <a class="link" href="#objectdefinitions_retentions_notes" title="6.1.2.&nbsp;&#27880;&#24847;&#29366;&#24577;&#20445;&#25345;&#35774;&#32622;">*</a>*</strong></span>:       This directive is used to determine whether or not flap detection is enabled for this host. More information on flap detection can be found <a class="link" href="#flapping" title="8.7.&nbsp;&#24863;&#30693;&#21644;&#22788;&#29702;&#29366;&#24577;&#25238;&#21160;">here</a>. Values: 0 = disable host flap detection, 1 = enable host flap detection.        </p><p>    <span class="bold"><strong>flap_detection_options</strong></span>:       This directive is used to determine what host states the <a class="link" href="#flapping" title="8.7.&nbsp;&#24863;&#30693;&#21644;&#22788;&#29702;&#29366;&#24577;&#25238;&#21160;">flap detection logic</a> will use for this host. Valid options are a combination of one or more of the following: o = UP states, d = DOWN states, u = UNREACHABLE states.        </p><p>    <span class="bold"><strong>process_perf_data <a class="link" href="#objectdefinitions_retentions_notes" title="6.1.2.&nbsp;&#27880;&#24847;&#29366;&#24577;&#20445;&#25345;&#35774;&#32622;">*</a>*</strong></span>:       This directive is used to determine whether or not the processing of performance data is enabled for this host. Values: 0 = disable performance data processing, 1 = enable performance data processing.        </p><p>    <span class="bold"><strong>retain_status_information</strong></span>:       This directive is used to determine whether or not status-related information about the host is retained across program restarts. This is only useful if you have enabled state retention using the <a class="link" href="#retain_state_information" title="&#34920;&nbsp;5.26.&nbsp;&#29366;&#24577;&#20445;&#25345;&#36873;&#39033;">retain_state_information</a> directive. Value: 0 = disable status information retention, 1 = enable status information retention.        </p><p>    <span class="bold"><strong>retain_nonstatus_information</strong></span>:       This directive is used to determine whether or not non-status information about the host is retained across program restarts. This is only useful if you have enabled state retention using the <a class="link" href="#retain_state_information" title="&#34920;&nbsp;5.26.&nbsp;&#29366;&#24577;&#20445;&#25345;&#36873;&#39033;">retain_state_information</a> directive. Value: 0 = disable non-status information retention, 1 = enable non-status information retention.        </p><p>    <span class="bold"><strong>contacts</strong></span>:       This is a list of the <span class="strong"><strong>short names</strong></span> of the <a class="link" href="#objectdefinitions_contact">contacts</a> that should be notified whenever there are problems (or recoveries) with this host. Multiple contacts should be separated by commas. Useful if you want notifications to go to just a few people and don't want to configure <a class="link" href="#objectdefinitions_contactgroup">contact groups</a>. You must specify at least one contact or contact group in each host definition.        </p><p>    <span class="bold"><strong>contact_groups</strong></span>:       This is a list of the <span class="strong"><strong>short names</strong></span> of the <a class="link" href="#objectdefinitions_contactgroup">contact groups</a> that should be notified whenever there are problems (or recoveries) with this host. Multiple contact groups should be separated by commas. You must specify at least one contact or contact group in each host definition.        </p><p>    <span class="bold"><strong>notification_interval</strong></span>:       This directive is used to define the number of "time units" to wait before re-notifying a contact that this server is <span class="strong"><strong>still</strong></span> down or unreachable. Unless you've changed the <a class="link" href="#interval_length" title="&#34920;&nbsp;5.55.&nbsp;&#35745;&#25968;&#38388;&#38548;&#38271;&#24230;">interval_length</a> directive from the default value of 60, this number will mean minutes. If you set this value to 0, Nagios will <span class="strong"><strong>not</strong></span> re-notify contacts about problems for this host - only one problem notification will be sent out.        </p><p>    <span class="bold"><strong>first_notification_delay</strong></span>:       This directive is used to define the number of "time units" to wait before sending out the first problem notification when this host enters a non-UP state. Unless you've changed the <a class="link" href="#interval_length" title="&#34920;&nbsp;5.55.&nbsp;&#35745;&#25968;&#38388;&#38548;&#38271;&#24230;">interval_length</a> directive from the default value of 60, this number will mean minutes. If you set this value to 0, Nagios will start sending out notifications immediately.        </p><p>    <span class="bold"><strong>notification_period</strong></span>:       This directive is used to specify the short name of the <a class="link" href="#objectdefinitions_timeperiod">time period</a> during which notifications of events for this host can be sent out to contacts. If a host goes down, becomes unreachable, or recoveries during a time which is not covered by the time period, no notifications will be sent out.        </p><p>    <span class="bold"><strong>notification_options</strong></span>:       This directive is used to determine when notifications for the host should be sent out. Valid options are a combination of one or more of the following: d = send notifications on a DOWN state, u = send notifications on an UNREACHABLE state, r = send notifications on recoveries (OK state), f = send notifications when the host starts and stops <a class="link" href="#flapping" title="8.7.&nbsp;&#24863;&#30693;&#21644;&#22788;&#29702;&#29366;&#24577;&#25238;&#21160;">flapping</a>, and s = send notifications when <a class="link" href="#downtime" title="6.5.&nbsp;&#35745;&#21010;&#20572;&#26426;&#26102;&#38388;">scheduled downtime</a> starts and ends. If you specify n (none) as an option, no host notifications will be sent out. If you do not specify any notification options, Nagios will assume that you want notifications to be sent out for all possible states. Example: If you specify d,r in this field, notifications will only be sent out when the host goes DOWN and when it recovers from a DOWN state.        </p><p>    <span class="bold"><strong>notifications_enabled <a class="link" href="#objectdefinitions_retentions_notes" title="6.1.2.&nbsp;&#27880;&#24847;&#29366;&#24577;&#20445;&#25345;&#35774;&#32622;">*</a>*</strong></span>:       This directive is used to determine whether or not notifications for this host are enabled. Values: 0 = disable host notifications, 1 = enable host notifications.        </p><p>    <span class="bold"><strong>stalking_options</strong></span>:       This directive determines which host states "stalking" is enabled for. Valid options are a combination of one or more of the following: o = stalk on UP states, d = stalk on DOWN states, and u = stalk on UNREACHABLE states. More information on state stalking can be found <a class="link" href="#stalking" title="9.6.&nbsp;&#29366;&#24577;&#36861;&#36394;">here</a>.        </p><p>    <span class="bold"><strong>notes</strong></span>:       This directive is used to define an optional string of notes pertaining to the host. If you specify a note here, you will see the it in the <a class="link" href="#cgis_extinfo_cgi">extended information</a> CGI (when you are viewing information about the specified host).        </p><p>    <span class="bold"><strong>notes_url</strong></span>:       This variable is used to define an optional URL that can be used to provide more information about the host. If you specify an URL, you will see a red folder icon in the CGIs (when you are viewing host information) that links to the URL you specify here. Any valid URL can be used. If you plan on using relative paths, the base path will the the same as what is used to access the CGIs (i.e. <span class="strong"><strong>/cgi-bin/nagios/</strong></span>). This can be very useful if you want to make detailed information on the host, emergency contact methods, etc. available to other support staff.        </p><p>    <span class="bold"><strong>action_url</strong></span>:       This directive is used to define an optional URL that can be used to provide more actions to be performed on the host. If you specify an URL, you will see a red "splat" icon in the CGIs (when you are viewing host information) that links to the URL you specify here. Any valid URL can be used. If you plan on using relative paths, the base path will the the same as what is used to access the CGIs (i.e. <span class="strong"><strong>/cgi-bin/nagios/</strong></span>).        </p><p>    <span class="bold"><strong>icon_image</strong></span>:       This variable is used to define the name of a GIF, PNG, or JPG image that should be associated with this host. This image will be displayed in the various places in the CGIs. The image will look best if it is 40x40 pixels in size. Images for hosts are assumed to be in the logos/ subdirectory in your HTML images directory (i.e. <span class="strong"><strong>/usr/local/nagios/share/images/logos</strong></span>).        </p><p>    <span class="bold"><strong>icon_image_alt</strong></span>:       This variable is used to define an optional string that is used in the ALT tag of the image specified by the <span class="strong"><strong>&lt;icon_image&gt;</strong></span> argument.        </p><p>    <span class="bold"><strong>vrml_image</strong></span>:       This variable is used to define the name of a GIF, PNG, or JPG image that should be associated with this host. This image will be used as the texture map for the specified host in the <a class="link" href="#cgis_statuswrl_cgi">statuswrl</a> CGI. Unlike the image you use for the <span class="strong"><strong>&lt;icon_image&gt;</strong></span> variable, this one should probably <span class="strong"><strong>not</strong></span> have any transparency. If it does, the host object will look a bit wierd. Images for hosts are assumed to be in the logos/ subdirectory in your HTML images directory (i.e. <span class="strong"><strong>/usr/local/nagios/share/images/logos</strong></span>).        </p><p>    <span class="bold"><strong>statusmap_image</strong></span>:       This variable is used to define the name of an image that should be associated with this host in the <a class="link" href="#cgis_statusmap_cgi">statusmap</a> CGI. You can specify a JPEG, PNG, and GIF image if you want, although I would strongly suggest using a GD2 format image, as other image formats will result in a lot of wasted CPU time when the statusmap image is generated. GD2 images can be created from PNG images by using the pngtogd2 utility supplied with Thomas Boutell's <a class="ulink" href="http://www.boutell.com/gd/" target="_top">gd library</a>. The GD2 images should be created in <span class="strong"><strong>uncompressed</strong></span> format in order to minimize CPU load when the statusmap CGI is generating the network map image. The image will look best if it is 40x40 pixels in size. You can leave these option blank if you are not using the statusmap CGI. Images for hosts are assumed to be in the logos/ subdirectory in your HTML images directory (i.e. <span class="strong"><strong>/usr/local/nagios/share/images/logos</strong></span>).        </p><p>    <span class="bold"><strong>2d_coords</strong></span>:       This variable is used to define coordinates to use when drawing the host in the <a class="link" href="#cgis_statusmap_cgi">statusmap</a> CGI. Coordinates should be given in positive integers, as the correspond to physical pixels in the generated image. The origin for drawing (0,0) is in the upper left hand corner of the image and extends in the positive x direction (to the right) along the top of the image and in the positive y direction (down) along the left hand side of the image. For reference, the size of the icons drawn is usually about 40x40 pixels (text takes a little extra space). The coordinates you specify here are for the upper left hand corner of the host icon that is drawn. Note: Don't worry about what the maximum x and y coordinates that you can use are. The CGI will automatically calculate the maximum dimensions of the image it creates based on the largest x and y coordinates you specify.        </p><p>    <span class="bold"><strong>3d_coords</strong></span>:       This variable is used to define coordinates to use when drawing the host in the <a class="link" href="#cgis_statuswrl_cgi">statuswrl</a> CGI. Coordinates can be positive or negative real numbers. The origin for drawing is (0.0,0.0,0.0). For reference, the size of the host cubes drawn is 0.5 units on each side (text takes a little more space). The coordinates you specify here are used as the center of the host cube.        </p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e8299"></a>6.1.6.&nbsp;  <span class="strong"><strong>&#20027;&#26426;&#32452;&#23450;&#20041;</strong></span>       </h3></div></div></div><p>&#25551;&#36848;&#65306;</p><p>&#20027;&#26426;&#32452;&#26159;&#25351;&#19968;&#21488;&#25110;&#22810;&#21488;&#20027;&#26426;&#26500;&#25104;&#30340;&#32452;&#65292;&#21487;&#20351;&#37197;&#32622;&#26356;&#31616;&#21333;&#25110;&#26159;&#20026;&#23436;&#25104;&#29305;&#23450;&#30446;&#30340;&#32780;&#22312;<a class="link" href="#cgis" title="7.4.&nbsp;&#20851;&#20110;CGI&#31243;&#24207;&#27169;&#22359;&#30340;&#20449;&#24687;">CGI</a>&#37324;&#26174;&#31034;&#20351;&#29992;&#12290;</p><p>&#23450;&#20041;&#26684;&#24335;&#65306;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3>&#26631;&#35760;&#20102;<sup>(*)</sup>&#30340;&#22495;&#26159;&#24517;&#22791;&#30340;&#32780;&#40657;&#33394;&#26159;&#21487;&#36873;&#30340;&#12290;</div><pre class="programlisting"><p>define hostgroup{       
		hostgroup_name       <span class="strong"><strong>hostgroup_name<sup>(*)</sup></strong></span>       
		alias       <span class="strong"><strong>alias<sup>(*)</sup></strong></span>       
		members       <span class="strong"><strong>hosts</strong></span>    
		hostgroup_members       <span class="strong"><strong>hostgroups</strong></span>       
		notes       <span class="strong"><strong>note_string</strong></span>       
		notes_url       <span class="strong"><strong>url</strong></span>       
		action_url       <span class="strong"><strong>url</strong></span>       
		...       
		}</p></pre><p>&#23450;&#20041;&#26679;&#20363;&#65306;</p><pre class="programlisting"><p>define hostgroup{
		hostgroup_name		novell-servers
		alias			Novell Servers
		members			netware1,netware2,netware3,netware4
		}</p></pre><p>&#22495;&#25551;&#36848;&#65306;</p><p>  <span class="bold"><strong>hostgroup_name</strong></span>:       This directive is used to define a short name used to identify the host group.        </p><p>    <span class="bold"><strong>alias</strong></span>:       This directive is used to define is a longer name or description used to identify the host group. It is provided in order to allow you to more easily identify a particular host group.        </p><p>    <span class="bold"><strong>members</strong></span>:       This is a list of the <span class="strong"><strong>short names</strong></span> of <a class="link" href="#objectdefinitions_host">hosts</a> that should be included in this group. Multiple host names should be separated by commas. This directive may be used as an alternative to (or in addition to) the <span class="strong"><strong>hostgroups</strong></span> directive in <a class="link" href="#objectdefinitions_host">host definitions</a>.        </p><p>    <span class="bold"><strong>hostgroup_members</strong></span>:       This optional directive can be used to include hosts from other "sub" host groups in this host group. Specify a comma-delimited list of short names of other host groups whose members should be included in this group.        </p><p>    <span class="bold"><strong>notes</strong></span>:       This directive is used to define an optional string of notes pertaining to the host. If you specify a note here, you will see the it in the <a class="link" href="#cgis_extinfo_cgi">extended information</a> CGI (when you are viewing information about the specified host).        </p><p>    <span class="bold"><strong>notes_url</strong></span>:       This variable is used to define an optional URL that can be used to provide more information about the host group. If you specify an URL, you will see a red folder icon in the CGIs (when you are viewing hostgroup information) that links to the URL you specify here. Any valid URL can be used. If you plan on using relative paths, the base path will the the same as what is used to access the CGIs (i.e. <span class="strong"><strong>/cgi-bin/nagios/</strong></span>). This can be very useful if you want to make detailed information on the host group, emergency contact methods, etc. available to other support staff.        </p><p>    <span class="bold"><strong>action_url</strong></span>:       This directive is used to define an optional URL that can be used to provide more actions to be performed on the host group. If you specify an URL, you will see a red "splat" icon in the CGIs (when you are viewing hostgroup information) that links to the URL you specify here. Any valid URL can be used. If you plan on using relative paths, the base path will the the same as what is used to access the CGIs (i.e. <span class="strong"><strong>/cgi-bin/nagios/</strong></span>).        </p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e8411"></a>6.1.7.&nbsp;  <span class="strong"><strong>&#26381;&#21153;&#23450;&#20041;</strong></span>       </h3></div></div></div><p>&#25551;&#36848;&#65306;</p><p>&#26381;&#21153;&#23450;&#20041;&#20026;&#22312;&#20027;&#26426;&#19978;&#36816;&#34892;&#30340;&#26576;&#31181;&#8220;&#24212;&#29992;&#26381;&#21153;&#8221;&#12290;&#36825;&#31181;&#26381;&#21153;&#23450;&#20041;&#24471;&#38750;&#24120;&#23485;&#27867;&#65292;&#21487;&#20197;&#26159;&#22312;&#20027;&#26426;&#19978;&#23454;&#38469;&#30340;&#26381;&#21153;&#36827;&#31243;(POP3&#12289;SMTP&#12289;HTTP&#31561;)&#25110;&#26159;&#19982;&#20027;&#26426;&#26377;&#20851;&#30340;&#26576;&#31181;&#35745;&#37327;&#20540;(PING&#21709;&#24212;&#20540;&#12289;&#22312;&#32447;&#29992;&#25143;&#25968;&#12289;&#30913;&#30424;&#31354;&#38386;&#31354;&#38388;&#31561;)&#65292;&#20854;&#20013;&#30340;&#24046;&#24322;&#35265;&#19979;&#38754;&#30340;&#35828;&#26126;&#12290;</p><p>&#23450;&#20041;&#26684;&#24335;&#65306;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3>&#26631;&#35760;&#20102;<sup>(*)</sup>&#30340;&#22495;&#26159;&#24517;&#22791;&#30340;&#32780;&#40657;&#33394;&#26159;&#21487;&#36873;&#30340;&#12290;</div><pre class="programlisting"><p>define service{       
		host_name       <span class="strong"><strong>host_name<sup>(*)</sup></strong></span>       
		hostgroup_name       <span class="strong"><strong>hostgroup_name</strong></span>     
		service_description       <span class="strong"><strong>service_description<sup>(*)</sup></strong></span>    
		display_name       <span class="strong"><strong>display_name</strong></span>     
		servicegroups       servicegroup_names    
		is_volatile       [0/1]       
		check_command       <span class="strong"><strong>command_name<sup>(*)</sup></strong></span>      
		initial_state       [o,w,u,c]       
		max_check_attempts       #<sup>(*)</sup>       
		check_interval       #<sup>(*)</sup>       
		retry_interval       #<sup>(*)</sup>     
		active_checks_enabled       [0/1] 
		passive_checks_enabled       [0/1]     
		check_period       <span class="strong"><strong>timeperiod_name<sup>(*)</sup></strong></span>  
		obsess_over_service       [0/1] 
		check_freshness       [0/1]      
		freshness_threshold       #       
		event_handler       <span class="strong"><strong>command_name</strong></span>     
		event_handler_enabled       [0/1]
		low_flap_threshold       #       
		high_flap_threshold       #       
		flap_detection_enabled       [0/1]       
		flap_detection_options       [o,w,c,u]       
		process_perf_data       [0/1]       
		retain_status_information       [0/1]       
		retain_nonstatus_information       [0/1]       
		notification_interval       #<sup>(*)</sup>       
		first_notification_delay       #       
		notification_period       <span class="strong"><strong>timeperiod_name<sup>(*)</sup></strong></span>      
		notification_options       [w,u,c,r,f,s]
		notifications_enabled       [0/1]       
		contacts       <span class="strong"><strong>contacts<sup>(*)</sup></strong></span>       
		contact_groups       <span class="strong"><strong>contact_groups<sup>(*)</sup></strong></span>       
		stalking_options       [o,w,u,c]       
		notes       <span class="strong"><strong>note_string</strong></span>  
		notes_url       <span class="strong"><strong>url</strong></span>       
		action_url       <span class="strong"><strong>url</strong></span>       
		icon_image       <span class="strong"><strong>image_file</strong></span>       
		icon_image_alt       <span class="strong"><strong>alt_string</strong></span>       
		...       
		}</p></pre><p>&#23450;&#20041;&#26679;&#20363;&#65306;</p><pre class="programlisting"><p>define service{
		host_name		linux-server
		service_description	check-disk-sda1
		check_command		check-disk!/dev/sda1
		max_check_attempts	5
		check_interval	5
		retry_interval	3
		check_period		24x7
		notification_interval	30
		notification_period	24x7
		notification_options	w,c,r
		contact_groups		linux-admins
		}</p></pre><p>&#22495;&#25551;&#36848;&#65306;</p><p>  <span class="bold"><strong>host_name</strong></span>:       This directive is used to specify the <span class="strong"><strong>short name(s)</strong></span> of the <a class="link" href="#objectdefinitions_host">host(s)</a> that the service "runs" on or is associated with. Multiple hosts should be separated by commas.        </p><p>    <span class="bold"><strong>hostgroup_name</strong></span>:       This directive is used to specify the <span class="strong"><strong>short name(s)</strong></span> of the <a class="link" href="#objectdefinitions_hostgroup">hostgroup(s)</a> that the service "runs" on or is associated with. Multiple hostgroups should be separated by commas. The hostgroup_name may be used instead of, or in addition to, the host_name directive.        </p><p>    <span class="bold"><strong>service_description;</strong></span>:       This directive is used to define the description of the service, which may contain spaces, dashes, and colons (semicolons, apostrophes, and quotation marks should be avoided). No two services associated with the same host can have the same description. Services are uniquely identified with their <span class="strong"><strong>host_name</strong></span> and <span class="strong"><strong>service_description</strong></span> directives.        </p><p>    <span class="bold"><strong>display_name</strong></span>:       This directive is used to define an alternate name that should be displayed in the web interface for this service. If not specified, this defaults to the value you specify for the <span class="strong"><strong>service_description</strong></span> directive. Note: The current CGIs do not use this option, although future versions of the web interface will.        </p><p>    <span class="bold"><strong>servicegroups</strong></span>:       This directive is used to identify the <span class="strong"><strong>short name(s)</strong></span> of the <a class="link" href="#objectdefinitions_servicegroup">servicegroup(s)</a> that the service belongs to. Multiple servicegroups should be separated by commas. This directive may be used as an alternative to using the <span class="strong"><strong>members</strong></span> directive in <a class="link" href="#objectdefinitions_servicegroup">servicegroup definitions</a>.        </p><p>    <span class="bold"><strong>is_volatile</strong></span>:       This directive is used to denote whether the service is "volatile". Services are normally <span class="strong"><strong>not</strong></span> volatile. More information on volatile service and how they differ from normal services can be found <a class="link" href="#volatileservices" title="8.5.&nbsp;&#21487;&#21464;&#26381;&#21153;">here</a>. Value: 0 = service is not volatile, 1 = service is volatile.        </p><p>    <span class="bold"><strong>check_command</strong></span>:        This directive is used to specify the <span class="strong"><strong>short name</strong></span> of the <a class="link" href="#objectdefinitions_command">command</a> that Nagios will run in order to check the status of the service. The maximum amount of time that the service check command can run is controlled by the <a class="link" href="#service_check_timeout" title="&#34920;&nbsp;5.76.&nbsp;&#26381;&#21153;&#26816;&#27979;&#36229;&#26102;">service_check_timeout</a> option.       </p><p>    <span class="bold"><strong>initial_state</strong></span>:       By default Nagios will assume that all services are in OK states when in starts. You can override the initial state for a service by using this directive. Valid options are: o = &#27491;&#24120;(OK), w = &#21578;&#35686;(WARNING), u = &#26410;&#30693;(UNKNOWN), and c = &#32039;&#24613;(CRITICAL).        </p><p>    <span class="bold"><strong>max_check_attempts</strong></span>:       This directive is used to define the number of times that Nagios will retry the service check command if it returns any state other than an OK state. Setting this value to 1 will cause Nagios to generate an alert without retrying the service check again.        </p><p>    <span class="bold"><strong>check_interval</strong></span>:       This directive is used to define the number of "time units" to wait before scheduling the next "regular" check of the service. "Regular" checks are those that occur when the service is in an OK state or when the service is in a non-OK state, but has already been rechecked max_attempts number of times. Unless you've changed the <a class="link" href="#interval_length" title="&#34920;&nbsp;5.55.&nbsp;&#35745;&#25968;&#38388;&#38548;&#38271;&#24230;">interval_length</a> directive from the default value of 60, this number will mean minutes. More information on this value can be found in the <a class="link" href="#checkscheduling" title="8.8.&nbsp;&#26381;&#21153;&#21644;&#20027;&#26426;&#30340;&#23450;&#26399;&#26816;&#27979;">check scheduling</a> documentation.        </p><p>    <span class="bold"><strong>retry_interval</strong></span>:       This directive is used to define the number of "time units" to wait before scheduling a re-check of the service. Services are rescheduled at the retry interval when the have changed to a non-OK state. Once the service has been retried max_attempts times without a change in its status, it will revert to being scheduled at its "normal" rate as defined by the check_interval value. Unless you've changed the <a class="link" href="#interval_length" title="&#34920;&nbsp;5.55.&nbsp;&#35745;&#25968;&#38388;&#38548;&#38271;&#24230;">interval_length</a> directive from the default value of 60, this number will mean minutes. More information on this value can be found in the <a class="link" href="#checkscheduling" title="8.8.&nbsp;&#26381;&#21153;&#21644;&#20027;&#26426;&#30340;&#23450;&#26399;&#26816;&#27979;">check scheduling</a> documentation.        </p><p>    <span class="bold"><strong>active_checks_enabled <a class="link" href="#objectdefinitions_retentions_notes" title="6.1.2.&nbsp;&#27880;&#24847;&#29366;&#24577;&#20445;&#25345;&#35774;&#32622;">*</a>*</strong></span>:       This directive is used to determine whether or not active checks of this service are enabled. Values: 0 = disable active service checks, 1 = enable active service checks.        </p><p>    <span class="bold"><strong>passive_checks_enabled <a class="link" href="#objectdefinitions_retentions_notes" title="6.1.2.&nbsp;&#27880;&#24847;&#29366;&#24577;&#20445;&#25345;&#35774;&#32622;">*</a>*</strong></span>:       This directive is used to determine whether or not passive checks of this service are enabled. Values: 0 = disable passive service checks, 1 = enable passive service checks.        </p><p>    <span class="bold"><strong>check_period</strong></span>:       This directive is used to specify the short name of the <a class="link" href="#objectdefinitions_timeperiod">time period</a> during which active checks of this service can be made.        </p><p>    <span class="bold"><strong>obsess_over_service <a class="link" href="#objectdefinitions_retentions_notes" title="6.1.2.&nbsp;&#27880;&#24847;&#29366;&#24577;&#20445;&#25345;&#35774;&#32622;">*</a>*</strong></span>:       This directive determines whether or not checks for the service will be "obsessed" over using the <a class="link" href="#ocsp_command" title="&#34920;&nbsp;5.84.&nbsp;Obsessive Compulsive Service Processor Command">ocsp_command</a>.        </p><p>    <span class="bold"><strong>check_freshness <a class="link" href="#objectdefinitions_retentions_notes" title="6.1.2.&nbsp;&#27880;&#24847;&#29366;&#24577;&#20445;&#25345;&#35774;&#32622;">*</a>*</strong></span>:       This directive is used to determine whether or not <a class="link" href="#freshness" title="8.6.&nbsp;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#21047;&#26032;&#26816;&#27979;">freshness checks</a> are enabled for this service. Values: 0 = disable freshness checks, 1 = enable freshness checks.        </p><p>    <span class="bold"><strong>freshness_threshold</strong></span>:       This directive is used to specify the freshness threshold (in seconds) for this service. If you set this directive to a value of 0, Nagios will determine a freshness threshold to use automatically.        </p><p>    <span class="bold"><strong>event_handler_enabled <a class="link" href="#objectdefinitions_retentions_notes" title="6.1.2.&nbsp;&#27880;&#24847;&#29366;&#24577;&#20445;&#25345;&#35774;&#32622;">*</a>*</strong></span>:       This directive is used to determine whether or not the event handler for this service is enabled. Values: 0 = disable service event handler, 1 = enable service event handler.        </p><p>    <span class="bold"><strong>low_flap_threshold</strong></span>:       This directive is used to specify the low state change threshold used in flap detection for this service. More information on flap detection can be found <a class="link" href="#flapping" title="8.7.&nbsp;&#24863;&#30693;&#21644;&#22788;&#29702;&#29366;&#24577;&#25238;&#21160;">here</a>. If you set this directive to a value of 0, the program-wide value specified by the <a class="link" href="#low_service_flap_threshold" title="&#34920;&nbsp;5.71.&nbsp;Low Service Flap Threshold">low_service_flap_threshold</a> directive will be used.        </p><p>    <span class="bold"><strong>high_flap_threshold</strong></span>:       This directive is used to specify the high state change threshold used in flap detection for this service. More information on flap detection can be found <a class="link" href="#flapping" title="8.7.&nbsp;&#24863;&#30693;&#21644;&#22788;&#29702;&#29366;&#24577;&#25238;&#21160;">here</a>. If you set this directive to a value of 0, the program-wide value specified by the <a class="link" href="#high_service_flap_threshold" title="&#34920;&nbsp;5.72.&nbsp;High Service Flap Threshold">high_service_flap_threshold</a> directive will be used.        </p><p>    <span class="bold"><strong>flap_detection_enabled <a class="link" href="#objectdefinitions_retentions_notes" title="6.1.2.&nbsp;&#27880;&#24847;&#29366;&#24577;&#20445;&#25345;&#35774;&#32622;">*</a>*</strong></span>:       This directive is used to determine whether or not flap detection is enabled for this service. More information on flap detection can be found <a class="link" href="#flapping" title="8.7.&nbsp;&#24863;&#30693;&#21644;&#22788;&#29702;&#29366;&#24577;&#25238;&#21160;">here</a>. Values: 0 = disable service flap detection, 1 = enable service flap detection.        </p><p>    <span class="bold"><strong>flap_detection_options</strong></span>:       This directive is used to determine what service states the <a class="link" href="#flapping" title="8.7.&nbsp;&#24863;&#30693;&#21644;&#22788;&#29702;&#29366;&#24577;&#25238;&#21160;">flap detection logic</a> will use for this service. Valid options are a combination of one or more of the following: o = OK states, w = WARNING states, c = CRITICAL states, u = UNKNOWN states.        </p><p>    <span class="bold"><strong>process_perf_data <a class="link" href="#objectdefinitions_retentions_notes" title="6.1.2.&nbsp;&#27880;&#24847;&#29366;&#24577;&#20445;&#25345;&#35774;&#32622;">*</a>*</strong></span>:       This directive is used to determine whether or not the processing of performance data is enabled for this service. Values: 0 = disable performance data processing, 1 = enable performance data processing.        </p><p>    <span class="bold"><strong>retain_status_information</strong></span>:       This directive is used to determine whether or not status-related information about the service is retained across program restarts. This is only useful if you have enabled state retention using the <a class="link" href="#retain_state_information" title="&#34920;&nbsp;5.26.&nbsp;&#29366;&#24577;&#20445;&#25345;&#36873;&#39033;">retain_state_information</a> directive. Value: 0 = disable status information retention, 1 = enable status information retention.        </p><p>    <span class="bold"><strong>retain_nonstatus_information</strong></span>:       This directive is used to determine whether or not non-status information about the service is retained across program restarts. This is only useful if you have enabled state retention using the <a class="link" href="#retain_state_information" title="&#34920;&nbsp;5.26.&nbsp;&#29366;&#24577;&#20445;&#25345;&#36873;&#39033;">retain_state_information</a> directive. Value: 0 = disable non-status information retention, 1 = enable non-status information retention.        </p><p>    <span class="bold"><strong>notification_interval</strong></span>:       This directive is used to define the number of "time units" to wait before re-notifying a contact that this service is <span class="strong"><strong>still</strong></span> in a non-OK state. Unless you've changed the <a class="link" href="#interval_length" title="&#34920;&nbsp;5.55.&nbsp;&#35745;&#25968;&#38388;&#38548;&#38271;&#24230;">interval_length</a> directive from the default value of 60, this number will mean minutes. If you set this value to 0, Nagios will <span class="strong"><strong>not</strong></span> re-notify contacts about problems for this service - only one problem notification will be sent out.        </p><p>    <span class="bold"><strong>first_notification_delay</strong></span>:       This directive is used to define the number of "time units" to wait before sending out the first problem notification when this service enters a non-OK state. Unless you've changed the <a class="link" href="#interval_length" title="&#34920;&nbsp;5.55.&nbsp;&#35745;&#25968;&#38388;&#38548;&#38271;&#24230;">interval_length</a> directive from the default value of 60, this number will mean minutes. If you set this value to 0, Nagios will start sending out notifications immediately.        </p><p>    <span class="bold"><strong>notification_period</strong></span>:       This directive is used to specify the short name of the <a class="link" href="#objectdefinitions_timeperiod">time period</a> during which notifications of events for this service can be sent out to contacts. No service notifications will be sent out during times which is not covered by the time period.        </p><p>    <span class="bold"><strong>notification_options</strong></span>:       This directive is used to determine when notifications for the service should be sent out. Valid options are a combination of one or more of the following: w = send notifications on a WARNING state, u = send notifications on an UNKNOWN state, c = send notifications on a CRITICAL state, r = send notifications on recoveries (OK state), f = send notifications when the service starts and stops <a class="link" href="#flapping" title="8.7.&nbsp;&#24863;&#30693;&#21644;&#22788;&#29702;&#29366;&#24577;&#25238;&#21160;">flapping</a>, and s = send notifications when <a class="link" href="#downtime" title="6.5.&nbsp;&#35745;&#21010;&#20572;&#26426;&#26102;&#38388;">scheduled downtime</a> starts and ends. If you specify n (none) as an option, no service notifications will be sent out. If you do not specify any notification options, Nagios will assume that you want notifications to be sent out for all possible states. Example: If you specify w,r in this field, notifications will only be sent out when the service goes into a WARNING state and when it recovers from a WARNING state.        </p><p>    <span class="bold"><strong>notifications_enabled <a class="link" href="#objectdefinitions_retentions_notes" title="6.1.2.&nbsp;&#27880;&#24847;&#29366;&#24577;&#20445;&#25345;&#35774;&#32622;">*</a>*</strong></span>:       This directive is used to determine whether or not notifications for this service are enabled. Values: 0 = disable service notifications, 1 = enable service notifications.        </p><p>    <span class="bold"><strong>contacts</strong></span>:       This is a list of the <span class="strong"><strong>short names</strong></span> of the <a class="link" href="#objectdefinitions_contact">contacts</a> that should be notified whenever there are problems (or recoveries) with this service. Multiple contacts should be separated by commas. Useful if you want notifications to go to just a few people and don't want to configure <a class="link" href="#objectdefinitions_contactgroup">contact groups</a>. You must specify at least one contact or contact group in each service definition.        </p><p>    <span class="bold"><strong>contact_groups</strong></span>:       This is a list of the <span class="strong"><strong>short names</strong></span> of the <a class="link" href="#objectdefinitions_contactgroup">contact groups</a> that should be notified whenever there are problems (or recoveries) with this service. Multiple contact groups should be separated by commas. You must specify at least one contact or contact group in each service definition.        </p><p>    <span class="bold"><strong>stalking_options</strong></span>:       This directive determines which service states "stalking" is enabled for. Valid options are a combination of one or more of the following: o = stalk on OK states, w = stalk on WARNING states, u = stalk on UNKNOWN states, and c = stalk on CRITICAL states. More information on state stalking can be found <a class="link" href="#stalking" title="9.6.&nbsp;&#29366;&#24577;&#36861;&#36394;">here</a>.        </p><p>    <span class="bold"><strong>notes</strong></span>:       This directive is used to define an optional string of notes pertaining to the service. If you specify a note here, you will see the it in the <a class="link" href="#cgis_extinfo_cgi">extended information</a> CGI (when you are viewing information about the specified service).        </p><p>    <span class="bold"><strong>notes_url</strong></span>:       This directive is used to define an optional URL that can be used to provide more information about the service. If you specify an URL, you will see a red folder icon in the CGIs (when you are viewing service information) that links to the URL you specify here. Any valid URL can be used. If you plan on using relative paths, the base path will the the same as what is used to access the CGIs (i.e. <span class="strong"><strong>/cgi-bin/nagios/</strong></span>). This can be very useful if you want to make detailed information on the service, emergency contact methods, etc. available to other support staff.        </p><p>    <span class="bold"><strong>action_url</strong></span>:       This directive is used to define an optional URL that can be used to provide more actions to be performed on the service. If you specify an URL, you will see a red "splat" icon in the CGIs (when you are viewing service information) that links to the URL you specify here. Any valid URL can be used. If you plan on using relative paths, the base path will the the same as what is used to access the CGIs (i.e. <span class="strong"><strong>/cgi-bin/nagios/</strong></span>).        </p><p>    <span class="bold"><strong>icon_image</strong></span>:       This variable is used to define the name of a GIF, PNG, or JPG image that should be associated with this host. This image will be displayed in the <a class="link" href="#cgis_status_cgi">status</a> and <a class="link" href="#cgis_extinfo_cgi">extended information</a> CGIs. The image will look best if it is 40x40 pixels in size. Images for hosts are assumed to be in the logos/ subdirectory in your HTML images directory (i.e. <span class="strong"><strong>/usr/local/nagios/share/images/logos</strong></span>).        </p><p>    <span class="bold"><strong>icon_image_alt</strong></span>:       This variable is used to define an optional string that is used in the ALT tag of the image specified by the <span class="strong"><strong>&lt;icon_image&gt;</strong></span> argument. The ALT tag is used in the <a class="link" href="#cgis_status_cgi">status</a>, <a class="link" href="#cgis_extinfo_cgi">extended information</a> and <a class="link" href="#cgis_statusmap_cgi">statusmap</a> CGIs.</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e8886"></a>6.1.8.&nbsp;  <span class="strong"><strong>&#26381;&#21153;&#32452;&#23450;&#20041;</strong></span>       </h3></div></div></div><p>&#25551;&#36848;&#65306;</p><p> A service group definition is used to group one or more services together for simplifying configuration with <a class="link" href="#objecttricks" title="6.2.&nbsp;&#23545;&#35937;&#23450;&#20041;&#30340;&#30465;&#26102;&#20915;&#31373;">object tricks</a> or display purposes in the <a class="link" href="#cgis" title="7.4.&nbsp;&#20851;&#20110;CGI&#31243;&#24207;&#27169;&#22359;&#30340;&#20449;&#24687;">CGIs</a>. </p><p>&#23450;&#20041;&#26684;&#24335;&#65306;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3>&#26631;&#35760;&#20102;<sup>(*)</sup>&#30340;&#22495;&#26159;&#24517;&#22791;&#30340;&#32780;&#40657;&#33394;&#26159;&#21487;&#36873;&#30340;&#12290;</div><pre class="programlisting"><p>define servicegroup{       
		servicegroup_name       <span class="strong"><strong>servicegroup_name<sup>(*)</sup></strong></span>      
		alias       <span class="strong"><strong>alias<sup>(*)</sup></strong></span>      
		members       <span class="strong"><strong>services</strong></span>     
		servicegroup_members       <span class="strong"><strong>servicegroups</strong></span>    
		notes       <span class="strong"><strong>note_string</strong></span>      
		notes_url       <span class="strong"><strong>url</strong></span>      
		action_url       <span class="strong"><strong>url</strong></span>    
		...     
    		}</p></pre><p>&#23450;&#20041;&#26679;&#20363;&#65306;</p><pre class="programlisting"><p>define servicegroup{
		servicegroup_name	dbservices
		alias			Database Services
		members			ms1,SQL Server,ms1,SQL Server Agent,ms1,SQL DTC
		}</p></pre><p>&#22495;&#25551;&#36848;&#65306;</p><p>  <span class="bold"><strong>servicegroup_name</strong></span>:       This directive is used to define a short name used to identify the service group.        </p><p>    <span class="bold"><strong>alias</strong></span>:       This directive is used to define is a longer name or description used to identify the service group. It is provided in order to allow you to more easily identify a particular service group.        </p><p>    <span class="bold"><strong>members</strong></span>:       This is a list of the <span class="strong"><strong>descriptions</strong></span> of <a class="link" href="#objectdefinitions_service">service</a> (and the names of their corresponding hosts) that should be included in this group. Host and service names should be separated by commas. This directive may be used as an alternative to the <span class="strong"><strong>servicegroups</strong></span> directive in <a class="link" href="#objectdefinitions_service">service definitions</a>. The format of the member directive is as follows (note that a host name must precede a service name/description):  members=&lt;host1&gt;,&lt;service1&gt;,&lt;host2&gt;,&lt;service2&gt;,...,&lt;host<span class="strong"><strong>n</strong></span>&gt;,&lt;service<span class="strong"><strong>n</strong></span>&gt; </p><p>    <span class="bold"><strong>servicegroup_members</strong></span>:       This optional directive can be used to include services from other "sub" service groups in this service group. Specify a comma-delimited list of short names of other service groups whose members should be included in this group.        </p><p>    <span class="bold"><strong>notes</strong></span>:       This directive is used to define an optional string of notes pertaining to the service group. If you specify a note here, you will see the it in the <a class="link" href="#cgis_extinfo_cgi">extended information</a> CGI (when you are viewing information about the specified service group).        </p><p>    <span class="bold"><strong>notes_url</strong></span>:       This directive is used to define an optional URL that can be used to provide more information about the service group. If you specify an URL, you will see a red folder icon in the CGIs (when you are viewing service group information) that links to the URL you specify here. Any valid URL can be used. If you plan on using relative paths, the base path will the the same as what is used to access the CGIs (i.e. <span class="strong"><strong>/cgi-bin/nagios/</strong></span>). This can be very useful if you want to make detailed information on the service group, emergency contact methods, etc. available to other support staff.        </p><p>    <span class="bold"><strong>action_url</strong></span>:       This directive is used to define an optional URL that can be used to provide more actions to be performed on the service group. If you specify an URL, you will see a red "splat" icon in the CGIs (when you are viewing service group information) that links to the URL you specify here. Any valid URL can be used. If you plan on using relative paths, the base path will the the same as what is used to access the CGIs (i.e. <span class="strong"><strong>/cgi-bin/nagios/</strong></span>).        </p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e9007"></a>6.1.9.&nbsp;  <span class="strong"><strong>&#32852;&#31995;&#20154;&#23450;&#20041;</strong></span>       </h3></div></div></div><p>&#25551;&#36848;&#65306;</p><p> A contact definition is used to identify someone who should be contacted in the event of a problem on your network. The different arguments to a contact definition are described below. </p><p>&#23450;&#20041;&#26684;&#24335;&#65306;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3>&#26631;&#35760;&#20102;<sup>(*)</sup>&#30340;&#22495;&#26159;&#24517;&#22791;&#30340;&#32780;&#40657;&#33394;&#26159;&#21487;&#36873;&#30340;&#12290;</div><pre class="programlisting"><p>define contact{       
		contact_name       <span class="strong"><strong>contact_name<sup>(*)</sup></strong></span>      
		alias       <span class="strong"><strong>alias<sup>(*)</sup></strong></span>       
		contactgroups       <span class="strong"><strong>contactgroup_names</strong></span>       
		host_notifications_enabled       [0/1]<sup>(*)</sup>      
		service_notifications_enabled       [0/1]<sup>(*)</sup>  
		host_notification_period       <span class="strong"><strong>timeperiod_name<sup>(*)</sup></strong></span>      
		service_notification_period       <span class="strong"><strong>timeperiod_name<sup>(*)</sup></strong></span>  
		host_notification_options       [d,u,r,f,s,n]<sup>(*)</sup>       
		service_notification_options       [w,u,c,r,f,s,n]<sup>(*)</sup>      
		host_notification_commands       <span class="strong"><strong>command_name<sup>(*)</sup></strong></span>     
		service_notification_commands       <span class="strong"><strong>command_name<sup>(*)</sup></strong></span>       
		email       <span class="strong"><strong>email_address</strong></span>      
		pager       <span class="strong"><strong>pager_number or pager_email_gateway</strong></span>       
		address<span class="strong"><strong>x</strong></span>       <span class="strong"><strong>additional_contact_address</strong></span> 
		can_submit_commands       [0/1]      
		retain_status_information       [0/1]  
		retain_nonstatus_information       [0/1]
		...  
		}</p></pre><p>&#23450;&#20041;&#26679;&#20363;&#65306;</p><pre class="programlisting"><p>define contact{
		contact_name                    jdoe
		alias                           John Doe
		host_notifications_enabled		1
		service_notifications_enabled	1
		service_notification_period     24x7
		host_notification_period        24x7
		service_notification_options    w,u,c,r
		host_notification_options       d,u,r
		service_notification_commands   notify-by-email
		host_notification_commands      host-notify-by-email
		email			jdoe@localhost.localdomain
		pager			555-5555@pagergateway.localhost.localdomain
		address1			xxxxx.xyyy@icq.com
		address2			555-555-5555
		can_submit_commands	1
		}</p></pre><p>&#22495;&#25551;&#36848;&#65306;</p><p>  <span class="bold"><strong>contact_name</strong></span>:       This directive is used to define a short name used to identify the contact. It is referenced in <a class="link" href="#objectdefinitions_contactgroup">contact group definitions</a>. Under the right circumstances, the $CONTACTNAME$ <a class="link" href="#macros" title="8.2.&nbsp;&#29702;&#35299;Nagios&#23439;&#21450;&#20854;&#24037;&#20316;&#26426;&#21046;">macro</a> will contain this value.        </p><p>    <span class="bold"><strong>alias</strong></span>:       This directive is used to define a longer name or description for the contact. Under the rights circumstances, the $CONTACTALIAS$ <a class="link" href="#macros" title="8.2.&nbsp;&#29702;&#35299;Nagios&#23439;&#21450;&#20854;&#24037;&#20316;&#26426;&#21046;">macro</a> will contain this value.        </p><p>    <span class="bold"><strong>contactgroups</strong></span>:       This directive is used to identify the <span class="strong"><strong>short name(s)</strong></span> of the <a class="link" href="#objectdefinitions_contactgroup">contactgroup(s)</a> that the contact belongs to. Multiple contactgroups should be separated by commas. This directive may be used as an alternative to (or in addition to) using the <span class="strong"><strong>members</strong></span> directive in <a class="link" href="#objectdefinitions_contactgroup">contactgroup definitions</a>.        </p><p>    <span class="bold"><strong>host_notifications_enabled</strong></span>:       This directive is used to determine whether or not the contact will receive notifications about host problems and recoveries. Values: 0 = don't send notifications, 1 = send notifications.        </p><p>    <span class="bold"><strong>service_notifications_enabled</strong></span>:       This directive is used to determine whether or not the contact will receive notifications about service problems and recoveries. Values: 0 = don't send notifications, 1 = send notifications.        </p><p>    <span class="bold"><strong>host_notification_period</strong></span>:       This directive is used to specify the short name of the <a class="link" href="#objectdefinitions_timeperiod">time period</a> during which the contact can be notified about host problems or recoveries. You can think of this as an "on call" time for host notifications for the contact. Read the documentation on <a class="link" href="#timeperiods" title="6.6.&nbsp;&#26102;&#38388;&#21608;&#26399;">time periods</a> for more information on how this works and potential problems that may result from improper use.        </p><p>    <span class="bold"><strong>service_notification_period</strong></span>:       This directive is used to specify the short name of the <a class="link" href="#objectdefinitions_timeperiod">time period</a> during which the contact can be notified about service problems or recoveries. You can think of this as an "on call" time for service notifications for the contact. Read the documentation on <a class="link" href="#timeperiods" title="6.6.&nbsp;&#26102;&#38388;&#21608;&#26399;">time periods</a> for more information on how this works and potential problems that may result from improper use.        </p><p>    <span class="bold"><strong>host_notification_commands</strong></span>:       This directive is used to define a list of the <span class="strong"><strong>short names</strong></span> of the <a class="link" href="#objectdefinitions_command">commands</a> used to notify the contact of a <span class="strong"><strong>host</strong></span> problem or recovery. Multiple notification commands should be separated by commas. All notification commands are executed when the contact needs to be notified. The maximum amount of time that a notification command can run is controlled by the <a class="link" href="#notification_timeout" title="&#34920;&nbsp;5.79.&nbsp;&#36890;&#30693;&#36229;&#26102;">notification_timeout</a> option.        </p><p>    <span class="bold"><strong>host_notification_options</strong></span>:       This directive is used to define the host states for which notifications can be sent out to this contact. Valid options are a combination of one or more of the following: d = notify on DOWN host states, u = notify on UNREACHABLE host states, r = notify on host recoveries (UP states), f = notify when the host starts and stops <a class="link" href="#flapping" title="8.7.&nbsp;&#24863;&#30693;&#21644;&#22788;&#29702;&#29366;&#24577;&#25238;&#21160;">flapping</a>, and s = send notifications when host or service <a class="link" href="#downtime" title="6.5.&nbsp;&#35745;&#21010;&#20572;&#26426;&#26102;&#38388;">scheduled downtime</a> starts and ends. If you specify n (none) as an option, the contact will not receive any type of host notifications.        </p><p>    <span class="bold"><strong>service_notification_options</strong></span>:       This directive is used to define the service states for which notifications can be sent out to this contact. Valid options are a combination of one or more of the following: w = notify on WARNING service states, u = notify on UNKNOWN service states, c = notify on CRITICAL service states, r = notify on service recoveries (OK states), and f = notify when the service starts and stops <a class="link" href="#flapping" title="8.7.&nbsp;&#24863;&#30693;&#21644;&#22788;&#29702;&#29366;&#24577;&#25238;&#21160;">flapping</a>. If you specify n (none) as an option, the contact will not receive any type of service notifications.        </p><p>    <span class="bold"><strong>service_notification_commands</strong></span>:       This directive is used to define a list of the <span class="strong"><strong>short names</strong></span> of the <a class="link" href="#objectdefinitions_command">commands</a> used to notify the contact of a <span class="strong"><strong>service</strong></span> problem or recovery. Multiple notification commands should be separated by commas. All notification commands are executed when the contact needs to be notified. The maximum amount of time that a notification command can run is controlled by the <a class="link" href="#notification_timeout" title="&#34920;&nbsp;5.79.&nbsp;&#36890;&#30693;&#36229;&#26102;">notification_timeout</a> option.        </p><p>    <span class="bold"><strong>email</strong></span>:       This directive is used to define an email address for the contact. Depending on how you configure your notification commands, it can be used to send out an alert email to the contact. Under the right circumstances, the $CONTACTEMAIL$ <a class="link" href="#macros" title="8.2.&nbsp;&#29702;&#35299;Nagios&#23439;&#21450;&#20854;&#24037;&#20316;&#26426;&#21046;">macro</a> will contain this value.        </p><p>    <span class="bold"><strong>pager</strong></span>:       This directive is used to define a pager number for the contact. It can also be an email address to a pager gateway (i.e. pagejoe@pagenet.com). Depending on how you configure your notification commands, it can be used to send out an alert page to the contact. Under the right circumstances, the $CONTACTPAGER$ <a class="link" href="#macros" title="8.2.&nbsp;&#29702;&#35299;Nagios&#23439;&#21450;&#20854;&#24037;&#20316;&#26426;&#21046;">macro</a> will contain this value.        </p><p>    <span class="bold"><strong>address<span class="strong"><strong>x</strong></span></strong></span>:       Address directives are used to define additional "addresses" for the contact. These addresses can be anything - cell phone numbers, instant messaging addresses, etc. Depending on how you configure your notification commands, they can be used to send out an alert o the contact. Up to six addresses can be defined using these directives (<span class="strong"><strong>address1</strong></span> through <span class="strong"><strong>address6</strong></span>). The $CONTACTADDRESS<span class="strong"><strong>x</strong></span>$ <a class="link" href="#macros" title="8.2.&nbsp;&#29702;&#35299;Nagios&#23439;&#21450;&#20854;&#24037;&#20316;&#26426;&#21046;">macro</a> will contain this value.        </p><p>    <span class="bold"><strong>can_submit_commands</strong></span>:       This directive is used to determine whether or not the contact can submit <a class="link" href="#extcommands" title="6.9.&nbsp;&#22806;&#37096;&#21629;&#20196;">external commands</a> to Nagios from the CGIs. Values: 0 = don't allow contact to submit commands, 1 = allow contact to submit commands.        </p><p>    <span class="bold"><strong>retain_status_information</strong></span>:       This directive is used to determine whether or not status-related information about the contact is retained across program restarts. This is only useful if you have enabled state retention using the <a class="link" href="#retain_state_information" title="&#34920;&nbsp;5.26.&nbsp;&#29366;&#24577;&#20445;&#25345;&#36873;&#39033;">retain_state_information</a> directive. Value: 0 = disable status information retention, 1 = enable status information retention.        </p><p>    <span class="bold"><strong>retain_nonstatus_information</strong></span>:       This directive is used to determine whether or not non-status information about the contact is retained across program restarts. This is only useful if you have enabled state retention using the <a class="link" href="#retain_state_information" title="&#34920;&nbsp;5.26.&nbsp;&#29366;&#24577;&#20445;&#25345;&#36873;&#39033;">retain_state_information</a> directive. Value: 0 = disable non-status information retention, 1 = enable non-status information retention.        </p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e9272"></a>6.1.10.&nbsp;  <span class="strong"><strong>&#32852;&#31995;&#20154;&#32452;&#23450;&#20041;</strong></span>       </h3></div></div></div><p>&#25551;&#36848;&#65306;</p><p> A contact group definition is used to group one or more <a class="link" href="#objectdefinitions_contact">contacts</a> together for the purpose of sending out alert/recovery <a class="link" href="#notifications" title="6.7.&nbsp;&#36890;&#30693;">notifications</a>. </p><p>&#23450;&#20041;&#26684;&#24335;&#65306;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3>&#26631;&#35760;&#20102;<sup>(*)</sup>&#30340;&#22495;&#26159;&#24517;&#22791;&#30340;&#32780;&#40657;&#33394;&#26159;&#21487;&#36873;&#30340;&#12290;</div><pre class="programlisting"><p>define contactgroup{ 
		contactgroup_name       <span class="strong"><strong>contactgroup_name<sup>(*)</sup></strong></span> 
		alias       <span class="strong"><strong>alias<sup>(*)</sup></strong></span> 
		members       <span class="strong"><strong>contacts<sup>(*)</sup></strong></span> 
		contactgroup_members       <span class="strong"><strong>contactgroups</strong></span> 
		... 
		}</p></pre><p>&#23450;&#20041;&#26679;&#20363;&#65306;</p><pre class="programlisting"><p>define contactgroup{
		contactgroup_name		novell-admins
		alias			Novell Administrators
		members			jdoe,rtobert,tzach
		}</p></pre><p>&#22495;&#25551;&#36848;&#65306;</p><p>  <span class="bold"><strong>contactgroup_name</strong></span>:       This directive is a short name used to identify the contact group.        </p><p>    <span class="bold"><strong>alias</strong></span>:       This directive is used to define a longer name or description used to identify the contact group.        </p><p>    <span class="bold"><strong>members</strong></span>:       This directive is used to define a list of the <span class="strong"><strong>short names</strong></span> of <a class="link" href="#objectdefinitions_contact">contacts</a>  that should be included in this group. Multiple contact names should be separated by commas. This directive may be used as an alternative to (or in addition to) using the <span class="strong"><strong>contactgroups</strong></span> directive in <a class="link" href="#objectdefinitions_contact">contact definitions</a>.        </p><p>    <span class="bold"><strong>contactgroup_members</strong></span>:       This optional directive can be used to include contacts from other "sub" contact groups in this contact group. Specify a comma-delimited list of short names of other contact groups whose members should be included in this group.        </p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e9356"></a>6.1.11.&nbsp;  <span class="strong"><strong>&#26102;&#38388;&#21608;&#26399;&#23450;&#20041;</strong></span>       </h3></div></div></div><p>&#25551;&#36848;&#65306;</p><p> A time period is a list of times during various days that are considered to be "valid" times for notifications and service checks. It consists of time ranges for each day of the week that "rotate" once the week has come to an end. Different types of exceptions to the normal weekly time are supported, including: specific weekdays, days of generic months, days of specific months, and calendar dates. </p><p>&#23450;&#20041;&#26684;&#24335;&#65306;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3>&#26631;&#35760;&#20102;<sup>(*)</sup>&#30340;&#22495;&#26159;&#24517;&#22791;&#30340;&#32780;&#40657;&#33394;&#26159;&#21487;&#36873;&#30340;&#12290;</div><pre class="programlisting"><p>define timeperiod{       
		timeperiod_name       <span class="strong"><strong>timeperiod_name<sup>(*)</sup></strong></span> 
		alias       <span class="strong"><strong>alias<sup>(*)</sup></strong></span> 
		[weekday]       <span class="strong"><strong>timeranges</strong></span> 
		[exception]       <span class="strong"><strong>timeranges</strong></span> 
		exclude       [<span class="strong"><strong>timeperiod1,timeperiod2,...,timeperiodn</strong></span>] 
		... 
		}</p></pre><p>&#23450;&#20041;&#26679;&#20363;&#65306;</p><pre class="programlisting"><p>define timeperiod{
		timeperiod_name		nonworkhours
		alias			Non-Work Hours
		sunday			00:00-24:00			; Every Sunday of every week
		monday			00:00-09:00,17:00-24:00		; Every Monday of every week
		tuesday			00:00-09:00,17:00-24:00		; Every Tuesday of every week
		wednesday			00:00-09:00,17:00-24:00		; Every Wednesday of every week
		thursday			00:00-09:00,17:00-24:00		; Every Thursday of every week
		friday			00:00-09:00,17:00-24:00		; Every Friday of every week
		saturday			00:00-24:00			; Every Saturday of every week
		}

define timeperiod{
		timeperiod_name		misc-single-days
		alias			Misc Single Days
		1999-01-28		00:00-24:00 		; January 28th, 1999
		monday 3			00:00-24:00		; 3rd Monday of every month
		day 2			00:00-24:00		; 2nd day of every month
		february 10		00:00-24:00		; February 10th of every year
		february -1		00:00-24:00		; Last day in February of every year
		friday -2			00:00-24:00		; 2nd to last Friday of every month
		thursday -1 november	00:00-24:00		; Last Thursday in November of every year
		}

define timeperiod{
		timeperiod_name		misc-date-ranges
		alias			Misc Date Ranges
		2007-01-01 - 2008-02-01	00:00-24:00		; January 1st, 2007 to February 1st, 2008
		monday 3 - thursday 4	00:00-24:00		; 3rd Monday to 4th Thursday of every month
		day 1 - 15		00:00-24:00		; 1st to 15th day of every month
		day 20 - -1		00:00-24:00		; 20th to the last day of every month
		july 10 - 15		00:00-24:00		; July 10th to July 15th of every year
		april 10 - may 15		00:00-24:00		; April 10th to May 15th of every year
		tuesday 1 april - friday 2 may	00:00-24:00	; 1st Tuesday in April to 2nd Friday in May of every year
		}

define timeperiod{
		timeperiod_name		misc-skip-ranges
		alias			Misc Skip Ranges
		2007-01-01 - 2008-02-01 / 3		00:00-24:00	; Every 3 days from January 1st, 2007 to February 1st, 2008
		2008-04-01 / 7			00:00-24:00	; Every 7 days from April 1st, 2008 (continuing forever)
		monday 3 - thursday 4 / 2		00:00-24:00	; Every other day from 3rd Monday to 4th Thursday of every month
		day 1 - 15 / 5			00:00-24:00	; Every 5 days from the 1st to the 15th day of every month
		july 10 - 15 / 2			00:00-24:00	; Every other day from July 10th to July 15th of every year
		tuesday 1 april - friday 2 may / 6	00:00-24:00	; Every 6 days from the 1st Tuesday in April to the 2nd Friday in May of every year
		}</p></pre><p>&#22495;&#25551;&#36848;&#65306;</p><p>  <span class="bold"><strong>timeperiod_name</strong></span>:       This directives is the short name used to identify the time period.        </p><p>    <span class="bold"><strong>alias</strong></span>:       This directive is a longer name or description used to identify the time period.        </p><p>    <span class="bold"><strong>[<span class="strong"><strong>weekday</strong></span>]</strong></span>:       The weekday directives ("<span class="strong"><strong>sunday</strong></span>" through "<span class="strong"><strong>saturday</strong></span>")are comma-delimited lists of time ranges that are "valid" times for a particular day of the week. Notice that there are seven different days for which you can define time ranges (Sunday through Saturday). Each time range is in the form of HH:MM-HH:MM, where hours are specified on a 24 hour clock. For programlisting, 00:15-24:00 means 12:15am in the morning for this day until 12:20am midnight (a 23 hour, 45 minute total time range). If you wish to exclude an entire day from the timeperiod, simply do not include it in the timeperiod definition.        </p><p>    <span class="bold"><strong>[<span class="strong"><strong>exception</strong></span>]</strong></span>:       You can specify several different types of exceptions to the standard rotating weekday schedule. Exceptions can take a number of different forms including single days of a specific or generic month, single weekdays in a month, or single calendar dates. You can also specify a range of days/dates and even specify skip intervals to obtain functionality described by "every 3 days between these dates". Rather than list all the possible formats for exception strings, I'll let you look at the programlisting timeperiod definitions above to see what's possible. :-) Weekdays and different types of exceptions all have different levels of precedence, so its important to understand how they can affect each other. More information on this can be found in the documentation on <a class="link" href="#timeperiods" title="6.6.&nbsp;&#26102;&#38388;&#21608;&#26399;">timeperiods</a>.       </p><p>    <span class="bold"><strong>exclude</strong></span>:       This directive is used to specify the short names of other timeperiod definitions whose time ranges should be excluded from this timeperiod. Multiple timeperiod names should be separated with a comma.        </p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e9443"></a>6.1.12.&nbsp;  <span class="strong"><strong>&#21629;&#20196;&#23450;&#20041;</strong></span>       </h3></div></div></div><p>&#25551;&#36848;&#65306;</p><p> A command definition is just that. It defines a command. Commands that can be defined include service checks, service notifications, service event handlers, host checks, host notifications, and host event handlers. Command definitions can contain <a class="link" href="#macros" title="8.2.&nbsp;&#29702;&#35299;Nagios&#23439;&#21450;&#20854;&#24037;&#20316;&#26426;&#21046;">macros</a>, but you must make sure that you include only those macros that are "valid" for the circumstances when the command will be used. More information on what macros are available and when they are "valid" can be found <a class="link" href="#macros" title="8.2.&nbsp;&#29702;&#35299;Nagios&#23439;&#21450;&#20854;&#24037;&#20316;&#26426;&#21046;">here</a>. The different arguments to a command definition are outlined below. </p><p>&#23450;&#20041;&#26684;&#24335;&#65306;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3>&#26631;&#35760;&#20102;<sup>(*)</sup>&#30340;&#22495;&#26159;&#24517;&#22791;&#30340;&#32780;&#40657;&#33394;&#26159;&#21487;&#36873;&#30340;&#12290;</div><pre class="programlisting"><p>define command{ 
		command_name       <span class="strong"><strong>command_name<sup>(*)</sup></strong></span> 
		command_line       <span class="strong"><strong>command_line<sup>(*)</sup></strong></span> 
		...       
		}</p></pre><p>&#23450;&#20041;&#26679;&#20363;&#65306;</p><pre class="programlisting"><p>define command{
		command_name	check_pop
		command_line	/usr/local/nagios/libexec/check_pop -H $HOSTADDRESS$	
		}</p></pre><p>&#22495;&#25551;&#36848;&#65306;</p><p>  <span class="bold"><strong>command_name</strong></span>:       This directive is the short name used to identify the command. It is referenced in <a class="link" href="#objectdefinitions_contact">contact</a>, <a class="link" href="#objectdefinitions_host">host</a>, and <a class="link" href="#objectdefinitions_service">service definitions</a> (in notification, check, and event handler directives), among other places.        </p><p>    <span class="bold"><strong>command_line</strong></span>:        This directive is used to define what is actually executed by Nagios when the command is used for service or host checks, notifications, or <a class="link" href="#eventhandlers" title="6.8.&nbsp;&#20107;&#20214;&#22788;&#29702;">event handlers</a>. Before the command line is executed, all valid <a class="link" href="#macros" title="8.2.&nbsp;&#29702;&#35299;Nagios&#23439;&#21450;&#20854;&#24037;&#20316;&#26426;&#21046;">macros</a> are replaced with their respective values. See the documentation on macros for determining when you can use different macros. Note that the command line is <span class="strong"><strong>not</strong></span> surrounded in quotes. Also, if you want to pass a dollar sign ($) on the command line, you have to escape it with another dollar sign. <span class="bold"><strong>NOTE</strong></span>: You may not include a semicolon (;) in the <span class="strong"><strong>command_line</strong></span> directive, because everything after it will be ignored as a config file comment. You can work around this limitation by setting one of the <a class="link" href="#macrolist_USER">$USER$</a> macros in your <a class="link" href="#resource_file" title="&#34920;&nbsp;5.6.&nbsp;&#36164;&#28304;&#25991;&#20214;">resource file</a> to a semicolon and then referencing the appropriate $USER$ macro in the <span class="strong"><strong>command_line</strong></span> directive in place of the semicolon. you want to pass arguments to commands during runtime, you can use <a class="link" href="#macrolist_ARG">$ARGn$</a> macros in the <span class="strong"><strong>command_line</strong></span> directive of the command definition and then separate individual arguments from the command name (and from each other) using bang (!) characters in the object definition directive (host check command, service event handler command, etc) that references the command. More information on how arguments in command definitions are processed during runtime can be found in the documentation on <a class="link" href="#macros" title="8.2.&nbsp;&#29702;&#35299;Nagios&#23439;&#21450;&#20854;&#24037;&#20316;&#26426;&#21046;">macros</a>.        </p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e9539"></a>6.1.13.&nbsp;  <span class="strong"><strong>&#26381;&#21153;&#20381;&#36182;&#23450;&#20041;</strong></span></h3></div></div></div><p>&#25551;&#36848;&#65306;</p><p> Service dependencies are an advanced feature of Nagios that allow you to suppress notifications and active checks of services based on the status of one or more other services. Service dependencies are optional and are mainly targeted at advanced users who have complicated monitoring setups. More information on how service dependencies work (read this!) can be found <a class="link" href="#dependencies" title="8.11.&nbsp;&#20027;&#26426;&#38388;&#19982;&#26381;&#21153;&#38388;&#20381;&#36182;&#20851;&#31995;">here</a>. </p><p>&#23450;&#20041;&#26684;&#24335;&#65306;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3>&#26631;&#35760;&#20102;<sup>(*)</sup>&#30340;&#22495;&#26159;&#24517;&#22791;&#30340;&#32780;&#40657;&#33394;&#26159;&#21487;&#36873;&#30340;&#12290;&#28982;&#32780;&#20320;&#26368;&#23569;&#35201;&#22312;&#23450;&#20041;&#20013;&#32473;&#23450;&#20986;&#19968;&#31181;&#20351;&#29992;&#31867;&#22411;&#26631;&#20934;&#12290;</div><pre class="programlisting"><p>define servicedependency{ 
			dependent_host_name       <span class="strong"><strong>host_name<sup>(*)</sup></strong></span> 
			dependent_hostgroup_name       <span class="strong"><strong>hostgroup_name</strong></span> 
			dependent_service_description       <span class="strong"><strong>service_description<sup>(*)</sup></strong></span> 
			host_name       <span class="strong"><strong>host_name<sup>(*)</sup></strong></span> 
			hostgroup_name       <span class="strong"><strong>hostgroup_name</strong></span> 
			service_description       <span class="strong"><strong>service_description<sup>(*)</sup></strong></span> 
			inherits_parent       [0/1] 
			execution_failure_criteria       [o,w,u,c,p,n] 
			notification_failure_criteria       [o,w,u,c,p,n] 
			dependency_period       timeperiod_name 
			...
			}</p></pre><p>&#23450;&#20041;&#26679;&#20363;&#65306;</p><pre class="programlisting"><p>define servicedependency{
			host_name			WWW1
			service_description		Apache Web Server
			dependent_host_name		WWW1
			dependent_service_description	Main Web Site
			execution_failure_criteria	n
			notification_failure_criteria	w,u,c
			}</p></pre><p>&#22495;&#25551;&#36848;&#65306;</p><p>  <span class="bold"><strong>dependent_host</strong></span>:       This directive is used to identify the <span class="strong"><strong>short name(s)</strong></span> of the <a class="link" href="#objectdefinitions_host">host(s)</a> that the <span class="strong"><strong>dependent</strong></span> service "runs" on or is associated with. Multiple hosts should be separated by commas. Leaving is directive blank can be used to create <a class="link" href="#same_host_dependency">"same host" dependencies</a>.        </p><p>    <span class="bold"><strong>dependent_hostgroup</strong></span>:       This directive is used to specify the <span class="strong"><strong>short name(s)</strong></span> of the <a class="link" href="#objectdefinitions_hostgroup">hostgroup(s)</a> that the <span class="strong"><strong>dependent</strong></span> service "runs" on or is associated with. Multiple hostgroups should be separated by commas. The dependent_hostgroup may be used instead of, or in addition to, the dependent_host directive.        </p><p>    <span class="bold"><strong>dependent_service_description</strong></span>:       This directive is used to identify the <span class="strong"><strong>description</strong></span> of the <span class="strong"><strong>dependent</strong></span><a class="link" href="#objectdefinitions_service">service</a>.        </p><p>    <span class="bold"><strong>host_name</strong></span>:       This directive is used to identify the <span class="strong"><strong>short name(s)</strong></span> of the <a class="link" href="#objectdefinitions_host">host(s)</a> that the service <span class="strong"><strong>that is being depended upon</strong></span> (also referred to as the master service) "runs" on or is associated with. Multiple hosts should be separated by commas.        </p><p>    <span class="bold"><strong>hostgroup_name</strong></span>:       This directive is used to identify the <span class="strong"><strong>short name(s)</strong></span> of the <a class="link" href="#objectdefinitions_hostgroup">hostgroup(s)</a> that the service <span class="strong"><strong>that is being depended upon</strong></span> (also referred to as the master service) "runs" on or is associated with. Multiple hostgroups should be separated by commas. The hostgroup_name may be used instead of, or in addition to, the host_name directive.        </p><p>    <span class="bold"><strong>service_description</strong></span>:       This directive is used to identify the <span class="strong"><strong>description</strong></span> of the <a class="link" href="#objectdefinitions_service">service</a><span class="strong"><strong>that is being depended upon</strong></span> (also referred to as the master service).        </p><p>    <span class="bold"><strong>inherits_parent</strong></span>:       This directive indicates whether or not the dependency inherits dependencies of the service <span class="strong"><strong>that is being depended upon</strong></span> (also referred to as the master service). In other words, if the master service is dependent upon other services and any one of those dependencies fail, this dependency will also fail.        </p><p>    <span class="bold"><strong>execution_failure_criteria</strong></span>:       This directive is used to specify the criteria that determine when the dependent service should <span class="strong"><strong>not</strong></span> be actively checked. If the <span class="strong"><strong>master</strong></span> service is in one of the failure states we specify, the <span class="strong"><strong>dependent</strong></span> service will not be actively checked. Valid options are a combination of one or more of the following (multiple options are separated with commas): o = fail on an OK state, w = fail on a WARNING state, u = fail on an UNKNOWN state, c = fail on a CRITICAL state, and p = fail on a pending state (e.g. the service has not yet been checked). If you specify n (none) as an option, the execution dependency will never fail and checks of the dependent service will always be actively checked (if other conditions allow for it to be). Example: If you specify o,c,u in this field, the <span class="strong"><strong>dependent</strong></span> service will not be actively checked if the <span class="strong"><strong>master</strong></span> service is in either an OK, a CRITICAL, or an UNKNOWN state.        </p><p>    <span class="bold"><strong>notification_failure_criteria</strong></span>:       This directive is used to define the criteria that determine when notifications for the dependent service should <span class="strong"><strong>not</strong></span> be sent out. If the <span class="strong"><strong>master</strong></span> service is in one of the failure states we specify, notifications for the <span class="strong"><strong>dependent</strong></span> service will not be sent to contacts. Valid options are a combination of one or more of the following: o = fail on an OK state, w = fail on a WARNING state, u = fail on an UNKNOWN state, c = fail on a CRITICAL state, and p = fail on a pending state (e.g. the service has not yet been checked). If you specify n (none) as an option, the notification dependency will never fail and notifications for the dependent service will always be sent out. Example: If you specify w in this field, the notifications for the <span class="strong"><strong>dependent</strong></span> service will not be sent out if the <span class="strong"><strong>master</strong></span> service is in a WARNING state.        </p><p>    <span class="bold"><strong>dependency_period</strong></span>:       This directive is used to specify the short name of the <a class="link" href="#objectdefinitions_timeperiod">time period</a> during which this dependency is valid. If this directive is not specified, the dependency is considered to be valid during all times.        </p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e9736"></a>6.1.14.&nbsp;  <span class="strong"><strong>&#26381;&#21153;&#25193;&#23637;&#23450;&#20041;</strong></span>       </h3></div></div></div><p>&#25551;&#36848;&#65306;</p><p> Service escalations are <span class="strong"><strong>completely optional</strong></span> and are used to escalate notifications for a particular service. More information on how notification escalations work can be found <a class="link" href="#escalations" title="8.9.&nbsp;&#26377;&#20851;&#36890;&#30693;&#30340;&#23545;&#35937;&#25193;&#23637;">here</a>. </p><p>&#23450;&#20041;&#26684;&#24335;&#65306;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3>&#26631;&#35760;&#20102;<sup>(*)</sup>&#30340;&#22495;&#26159;&#24517;&#22791;&#30340;&#32780;&#40657;&#33394;&#26159;&#21487;&#36873;&#30340;&#12290;</div><pre class="programlisting"><p>define serviceescalation{ 
		host_name       <span class="strong"><strong>host_name<sup>(*)</sup></strong></span> 
		hostgroup_name       <span class="strong"><strong>hostgroup_name</strong></span> 
		service_description       <span class="strong"><strong>service_description<sup>(*)</sup></strong></span> 
		contacts       <span class="strong"><strong>contacts<sup>(*)</sup></strong></span> 
		contact_groups       <span class="strong"><strong>contactgroup_name<sup>(*)</sup></strong></span> 
		first_notification       #<sup>(*)</sup> 
		last_notification       #<sup>(*)</sup> 
		notification_interval       #<sup>(*)</sup> 
		escalation_period       timeperiod_name 
		escalation_options       [w,u,c,r] 
		... 
		}</p></pre><p>&#23450;&#20041;&#26679;&#20363;&#65306;</p><pre class="programlisting"><p>define serviceescalation{
		host_name		nt-3
		service_description	Processor Load
		first_notification	4
		last_notification	0
		notification_interval	30
		contact_groups		all-nt-admins,themanagers
		}</p></pre><p>&#22495;&#25551;&#36848;&#65306;</p><p>  <span class="bold"><strong>host_name</strong></span>:       This directive is used to identify the <span class="strong"><strong>short name(s)</strong></span> of the <a class="link" href="#objectdefinitions_host">host(s)</a> that the <a class="link" href="#objectdefinitions_serviceescalation">service escalation</a> should apply to or is associated with.        </p><p>    <span class="bold"><strong>hostgroup_name</strong></span>:       This directive is used to specify the <span class="strong"><strong>short name(s)</strong></span> of the <a class="link" href="#objectdefinitions_hostgroup">hostgroup(s)</a> that the service escalation should apply to or is associated with. Multiple hostgroups should be separated by commas. The hostgroup_name may be used instead of, or in addition to, the host_name directive.        </p><p>    <span class="bold"><strong>service_description</strong></span>:       This directive is used to identify the <span class="strong"><strong>description</strong></span> of the <a class="link" href="#objectdefinitions_service">service</a> the escalation should apply to.        </p><p>    <span class="bold"><strong>first_notification</strong></span>:       This directive is a number that identifies the <span class="strong"><strong>first</strong></span> notification for which this escalation is effective. For instance, if you set this value to 3, this escalation will only be used if the service is in a non-OK state long enough for a third notification to go out.        </p><p>    <span class="bold"><strong>last_notification</strong></span>:       This directive is a number that identifies the <span class="strong"><strong>last</strong></span> notification for which this escalation is effective. For instance, if you set this value to 5, this escalation will not be used if more than five notifications are sent out for the service. Setting this value to 0 means to keep using this escalation entry forever (no matter how many notifications go out).        </p><p>    <span class="bold"><strong>contacts</strong></span>:       This is a list of the <span class="strong"><strong>short names</strong></span> of the <a class="link" href="#objectdefinitions_contact">contacts</a> that should be notified whenever there are problems (or recoveries) with this service. Multiple contacts should be separated by commas. Useful if you want notifications to go to just a few people and don't want to configure <a class="link" href="#objectdefinitions_contactgroup">contact groups</a>. You must specify at least one contact or contact group in each service escalation definition.        </p><p>    <span class="bold"><strong>contact_groups</strong></span>:       This directive is used to identify the <span class="strong"><strong>short name</strong></span> of the <a class="link" href="#objectdefinitions_contactgroup">contact group</a> that should be notified when the service notification is escalated. Multiple contact groups should be separated by commas. You must specify at least one contact or contact group in each service escalation definition.        </p><p>    <span class="bold"><strong>notification_interval</strong></span>:       This directive is used to determine the interval at which notifications should be made while this escalation is valid. If you specify a value of 0 for the interval, Nagios will send the first notification when this escalation definition is valid, but will then prevent any more problem notifications from being sent out for the host. Notifications are sent out again until the host recovers. This is useful if you want to stop having notifications sent out after a certain amount of time. Note: If multiple escalation entries for a host overlap for one or more notification ranges, the smallest notification interval from all escalation entries is used.        </p><p>    <span class="bold"><strong>escalation_period</strong></span>:       This directive is used to specify the short name of the <a class="link" href="#objectdefinitions_timeperiod">time period</a> during which this escalation is valid. If this directive is not specified, the escalation is considered to be valid during all times.        </p><p>    <span class="bold"><strong>escalation_options</strong></span>:       This directive is used to define the criteria that determine when this service escalation is used. The escalation is used only if the service is in one of the states specified in this directive. If this directive is not specified in a service escalation, the escalation is considered to be valid during all service states. Valid options are a combination of one or more of the following: r = escalate on an OK (recovery) state, w = escalate on a WARNING state, u = escalate on an UNKNOWN state, and c = escalate on a CRITICAL state. Example: If you specify w in this field, the escalation will only be used if the service is in a WARNING state.        </p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e9897"></a>6.1.15.&nbsp;  <span class="strong"><strong>&#20027;&#26426;&#20381;&#36182;&#23450;&#20041;</strong></span> </h3></div></div></div><p>&#25551;&#36848;&#65306;</p><p> Host dependencies are an advanced feature of Nagios that allow you to suppress notifications for hosts based on the status of one or more other hosts. Host dependencies are optional and are mainly targeted at advanced users who have complicated monitoring setups. More information on how host dependencies work (read this!) can be found <a class="link" href="#dependencies" title="8.11.&nbsp;&#20027;&#26426;&#38388;&#19982;&#26381;&#21153;&#38388;&#20381;&#36182;&#20851;&#31995;">here</a>. </p><p>&#23450;&#20041;&#26684;&#24335;&#65306;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3>&#26631;&#35760;&#20102;<sup>(*)</sup>&#30340;&#22495;&#26159;&#24517;&#22791;&#30340;&#32780;&#40657;&#33394;&#26159;&#21487;&#36873;&#30340;&#12290;</div><pre class="programlisting"><p>define hostdependency{ 
		dependent_host_name       <span class="strong"><strong>host_name<sup>(*)</sup></strong></span> 
		dependent_hostgroup_name       <span class="strong"><strong>hostgroup_name</strong></span> 
		host_name       <span class="strong"><strong>host_name<sup>(*)</sup></strong></span> 
		hostgroup_name       <span class="strong"><strong>hostgroup_name</strong></span> 
		inherits_parent       [0/1] 
		execution_failure_criteria       [o,d,u,p,n] 
		notification_failure_criteria       [o,d,u,p,n] 
		dependency_period       timeperiod_name 
		...  
		}</p></pre><p>&#23450;&#20041;&#26679;&#20363;&#65306;</p><pre class="programlisting"><p>define hostdependency{
		host_name			WWW1
		dependent_host_name		DBASE1
		notification_failure_criteria	d,u
		}</p></pre><p>&#22495;&#25551;&#36848;&#65306;</p><p>  <span class="bold"><strong>dependent_host_name</strong></span>:       This directive is used to identify the <span class="strong"><strong>short name(s)</strong></span> of the <span class="strong"><strong>dependent</strong></span><a class="link" href="#objectdefinitions_host">host(s)</a>. Multiple hosts should be separated by commas.        </p><p>    <span class="bold"><strong>dependent_hostgroup_name</strong></span>:       This directive is used to identify the <span class="strong"><strong>short name(s)</strong></span> of the <span class="strong"><strong>dependent</strong></span><a class="link" href="#objectdefinitions_hostgroup">hostgroup(s)</a>. Multiple hostgroups should be separated by commas. The dependent_hostgroup_name may be used instead of, or in addition to, the dependent_host_name directive.        </p><p>    <span class="bold"><strong>host_name</strong></span>:       This directive is used to identify the <span class="strong"><strong>short name(s)</strong></span> of the <a class="link" href="#objectdefinitions_host">host(s)</a><span class="strong"><strong>that is being depended upon</strong></span> (also referred to as the master host). Multiple hosts should be separated by commas.        </p><p>    <span class="bold"><strong>hostgroup_name</strong></span>:       This directive is used to identify the <span class="strong"><strong>short name(s)</strong></span> of the <a class="link" href="#objectdefinitions_hostgroup">hostgroup(s)</a><span class="strong"><strong>that is being depended upon</strong></span> (also referred to as the master host). Multiple hostgroups should be separated by commas. The hostgroup_name may be used instead of, or in addition to, the host_name directive.        </p><p>    <span class="bold"><strong>inherits_parent</strong></span>:       This directive indicates whether or not the dependency inherits dependencies of the host <span class="strong"><strong>that is being depended upon</strong></span> (also referred to as the master host). In other words, if the master host is dependent upon other hosts and any one of those dependencies fail, this dependency will also fail.        </p><p>    <span class="bold"><strong>execution_failure_criteria</strong></span>:       This directive is used to specify the criteria that determine when the dependent host should <span class="strong"><strong>not</strong></span> be actively checked. If the <span class="strong"><strong>master</strong></span> host is in one of the failure states we specify, the <span class="strong"><strong>dependent</strong></span> host will not be actively checked. Valid options are a combination of one or more of the following (multiple options are separated with commas): o = fail on an UP state, d = fail on a DOWN state, u = fail on an UNREACHABLE state, and p = fail on a pending state (e.g. the host has not yet been checked). If you specify n (none) as an option, the execution dependency will never fail and the dependent host will always be actively checked (if other conditions allow for it to be). Example: If you specify u,d in this field, the <span class="strong"><strong>dependent</strong></span> host will not be actively checked if the <span class="strong"><strong>master</strong></span> host is in either an UNREACHABLE or DOWN state.        </p><p>    <span class="bold"><strong>notification_failure_criteria</strong></span>:       This directive is used to define the criteria that determine when notifications for the dependent host should <span class="strong"><strong>not</strong></span> be sent out. If the <span class="strong"><strong>master</strong></span> host is in one of the failure states we specify, notifications for the <span class="strong"><strong>dependent</strong></span> host will not be sent to contacts. Valid options are a combination of one or more of the following: o = fail on an UP state, d = fail on a DOWN state, u = fail on an UNREACHABLE state, and p = fail on a pending state (e.g. the host has not yet been checked). If you specify n (none) as an option, the notification dependency will never fail and notifications for the dependent host will always be sent out. Example: If you specify d in this field, the notifications for the <span class="strong"><strong>dependent</strong></span> host will not be sent out if the <span class="strong"><strong>master</strong></span> host is in a DOWN state.        </p><p>    <span class="bold"><strong>dependency_period</strong></span>:       This directive is used to specify the short name of the <a class="link" href="#objectdefinitions_timeperiod">time period</a> during which this dependency is valid. If this directive is not specified, the dependency is considered to be valid during all times. </p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e10052"></a>6.1.16.&nbsp;  <span class="strong"><strong>&#20027;&#26426;&#25193;&#23637;&#23450;&#20041;</strong></span> </h3></div></div></div><p>&#25551;&#36848;&#65306;</p><p> Host escalations are <span class="strong"><strong>completely optional</strong></span> and are used to escalate notifications for a particular host. More information on how notification escalations work can be found <a class="link" href="#escalations" title="8.9.&nbsp;&#26377;&#20851;&#36890;&#30693;&#30340;&#23545;&#35937;&#25193;&#23637;">here</a>. </p><p>&#23450;&#20041;&#26684;&#24335;&#65306;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3>&#26631;&#35760;&#20102;<sup>(*)</sup>&#30340;&#22495;&#26159;&#24517;&#22791;&#30340;&#32780;&#40657;&#33394;&#26159;&#21487;&#36873;&#30340;&#12290;</div><pre class="programlisting"><p>define hostescalation{ 
		host_name       <span class="strong"><strong>host_name<sup>(*)</sup></strong></span> 
		hostgroup_name       <span class="strong"><strong>hostgroup_name</strong></span> 
		contacts       <span class="strong"><strong>contacts<sup>(*)</sup></strong></span> 
		contact_groups       <span class="strong"><strong>contactgroup_name<sup>(*)</sup></strong></span> 
		first_notification       #<sup>(*)</sup> 
		last_notification       #<sup>(*)</sup> 
		notification_interval       #<sup>(*)</sup> 
		escalation_period       timeperiod_name 
		escalation_options       [d,u,r] 
		... 
		}</p></pre><p>&#23450;&#20041;&#26679;&#20363;&#65306;</p><pre class="programlisting"><p>define hostescalation{
		host_name		router-34
		first_notification	5
		last_notification	8
		notification_interval	60
		contact_groups		all-router-admins
		}</p></pre><p>&#22495;&#25551;&#36848;&#65306;</p><p>  <span class="bold"><strong>host_name</strong></span>:       This directive is used to identify the <span class="strong"><strong>short name</strong></span> of the <a class="link" href="#objectdefinitions_host">host</a> that the escalation should apply to.        </p><p>    <span class="bold"><strong>hostgroup_name</strong></span>:       This directive is used to identify the <span class="strong"><strong>short name(s)</strong></span> of the <a class="link" href="#objectdefinitions_hostgroup">hostgroup(s)</a> that the escalation should apply to. Multiple hostgroups should be separated by commas. If this is used, the escalation will apply to all hosts that are members of the specified hostgroup(s).        </p><p>    <span class="bold"><strong>first_notification</strong></span>:       This directive is a number that identifies the <span class="strong"><strong>first</strong></span> notification for which this escalation is effective. For instance, if you set this value to 3, this escalation will only be used if the host is down or unreachable long enough for a third notification to go out.        </p><p>    <span class="bold"><strong>last_notification</strong></span>:       This directive is a number that identifies the <span class="strong"><strong>last</strong></span> notification for which this escalation is effective. For instance, if you set this value to 5, this escalation will not be used if more than five notifications are sent out for the host. Setting this value to 0 means to keep using this escalation entry forever (no matter how many notifications go out).        </p><p>    <span class="bold"><strong>contacts</strong></span>:       This is a list of the <span class="strong"><strong>short names</strong></span> of the <a class="link" href="#objectdefinitions_contact">contacts</a> that should be notified whenever there are problems (or recoveries) with this host. Multiple contacts should be separated by commas. Useful if you want notifications to go to just a few people and don't want to configure <a class="link" href="#objectdefinitions_contactgroup">contact groups</a>. You must specify at least one contact or contact group in each host escalation definition.        </p><p>    <span class="bold"><strong>contact_groups</strong></span>:       This directive is used to identify the <span class="strong"><strong>short name</strong></span> of the <a class="link" href="#objectdefinitions_contactgroup">contact group</a> that should be notified when the host notification is escalated. Multiple contact groups should be separated by commas. You must specify at least one contact or contact group in each host escalation definition.        </p><p>    <span class="bold"><strong>notification_interval</strong></span>:       This directive is used to determine the interval at which notifications should be made while this escalation is valid. If you specify a value of 0 for the interval, Nagios will send the first notification when this escalation definition is valid, but will then prevent any more problem notifications from being sent out for the host. Notifications are sent out again until the host recovers. This is useful if you want to stop having notifications sent out after a certain amount of time. Note: If multiple escalation entries for a host overlap for one or more notification ranges, the smallest notification interval from all escalation entries is used.        </p><p>    <span class="bold"><strong>escalation_period</strong></span>:       This directive is used to specify the short name of the <a class="link" href="#objectdefinitions_timeperiod">time period</a> during which this escalation is valid. If this directive is not specified, the escalation is considered to be valid during all times.        </p><p>    <span class="bold"><strong>escalation_options</strong></span>:       This directive is used to define the criteria that determine when this host escalation is used. The escalation is used only if the host is in one of the states specified in this directive. If this directive is not specified in a host escalation, the escalation is considered to be valid during all host states. Valid options are a combination of one or more of the following: r = escalate on an UP (recovery) state, d = escalate on a DOWN state, and u = escalate on an UNREACHABLE state. Example: If you specify d in this field, the escalation will only be used if the host is in a DOWN state.</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e10194"></a>6.1.17.&nbsp;  <span class="strong"><strong>&#39069;&#22806;&#20027;&#26426;&#20449;&#24687;&#23450;&#20041;</strong></span>  </h3></div></div></div><p>&#25551;&#36848;&#65306;</p><p> Extended host information entries are basically used to make the output from the <a class="link" href="#cgis_status_cgi">status</a>, <a class="link" href="#cgis_statusmap_cgi">statusmap</a>, <a class="link" href="#cgis_statuswrl_cgi">statuswrl</a>, and <a class="link" href="#cgis_extinfo_cgi">extinfo</a> CGIs look pretty. They have no effect on monitoring and are completely optional. </p><div><img src="../pub/images/tip.gif"></div><p> Tip: As of Nagios 3.x, all directives contained in extended host information definitions are also available in <a class="link" href="#objectdefinitions_host">host definitions</a>. Thus, you can choose to define the directives below in your host definitions if it makes your configuration simpler. Separate extended host information definitions will continue to be supported for backward compatability. </p><p>&#23450;&#20041;&#26684;&#24335;&#65306;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3>&#26631;&#35760;&#20102;<sup>(*)</sup>&#30340;&#22495;&#26159;&#24517;&#22791;&#30340;&#32780;&#40657;&#33394;&#26159;&#21487;&#36873;&#30340;&#12290;&#28982;&#32780;&#20320;&#22312;&#23450;&#20041;&#37324;&#33267;&#23569;&#35201;&#25552;&#20379;&#19968;&#31181;&#21487;&#36873;&#22495;&#20197;&#20351;&#20854;&#26377;&#29992;&#12290;</div><pre class="programlisting"><p>define hostextinfo{ 
		host_name       <span class="strong"><strong>host_name<sup>(*)</sup></strong></span> 
		notes       <span class="strong"><strong>note_string</strong></span> 
		notes_url       <span class="strong"><strong>url</strong></span> 
		action_url       <span class="strong"><strong>url</strong></span> 
		icon_image       <span class="strong"><strong>image_file</strong></span> 
		icon_image_alt       <span class="strong"><strong>alt_string</strong></span> 
		vrml_image       <span class="strong"><strong>image_file</strong></span> 
		statusmap_image       <span class="strong"><strong>image_file</strong></span> 
		2d_coords       <span class="strong"><strong>x_coord,y_coord</strong></span> 
		3d_coords       <span class="strong"><strong>x_coord,y_coord,z_coord</strong></span> 
		... 
		}</p></pre><p>&#23450;&#20041;&#26679;&#20363;&#65306;</p><pre class="programlisting"><p>define hostextinfo{
		host_name	netware1
		notes		This is the primary Netware file server
		notes_url	http://webserver.localhost.localdomain/hostinfo.pl?host=netware1
		icon_image	novell40.png 
		icon_image_alt	IntranetWare 4.11
		vrml_image	novell40.png
		statusmap_image	novell40.gd2
		2d_coords	100,250
		3d_coords	100.0,50.0,75.0
		}</p></pre><p>Variable Descriptions:</p><p>  <span class="bold"><strong>host_name</strong></span>:       This variable is used to identify the <span class="strong"><strong>short name</strong></span> of the <a class="link" href="#objectdefinitions_host">host</a> which the data is associated with.        </p><p>    <span class="bold"><strong>notes</strong></span>:       This directive is used to define an optional string of notes pertaining to the host. If you specify a note here, you will see the it in the <a class="link" href="#cgis_extinfo_cgi">extended information</a> CGI (when you are viewing information about the specified host).        </p><p>    <span class="bold"><strong>notes_url</strong></span>:       This variable is used to define an optional URL that can be used to provide more information about the host. If you specify an URL, you will see a link that says "Extra Host Notes" in the <a class="link" href="#cgis_extinfo_cgi">extended information</a> CGI (when you are viewing information about the specified host). Any valid URL can be used. If you plan on using relative paths, the base path will the the same as what is used to access the CGIs (i.e. <span class="strong"><strong>/cgi-bin/nagios/</strong></span>). This can be very useful if you want to make detailed information on the host, emergency contact methods, etc. available to other support staff.        </p><p>    <span class="bold"><strong>action_url</strong></span>:       This directive is used to define an optional URL that can be used to provide more actions to be performed on the host. If you specify an URL, you will see a link that says "Extra Host Actions" in the <a class="link" href="#cgis_extinfo_cgi">extended information</a> CGI (when you are viewing information about the specified host). Any valid URL can be used. If you plan on using relative paths, the base path will the the same as what is used to access the CGIs (i.e. <span class="strong"><strong>/cgi-bin/nagios/</strong></span>).        </p><p>    <span class="bold"><strong>icon_image</strong></span>:       This variable is used to define the name of a GIF, PNG, or JPG image that should be associated with this host. This image will be displayed in the <a class="link" href="#cgis_status_cgi">status</a> and <a class="link" href="#cgis_extinfo_cgi">extended information</a> CGIs. The image will look best if it is 40x40 pixels in size. Images for hosts are assumed to be in the logos/ subdirectory in your HTML images directory (i.e. <span class="strong"><strong>/usr/local/nagios/share/images/logos</strong></span>).        </p><p>    <span class="bold"><strong>icon_image_alt</strong></span>:       This variable is used to define an optional string that is used in the ALT tag of the image specified by the <span class="strong"><strong>&lt;icon_image&gt;</strong></span> argument. The ALT tag is used in the <a class="link" href="#cgis_status_cgi">status</a>, <a class="link" href="#cgis_extinfo_cgi">extended information</a> and <a class="link" href="#cgis_statusmap_cgi">statusmap</a> CGIs.        </p><p>    <span class="bold"><strong>vrml_image</strong></span>:       This variable is used to define the name of a GIF, PNG, or JPG image that should be associated with this host. This image will be used as the texture map for the specified host in the <a class="link" href="#cgis_statuswrl_cgi">statuswrl</a> CGI. Unlike the image you use for the <span class="strong"><strong>&lt;icon_image&gt;</strong></span> variable, this one should probably <span class="strong"><strong>not</strong></span> have any transparency. If it does, the host object will look a bit wierd. Images for hosts are assumed to be in the logos/ subdirectory in your HTML images directory (i.e. <span class="strong"><strong>/usr/local/nagios/share/images/logos</strong></span>).        </p><p>    <span class="bold"><strong>statusmap_image</strong></span>:       This variable is used to define the name of an image that should be associated with this host in the <a class="link" href="#cgis_statusmap_cgi">statusmap</a> CGI. You can specify a JPEG, PNG, and GIF image if you want, although I would strongly suggest using a GD2 format image, as other image formats will result in a lot of wasted CPU time when the statusmap image is generated. GD2 images can be created from PNG images by using the pngtogd2 utility supplied with Thomas Boutell's <a class="ulink" href="http://www.boutell.com/gd/" target="_top">gd library</a>. The GD2 images should be created in <span class="strong"><strong>uncompressed</strong></span> format in order to minimize CPU load when the statusmap CGI is generating the network map image. The image will look best if it is 40x40 pixels in size. You can leave these option blank if you are not using the statusmap CGI. Images for hosts are assumed to be in the logos/ subdirectory in your HTML images directory (i.e. <span class="strong"><strong>/usr/local/nagios/share/images/logos</strong></span>).        </p><p>    <span class="bold"><strong>2d_coords</strong></span>:       This variable is used to define coordinates to use when drawing the host in the <a class="link" href="#cgis_statusmap_cgi">statusmap</a> CGI. Coordinates should be given in positive integers, as the correspond to physical pixels in the generated image. The origin for drawing (0,0) is in the upper left hand corner of the image and extends in the positive x direction (to the right) along the top of the image and in the positive y direction (down) along the left hand side of the image. For reference, the size of the icons drawn is usually about 40x40 pixels (text takes a little extra space). The coordinates you specify here are for the upper left hand corner of the host icon that is drawn. Note: Don't worry about what the maximum x and y coordinates that you can use are. The CGI will automatically calculate the maximum dimensions of the image it creates based on the largest x and y coordinates you specify.        </p><p>    <span class="bold"><strong>3d_coords</strong></span>:       This variable is used to define coordinates to use when drawing the host in the <a class="link" href="#cgis_statuswrl_cgi">statuswrl</a> CGI. Coordinates can be positive or negative real numbers. The origin for drawing is (0.0,0.0,0.0). For reference, the size of the host cubes drawn is 0.5 units on each side (text takes a little more space). The coordinates you specify here are used as the center of the host cube.        </p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e10394"></a>6.1.18.&nbsp;  <span class="strong"><strong>&#39069;&#22806;&#26381;&#21153;&#20449;&#24687;&#23450;&#20041;</strong></span></h3></div></div></div><p>&#25551;&#36848;&#65306;</p><p> Extended service information entries are basically used to make the output from the <a class="link" href="#cgis_status_cgi">status</a> and <a class="link" href="#cgis_extinfo_cgi">extinfo</a> CGIs look pretty. They have no effect on monitoring and are completely optional. </p><div><img src="../pub/images/tip.gif"></div><p> Tip: As of Nagios 3.x, all directives contained in extended service information definitions are also available in <a class="link" href="#objectdefinitions_service">service definitions</a>. Thus, you can choose to define the directives below in your service definitions if it makes your configuration simpler. Separate extended service information definitions will continue to be supported for backward compatability. </p><p>&#23450;&#20041;&#26684;&#24335;&#65306;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3>&#26631;&#35760;&#20102;<sup>(*)</sup>&#30340;&#22495;&#26159;&#24517;&#22791;&#30340;&#32780;&#40657;&#33394;&#26159;&#21487;&#36873;&#30340;&#12290;&#28982;&#32780;&#20320;&#22312;&#23450;&#20041;&#37324;&#33267;&#23569;&#35201;&#25552;&#20379;&#19968;&#20010;&#21487;&#36873;&#22495;&#20197;&#20351;&#20854;&#26377;&#29992;&#12290;</div><pre class="programlisting"><p>define serviceextinfo{ 
		host_name       <span class="strong"><strong>host_name<sup>(*)</sup></strong></span> 
		service_description       <span class="strong"><strong>service_description<sup>(*)</sup></strong></span> 
		notes       <span class="strong"><strong>note_string</strong></span> 
		notes_url       <span class="strong"><strong>url</strong></span> 
		action_url       <span class="strong"><strong>url</strong></span> 
		icon_image       <span class="strong"><strong>image_file</strong></span> 
		icon_image_alt       <span class="strong"><strong>alt_string</strong></span> 
		... 
		}</p></pre><p>&#23450;&#20041;&#26679;&#20363;&#65306;</p><pre class="programlisting"><p>define serviceextinfo{
		host_name		linux2
		service_description	Log Anomalies
		notes			Security-related log anomalies on secondary Linux server
		notes_url		http://webserver.localhost.localdomain/serviceinfo.pl?host=linux2&amp;service=Log+Anomalies
		icon_image		security.png 
		icon_image_alt		Security-Related Alerts
		}</p></pre><p>Variable Descriptions:</p><p>  <span class="bold"><strong>host_name</strong></span>:       This directive is used to identify the <span class="strong"><strong>short name</strong></span> of the host that the <a class="link" href="#objectdefinitions_service">service</a> is associated with.        </p><p>    <span class="bold"><strong>service_description</strong></span>:       This directive is description of the <a class="link" href="#objectdefinitions_service">service</a> which the data is associated with.        </p><p>    <span class="bold"><strong>notes</strong></span>:       This directive is used to define an optional string of notes pertaining to the service. If you specify a note here, you will see the it in the <a class="link" href="#cgis_extinfo_cgi">extended information</a> CGI (when you are viewing information about the specified service).        </p><p>    <span class="bold"><strong>notes_url</strong></span>:       This directive is used to define an optional URL that can be used to provide more information about the service. If you specify an URL, you will see a link that says "Extra Service Notes" in the <a class="link" href="#cgis_extinfo_cgi">extended information</a> CGI (when you are viewing information about the specified service). Any valid URL can be used. If you plan on using relative paths, the base path will the the same as what is used to access the CGIs (i.e. <span class="strong"><strong>/cgi-bin/nagios/</strong></span>). This can be very useful if you want to make detailed information on the service, emergency contact methods, etc. available to other support staff.        </p><p>    <span class="bold"><strong>action_url</strong></span>:       This directive is used to define an optional URL that can be used to provide more actions to be performed on the service. If you specify an URL, you will see a link that says "Extra Service Actions" in the <a class="link" href="#cgis_extinfo_cgi">extended information</a> CGI (when you are viewing information about the specified service). Any valid URL can be used. If you plan on using relative paths, the base path will the the same as what is used to access the CGIs (i.e. <span class="strong"><strong>/cgi-bin/nagios/</strong></span>).        </p><p>    <span class="bold"><strong>icon_image</strong></span>:       This variable is used to define the name of a GIF, PNG, or JPG image that should be associated with this host. This image will be displayed in the <a class="link" href="#cgis_status_cgi">status</a> and <a class="link" href="#cgis_extinfo_cgi">extended information</a> CGIs. The image will look best if it is 40x40 pixels in size. Images for hosts are assumed to be in the logos/ subdirectory in your HTML images directory (i.e. <span class="strong"><strong>/usr/local/nagios/share/images/logos</strong></span>).        </p><p>    <span class="bold"><strong>icon_image_alt</strong></span>:       This variable is used to define an optional string that is used in the ALT tag of the image specified by the <span class="strong"><strong>&lt;icon_image&gt;</strong></span> argument. The ALT tag is used in the <a class="link" href="#cgis_status_cgi">status</a>, <a class="link" href="#cgis_extinfo_cgi">extended information</a> and <a class="link" href="#cgis_statusmap_cgi">statusmap</a> CGIs.        </p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="objecttricks"></a>6.2.&nbsp;&#23545;&#35937;&#23450;&#20041;&#30340;&#30465;&#26102;&#20915;&#31373;</h2></div></div></div><p> &#25110;&#32773;&#26159;...<span class="emphasis"><em>&#8220;&#22914;&#20309;&#26469;&#35753;&#20320;&#20445;&#25345;&#28165;&#37266;&#8221;</em></span></p><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e10545"></a>6.2.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>&#26412;&#25991;&#35797;&#22270;&#21521;&#20320;&#35299;&#37322;&#22914;&#20309;&#35753;&#20320;&#21033;&#29992;&#37027;&#20123;&#38544;&#34255;&#20110;<a class="link" href="#objectdefinitions" title="6.1.&nbsp;&#23545;&#35937;&#23450;&#20041;">&#22522;&#20110;&#27169;&#26495;&#30340;&#23545;&#35937;&#23450;&#20041;</a>&#20043;&#21518;&#30340;&#19996;&#35199;&#12290;&#37027;&#20040;&#20320;&#35201;&#38382;&#24590;&#20040;&#26469;&#24178;&#65311;&#20960;&#21508;&#23545;&#35937;&#23450;&#20041;&#21487;&#20197;&#35753;&#20320;&#25351;&#23450;&#22810;&#20010;&#20027;&#26426;&#21517;&#21644;&#20027;&#26426;&#32452;&#21517;&#65292;&#20801;&#35768;&#20320;&#8220;&#22797;&#21046;&#8221;&#20027;&#26426;&#25110;&#26381;&#21153;&#30340;&#23545;&#35937;&#23450;&#20041;&#12290;&#25105;&#23558;&#36880;&#20010;&#22320;&#35828;&#26126;&#25903;&#25345;&#36825;&#31181;&#26041;&#24335;&#30340;&#27599;&#31181;&#23545;&#35937;&#12290;&#22914;&#19979;&#30340;&#36825;&#20123;&#23545;&#35937;&#25903;&#25345;&#25152;&#35201;&#30340;&#30465;&#26102;&#29305;&#24615;&#65306;</p><div class="orderedlist"><ol type="1"><li><a class="link" href="#objecttricks_service" title="6.2.3.&nbsp;&#26381;&#21153;&#30340;&#23450;&#20041;">&#26381;&#21153;</a></li><li><a class="link" href="#objecttricks_serviceescalation" title="6.2.4.&nbsp;&#26381;&#21153;&#25193;&#23637;&#30340;&#23450;&#20041;">&#26381;&#21153;&#25193;&#23637;</a></li><li><a class="link" href="#objecttricks_servicedependency" title="6.2.5.&nbsp;&#26381;&#21153;&#20381;&#36182;&#30340;&#23450;&#20041;">&#26381;&#21153;&#20381;&#36182;</a></li><li><a class="link" href="#objecttricks_hostescalation" title="6.2.6.&nbsp;&#20027;&#26426;&#25193;&#23637;&#30340;&#23450;&#20041;">&#20027;&#26426;&#25193;&#23637;</a></li><li><a class="link" href="#objecttricks_hostdependency" title="6.2.7.&nbsp;&#20027;&#26426;&#20381;&#36182;&#30340;&#23450;&#20041;">&#20027;&#26426;&#20381;&#36182;</a></li><li><a class="link" href="#objecttricks_hostgroup" title="6.2.8.&nbsp;&#20027;&#26426;&#32452;&#30340;&#23450;&#20041;">&#20027;&#26426;&#32452;</a></li></ol></div><p>&#27809;&#26377;&#21015;&#20986;&#30340;&#23545;&#35937;&#31867;&#22411;&#65288;&#35937;&#26102;&#38388;&#33539;&#22260;&#12289;&#21629;&#20196;&#31561;&#65289;&#19981;&#25903;&#25345;&#20197;&#19978;&#29305;&#24615;&#25105;&#23558;&#20316;&#20986;&#35828;&#26126;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e10574"></a>6.2.2.&nbsp;&#27491;&#21017;&#24335;&#21305;&#37197;</h3></div></div></div><p>&#19979;&#20363;&#20013;&#25105;&#23558;&#20351;&#29992;&#8220;&#26631;&#20934;&#8221;&#30340;&#23545;&#35937;&#21517;&#21305;&#37197;&#24335;&#12290;&#22914;&#26524;&#20320;&#24895;&#24847;&#65292;&#21487;&#20197;&#25171;&#24320;<a class="link" href="#use_regexp_matching" title="&#34920;&nbsp;5.114.&nbsp;&#27491;&#21017;&#34920;&#36798;&#24335;&#36873;&#39033;">use_regexp_matching</a>&#37197;&#32622;&#36873;&#39033;&#37324;&#30340;&#20351;&#33021;&#24320;&#20851;&#12290;&#40664;&#35748;&#24773;&#20917;&#19979;&#21482;&#26159;&#23545;&#35937;&#21517;&#37324;&#21253;&#21547;<span class="emphasis"><em>*,?,+&#25110;\..</em></span>&#30340;&#20316;&#20026;&#27491;&#21017;&#24335;&#36827;&#34892;&#22788;&#29702;&#65292;&#22914;&#26524;&#20320;&#24819;&#35753;&#20840;&#37096;&#37117;&#35748;&#20026;&#26159;&#27491;&#21017;&#24335;&#65292;&#20320;&#24212;&#20351;&#33021;<a class="link" href="#use_true_regexp_matching" title="&#34920;&nbsp;5.115.&nbsp;True Regular Expression Matching Option">use_true_regexp_matching</a>&#37197;&#32622;&#36873;&#39033;&#12290;&#27491;&#21017;&#24335;&#21487;&#20197;&#34987;&#29992;&#20110;&#22914;&#19979;&#20363;&#23376;&#20013;&#30340;&#23545;&#35937;&#20869;&#30340;&#22495;&#65288;&#20027;&#26426;&#21517;&#31216;&#12289;&#20027;&#26426;&#32452;&#21517;&#12289;&#26381;&#21153;&#21517;&#31216;&#21644;&#26381;&#21153;&#32452;&#21517;&#65289;&#12290;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><div><img src="../pub/images/note.gif"></div><p>&#20351;&#29992;&#27491;&#21017;&#26102;&#19968;&#23450;&#35201;&#23567;&#24515;&#65293;&#20320;&#21487;&#33021;&#38656;&#35201;&#20462;&#25913;&#37197;&#32622;&#25991;&#20214;&#65292;&#26377;&#26102;&#19968;&#20123;&#25351;&#20196;&#20320;&#24182;&#19981;&#24819;&#30495;&#27491;&#22320;&#34987;&#29702;&#35299;&#20026;&#27491;&#21017;&#24335;&#21482;&#26159;&#30475;&#36215;&#26469;&#35282;&#65292;&#20219;&#20309;&#38382;&#39064;&#37117;&#21464;&#25104;&#20102;&#20320;&#24212;&#39564;&#35777;&#20320;&#37197;&#32622;&#25991;&#20214;&#30340;&#35777;&#26126;&#12290;</p></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="objecttricks_service"></a>6.2.3.&nbsp;&#26381;&#21153;&#30340;&#23450;&#20041;</h3></div></div></div><p>&#22810;&#20010;&#20027;&#26426;&#65306;&#22914;&#26524;&#20320;&#24819;&#22312;&#22810;&#20010;&#20027;&#26426;&#19978;&#21019;&#24314;&#21516;&#19968;&#20010;<a class="link" href="#objectdefinitions_service">&#26381;&#21153;</a>&#65292;&#20320;&#21487;&#20197;&#22312;&#22810;&#20010;&#20027;&#26426;&#30340;<span class="strong"><strong>host_name</strong></span>&#23450;&#20041;&#20013;&#23454;&#29616;&#12290;&#22914;&#19979;&#30340;&#23450;&#20041;&#20013;&#23558;&#26381;&#21153;&#21517;&#31216;&#21483;<span class="strong"><strong>SOMESERVICE</strong></span>&#30340;&#32465;&#23450;&#22312;&#20027;&#26426;&#21517;&#23383;&#21483;<span class="strong"><strong>HOST1</strong></span>&#21040;<span class="strong"><strong>HOSTN</strong></span>&#30340;&#22810;&#20010;&#20027;&#26426;&#19978;&#12290;&#25152;&#26377;&#30340;&#21517;&#23383;&#21483;<span class="strong"><strong>SOMESERVICE</strong></span>&#30340;&#26381;&#21153;&#23558;&#26159;&#21516;&#19968;&#20010;(&#20363;&#22914;&#26377;&#21516;&#19968;&#20010;&#26816;&#27979;&#21629;&#20196;&#12289;&#26368;&#22823;&#26816;&#27979;&#27425;&#25968;&#12289;&#21578;&#35686;&#21608;&#26399;&#31561;)&#12290;</p><pre class="programlisting"><p>define <span class="strong"><strong>service</strong></span>{
		host_name		<span class="strong"><strong>HOST1,HOST2,HOST3,...,HOSTN</strong></span>
		service_description	<span class="strong"><strong>SOMESERVICE</strong></span>
		<span class="strong"><strong>other service directives</strong></span>
		...
		}</p></pre><p>&#22312;&#22810;&#20010;&#20027;&#26426;&#32452;&#37324;&#30340;&#20840;&#37096;&#20027;&#26426;&#65306;&#22914;&#26524;&#20320;&#24819;&#23558;&#19968;&#20010;&#25110;&#22810;&#20010;&#20027;&#26426;&#32452;&#37324;&#30340;&#20840;&#37096;&#20027;&#26426;&#26631;&#23450;&#21516;&#19968;&#20010;&#26381;&#21153;&#65292;&#35813;&#24590;&#20040;&#21150;&#65311;&#22312;&#26381;&#21153;&#23450;&#20041;&#37324;&#30340;&#20027;&#26426;&#32452;&#22495;<span class="strong"><strong>hostgroup_name</strong></span>&#37324;&#25351;&#23450;&#19968;&#20010;&#25110;&#22810;&#20010;&#29577;&#26426;&#32452;&#12290;&#19979;&#38754;&#30340;&#26381;&#21153;&#21517;&#21483;<span class="strong"><strong>SOMESERVICE</strong></span>&#30340;&#26381;&#21153;&#34987;&#25351;&#23450;&#22312;&#19968;&#31995;&#21015;&#20027;&#26426;&#32452;<span class="strong"><strong>HOSTGROUP1</strong></span>&#21040;<span class="strong"><strong>HOSTGROUPN</strong></span>&#12290;&#20840;&#37096;&#30340;&#21517;&#21483;<span class="strong"><strong>SOMESERVICE</strong></span>&#30340;&#26381;&#21153;&#23558;&#26159;&#21516;&#19968;&#20010;(&#20363;&#22914;&#26377;&#21516;&#26679;&#30340;&#26816;&#27979;&#21629;&#20196;&#12289;&#26368;&#22823;&#26816;&#27979;&#27425;&#25968;&#12289;&#21578;&#35686;&#21608;&#26399;&#31561;)&#12290;</p><pre class="programlisting"><p>define <span class="strong"><strong>service</strong></span>{
		hostgroup_name		<span class="strong"><strong>HOSTGROUP1,HOSTGROUP2,...,HOSTGROUPN</strong></span>
		service_description	<span class="strong"><strong>SOMESERVICE</strong></span>
		<span class="strong"><strong>other service directives</strong></span>
		...
		}</p></pre><p>&#20840;&#37096;&#20027;&#26426;&#65306;&#22914;&#26524;&#20320;&#24819;&#23545;&#20320;&#37197;&#32622;&#25991;&#20214;&#37324;&#30340;&#20840;&#37096;&#20027;&#26426;&#25351;&#23450;&#21516;&#19968;&#20010;&#26381;&#21153;&#65292;&#20320;&#35201;&#22312;<span class="strong"><strong>host_name</strong></span>&#22495;&#37324;&#20351;&#29992;&#36890;&#37197;&#31526;&#12290;&#19979;&#38754;&#23558;&#22312;&#37197;&#32622;&#25991;&#20214;&#37324;&#25351;&#23450;&#19968;&#20010;&#26381;&#21153;&#21517;&#21483;<span class="strong"><strong>SOMESERVICE</strong></span>&#30340;&#26381;&#21153;&#12290;&#20840;&#37096;&#30340;&#21517;&#21483;<span class="strong"><strong>SOMESERVICE</strong></span>&#30340;&#26381;&#21153;&#23558;&#26159;&#21516;&#19968;&#20010;(&#20363;&#22914;&#30456;&#21516;&#30340;&#26816;&#27979;&#21629;&#20196;&#12289;&#26368;&#22823;&#26816;&#27979;&#27425;&#25968;&#12289;&#21578;&#35686;&#21608;&#26399;&#31561;)&#12290;</p><pre class="programlisting"><p>define <span class="strong"><strong>service</strong></span>{
		host_name		<span class="strong"><strong>*</strong></span>
		service_description	<span class="strong"><strong>SOMESERVICE</strong></span>
		<span class="strong"><strong>other service directives</strong></span>
		...
		}</p></pre><p>&#19981;&#21253;&#21547;&#20027;&#26426;&#65306;&#22914;&#26524;&#20320;&#24819;&#23450;&#20041;&#19968;&#20010;&#26381;&#21153;&#22312;&#35768;&#22810;&#20010;&#20027;&#26426;&#25110;&#20027;&#26426;&#19978;&#20294;&#19981;&#21253;&#21547;&#26576;&#20960;&#20010;&#20027;&#26426;&#26102;&#65292;&#21487;&#20197;&#22312;&#19981;&#21253;&#21547;&#30340;&#20027;&#26426;&#25110;&#20027;&#26426;&#32452;&#21069;&#21152;&#19978;<span class="emphasis"><em>!</em></span>&#31526;&#21495;&#12290;</p><pre class="programlisting"><p>define <span class="strong"><strong>service</strong></span>{
		host_name             <span class="strong"><strong>HOST1,HOST2,!HOST3,!HOST4,...,HOSTN</strong></span>
		hostgroup_name                <span class="strong"><strong>HOSTGROUP1,HOSTGROUP2,!HOSTGROUP3,!HOSTGROUP4,...,HOSTGROUPN</strong></span>
		service_description   <span class="strong"><strong>SOMESERVICE</strong></span>
		<span class="strong"><strong>other service directives</strong></span>
		...
		}</p></pre></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="objecttricks_serviceescalation"></a>6.2.4.&nbsp;&#26381;&#21153;&#25193;&#23637;&#30340;&#23450;&#20041;</h3></div></div></div><p>&#22810;&#20010;&#20027;&#26426;&#65306;&#22914;&#26524;&#24819;&#23545;&#22810;&#20010;&#20027;&#26426;&#19978;&#30340;&#26381;&#21153;&#25110;&#26381;&#21153;&#25551;&#36848;&#21019;&#24314;&#21516;&#19968;&#20010;<a class="link" href="#objectdefinitions_serviceescalation">&#26381;&#21153;&#25193;&#23637;</a>&#23545;&#35937;&#65292;&#20320;&#21487;&#20197;&#22312;&#22810;&#20010;&#20027;&#26426;&#19978;&#25351;&#23450;<span class="strong"><strong>host_name</strong></span>&#22495;&#12290;&#22914;&#19979;&#22312;&#20027;&#26426;&#31995;&#21015;&#20174;<span class="strong"><strong>HOST1</strong></span>&#21040;<span class="strong"><strong>HOSTN</strong></span>&#19978;&#25351;&#23450;&#19968;&#20010;&#26381;&#21153;&#25193;&#23637;&#23545;&#35937;&#21040;&#26381;&#21153;&#21517;&#20026;<span class="strong"><strong>SOMESERVICE</strong></span>&#30340;&#26381;&#21153;&#65292;&#36825;&#20123;&#26381;&#21153;&#25193;&#23637;&#23558;&#26377;&#21516;&#19968;&#20010;&#20869;&#23481;&#23450;&#20041;(&#22914;&#30456;&#21516;&#30340;&#32852;&#31995;&#20154;&#32452;&#12289;&#36890;&#30693;&#38388;&#38548;&#31561;)&#12290;</p><pre class="programlisting"><p>define <span class="strong"><strong>serviceescalation</strong></span>{
		host_name		<span class="strong"><strong>HOST1,HOST2,HOST3,...,HOSTN</strong></span>
		service_description	<span class="strong"><strong>SOMESERVICE</strong></span>
		<span class="strong"><strong>other escalation directives</strong></span>
		...
		}</p></pre><p>&#22810;&#20010;&#20027;&#26426;&#37324;&#30340;&#20840;&#37096;&#20027;&#26426;&#65306;&#22914;&#26524;&#24819;&#23545;&#19968;&#20010;&#25110;&#22810;&#20010;&#20027;&#26426;&#32452;&#37324;&#30340;&#20840;&#37096;&#20027;&#26426;&#19978;&#30340;&#26381;&#21153;&#23450;&#20041;&#21516;&#19968;&#20010;&#26381;&#21153;&#25193;&#23637;&#65292;&#20320;&#21487;&#20197;&#20351;&#29992;<span class="strong"><strong>hostgroup_name</strong></span>&#22495;&#12290;&#19979;&#38754;&#23558;&#22312;&#20027;&#26426;&#32452;&#31995;&#21015;&#20174;<span class="strong"><strong>HOSTGROUP1</strong></span>&#21040;<span class="strong"><strong>HOSTGROUPN</strong></span>&#19978;&#20840;&#37096;&#20027;&#26426;&#19978;&#30340;&#26381;&#21153;&#21517;&#26159;<span class="strong"><strong>SOMESERVICE</strong></span>&#26377;&#21516;&#19968;&#20010;&#26381;&#21153;&#25193;&#23637;&#12290;&#25152;&#26377;&#30340;&#26381;&#21153;&#25193;&#23637;&#26159;&#21516;&#19968;&#30340;(&#22914;&#26377;&#30456;&#21516;&#30340;&#32852;&#31995;&#20154;&#32452;&#12289;&#36890;&#30693;&#38388;&#38548;)&#12290;</p><pre class="programlisting"><p>define <span class="strong"><strong>serviceescalation</strong></span>{
		hostgroup_name		<span class="strong"><strong>HOSTGROUP1,HOSTGROUP2,...,HOSTGROUPN</strong></span>
		service_description	<span class="strong"><strong>SOMESERVICE</strong></span>
		<span class="strong"><strong>other escalation directives</strong></span>
		...
		}</p></pre><p>&#20840;&#37096;&#20027;&#26426;&#65306;&#22914;&#26524;&#20320;&#24819;&#22312;&#20320;&#30340;&#37197;&#32622;&#25991;&#20214;&#37324;&#30340;&#20840;&#37096;&#20027;&#26426;&#19978;&#30456;&#21516;&#21517;&#31216;&#25110;&#25551;&#36848;&#30340;&#26381;&#21153;&#19978;&#21019;&#24314;&#21516;&#19968;&#20010;&#26381;&#21153;&#25193;&#23637;&#65292;&#20320;&#38656;&#35201;&#22312;<span class="strong"><strong>host_name</strong></span>&#22495;&#37324;&#29992;&#36890;&#37197;&#31526;&#12290;&#19979;&#38754;&#22312;&#37197;&#32622;&#25991;&#20214;&#37324;&#30340;&#20840;&#37096;&#20027;&#26426;&#19978;&#23450;&#20041;&#19968;&#20010;&#21517;&#20026;<span class="strong"><strong>SOMESERVICE</strong></span>&#30340;&#26381;&#21153;&#26377;&#30456;&#21516;&#30340;&#26381;&#21153;&#25193;&#23637;&#12290;&#20840;&#37096;&#30340;&#26381;&#21153;&#25193;&#23637;&#26159;&#21516;&#19968;&#20010;(&#22914;&#26377;&#30456;&#21516;&#30340;&#32852;&#31995;&#20154;&#32452;&#12289;&#36890;&#30693;&#38388;&#38548;&#31561;)&#12290;</p><pre class="programlisting"><p>define <span class="strong"><strong>serviceescalation</strong></span>{
		host_name		<span class="strong"><strong>*</strong></span>
		service_description	<span class="strong"><strong>SOMESERVICE</strong></span>
		<span class="strong"><strong>other escalation directives</strong></span>
		...
		}</p></pre><p>&#19981;&#21253;&#21547;&#20027;&#26426;&#65306;&#22914;&#26524;&#20320;&#24819;&#23450;&#20041;&#19968;&#20010;&#26381;&#21153;&#25193;&#23637;&#22312;&#35768;&#22810;&#20010;&#20027;&#26426;&#25110;&#20027;&#26426;&#20294;&#19981;&#21253;&#21547;&#26576;&#20960;&#20010;&#20027;&#26426;&#19978;&#30340;&#26381;&#21153;&#26102;&#65292;&#21487;&#20197;&#22312;&#19981;&#21253;&#21547;&gt;&#30340;&#20027;&#26426;&#25110;&#20027;&#26426;&#32452;&#21069;&#21152;&#19978;<span class="emphasis"><em>!</em></span>&#31526;&#21495;&#12290;</p><pre class="programlisting"><p>define <span class="strong"><strong>serviceescalation</strong></span>{
		host_name             <span class="strong"><strong>HOST1,HOST2,!HOST3,!HOST4,...,HOSTN</strong></span>
		hostgroup_name                <span class="strong"><strong>HOSTGROUP1,HOSTGROUP2,!HOSTGROUP3,!HOSTGROUP4,...,HOSTGROUPN</strong></span>
		service_description   <span class="strong"><strong>SOMESERVICE</strong></span>
		<span class="strong"><strong>other escalation directives</strong></span>
		...
		}</p></pre><p>&#19968;&#20010;&#20027;&#26426;&#19978;&#30340;&#20840;&#37096;&#26381;&#21153;&#65306;&#22914;&#26524;&#24819;&#23545;&#26576;&#20010;&#29305;&#21035;&#30340;&#20027;&#26426;&#19978;&#20840;&#37096;&#30340;&#26381;&#21153;&#21019;&#24314;&#21516;&#19968;&#20010;<a class="link" href="#objectdefinitions_serviceescalation">&#26381;&#21153;&#25193;&#23637;</a>&#65292;&#20320;&#21487;&#20197;&#22312;<span class="strong"><strong>service_description</strong></span>&#22495;&#37324;&#20351;&#29992;&#36890;&#37197;&#31526;&#12290;&#19979;&#38754;&#22312;&#20027;&#26426;&#21517;&#26159;<span class="strong"><strong>HOST1</strong></span>&#19978;&#30340;&#20840;&#37096;&#26381;&#21153;&#21019;&#24314;&#21516;&#19968;&#20010;&#26381;&#21153;&#25193;&#23637;&#12290;&#22914;&#19979;&#30340;&#26381;&#21153;&#25193;&#23637;&#23558;&#26159;&#21516;&#19968;&#20010;(&#22914;&#26377;&#30456;&#21516;&#30340;&#32852;&#31995;&#20154;&#32452;&#12289;&#36890;&#30693;&#38388;&#38548;&#31561;)&#12290;</p><p>&#22914;&#26524;&#20320;&#29305;&#21035;&#21916;&#27426;&#24613;&#21151;&#20882;&#36827;&#30340;&#35805;&#65292;&#20320;&#21487;&#20197;&#22312;<span class="strong"><strong>host_name</strong></span>&#21644;<span class="strong"><strong>service_description</strong></span>&#20004;&#20010;&#22495;&#37324;&#21516;&#26102;&#20351;&#29992;&#36890;&#37197;&#31526;&#12290;&#36825;&#26679;&#20570;&#23558;&#20250;&#21019;&#24314;&#19968;&#20010;&#20320;&#37197;&#32622;&#25991;&#20214;&#37324;&#30340;&#20840;&#37096;&#20027;&#26426;&#19978;&#30340;&#20840;&#37096;&#26381;&#21153;&#20013;&#23450;&#20041;&#21516;&#19968;&#20010;&#26381;&#21153;&#25193;&#23637;&#12290;</p><pre class="programlisting"><p>define <span class="strong"><strong>serviceescalation</strong></span>{
		host_name		<span class="strong"><strong>HOST1</strong></span>
		service_description	<span class="strong"><strong>*</strong></span>
		<span class="strong"><strong>other escalation directives</strong></span>
		...
		}</p></pre><p>&#21516;&#19968;&#20010;&#20027;&#26426;&#19978;&#30340;&#22810;&#20010;&#26381;&#21153;&#65306;&#22914;&#26524;&#23545;&#26576;&#20010;&#20027;&#26426;&#19978;&#30340;&#19968;&#20010;&#25110;&#22810;&#20010;&#26381;&#21153;&#21019;&#24314;&#21516;&#19968;&#20010;<a class="link" href="#objectdefinitions_serviceescalation">&#26381;&#21153;&#25193;&#23637;</a>&#65292;&#20320;&#21487;&#20197;&#22312;<span class="strong"><strong>service_description</strong></span>&#22495;&#37324;&#25351;&#23450;&#26381;&#21153;&#25551;&#36848;&#12290;&#22914;&#19979;&#20363;&#20013;&#65292;&#22312;&#19968;&#20027;&#26426;&#21517;&#20026;<span class="strong"><strong>HOST1</strong></span>&#19978;&#30340;&#19968;&#31995;&#21015;&#22810;&#20010;&#26381;&#21153;&#20174;<span class="strong"><strong>SERVICE1</strong></span>&#21040;<span class="strong"><strong>SERVICEN</strong></span>&#19978;&#21019;&#24314;&#26381;&#21153;&#25193;&#23637;&#12290;&#25152;&#26377;&#30340;&#26381;&#21153;&#25193;&#23637;&#26159;&#21516;&#19968;&#20010;(&#22914;&#26377;&#30456;&#21516;&#30340;&#32852;&#31995;&#20154;&#32452;&#12289;&#36890;&#30693;&#38388;&#38548;&#31561;)&#12290;</p><pre class="programlisting"><p>define <span class="strong"><strong>serviceescalation</strong></span>{
		host_name		<span class="strong"><strong>HOST1</strong></span>
		service_description	<span class="strong"><strong>SERVICE1,SERVICE2,...,SERVICEN</strong></span>
		<span class="strong"><strong>other escalation directives</strong></span>
		...
		}</p></pre><p>&#22810;&#20010;&#26381;&#21153;&#32452;&#37324;&#30340;&#20840;&#37096;&#26381;&#21153;&#65306;&#22914;&#26524;&#20320;&#24819;&#22312;&#19968;&#20010;&#25110;&#22810;&#20010;&#26381;&#21153;&#32452;&#37324;&#30340;&#20840;&#37096;&#26381;&#21153;&#21019;&#24314;&#21516;&#19968;&#20010;&#26381;&#21153;&#25193;&#23637;&#65292;&#20320;&#21487;&#20197;&#29992;<span class="strong"><strong>servicegroup_name</strong></span>&#22495;&#12290;&#22914;&#19979;&#23558;&#22312;&#19968;&#31995;&#21015;&#26381;&#21153;&#32452;&#33258;<span class="strong"><strong>SERVICEGROUP1</strong></span>&#21040;<span class="strong"><strong>SERVICEGROUPN</strong></span>&#30340;&#20840;&#37096;&#26381;&#21153;&#21019;&#24314;&#21516;&#19968;&#20010;&#26381;&#21153;&#25193;&#23637;&#12290;&#36825;&#20123;&#26381;&#21153;&#25193;&#23637;&#26159;&#21516;&#19968;&#20010;(&#22914;&#26377;&#30456;&#21516;&#30340;&#32852;&#31995;&#20154;&#32452;&#12289;&#36890;&#30693;&#38388;&#38548;&#31561;)&#12290;</p><pre class="programlisting"><p>define <span class="strong"><strong>serviceescalation</strong></span>{
		servicegroup_name		<span class="strong"><strong>SERVICEGROUP1,SERVICEGROUP2,...,SERVICEGROUPN</strong></span>
		<span class="strong"><strong>other escalation directives</strong></span>
		...
		}</p></pre></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="objecttricks_servicedependency"></a>6.2.5.&nbsp;&#26381;&#21153;&#20381;&#36182;&#30340;&#23450;&#20041;</h3></div></div></div><p>&#22810;&#20010;&#20027;&#26426;&#65306;&#22914;&#26524;&#24819;&#22312;&#22810;&#20010;&#20027;&#26426;&#19978;&#21019;&#24314;&#21516;&#21517;&#25110;&#30456;&#21516;&#25551;&#36848;&#30340;<a class="link" href="#objectdefinitions_servicedependency">&#26381;&#21153;&#20381;&#36182;</a>&#65292;&#20320;&#21487;&#20197;&#22312;&#22810;&#20010;&#20027;&#26426;&#23450;&#20041;&#37324;&#25351;&#23450;<span class="strong"><strong>host_name</strong></span>&#25110;<span class="strong"><strong>dependent_host_name</strong></span>&#22495;&#25110;&#26159;&#20004;&#32773;&#20043;&#19968;&#12290;&#22312;&#19979;&#20363;&#20013;&#65292;&#22312;&#20027;&#26426;<span class="strong"><strong>HOST3</strong></span>&#21644;<span class="strong"><strong>HOST4</strong></span>&#19978;&#30340;&#26381;&#21153;<span class="strong"><strong>SERVICE2</strong></span>&#20381;&#36182;&#20110;&#22312;<span class="strong"><strong>HOST1</strong></span> and <span class="strong"><strong>HOST2</strong></span>&#20027;&#26426;&#19978;&#30340;<span class="strong"><strong>SERVICE1</strong></span>&#26381;&#21153;&#12290;&#25152;&#26377;&#30340;&#20027;&#26426;&#26381;&#21153;&#20381;&#36182;&#23450;&#20041;&#26159;&#30456;&#21516;&#30340;&#65292;&#38500;&#20102;&#20027;&#26426;&#21517;&#31216;(&#22914;&#26377;&#30456;&#21516;&#30340;&#36890;&#30693;&#25925;&#38556;&#22788;&#29702;&#31561;)&#12290;</p><pre class="programlisting"><p>define <span class="strong"><strong>servicedependency</strong></span>{
		host_name			<span class="strong"><strong>HOST1,HOST2</strong></span>
		service_description		<span class="strong"><strong>SERVICE1</strong></span>
		dependent_host_name		<span class="strong"><strong>HOST3,HOST4</strong></span>
		dependent_service_description	<span class="strong"><strong>SERVICE2</strong></span>
		<span class="strong"><strong>other dependency directives</strong></span>
		...
		}</p></pre><p>&#22810;&#20010;&#20027;&#26426;&#32452;&#37324;&#30340;&#20840;&#37096;&#20027;&#26426;&#65306;&#22914;&#26524;&#20320;&#24819;&#22312;&#19968;&#20010;&#25110;&#22810;&#20010;&#20027;&#26426;&#32452;&#37324;&#30340;&#20840;&#37096;&#20027;&#26426;&#19978;&#21019;&#24314;&#19968;&#20010;&#21516;&#21517;&#25110;&#21516;&#25551;&#36848;&#30340;&#26381;&#21153;&#20381;&#36182;&#65292;&#20320;&#21487;&#20197;&#25351;&#23450;<span class="strong"><strong>hostgroup_name</strong></span>&#21644;<span class="strong"><strong>dependent_hostgroup_name</strong></span>&#22495;&#25110;&#26159;&#20004;&#32773;&#20043;&#19968;&#12290;&#22312;&#19979;&#20363;&#20013;&#65292;&#20027;&#26426;&#32452;<span class="strong"><strong>HOSTGROUP3</strong></span>&#21644;<span class="strong"><strong>HOSTGROUP4</strong></span>&#37324;&#30340;&#20840;&#37096;&#20027;&#26426;&#19978;&#30340;&#26381;&#21153;<span class="strong"><strong>SERVICE2</strong></span>&#23558;&#20381;&#36182;&#20110;&#20027;&#26426;&#32452;<span class="strong"><strong>HOSTGROUP1</strong></span>&#21644;<span class="strong"><strong>HOSTGROUP2</strong></span>&#19978;&#30340;<span class="strong"><strong>SERVICE1</strong></span>&#26381;&#21153;&#12290;&#20551;&#23450;&#27599;&#20010;&#20027;&#26426;&#32452;&#37324;&#26377;5&#20010;&#20027;&#26426;&#65292;&#37027;&#20040;&#36825;&#20010;&#23450;&#20041;&#23558;&#30456;&#24403;&#20110;&#21019;&#24314;&#20102;100&#20010;&#26381;&#21153;&#20381;&#36182;&#65281;&#25152;&#26377;&#30340;&#26381;&#21153;&#20381;&#36182;&#26159;&#30456;&#21516;&#30340;&#38500;&#20102;&#37027;&#20123;&#20027;&#26426;&#21517;&#26377;&#25152;&#19981;&#21516;(&#22914;&#26377;&#30456;&#21516;&#30340;&#36890;&#30693;&#25925;&#38556;&#22788;&#29702;&#31561;)&#12290;</p><pre class="programlisting"><p>define <span class="strong"><strong>servicedependency</strong></span>{
		hostgroup_name			<span class="strong"><strong>HOSTGROUP1,HOSTGROUP2</strong></span>
		service_description		<span class="strong"><strong>SERVICE1</strong></span>
		dependent_hostgroup_name	<span class="strong"><strong>HOSTGROUP3,HOSTGROUP4</strong></span>
		dependent_service_description	<span class="strong"><strong>SERVICE2</strong></span>
		<span class="strong"><strong>other dependency directives</strong></span>
		...
		}</p></pre><p>&#19968;&#20010;&#20027;&#26426;&#19978;&#30340;&#20840;&#37096;&#26381;&#21153;&#65306;&#22914;&#26524;&#20320;&#24819;&#21019;&#24314;&#38024;&#23545;&#26576;&#20010;&#20027;&#26426;&#30340;&#20840;&#37096;&#26381;&#21153;&#19978;&#30340;&#26381;&#21153;&#20381;&#36182;&#65292;&#20320;&#21487;&#20197;&#22312;<span class="strong"><strong>service_description</strong></span>&#21644;<span class="strong"><strong>dependent_service_description</strong></span>&#22495;&#37324;&#20351;&#29992;&#36890;&#37197;&#31526;&#25110;&#26159;&#20004;&#32773;&#20043;&#19968;&#20013;&#20351;&#29992;&#12290;&#22312;&#19979;&#20363;&#20013;&#65292;&#20840;&#37096;&#22312;&#20027;&#26426;<span class="strong"><strong>HOST2</strong></span>&#19978;&#30340;&#26381;&#21153;&#20381;&#36182;&#20110;&#20027;&#26426;<span class="strong"><strong>HOST1</strong></span>&#19978;&#30340;&#20840;&#37096;&#26381;&#21153;&#12290;&#20840;&#37096;&#30340;&#26381;&#21153;&#20381;&#36182;&#23558;&#26159;&#30456;&#21516;&#30340;(&#22914;&#26377;&#30456;&#21516;&#30340;&#36890;&#30693;&#25925;&#38556;&#22788;&#29702;&#31561;)&#12290;</p><pre class="programlisting"><p>define <span class="strong"><strong>servicedependency</strong></span>{
		host_name			<span class="strong"><strong>HOST1</strong></span>
		service_description		<span class="strong"><strong>*</strong></span>
		dependent_host_name		<span class="strong"><strong>HOST2</strong></span>
		dependent_service_description	<span class="strong"><strong>*</strong></span>
		<span class="strong"><strong>other dependency directives</strong></span>
		...
		}</p></pre><p>&#19968;&#20010;&#20027;&#26426;&#19978;&#30340;&#22810;&#20010;&#26381;&#21153;&#65306;&#22914;&#26524;&#20320;&#24819;&#21019;&#24314;&#23545;&#26576;&#20010;&#20027;&#26426;&#19978;&#30340;&#22810;&#20010;&#26381;&#21153;&#30340;&#26381;&#21153;&#20381;&#36182;&#65292;&#20320;&#21487;&#20197;&#22312;<span class="strong"><strong>service_description</strong></span>&#21644;<span class="strong"><strong>dependent_service_description</strong></span>&#22495;&#37324;&#20889;&#19968;&#20010;&#25110;&#22810;&#20010;&#26381;&#21153;&#25551;&#36848;&#65292;&#35937;&#36825;&#26679;&#65306;</p><pre class="programlisting"><p>define <span class="strong"><strong>servicedependency</strong></span>{
		host_name			<span class="strong"><strong>HOST1</strong></span>
		service_description		<span class="strong"><strong>SERVICE1,SERVICE2,...,SERVICEN</strong></span>
		dependent_host_name		<span class="strong"><strong>HOST2</strong></span>
		dependent_service_description	<span class="strong"><strong>SERVICE1,SERVICE2,...,SERVICEN</strong></span>
		<span class="strong"><strong>other dependency directives</strong></span>
		...
		}</p></pre><p>&#22810;&#20010;&#26381;&#21153;&#32452;&#37324;&#30340;&#20840;&#37096;&#26381;&#21153;&#65306;&#22914;&#26524;&#20320;&#24819;&#22312;&#19968;&#20010;&#25110;&#22810;&#20010;&#26381;&#21153;&#32452;&#37324;&#30340;&#20840;&#37096;&#26381;&#21153;&#19978;&#21019;&#24314;&#26381;&#21153;&#39046;&#20107;&#65292;&#20320;&#21487;&#20197;&#29992;<span class="strong"><strong>servicegroup_name</strong></span>&#21644;<span class="strong"><strong>dependent_servicegroup_name</strong></span>&#22495;&#65292;&#35937;&#36825;&#26679;&#65306;</p><pre class="programlisting"><p>define <span class="strong"><strong>servicedependency</strong></span>{
		servicegroup_name		<span class="strong"><strong>SERVICEGROUP1,SERVICEGROUP2,...,SERVICEGROUPN</strong></span>
		dependent_servicegroup_name	<span class="strong"><strong>SERVICEGROUP3,SERVICEGROUP4,...SERVICEGROUPN</strong></span>
		<span class="strong"><strong>other dependency directives</strong></span>
		...
		}</p></pre><p><a name="same_host_dependency"></a>&#30456;&#21516;&#20027;&#26426;&#30340;&#26381;&#21153;&#20381;&#36182;&#65306;&#22914;&#26524;&#24819;&#22312;&#30456;&#21516;&#20027;&#26426;&#30340;&#26381;&#21153;&#19978;&#21019;&#24314;&#26381;&#21153;&#20381;&#36182;&#65292;&#31354;&#30528;<span class="strong"><strong>dependent_host_name</strong></span>&#21644;<span class="strong"><strong>dependent_hostgroup_name</strong></span>&#22495;&#12290;&#22914;&#19979;&#30340;&#20363;&#23376;&#20013;&#20013;&#65292;&#20027;&#26426;<span class="strong"><strong>HOST1</strong></span>&#21644;<span class="strong"><strong>HOST2</strong></span>&#33267;&#23569;&#26377;&#22235;&#20010;&#26381;&#21153;&#32465;&#23450;&#20854;&#19978;&#65306;<span class="strong"><strong>SERVICE1</strong></span>&#12289;<span class="strong"><strong>SERVICE2</strong></span>&#12289;<span class="strong"><strong>SERVICE3</strong></span>&#21644;<span class="strong"><strong>SERVICE4</strong></span>&#65292;&#22312;&#36825;&#20010;&#20363;&#23376;&#20013;&#65292;&#20027;&#26426;<span class="strong"><strong>HOST1</strong></span>&#30340;<span class="strong"><strong>SERVICE3</strong></span>&#21644;<span class="strong"><strong>SERVICE4</strong></span>&#20381;&#36182;&#20110;&#33258;&#36523;&#30340;<span class="strong"><strong>SERVICE1</strong></span>&#21644;<span class="strong"><strong>SERVICE2</strong></span>&#26381;&#21153;&#65292;&#30456;&#20284;&#30340;&#65292;<span class="strong"><strong>HOST2</strong></span>&#20027;&#26426;&#19978;<span class="strong"><strong>SERVICE3</strong></span>&#21644;<span class="strong"><strong>SERVICE4</strong></span>&#26381;&#21153;&#20381;&#36182;&#20110;&#33258;&#36523;&#30340;<span class="strong"><strong>SERVICE1</strong></span>&#21644;<span class="strong"><strong>SERVICE2</strong></span>&#26381;&#21153;&#12290;</p><pre class="programlisting"><p>define <span class="strong"><strong>servicedependency</strong></span>{
		host_name			<span class="strong"><strong>HOST1,HOST2</strong></span>
		service_description		<span class="strong"><strong>SERVICE1,SERVICE2</strong></span>
		dependent_service_description	<span class="strong"><strong>SERVICE3,SERVICE4</strong></span>
		<span class="strong"><strong>other dependency directives</strong></span>
		...
		}</p></pre></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="objecttricks_hostescalation"></a>6.2.6.&nbsp;&#20027;&#26426;&#25193;&#23637;&#30340;&#23450;&#20041;</h3></div></div></div><p>&#22810;&#20010;&#20027;&#26426;&#65306;&#22914;&#26524;&#20320;&#24819;&#23545;&#22810;&#20010;&#20027;&#26426;&#21019;&#24314;&#21516;&#19968;&#20010;<a class="link" href="#objectdefinitions_hostescalation">&#20027;&#26426;&#25193;&#23637;</a>&#65292;&#20320;&#38656;&#35201;&#20351;&#29992;<span class="strong"><strong>host_name</strong></span>&#22495;&#12290;&#22914;&#19979;&#23558;&#22312;&#19968;&#31995;&#21015;&#33258;<span class="strong"><strong>HOST1</strong></span>&#21040;<span class="strong"><strong>HOSTN</strong></span>&#30340;&#20027;&#26426;&#19978;&#21019;&#24314;&#21516;&#19968;&#30340;&#20027;&#26426;&#25193;&#23637;&#12290;&#22914;&#19979;&#30340;&#20027;&#26426;&#25193;&#23637;&#26159;&#21516;&#19968;&#20010;(&#22914;&#30456;&#21516;&#30340;&#32852;&#31995;&#20154;&#32452;&#12289;&#36890;&#30693;&#38388;&#38548;&#31561;)&#12290;</p><pre class="programlisting"><p>define <span class="strong"><strong>hostescalation</strong></span>{
		host_name		<span class="strong"><strong>HOST1,HOST2,HOST3,...,HOSTN</strong></span>
		<span class="strong"><strong>other escalation directives</strong></span>
		...
		}</p></pre><p>&#22810;&#20010;&#20027;&#26426;&#32452;&#37324;&#30340;&#20840;&#37096;&#20027;&#26426;&#65306;&#22914;&#26524;&#24819;&#22312;&#19968;&#20010;&#25110;&#22810;&#20010;&#20027;&#26426;&#32452;&#37324;&#30340;&#20840;&#37096;&#20027;&#26426;&#19978;&#21019;&#24314;&#21516;&#19968;&#20010;&#20027;&#26426;&#25193;&#23637;&#65292;&#20320;&#21487;&#20197;&#29992;<span class="strong"><strong>hostgroup_name</strong></span>&#22495;&#12290;&#22914;&#19979;&#23558;&#22312;&#19968;&#31995;&#21015;&#33258;<span class="strong"><strong>HOSTGROUP1</strong></span>&#21040;<span class="strong"><strong>HOSTGROUPN</strong></span>&#30340;&#20027;&#26426;&#32452;&#37324;&#30340;&#20840;&#37096;&#20027;&#26426;&#19978;&#21019;&#24314;&#21516;&#19968;&#20010;&#20027;&#26426;&#25193;&#23637;&#12290;&#22914;&#19979;&#30340;&#20027;&#26426;&#25193;&#23637;&#26159;&#21516;&#19968;&#20010;(&#22914;&#26377;&#30456;&#21516;&#30340;&#32852;&#31995;&#20154;&#32452;&#12289;&#36890;&#30693;&#38388;&#38548;&#31561;)&#12290;</p><pre class="programlisting"><p>define <span class="strong"><strong>hostescalation</strong></span>{
		hostgroup_name		<span class="strong"><strong>HOSTGROUP1,HOSTGROUP2,...,HOSTGROUPN</strong></span>
		<span class="strong"><strong>other escalation directives</strong></span>
		...
		}</p></pre><p>&#20840;&#37096;&#20027;&#26426;&#65306;&#22914;&#26524;&#20320;&#24819;&#23545;&#20320;&#37197;&#32622;&#25991;&#20214;&#37324;&#30340;&#20840;&#37096;&#20027;&#26426;&#21019;&#24314;&#21516;&#19968;&#20010;&#20027;&#26426;&#25193;&#23637;&#65292;&#20320;&#21487;&#20197;&#22312;<span class="strong"><strong>host_name</strong></span>&#22495;&#37324;&#20351;&#29992;&#36890;&#37197;&#31526;&#12290;&#22914;&#19979;&#23558;&#23545;&#20320;&#37197;&#32622;&#25991;&#20214;&#37324;&#30340;&#20840;&#37096;&#20027;&#26426;&#23450;&#20041;&#21516;&#19968;&#20010;&#20027;&#26426;&#25193;&#23637;&#12290;&#20840;&#37096;&#30340;&#20027;&#26426;&#25193;&#23637;&#26159;&#21516;&#19968;&#20010;(&#22914;&#26377;&#30456;&#21516;&#30340;&#32852;&#31995;&#20154;&#32452;&#12289;&#36890;&#30693;&#38388;&#38548;&#31561;)&#12290;</p><pre class="programlisting"><p>define <span class="strong"><strong>hostescalation</strong></span>{
		host_name		<span class="strong"><strong>*</strong></span>
		<span class="strong"><strong>other escalation directives</strong></span>
		...
		}</p></pre><p>&#19981;&#21253;&#21547;&#20027;&#26426;&#65306;&#22914;&#26524;&#22312;&#19968;&#31995;&#21015;&#30340;&#20027;&#26426;&#21644;&#20027;&#26426;&#32452;&#20294;&#19981;&#21253;&#21547;&#26576;&#20123;&#20027;&#26426;&#19978;&#21019;&#24314;&#21516;&#19968;&#20010;&#20027;&#26426;&#25193;&#23637;&#65292;&#21487;&#20197;&#22312;&#20027;&#26426;&#25110;&#20027;&#26426;&#32452;&#23450;&#20041;&#21069;&#21152;&#19978;<span class="emphasis"><em>!</em></span>&#31526;&#21495;&#12290;</p><pre class="programlisting"><p>define <span class="strong"><strong>hostescalation</strong></span>{
		host_name             <span class="strong"><strong>HOST1,HOST2,!HOST3,!HOST4,...,HOSTN</strong></span>
		hostgroup_name                <span class="strong"><strong>HOSTGROUP1,HOSTGROUP2,!HOSTGROUP3,!HOSTGROUP4,...,HOSTGROUPN</strong></span>
		<span class="strong"><strong>other escalation directives</strong></span>
		...
		}</p></pre></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="objecttricks_hostdependency"></a>6.2.7.&nbsp;&#20027;&#26426;&#20381;&#36182;&#30340;&#23450;&#20041;</h3></div></div></div><p>&#22810;&#20010;&#20027;&#26426;&#65306;&#22914;&#26524;&#24819;&#22312;&#22810;&#20010;&#20027;&#26426;&#19978;&#21019;&#24314;&#21516;&#19968;<a class="link" href="#objectdefinitions_hostdependency">&#20027;&#26426;&#20381;&#36182;</a>&#65292;&#20320;&#21487;&#20197;&#20351;&#29992;<span class="strong"><strong>host_name</strong></span>&#25110;<span class="strong"><strong>dependent_host_name</strong></span>&#22495;&#25110;&#21516;&#26102;&#20351;&#29992;&#12290;&#22914;&#19979;&#23450;&#20041;&#23558;&#29983;&#25104;&#20845;&#20010;&#20998;&#31163;&#30340;&#20027;&#26426;&#20381;&#36182;&#65292;&#20027;&#26426;<span class="strong"><strong>HOST3</strong></span>&#12289;<span class="strong"><strong>HOST4</strong></span>&#21644;<span class="strong"><strong>HOST5</strong></span>&#23558;&#20381;&#36182;&#20110;<span class="strong"><strong>HOST1</strong></span>&#21644;<span class="strong"><strong>HOST2</strong></span>&#12290;&#20197;&#19978;&#30340;&#20027;&#26426;&#20381;&#36182;&#26159;&#21516;&#19968;&#20010;(&#22914;&#26377;&#30456;&#21516;&#30340;&#36890;&#30693;&#22833;&#25928;&#22788;&#29702;&#31561;)&#12290;</p><pre class="programlisting"><p>define <span class="strong"><strong>hostdependency</strong></span>{
		host_name		<span class="strong"><strong>HOST1,HOST2</strong></span>
		dependent_host_name	<span class="strong"><strong>HOST3,HOST4,HOST5</strong></span>
		<span class="strong"><strong>other dependency directives</strong></span>
		...
		}</p></pre><p>&#22810;&#20010;&#20027;&#26426;&#32452;&#37324;&#30340;&#20840;&#37096;&#20027;&#26426;&#65306;&#22914;&#26524;&#23545;&#19968;&#20010;&#25110;&#22810;&#20010;&#20027;&#26426;&#32452;&#37324;&#30340;&#20840;&#37096;&#20027;&#26426;&#21019;&#24314;&#21516;&#19968;&#20010;&#20027;&#26426;&#20381;&#36182;&#65292;&#20320;&#21487;&#20197;&#29992;<span class="strong"><strong>hostgroup_name</strong></span>&#25110;<span class="strong"><strong>dependent_hostgroup_name</strong></span>&#22495;&#25110;&#20004;&#20010;&#37117;&#29992;&#12290;&#22312;&#22914;&#19979;&#20363;&#20013;&#65292;&#20027;&#26426;&#32452;<span class="strong"><strong>HOSTGROUP3</strong></span>&#21644;<span class="strong"><strong>HOSTGROUP4</strong></span>&#37324;&#30340;&#20840;&#37096;&#20027;&#26426;&#20381;&#36182;&#20110;&#20027;&#26426;&#32452;<span class="strong"><strong>HOSTGROUP1</strong></span>&#21644;<span class="strong"><strong>HOSTGROUP2</strong></span>&#30340;&#20027;&#26426;&#12290;&#22914;&#19979;&#30340;&#20027;&#26426;&#20381;&#36182;&#21516;&#19968;&#20010;&#21482;&#26159;&#20027;&#26426;&#21517;&#19981;&#21516;(&#22914;&#26377;&#30456;&#21516;&#30340;&#36890;&#30693;&#22833;&#25928;&#22788;&#29702;&#31561;)&#12290;</p><pre class="programlisting"><p>define <span class="strong"><strong>hostdependency</strong></span>{
		hostgroup_name			<span class="strong"><strong>HOSTGROUP1,HOSTGROUP2</strong></span>
		dependent_hostgroup_name	<span class="strong"><strong>HOSTGROUP3,HOSTGROUP4</strong></span>
		<span class="strong"><strong>other dependency directives</strong></span>
		...
		}</p></pre></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="objecttricks_hostgroup"></a>6.2.8.&nbsp;&#20027;&#26426;&#32452;&#30340;&#23450;&#20041;</h3></div></div></div><p>&#20840;&#37096;&#20027;&#26426;&#65306;&#22914;&#26524;&#20320;&#24819;&#25226;&#20320;&#20840;&#37096;&#30340;&#37197;&#32622;&#25991;&#20214;&#37324;&#30340;&#20027;&#26426;&#37117;&#23450;&#20041;&#22312;&#21516;&#19968;&#20010;&#20027;&#26426;&#32452;&#37324;&#65292;&#20320;&#21487;&#20197;&#22312;<span class="strong"><strong>members</strong></span>&#22495;&#37324;&#20351;&#29992;&#36890;&#37197;&#31526;&#12290;&#22914;&#19979;&#30340;&#37197;&#32622;&#25991;&#20214;&#37324;&#30340;&#20840;&#37096;&#20027;&#26426;&#37117;&#23450;&#20041;&#21040;&#19968;&#20010;&#21483;<span class="strong"><strong>HOSTGROUP1</strong></span>&#20027;&#26426;&#32452;&#12290;</p><pre class="programlisting"><p>define <span class="strong"><strong>hostgroup</strong></span>{
		<span class="strong"><strong>hostgroup_name</strong></span><span class="strong"><strong>HOSTGROUP1</strong></span>
		members			<span class="strong"><strong>*</strong></span>
		<span class="strong"><strong>other hostgroup directives</strong></span>
		...
		}</p></pre></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="customobjectvars"></a>6.3.&nbsp;&#29992;&#25143;&#33258;&#23450;&#21046;&#23545;&#35937;&#21464;&#37327;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11370"></a>6.3.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>&#29992;&#25143;&#36890;&#24120;&#24819;&#22312;&#20027;&#26426;&#12289;&#26381;&#21153;&#25110;&#32852;&#31995;&#20154;&#30340;&#23545;&#35937;&#37324;&#21152;&#20837;&#33258;&#24050;&#23450;&#21046;&#30340;&#21464;&#37327;&#65292;&#36825;&#20123;&#21464;&#37327;&#35937;SNMP&#20849;&#21516;&#20307;&#21517;&#12289;MAC&#22320;&#22336;&#12289;AIM&#29992;&#25143;&#21517;&#12289;Skype&#24080;&#21495;&#21644;&#34903;&#36947;&#21517;&#31216;&#31561;&#31561;&#65292;&#21487;&#33021;&#26377;&#21508;&#31181;&#21508;&#26679;&#30340;&#19996;&#35199;&#26080;&#27861;&#21015;&#23436;&#12290;&#36825;&#26679;&#20250;&#20351;Nagios&#19981;&#20855;&#22791;&#36890;&#29992;&#24615;&#24182;&#19988;&#26080;&#27861;&#20445;&#25345;&#19968;&#20010;&#29305;&#23450;&#30340;&#26550;&#26500;&#12290;Nagios&#35797;&#22270;&#26356;&#20026;&#26580;&#24615;&#21270;&#65292;&#36825;&#23601;&#24847;&#21619;&#30528;&#38656;&#35201;&#22788;&#29702;&#36825;&#31181;&#24773;&#20917;&#65292;&#20363;&#22914;&#22312;Nagios&#30340;&#20027;&#26426;&#23545;&#35937;&#23450;&#20041;&#20013;&#65292;"address"&#26159;&#19968;&#20010;IP&#22320;&#22336;&#20063;&#21487;&#20197;&#26159;&#20219;&#20309;&#19996;&#35199;&#65292;&#21482;&#35201;&#23545;&#20351;&#29992;&#32773;&#32780;&#35328;&#26159;&#20010;&#21487;&#35835;&#21487;&#25805;&#20316;&#30340;&#65292;&#26080;&#35770;&#29992;&#25143;&#24590;&#20040;&#35774;&#32622;&#37117;&#34892;&#12290;</p><p>&#20294;&#36824;&#26159;&#26377;&#24517;&#35201;&#22312;Nagios&#37197;&#32622;&#25991;&#20214;&#20013;&#25552;&#20379;&#19968;&#31181;&#21487;&#20379;&#31649;&#29702;&#21644;&#20445;&#23384;&#30340;&#22788;&#29702;&#26041;&#27861;&#32780;&#19981;&#26159;&#19982;&#29616;&#26377;&#21464;&#37327;&#22495;&#28151;&#29992;&#30340;&#26041;&#27861;&#12290;Nagios&#35797;&#22270;&#22312;&#23545;&#35937;&#30340;&#23450;&#20041;&#20013;&#24341;&#29992;&#29992;&#25143;&#33258;&#23450;&#21046;&#21464;&#37327;&#26469;&#35299;&#20915;&#36825;&#20010;&#38382;&#39064;&#12290;&#29992;&#25143;&#33258;&#23450;&#21046;&#21464;&#37327;&#30340;&#26041;&#27861;&#21487;&#20197;&#35753;&#29992;&#25143;&#22312;&#20027;&#26426;&#12289;&#26381;&#21153;&#21644;&#32852;&#31995;&#20154;&#23545;&#35937;&#23450;&#20041;&#37324;&#21152;&#20837;&#23646;&#24615;&#65292;&#22312;&#36890;&#30693;&#12289;&#20107;&#20214;&#22788;&#29702;&#21644;&#23545;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#26816;&#27979;&#20013;&#20351;&#29992;&#36825;&#20123;&#21464;&#37327;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11377"></a>6.3.2.&nbsp;&#29992;&#25143;&#33258;&#23450;&#21046;&#21464;&#37327;&#30340;&#22522;&#26412;&#35268;&#21017;</h3></div></div></div><p>&#20351;&#29992;&#29992;&#25143;&#33258;&#23450;&#21046;&#21464;&#37327;&#38656;&#35201;&#27880;&#24847;&#22914;&#19979;&#20960;&#20010;&#35201;&#28857;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#24517;&#39035;&#20197;&#19979;&#21010;&#32447;(_)&#24320;&#22836;&#26469;&#23450;&#20041;&#21464;&#37327;&#21517;&#31216;&#20197;&#38450;&#27490;&#19982;&#26631;&#20934;&#22495;&#21517;&#31216;&#28151;&#28102;&#65307;</li><li>&#33258;&#23450;&#21046;&#21464;&#37327;&#21517;&#26159;&#22823;&#23567;&#20889;&#25935;&#24863;&#30340;&#65307;</li><li>&#33258;&#23450;&#21046;&#21464;&#37327;&#26159;&#21487;&#20197;&#35937;&#19968;&#33324;&#30340;&#21464;&#37327;&#37027;&#26679;&#34987;<a class="link" href="#objectinheritance" title="6.4.&nbsp;&#23545;&#35937;&#32487;&#25215;&#20851;&#31995;">&#32487;&#25215;</a>&#20256;&#36882;&#30340;&#65307;</li><li>&#33258;&#23450;&#21046;&#21464;&#37327;&#21517;&#26159;&#21487;&#20197;&#34987;&#33050;&#26412;&#37324;&#24341;&#29992;&#30340;&#65292;&#22312;<a class="link" href="#macros" title="8.2.&nbsp;&#29702;&#35299;Nagios&#23439;&#21450;&#20854;&#24037;&#20316;&#26426;&#21046;">&#23439;&#21644;&#29615;&#22659;&#21464;&#37327;</a>&#20013;&#26377;&#35828;&#26126;&#12290;</li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11397"></a>6.3.3.&nbsp;&#20363;&#23376;</h3></div></div></div><p>&#36825;&#26377;&#19968;&#20010;&#22914;&#20309;&#22312;&#23545;&#35937;&#20013;&#23450;&#20041;&#19981;&#21516;&#31867;&#22411;&#30340;&#29992;&#25143;&#33258;&#23450;&#21046;&#21464;&#37327;&#30340;&#20363;&#23376;&#65306;</p><pre class="programlisting"><p>define host{
		host_name	linuxserver
		_mac_address	00:06:5B:A6:AD:AA	; &lt;-- Custom MAC_ADDRESS variable
		_rack_number	R32			; &lt;-- Custom RACK_NUMBER variable
		...
		}
define service{
		host_name	linuxserver
		description	Memory Usage
		_SNMP_community	public			; &lt;-- Custom SNMP_COMMUNITY variable
		_TechContact	Jane Doe		; &lt;-- Custom TECHCONTACT variable
		...
		}
define contact{
		contact_name	john
		_AIM_username	john16			; &lt;-- Custom AIM_USERNAME variable
		_YahooID	john32			; &lt;-- Custom YAHOOID variable
		...
		}</p></pre></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11405"></a>6.3.4.&nbsp;&#22312;&#23439;&#37324;&#20351;&#29992;&#29992;&#25143;&#33258;&#23450;&#21046;&#21464;&#37327;</h3></div></div></div><p>&#22312;Nagios&#30340;&#26816;&#27979;&#12289;&#36890;&#30693;&#31561;&#30340;&#33050;&#26412;&#21644;&#25191;&#34892;&#31243;&#24207;&#37324;&#21487;&#20197;&#24341;&#29992;&#29992;&#25143;&#33258;&#23450;&#21046;&#21464;&#37327;&#65292;&#36890;&#36807;&#20351;&#29992;<a class="link" href="#macros" title="8.2.&nbsp;&#29702;&#35299;Nagios&#23439;&#21450;&#20854;&#24037;&#20316;&#26426;&#21046;">&#23439;</a>&#25110;&#26159;&#29615;&#22659;&#21464;&#37327;&#26469;&#23454;&#29616;&#12290;</p><p>&#20026;&#38450;&#27490;&#28151;&#28102;&#19981;&#21516;&#23545;&#35937;&#31867;&#22411;&#20013;&#30340;&#29992;&#25143;&#23450;&#21046;&#21464;&#37327;&#65292;Nagios&#22312;&#23439;&#21644;&#29615;&#22659;&#21464;&#37327;&#30340;&#21517;&#23383;&#37324;&#65292;&#23545;&#29992;&#25143;&#23450;&#20041;&#30340;&#20027;&#26426;&#12289;&#26381;&#21153;&#25110;&#26159;&#32852;&#31995;&#20154;&#30340;&#21464;&#37327;&#21517;&#20043;&#21069;&#20998;&#21035;&#21152;&#19978;&#20102;"_HOST"&#12289;"_SERVICE"&#25110;"_CONTACT"&#20197;&#31034;&#21306;&#20998;&#12290;&#19979;&#38754;&#30340;&#34920;&#26684;&#20013;&#32473;&#20986;&#21069;&#38754;&#20363;&#23376;&#20013;&#30340;&#29992;&#25143;&#33258;&#23450;&#21046;&#21464;&#37327;&#22312;&#23439;&#21644;&#29615;&#22659;&#21464;&#37327;&#36825;&#20013;&#30340;&#21487;&#24341;&#29992;&#30340;&#21629;&#21517;&#12290;</p><p>
</p><div class="table"><a name="d0e11417"></a><p class="title"><b>&#34920;&nbsp;6.1.&nbsp;</b></p><div class="table-contents"><table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th>&#23545;&#35937;&#31867;&#22411;</th><th>&#21464;&#37327;&#21517;</th><th>&#23439;&#21517;</th><th>&#29615;&#22659;&#21464;&#37327;</th></tr></thead><tbody><tr><td>&#20027;&#26426;</td><td>MAC_ADDRESS</td><td>$_HOSTMAC_ADDRESS$</td><td>NAGIOS__HOSTMAC_ADDRESS</td></tr><tr><td>&#20027;&#26426;</td><td>RACK_NUMBER</td><td>$_HOSTRACK_NUMBER$</td><td>NAGIOS__HOSTRACK_NUMBER</td></tr><tr><td>&#26381;&#21153;</td><td>SNMP_COMMUNITY</td><td>$_SERVICESNMP_COMMUNITY$</td><td>NAGIOS__SERVICESNMP_COMMUNITY</td></tr><tr><td>&#26381;&#21153;</td><td>TECHCONTACT</td><td>$_SERVICETECHCONTACT$</td><td>NAGIOS__SERVICETECHCONTACT</td></tr><tr><td>&#32852;&#31995;&#20154;</td><td>AIM_USERNAME</td><td>$_CONTACTAIM_USERNAME$</td><td>NAGIOS__CONTACTAIM_USERNAME</td></tr><tr><td>&#32852;&#31995;&#20154;</td><td>YAHOOID</td><td>$_CONTACTYAHOOID$</td><td>NAGIOS__CONTACTYAHOOID</td></tr></tbody></table></div></div><p><br class="table-break">
</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11485"></a>6.3.5.&nbsp;&#29992;&#25143;&#33258;&#23450;&#21046;&#21464;&#37327;&#19982;&#32487;&#25215;</h3></div></div></div><p>&#35937;&#26631;&#20934;&#30340;&#20027;&#26426;&#12289;&#26381;&#21153;&#25110;&#32852;&#31995;&#20154;&#23545;&#35937;&#37324;&#30340;&#21464;&#37327;&#19968;&#26679;&#65292;&#29992;&#25143;&#33258;&#23450;&#21046;&#21464;&#37327;&#21516;&#26679;&#21487;&#20197;<a class="link" href="#objectinheritance" title="6.4.&nbsp;&#23545;&#35937;&#32487;&#25215;&#20851;&#31995;">&#32487;&#25215;</a>&#12290;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="objectinheritance"></a>6.4.&nbsp;&#23545;&#35937;&#32487;&#25215;&#20851;&#31995;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11496"></a>6.4.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>&#26412;&#25991;&#20214;&#35797;&#22270;&#35299;&#37322;&#20160;&#20040;&#26159;&#23545;&#35937;&#32487;&#25215;&#21644;&#22914;&#20309;&#22312;<a class="link" href="#objectdefinitions" title="6.1.&nbsp;&#23545;&#35937;&#23450;&#20041;">&#23545;&#35937;&#23450;&#20041;</a>&#37324;&#20351;&#29992;&#23427;&#12290;</p><p>&#22914;&#26524;&#20320;&#22312;&#21069;&#36807;&#20043;&#21518;&#34987;&#22914;&#20309;&#36827;&#34892;&#36882;&#24402;&#21644;&#32487;&#25215;&#25630;&#36855;&#31946;&#20102;&#65292;&#20320;&#21487;&#20197;&#30475;&#19968;&#19979;Nagios&#21457;&#34892;&#21253;&#37324;&#30340;&#31616;&#21333;&#30340;&#23545;&#35937;&#37197;&#32622;&#25991;&#20214;&#12290;&#22914;&#26524;&#36824;&#27809;&#26377;&#24110;&#21161;&#65292;&#25172;&#20010;&#37038;&#20214;&#20889;&#28165;&#26970;<span class="strong"><strong>&#35814;&#32454;&#24773;&#20917;</strong></span>&#25551;&#36848;&#20320;&#30340;&#38382;&#39064;&#21040;<span class="strong"><strong>nagios-users</strong></span>&#37038;&#20214;&#21015;&#34920;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11512"></a>6.4.2.&nbsp;&#22522;&#30784;</h3></div></div></div><p>&#23545;&#20110;&#20840;&#37096;&#30340;&#23545;&#35937;&#23450;&#20041;&#35828;&#26126;&#65292;&#26377;&#19977;&#20010;&#21464;&#37327;&#24433;&#21709;&#30528;&#36882;&#24402;&#21644;&#32487;&#25215;&#20851;&#31995;&#65292;&#19979;&#38754;&#29992;<sup>(*)</sup>&#31526;&#21495;&#26631;&#35760;&#35828;&#26126;&#65306;</p><pre class="programlisting"><p>define <span class="strong"><strong>someobjecttype</strong></span>{
		<span class="strong"><strong>object-specific variables</strong></span> ...
		name		<span class="strong"><strong>template_name</strong></span><sup>(*)</sup>
		use		<span class="strong"><strong>name_of_template_to_use</strong></span><sup>(*)</sup>
		register	[0/1]<sup>(*)</sup>
		}</p></pre><p>&#31532;&#19968;&#20010;&#21464;&#37327;&#26159;<span class="strong"><strong>name</strong></span>&#65292;&#21482;&#26159;&#19968;&#20010;&#21487;&#20379;&#20854;&#20182;&#23545;&#35937;&#23450;&#20041;&#26102;&#25552;&#20379;&#27169;&#26495;&#24341;&#29992;&#21517;&#23383;&#65292;&#20197;&#20351;&#20854;&#20182;&#23545;&#35937;&#21487;&#20197;&#32487;&#25215;&#23646;&#24615;&#21644;&#21464;&#37327;&#12290;&#27169;&#26495;&#21517;&#23383;&#24517;&#39035;&#26159;&#21807;&#19968;&#30340;&#19988;&#32487;&#25215;&#32773;&#35201;&#26377;&#30456;&#21516;&#30340;&#31867;&#22411;&#23450;&#20041;&#65292;&#20063;&#23601;&#26159;&#35828;&#65292;&#19981;&#33021;&#32473;&#20027;&#26426;&#23545;&#35937;&#23450;&#20041;&#26377;&#20004;&#20010;&#25110;&#20197;&#19978;&#30340;&#27169;&#26495;&#21547;&#26377;&#21516;&#19968;&#20010;&#20027;&#26426;&#27169;&#26495;&#12290;</p><p>&#31532;&#20108;&#20010;&#21464;&#37327;&#26159;<span class="strong"><strong>use</strong></span>&#65292;&#29992;&#26469;&#34920;&#31034;&#23545;&#35937;&#30340;&#23646;&#24615;&#21644;&#21464;&#37327;&#26159;&#32487;&#25215;&#20110;&#21738;&#20010;&#25351;&#23450;&#27169;&#26495;&#12290;&#25351;&#23450;&#30340;&#36825;&#20010;&#32487;&#25215;&#26469;&#28304;&#24517;&#39035;&#26159;&#19968;&#20010;&#21629;&#21517;&#36807;&#30340;&#21478;&#19968;&#20010;&#23545;&#35937;&#27169;&#26495;(&#29992;&#21464;&#37327;<span class="strong"><strong>name</strong></span>&#30830;&#20999;&#21629;&#21517;&#36807;&#30340;)&#12290;</p><p>&#31532;&#19977;&#20010;&#21464;&#37327;&#26159;<span class="strong"><strong>register</strong></span>&#12290;&#36825;&#20010;&#21464;&#37327;&#29992;&#20110;&#21578;&#30693;&#36825;&#20010;&#23545;&#35937;&#23450;&#20041;&#26159;&#21542;&#38656;&#35201;Nagios&#8220;&#27880;&#20876;&#8221;&#12290;&#40664;&#35748;&#24773;&#20917;&#19979;&#65292;&#23545;&#35937;&#23450;&#20041;&#26159;&#38656;&#35201;Nagios&#27880;&#20876;&#12290;&#22914;&#26524;&#20320;&#24819;&#21033;&#29992;&#19968;&#20010;&#23545;&#35937;&#23450;&#20041;&#30340;&#37096;&#20998;&#20869;&#23481;&#20316;&#20026;&#19968;&#20010;&#27169;&#26495;&#65292;&#20320;&#21487;&#20197;&#35753;&#23427;&#19981;&#22312;Nagios&#37324;&#27880;&#20876;(&#21518;&#38754;&#23558;&#25552;&#20379;&#19968;&#20010;&#20363;&#23376;)&#12290;&#21462;&#20540;&#65306;0 = &#19981;&#20570;&#27880;&#20876;&#65307;1 = &#27880;&#20876;(&#40664;&#35748;&#20540;)&#12290;&#36825;&#20010;&#21464;&#37327;&#26159;&#19981;&#34987;&#32487;&#25215;&#30340;&#65307;&#27599;&#20010;&#23545;&#35937;&#27169;&#26495;&#37117;&#39035;&#26126;&#30830;&#22320;&#23558;&#36825;&#20010;<span class="strong"><strong>register</strong></span>&#21464;&#37327;&#35774;&#32622;&#20026;<span class="strong"><strong>0</strong></span>&#12290;&#38450;&#27490;<span class="strong"><strong>register</strong></span>&#34987;&#35774;&#32622;&#20026;<span class="strong"><strong>1</strong></span>&#30340;&#32487;&#25215;&#21518;&#35206;&#30422;&#38656;&#35201;&#27880;&#20876;&#30340;&#23545;&#35937;&#23450;&#20041;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11572"></a>6.4.3.&nbsp;&#26412;&#22320;&#21464;&#37327;&#21644;&#32487;&#25215;&#21464;&#37327;&#27604;&#36739;</h3></div></div></div><p>&#22312;&#29702;&#35299;&#32487;&#25215;&#20851;&#31995;&#26102;&#26377;&#19968;&#20010;&#24456;&#37325;&#35201;&#23601;&#26159;&#26412;&#22320;&#30340;&#23545;&#35937;&#21464;&#37327;&#24635;&#26159;&#20248;&#20808;&#20110;&#27169;&#26495;&#37324;&#30340;&#23545;&#35937;&#21464;&#37327;&#20540;&#65292;&#30475;&#19968;&#19979;&#19979;&#38754;&#30340;&#20363;&#23376;&#20013;&#20004;&#20010;&#20027;&#26426;&#30340;&#23450;&#20041;(&#27809;&#26377;&#25552;&#20379;&#20840;&#37096;&#30340;&#24517;&#22791;&#21464;&#37327;)&#65306;</p><pre class="programlisting"><p>define host{
		host_name		bighost1
		check_command		check-host-alive
		notification_options	d,u,r
		max_check_attempts	5
		name			hosttemplate1
		}
define host{
		host_name		bighost2
		max_check_attempts	3
		use			hosttemplate1
		}</p></pre><p>&#20320;&#27880;&#24847;&#21040;&#20027;&#26426;<span class="strong"><strong>bighost1</strong></span>&#30340;&#23450;&#20041;&#20013;&#24341;&#29992;&#20102;&#27169;&#26495;<span class="strong"><strong>hosttemplate1</strong></span>&#23450;&#20041;&#65292;&#20027;&#26426;<span class="strong"><strong>bighost2</strong></span>&#30340;&#23450;&#20041;&#21017;&#20351;&#29992;&#20102;&#20027;&#26426;<span class="strong"><strong>bighost1</strong></span>&#20316;&#20026;&#27169;&#26495;&#12290;&#19968;&#26086;&#30001;Nagios&#26469;&#22788;&#29702;&#36825;&#20123;&#25968;&#25454;&#65292;&#37027;&#20040;&#20027;&#26426;<span class="strong"><strong>bighost2</strong></span>&#30456;&#24403;&#20110;&#26159;&#36825;&#20040;&#23450;&#20041;&#30340;&#65306;</p><pre class="programlisting"><p>define host{
		host_name		bighost2
		check_command		check-host-alive
		notification_options	d,u,r
		max_check_attempts	3
		}</p></pre><p>&#21487;&#20197;&#30475;&#21040;<span class="strong"><strong>check_command</strong></span>&#21644;<span class="strong"><strong>notification_options</strong></span>&#21464;&#37327;&#20174;&#27169;&#26495;(&#20063;&#23601;&#26159;&#20027;&#26426;<span class="strong"><strong>bighost1</strong></span>&#30340;&#23450;&#20041;)&#32487;&#25215;&#32780;&#26469;&#65292;&#32780;<span class="strong"><strong>host_name</strong></span>&#21644;<span class="strong"><strong>max_check_attempts</strong></span>&#27809;&#26377;&#20174;&#27169;&#26495;&#23545;&#35937;&#20013;&#32487;&#25215;&#65292;&#32780;&#34987;&#38480;&#23450;&#20110;&#26412;&#22320;&#21464;&#37327;&#12290;&#36825;&#24212;&#35813;&#26159;&#19968;&#20010;&#30456;&#24403;&#23481;&#26131;&#29702;&#35299;&#30340;&#27010;&#24565;&#12290;</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#25552;&#31034;</h3><div><img src="../pub/images/tip.gif"></div><p>&#22914;&#26524;&#20320;&#24819;&#35753;&#26412;&#22320;&#20018;&#21464;&#37327;&#32487;&#25215;&#26469;&#33258;&#20110;&#23545;&#35937;&#27169;&#26495;&#30340;&#23450;&#20041;&#65292;&#20854;&#23454;&#20320;&#21487;&#20197;&#36825;&#20040;&#24178;&#65292;&#30475;&#19968;&#19979;<a class="ulink" href="add_string" target="_top">&#19979;&#38754;</a>&#30340;&#20869;&#23481;&#35762;&#35299;&#12290; </p></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11624"></a>6.4.4.&nbsp;&#32487;&#25215;&#20851;&#31995;&#38142;</h3></div></div></div><p>&#23545;&#35937;&#21487;&#20197;&#20174;&#22810;&#23618;&#27425;&#22320;&#20351;&#29992;&#27169;&#26495;&#23545;&#35937;&#30340;&#23646;&#24615;&#21644;&#21464;&#37327;(&#20799;&#23376;&#21487;&#20197;&#24341;&#29992;&#32769;&#29240;&#30340;&#32769;&#29240;&#30340;&#19996;&#35199;&#65292;&#20294;&#26356;&#35937;&#32769;&#29240;)&#65292;&#22914;&#19979;&#20363;&#65306;</p><pre class="programlisting"><p>define host{
		host_name		bighost1
		check_command		check-host-alive
		notification_options	d,u,r
		max_check_attempts	5
		name			hosttemplate1
		}
define host{
		host_name		bighost2
		max_check_attempts	3
		use			hosttemplate1
		name			hosttemplate2
		}
define host{
		host_name		bighost3
		use			hosttemplate2
		}</p></pre><p>&#27880;&#24847;&#20027;&#26426;<span class="strong"><strong>bighost3</strong></span>&#21464;&#37327;&#26469;&#33258;&#20027;&#26426;<span class="strong"><strong>bighost2</strong></span>&#20013;&#23450;&#20041;&#65292;&#32780;&#20854;&#21518;&#26159;&#32487;&#25215;&#20027;&#26426;<span class="strong"><strong>bighost1</strong></span>&#30340;&#20869;&#23481;&#12290;&#37319;&#29992;&#22914;&#27492;&#26041;&#24335;&#26469;&#22788;&#29702;&#37197;&#32622;&#25968;&#25454;&#65292;&#20854;&#32467;&#26524;&#23601;&#35937;&#19979;&#38754;&#30340;&#20027;&#26426;&#23450;&#20041;&#19968;&#26679;&#65306;</p><pre class="programlisting"><p>define host{
		host_name		bighost1
		check_command		check-host-alive
		notification_options	d,u,r
		max_check_attempts	5
		}
define host{
		host_name		bighost2
		check_command		check-host-alive
		notification_options	d,u,r
		max_check_attempts	3
		}
define host{
		host_name		bighost3
		check_command		check-host-alive
		notification_options	d,u,r
		max_check_attempts	3
		}</p></pre><p>&#23545;&#20110;&#23545;&#35937;&#32487;&#25215;&#23618;&#27425;&#30340;&#28145;&#24230;&#27809;&#26377;&#38480;&#24230;&#65288;&#32769;&#29240;&#30340;&#32769;&#29240;&#30340;&#32769;&#29240;&#30340;...&#27809;&#26377;&#23613;&#22836;&#30340;&#65289;&#65292;&#20294;&#20320;&#20026;&#20102;&#20445;&#25345;&#28165;&#26970;&#30340;&#23450;&#20041;&#20197;&#20415;&#20110;&#32500;&#25252;&#30340;&#35805;&#21487;&#33021;&#38656;&#35201;&#20943;&#23569;&#32487;&#25215;&#30340;&#23618;&#27425;&#65288;&#21035;&#25226;&#32769;&#31062;&#23447;&#20063;&#25260;&#20986;&#26469;&#65292;&#23478;&#35889;&#27809;&#21150;&#27861;&#30011;&#21862;&#65281;:-D &#65289;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11648"></a>6.4.5.&nbsp;&#29992;&#19981;&#23436;&#25972;&#30340;&#23545;&#35937;&#23450;&#20041;&#20570;&#27169;&#26495;</h3></div></div></div><p>&#29992;&#23450;&#20041;&#19981;&#23436;&#25972;&#30340;&#23545;&#35937;&#23450;&#20041;&#26469;&#20570;&#23545;&#35937;&#27169;&#26495;&#32473;&#20854;&#20182;&#23545;&#35937;&#20570;&#32487;&#25215;&#28304;&#26159;&#21487;&#20197;&#30340;&#65292;&#8220;&#19981;&#23436;&#25972;&#8221;&#30340;&#23545;&#35937;&#24847;&#24605;&#26159;&#23450;&#20041;&#20102;&#23545;&#35937;&#19981;&#21547;&#20840;&#37096;&#20869;&#23481;&#30340;&#23545;&#35937;&#12290;&#20351;&#29992;&#19981;&#23436;&#25972;&#30340;&#23545;&#35937;&#26469;&#20570;&#27169;&#26495;&#36825;&#21487;&#33021;&#30475;&#36215;&#24456;&#22855;&#24618;&#65292;&#20294;&#21364;&#25512;&#33616;&#20320;&#36825;&#20040;&#20570;&#65292;&#20026;&#20160;&#20040;&#21602;&#65311;&#22240;&#20026;&#23427;&#21487;&#20197;&#23450;&#20041;&#19968;&#22534;&#40664;&#35748;&#30340;&#23545;&#35937;&#23646;&#24615;&#32473;&#20854;&#20182;&#30340;&#23545;&#35937;&#29992;&#20110;&#32487;&#25215;&#65288;&#36825;&#23601;&#35937;&#20171;&#32461;&#29238;&#23376;&#20457;&#65306;&#32769;&#29240;&#38271;&#24471;&#30340;&#20116;&#23467;&#24456;&#31471;&#27491;...&#65292;&#20799;&#23376;&#35937;&#20182;&#29240;&#65289;&#12290;&#30475;&#19979;&#38754;&#30340;&#20363;&#23376;&#65306;</p><pre class="programlisting"><p>define host{
		check_command		check-host-alive
		notification_options	d,u,r
		max_check_attempts	5
		name			generichosttemplate
		register		0
		}
define host{
		host_name		bighost1
		address			192.168.1.3
		use			generichosthosttemplate
		}
define host{
		host_name		bighost2
		address			192.168.1.4
		use			generichosthosttemplate
		}</p></pre><p>&#27880;&#24847;&#21040;&#31532;&#19968;&#20010;&#20027;&#26426;&#23545;&#35937;&#30340;&#23450;&#20041;&#26159;&#19981;&#23436;&#25972;&#30340;&#65292;&#22240;&#20026;&#23427;&#32570;&#23569;&#20102;&#24517;&#39035;&#30340;<span class="strong"><strong>host_name</strong></span>&#21464;&#37327;&#12290;&#25105;&#20204;&#19981;&#24819;&#23450;&#20041;&#36825;&#20010;host_name&#65292;&#22240;&#20026;&#23427;&#26159;&#19968;&#20010;&#36890;&#29992;&#30340;&#23545;&#35937;&#27169;&#26495;&#12290;&#20026;&#20102;&#38450;&#27490;&#23427;&#34987;Nagios&#29702;&#35299;&#20026;&#19968;&#20010;&#19968;&#33324;&#30340;&#20027;&#26426;&#65292;&#25105;&#20204;&#25226;<span class="strong"><strong>register</strong></span>&#21464;&#37327;&#35774;&#32622;&#20026;0&#12290;</p><p>&#20027;&#26426;<span class="strong"><strong>bighost1</strong></span>&#21644;<span class="strong"><strong>bighost2</strong></span>&#30340;&#23450;&#20041;&#26469;&#33258;&#20110;&#36890;&#29992;&#23545;&#35937;&#27169;&#26495;&#30340;&#32487;&#25215;&#12290;&#25105;&#20204;&#21482;&#26159;&#36873;&#25321;&#24615;&#22320;&#35206;&#30422;&#20102;<span class="strong"><strong>address</strong></span>&#21464;&#37327;&#23450;&#20041;&#12290;&#20063;&#23601;&#26159;&#35828;&#65292;&#36825;&#20004;&#20010;&#20027;&#26426;&#23558;&#26377;&#30456;&#21516;&#30340;&#23646;&#24615;&#65292;&#38500;&#20102;<span class="strong"><strong>host_name</strong></span>&#21644;<span class="strong"><strong>address</strong></span>&#21464;&#37327;&#19981;&#19968;&#26679;&#12290;&#22312;Nagios&#22788;&#29702;&#36825;&#20010;&#26679;&#20363;&#20013;&#30340;&#37197;&#32622;&#25968;&#25454;&#26102;&#23558;&#31561;&#21516;&#20110;&#20570;&#22914;&#19979;&#23545;&#35937;&#30340;&#23450;&#20041;&#65306;</p><pre class="programlisting"><p>define host{
		host_name		bighost1
		address			192.168.1.3
		check_command		check-host-alive
		notification_options	d,u,r
		max_check_attempts	5
		}
define host{
		host_name		bighost2
		address			192.168.1.4
		check_command		check-host-alive
		notification_options	d,u,r
		max_check_attempts	5
		}</p></pre><p>&#19981;&#23436;&#25972;&#30340;&#23545;&#35937;&#23450;&#20041;&#30340;&#20248;&#21183;&#26368;&#23569;&#26368;&#23569;&#30340;&#19968;&#28857;&#23601;&#26159;&#20320;&#21487;&#20197;&#22312;&#23545;&#35937;&#23450;&#20041;&#30340;&#26102;&#20505;&#23569;&#25171;&#24456;&#22810;&#23383;&#27597;&#65292;&#21516;&#26679;&#65292;&#23427;&#20063;&#21487;&#20197;&#22312;&#20320;&#25913;&#21464;&#22823;&#37327;&#30340;&#20027;&#26426;&#30340;&#21464;&#37327;&#23450;&#20041;&#26102;&#20943;&#23569;&#20320;&#30340;&#30171;&#33510;&#12290;(&#65293;&#65293;&#21407;&#20316;&#32773;&#26080;&#38750;&#26159;&#24819;&#35753;&#29992;&#25143;&#23613;&#37327;&#22312;&#23545;&#35937;&#23450;&#20041;&#30340;&#26102;&#20505;&#29992;&#36825;&#31181;&#29702;&#24615;&#30340;&#34920;&#36798;&#26041;&#24335;&#65292;&#32780;&#19981;&#26159;&#19968;&#22242;&#25968;&#25454;&#30340;&#31896;&#36148;&#26469;&#20570;)</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11686"></a>6.4.6.&nbsp;&#29992;&#25143;&#23450;&#20041;&#21464;&#37327;</h3></div></div></div><p>&#20219;&#20309;&#20320;&#24819;&#22312;&#20027;&#26426;&#12289;&#26381;&#21153;&#25110;&#32852;&#31995;&#20154;&#31561;&#30340;&#24102;&#26377;<a class="link" href="#customobjectvars" title="6.3.&nbsp;&#29992;&#25143;&#33258;&#23450;&#21046;&#23545;&#35937;&#21464;&#37327;">&#29992;&#25143;&#23450;&#21046;&#21464;&#37327;</a>&#30340;&#27169;&#26495;&#23450;&#20041;&#23558;&#35937;&#26631;&#20934;&#30340;&#23545;&#35937;&#21464;&#37327;&#19968;&#26679;&#20570;&#23545;&#35937;&#32487;&#25215;&#30340;&#20256;&#36882;&#65288;&#20171;&#32461;&#19968;&#23545;&#29305;&#27530;&#30340;&#29238;&#23376;&#65306;&#32769;&#29240;&#38271;&#24471;&#39640;&#36807;&#23002;&#26126;&#65292;&#20799;&#20102;&#20063;&#24456;&#39640;&#65289;&#65292;&#35937;&#19979;&#38754;&#30340;&#20363;&#23376;&#65306;</p><pre class="programlisting"><p>define host{
		_customvar1		somevalue  	; &lt;-- Custom host variable
		_snmp_community		public		; &lt;-- Custom host variable
		name			generichosttemplate
		register		0
		}
define host{
		host_name		bighost1
		address			192.168.1.3
		use			generichosthosttemplate
		}</p></pre><p>&#20027;&#26426;<span class="strong"><strong>bighost1</strong></span>&#23558;&#20250;&#32487;&#25215;&#26469;&#33258;&#20110;&#27169;&#26495;<span class="strong"><strong>generichosttemplate</strong></span>&#30340;&#29992;&#25143;&#23450;&#20041;&#21464;&#37327;<span class="strong"><strong>_customvar1</strong></span>&#21644;<span class="strong"><strong>_snmp_community</strong></span>&#21644;&#21508;&#33258;&#30340;&#20540;&#12290;&#20854;&#32467;&#26524;&#26159;&#20027;&#26426;<span class="strong"><strong>bighost1</strong></span>&#30340;&#23450;&#20041;&#23601;&#35937;&#36825;&#26679;&#65306;</p><pre class="programlisting"><p>define host{
		host_name		bighost1
		address			192.168.1.3
		_customvar1		somevalue
		_snmp_community		public
		}</p></pre></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11717"></a>6.4.7.&nbsp;&#21462;&#28040;&#32487;&#25215;&#30340;&#23383;&#20018;&#20540;</h3></div></div></div><p>&#26377;&#20123;&#24773;&#20917;&#19979;&#65292;&#20320;&#24182;&#19981;&#24819;&#35753;&#20320;&#30340;&#20027;&#26426;&#12289;&#26381;&#21153;&#25110;&#32852;&#31995;&#20154;&#23545;&#35937;&#23450;&#20041;&#32487;&#25215;&#20174;&#27169;&#26495;&#37324;&#23450;&#20041;&#30340;&#20540;&#65292;&#22312;&#26159;&#36825;&#31181;&#24773;&#20917;&#19979;&#65292;&#20320;&#21487;&#20197;&#25351;&#23450;&#20026;"<span class="emphasis"><em>null</em></span>"(&#26159;&#19981;&#24102;&#21452;&#24341;&#21495;&#30340;)&#20570;&#20026;&#21464;&#37327;&#30340;&#20540;&#20197;&#38450;&#27490;&#32487;&#25215;&#27169;&#26495;&#30340;&#20540;&#65288;&#20171;&#32461;&#29238;&#23376;&#20457;&#65306;&#32769;&#29240;&#20010;&#23376;&#39640;&#36807;&#23002;&#26126;&#65292;&#20294;&#20799;&#23376;&#24456;&#26222;&#36890;&#65292;&#20799;&#23376;&#22810;&#39640;&#36824;&#26159;&#19981;&#30693;&#36947;&#21543;&#65311;&#65281;&#65289;&#65292;&#22914;&#19979;&#38754;&#30340;&#20363;&#23376;&#65306;</p><pre class="programlisting"><p>define host{
		event_handler		my-event-handler-command
		name			generichosttemplate
		register		0
		}
define host{
		host_name		bighost1
		address			192.168.1.3
		event_handler		null
		use			generichosthosttemplate
		}</p></pre><p>&#22312;&#19978;&#20363;&#20013;&#65292;&#20027;&#26426;<span class="strong"><strong>bighost1</strong></span>&#30340;&#23545;&#35937;&#23450;&#20041;&#23558;&#19981;&#20877;&#32487;&#25215;<span class="strong"><strong>event_handler</strong></span>&#21464;&#37327;&#65292;&#32780;&#36825;&#20010;&#21464;&#37327;&#26159;&#23450;&#20041;&#22312;&#27169;&#26495;<span class="strong"><strong>generichosttemplate</strong></span>&#20043;&#20013;&#12290;&#20854;&#32467;&#26524;&#23601;&#26159;&#20027;&#26426;<span class="strong"><strong>bighost1</strong></span>&#30340;&#23450;&#20041;&#26159;&#19979;&#38754;&#36825;&#26679;&#23376;&#65306;</p><pre class="programlisting"><p>define host{
		host_name		bighost1
		address			192.168.1.3
		}</p></pre></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="add_string"></a>6.4.8.&nbsp;&#32487;&#25215;&#26102;&#38468;&#21152;&#23383;&#20018;&#20540;</h3></div></div></div><p>Nagios&#22312;&#22788;&#29702;&#26102;&#24635;&#26159;&#35753;&#26412;&#22320;&#21464;&#37327;&#39640;&#20110;&#20174;&#27169;&#26495;&#32487;&#25215;&#65292;&#20294;&#26377;&#20123;&#26102;&#20505;&#24819;&#35753;&#26412;&#22320;&#21464;&#37327;<span class="strong"><strong>&#19982;</strong></span>&#32487;&#25215;&#27169;&#26495;&#30340;&#23545;&#35937;&#21516;&#26102;&#36215;&#25928;&#12290;</p><p>&#36825;&#31181;&#8220;<span class="emphasis"><em>&#38468;&#21152;&#32487;&#25215;</em></span>&#8221;&#24335;&#30340;&#32487;&#25215;&#21487;&#20197;&#26159;&#22312;&#26412;&#22320;&#21464;&#37327;&#20013;&#29992;&#19968;&#20010;&#38468;&#21152;(&#20063;&#23601;&#19968;&#20010;"+"&#21495;)&#24335;&#26469;&#34920;&#31034;&#23427;&#12290;&#20294;&#36825;&#31181;&#29305;&#24615;&#21482;&#25903;&#25345;&#26631;&#20934;&#65288;&#38750;&#29992;&#25143;&#23450;&#21046;&#65289;&#21464;&#37327;&#20013;&#21253;&#21547;&#36825;&#31181;&#20018;&#23450;&#20041;(&#20171;&#32461;&#29238;&#23376;&#20457;&#65306;&#32769;&#29240;&#20010;&#23376;&#26159;&#20108;&#31859;&#19968;&#65292;&#20799;&#23376;&#20010;&#23376;&#27604;&#32769;&#29240;&#39640;&#20986;&#20004;&#20844;&#20998;)&#12290;&#22914;&#19979;&#38754;&#30340;&#20363;&#23376;&#65306;</p><pre class="programlisting"><p>define host{
		hostgroups		all-servers
		name			generichosttemplate
		register		0
		}
define host{
		host_name		linuxserver1
		hostgroups		+linux-servers,web-servers
		use			generichosthosttemplate
		}</p></pre><p>&#22312;&#19978;&#38754;&#20363;&#23376;&#20013;&#65292;&#20027;&#26426;<span class="strong"><strong>linuxserver1</strong></span>&#30340;&#26412;&#22320;&#21464;&#37327;<span class="strong"><strong>hostgroups</strong></span>&#23558;&#20250;&#38468;&#21152;&#22312;&#30001;&#27169;&#26495;<span class="strong"><strong>generichosttemplate</strong></span>&#30340;&#21464;&#37327;&#20043;&#19978;&#65292;&#20854;&#20027;&#26426;<span class="strong"><strong>linuxserver1</strong></span>&#30340;&#32467;&#26524;&#23601;&#26159;&#65306;</p><pre class="programlisting"><p>define host{
		host_name		linuxserver1
		hostgroups		all-servers,linux-servers,web-servers
		}</p></pre></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11778"></a>6.4.9.&nbsp;&#38544;&#21547;&#32487;&#25215;</h3></div></div></div><p>&#36890;&#24120;&#24773;&#20917;&#19979;&#65292;&#20320;&#24517;&#39035;&#28165;&#26224;&#22320;&#25351;&#23450;&#21738;&#20123;&#23545;&#35937;&#30340;&#21464;&#37327;&#26159;&#20174;&#27169;&#26495;&#32487;&#25215;&#30340;&#65292;&#26377;&#24456;&#23569;&#30340;&#24773;&#20917;&#24182;&#19981;&#36981;&#23432;&#36825;&#20010;&#35268;&#21017;&#65292;&#20063;&#23601;&#26159;&#24403;Nagios&#35748;&#20026;&#20320;&#24819;&#21033;&#29992;&#20854;&#20013;&#30340;&#19968;&#20010;&#20540;&#32780;&#19981;&#26159;&#20174;&#30456;&#20851;&#23545;&#35937;&#24341;&#29992;&#26102;&#26159;&#36825;&#26679;&#30340;&#12290;&#20363;&#22914;&#65292;&#22914;&#26524;&#20320;&#19981;&#25351;&#26126;&#26224;&#22320;&#25351;&#23450;&#26377;&#20123;&#26381;&#21153;&#30340;&#21464;&#37327;&#23558;&#26159;&#20174;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#32467;&#21512;&#20013;&#33719;&#24471;&#12290;</p><p>&#19979;&#34920;&#20013;&#21015;&#20030;&#20102;&#36825;&#20123;&#24773;&#20917;&#12290;&#24403;&#20320;&#27809;&#26377;&#29305;&#21035;&#28165;&#26224;&#22320;&#25351;&#23450;&#23545;&#35937;&#21464;&#37327;&#20540;&#24182;&#19988;&#27809;&#26377;&#21487;&#20174;&#27169;&#26495;&#32487;&#25215;&#30340;&#20540;&#30340;&#26102;&#20505;&#65292;&#19979;&#38754;&#21015;&#20986;&#30340;&#24773;&#20917;&#23601;&#20250;&#20174;&#30456;&#20851;&#23545;&#35937;&#37324;&#38754;&#24341;&#29992;&#20174;&#32780;&#23454;&#29616;&#38544;&#21547;&#32487;&#25215;&#12290;</p><div class="table"><a name="d0e11785"></a><p class="title"><b>&#34920;&nbsp;6.2.&nbsp;</b></p><div class="table-contents"><table border="1"><colgroup><col><col><col></colgroup><thead><tr><th>Object Type</th><th>Object Variable</th><th>Implied Source</th></tr></thead><tbody><tr><td rowspan="3">&#26381;&#21153;</td><td><span class="strong"><strong>contact_groups</strong></span></td><td>&#32465;&#23450;&#30340;&#20027;&#26426;&#23545;&#35937;&#20013;&#30340;<span class="strong"><strong>contact_groups</strong></span>&#22495;</td></tr><tr><td><span class="strong"><strong>notification_interval</strong></span></td><td>&#32465;&#23450;&#30340;&#20027;&#26426;&#23545;&#35937;&#20013;&#30340;<span class="strong"><strong>notification_interval</strong></span>&#22495;</td></tr><tr><td><span class="strong"><strong>notification_period</strong></span></td><td>&#32465;&#23450;&#30340;&#20027;&#26426;&#23545;&#35937;&#20013;&#30340;<span class="strong"><strong>notification_period</strong></span>&#22495;</td></tr><tr><td rowspan="3">&#20027;&#26426;&#25193;&#23637;</td><td><span class="strong"><strong>contact_groups</strong></span></td><td>&#32465;&#23450;&#30340;&#20027;&#26426;&#23545;&#35937;&#20013;&#30340;<span class="strong"><strong>contact_groups</strong></span>&#22495;</td></tr><tr><td><span class="strong"><strong>notification_interval</strong></span></td><td>&#32465;&#23450;&#30340;&#20027;&#26426;&#23545;&#35937;&#20013;&#30340;<span class="strong"><strong>notification_interval</strong></span>&#22495;</td></tr><tr><td><span class="strong"><strong>escalation_period</strong></span></td><td>&#32465;&#23450;&#30340;&#20027;&#26426;&#23545;&#35937;&#20013;&#30340;<span class="strong"><strong>notification_period</strong></span>&#22495;</td></tr><tr><td rowspan="3">&#26381;&#21153;&#25193;&#23637;</td><td><span class="strong"><strong>contact_groups</strong></span></td><td>&#32465;&#23450;&#30340;&#26381;&#21153;&#23545;&#35937;&#20013;&#30340;<span class="strong"><strong>contact_groups</strong></span>&#22495;</td></tr><tr><td><span class="strong"><strong>notification_interval</strong></span></td><td>&#32465;&#23450;&#30340;&#26381;&#21153;&#23545;&#35937;&#20013;&#30340;<span class="strong"><strong>notification_interval</strong></span>&#22495;</td></tr><tr><td><span class="strong"><strong>escalation_period</strong></span></td><td>&#32465;&#23450;&#30340;&#26381;&#21153;&#23545;&#35937;&#20013;&#30340;<span class="strong"><strong>notification_period</strong></span>&#22495;</td></tr></tbody></table></div></div><br class="table-break"></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11883"></a>6.4.10.&nbsp;&#22312;&#23545;&#35937;&#25193;&#23637;&#37324;&#30340;&#38544;&#21547;&#19982;&#38468;&#21152;&#32487;&#25215;</h3></div></div></div><p>&#26381;&#21153;&#25193;&#23637;&#19982;&#26381;&#21153;&#25193;&#23637;&#30340;&#23545;&#35937;&#23450;&#20041;&#21487;&#20197;&#23558;&#38544;&#21547;&#32487;&#25215;&#21644;&#38468;&#21152;&#32487;&#25215;&#32467;&#21512;&#36215;&#26469;&#20351;&#29992;&#12290;&#22914;&#26524;&#23545;&#35937;&#25193;&#23637;&#37324;<span class="emphasis"><em>&#19981;</em></span>&#32487;&#25215;&#20854;&#20182;&#25193;&#23637;&#23545;&#35937;&#27169;&#26495;&#20013;<span class="strong"><strong>contact_groups</strong></span>&#25110;&#26159;<span class="strong"><strong>contacts</strong></span>&#22495;&#30340;&#20540;&#65292;&#32780;&#19988;&#23427;<span class="strong"><strong>contact_groups</strong></span>&#25110;<span class="strong"><strong>contacts</strong></span>&#22495;&#37324;&#20197;(+)&#21495;&#24320;&#22836;&#65292;&#37027;&#20040;&#65292;&#20027;&#26426;&#25110;&#26381;&#21153;&#23450;&#20041;&#37324;&#30340;<span class="strong"><strong>contact_groups</strong></span>&#25110;<span class="strong"><strong>contacts</strong></span>&#22495;&#23558;&#20351;&#29992;&#38468;&#21152;&#32487;&#25215;&#36923;&#36753;&#30340;&#35268;&#21017;&#26469;&#22788;&#29702;&#12290;</p><p>&#25630;&#36855;&#31946;&#20102;&#21543;&#65311;&#36825;&#26377;&#20010;&#20363;&#23376;&#65306;</p><pre class="programlisting"><p>define host{
		name 		linux-server
		contact_groups	linux-admins
		...
		}
define hostescalation{
		host_name	linux-server
		contact_groups	+management
		...
		}</p></pre><p>&#19978;&#38754;&#30340;&#20363;&#23376;&#30456;&#24403;&#20110;&#36825;&#26679;&#65306;</p><pre class="programlisting"><p>define hostescalation{
		host_name	linux-server
		contact_groups	linux-admins,management
		...
		}</p></pre><p>(&#65293;&#65293;&#22914;&#26524;&#20320;&#35273;&#24471;&#36825;&#26159;&#20010;&#24618;&#37324;&#24618;&#27668;&#30340;&#35268;&#21017;&#65292;&#36824;&#26159;&#32769;&#32769;&#23454;&#23454;&#22320;&#20889;&#26126;&#30333;&#30340;&#22909;)</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11921"></a>6.4.11.&nbsp;&#22810;&#37325;&#32487;&#25215;</h3></div></div></div><p>&#36804;&#20170;&#20026;&#27490;&#65292;&#25152;&#26377;&#30340;&#20363;&#23376;&#37117;&#26159;&#20174;&#21333;&#19968;&#30340;&#28304;&#19978;&#26469;&#20570;&#23545;&#35937;&#23450;&#20041;&#26102;&#32487;&#25215;&#23545;&#35937;&#30340;&#21464;&#37327;&#25110;&#22495;&#20540;&#12290;&#20320;&#21487;&#20197;&#22312;&#19968;&#20010;&#22797;&#26434;&#30340;&#37197;&#32622;&#37324;&#20351;&#29992;&#22810;&#20010;&#28304;&#26469;&#23436;&#25104;&#23545;&#35937;&#30340;&#21464;&#37327;&#25110;&#22495;&#20540;&#30340;&#23450;&#20041;&#12290;&#35937;&#19979;&#38754;&#30340;&#20363;&#23376;&#65306;</p><pre class="programlisting"><p># Generic host template
define host{
		name 			generic-host
		active_checks_enabled	1
		check_interval		10
		...
		register 		0
		}
# Development web server template
define host{
		name 			development-server
		check_interval		15
		notification_options	d,u,r
		...
		register 		0
		}
# Development web server
define host{
		use			generic-host,development-server
		host_name 		devweb1
		...
		}</p></pre><div><img src="../pub/images/multiple-templates1.png"></div><p>&#19978;&#20363;&#20013;&#65292;&#20027;&#26426;<span class="strong"><strong>devweb1</strong></span>&#26159;&#20174;&#20004;&#20010;&#28304;&#27169;&#26495;<span class="strong"><strong>generic-host</strong></span>&#21644;<span class="strong"><strong>development-server</strong></span>&#20013;&#32487;&#25215;&#21464;&#37327;&#21644;&#22495;&#12290;&#35201;&#27880;&#24847;&#21040;<span class="strong"><strong>check_interval</strong></span>&#22495;&#22312;&#20004;&#20010;&#28304;&#37324;&#37117;&#26377;&#23450;&#20041;&#12290;&#30001;&#20110;<span class="strong"><strong>generic-host</strong></span>&#26159;&#31532;&#19968;&#20010;&#34987;&#20027;&#26426;<span class="strong"><strong>devweb1</strong></span>&#30340;<span class="strong"><strong>use</strong></span>&#22495;&#37324;&#35828;&#26126;&#30340;&#27169;&#26495;&#65292;&#37027;&#20040;&#23427;&#30340;<span class="strong"><strong>check_interval</strong></span>&#22495;&#20540;&#23558;&#20256;&#32473;&#20027;&#26426;<span class="strong"><strong>devweb1</strong></span>&#12290;&#37027;&#20040;&#36825;&#31181;&#32487;&#25215;&#35268;&#21017;&#19979;&#65292;&#20027;&#26426;<span class="strong"><strong>devweb1</strong></span>&#23558;&#35937;&#22914;&#19979;&#30340;&#23450;&#20041;&#65306;</p><pre class="programlisting"><p># Development web server
define host{
		host_name 		devweb1
		active_checks_enabled	1
		check_interval		10
		notification_options	d,u,r
		...
		}</p></pre></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11965"></a>6.4.12.&nbsp;&#22312;&#22810;&#37325;&#32487;&#25215;&#20013;&#25351;&#23450;&#20248;&#20808;&#32423;</h3></div></div></div><p>&#24403;&#20320;&#20351;&#29992;&#22810;&#20010;&#28304;&#20570;&#32487;&#25215;&#26102;&#65292;&#21578;&#35785;Nagios&#22914;&#20309;&#22788;&#29702;&#37027;&#20123;&#21464;&#37327;&#26159;&#24456;&#37325;&#35201;&#30340;&#20107;&#12290;&#19968;&#33324;&#26159;Nagios&#23558;&#20250;&#20351;&#29992;<span class="strong"><strong>use</strong></span>&#22495;&#20013;&#25351;&#23450;&#30340;&#31532;&#19968;&#20010;&#23545;&#35937;&#27169;&#26495;&#65288;&#23601;&#26159;&#31532;&#19968;&#20010;&#28304;&#65289;&#12290;&#26082;&#28982;&#26159;&#21487;&#20197;&#20174;&#22810;&#20010;&#28304;&#37324;&#26469;&#32487;&#25215;&#21464;&#37327;&#25110;&#22495;&#20540;(&#65293;&#65293;&#23588;&#20854;&#26159;&#27599;&#20010;&#28304;&#37117;&#26159;&#22810;&#23618;&#27425;&#32487;&#25215;&#19979;&#26469;&#30340;&#26102;&#20505;)&#65292;&#26377;&#24517;&#35201;&#28165;&#26224;&#22320;&#22788;&#29702;&#36825;&#20123;&#21464;&#37327;&#21644;&#22495;&#30340;&#20248;&#20808;&#32423;&#21035;&#12290;</p><p>&#32771;&#34385;&#22914;&#19979;&#30340;&#28041;&#21450;&#21040;&#19977;&#20010;&#23545;&#35937;&#27169;&#26495;&#30340;&#20027;&#26426;&#23450;&#20041;&#65306;</p><div><img src="../pub/images/multiple-templates2.png"></div><pre class="programlisting"><p># Development web server
define host{
		use 			1, 4, 8
		host_name		devweb1
		...
		}</p></pre><p>&#22914;&#26524;&#20174;&#19968;&#20010;&#25110;&#22810;&#20010;&#27169;&#26495;&#20013;&#35201;&#32487;&#25215;&#32780;&#28041;&#21450;&#21040;&#22810;&#20010;&#23545;&#35937;&#30340;&#24341;&#29992;&#26102;&#65292;&#20248;&#20808;&#32423;&#30340;&#22788;&#29702;&#26041;&#24335;&#26159;&#20197;&#21491;&#20391;&#20248;&#20808;&#65288;&#65293;&#65293;&#23601;&#26159;use&#20013;&#25351;&#26126;&#30340;&#31532;&#19968;&#20010;&#30452;&#25509;&#23545;&#35937;&#28304;1&#12289;&#30452;&#25509;&#28304;&#30340;&#29238;&#23545;&#35937;&#33410;&#28857;2&#12289;&#23545;&#35937;&#33410;&#28857;2&#30340;&#29238;&#23545;&#35937;3&#12289;&#31532;&#20108;&#20010;&#30452;&#25509;&#23545;&#35937;&#28304;4&#12289;&#28304;4&#30340;&#29238;&#33410;&#28857;5...&#20381;&#27425;&#31867;&#25512;&#65292;&#27880;&#24847;&#30475;&#22270;&#20013;&#30340;&#31034;&#24847;&#65289;&#12290;&#27979;&#35797;&#12289;&#26816;&#39564;&#21644;&#25490;&#38169;&#23558;&#26377;&#21161;&#20110;&#20320;&#26356;&#20934;&#30830;&#22320;&#29702;&#35299;&#35937;&#36825;&#31181;&#22797;&#26434;&#30340;&#32487;&#25215;&#20851;&#31995;&#12290;(&#65293;&#65293;&#32769;&#23110;&#65292;&#36319;&#25105;&#19968;&#22359;&#20799;&#20986;&#26469;&#30475;&#19978;&#24093;...)</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="downtime"></a>6.5.&nbsp;&#35745;&#21010;&#20572;&#26426;&#26102;&#38388;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11984"></a>6.5.1.&nbsp;&#20171;&#32461;</h3></div></div></div><div><img src="../pub/images/downtime.png"></div><p>Nagios&#37324;&#21487;&#20197;&#32473;&#25152;&#30417;&#25511;&#20027;&#26426;&#19982;&#26381;&#21153;&#25351;&#23450;&#19968;&#20010;&#35745;&#21010;&#30340;&#20572;&#26426;&#26102;&#38388;&#12290;&#36825;&#22312;&#24471;&#30693;&#25152;&#30417;&#25511;&#30340;&#26381;&#21153;&#25110;&#20027;&#26426;&#35201;&#22312;&#26576;&#20010;&#26102;&#38388;&#20869;&#35201;&#20572;&#26426;&#20197;&#21319;&#32423;&#31561;&#26102;&#20505;&#38750;&#24120;&#26377;&#29992;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11990"></a>6.5.2.&nbsp;&#35745;&#21010;&#20572;&#26426;&#26102;&#38388;</h3></div></div></div><p>&#21487;&#20197;&#29992;<a class="link" href="#cgis_extinfo_cgi">&#25193;&#23637;&#20449;&#24687;CGI&#27169;&#22359;</a>&#26469;&#23545;&#26576;&#20027;&#26426;&#25110;&#26381;&#21153;&#25351;&#23450;&#35745;&#21010;&#20572;&#26426;&#26102;&#38388;(&#21487;&#20197;&#22312;&#26597;&#30475;&#20027;&#26426;&#25110;&#26381;&#21153;&#20449;&#24687;&#26102;&#26469;&#20570;)&#12290;&#28857;&#20987;&#19968;&#19979;"&#32473;&#27492;&#20027;&#26426;/&#26381;&#21153;&#35774;&#32622;&#35745;&#21010;&#20572;&#26426;&#26102;&#38388;"&#30340;&#38142;&#25509;&#26469;&#24320;&#22987;&#32534;&#21046;&#19968;&#20010;&#35745;&#21010;&#20572;&#26426;&#26102;&#38388;&#12290;</p><p>&#19968;&#26086;&#32473;&#20027;&#26426;&#19982;&#26381;&#21153;&#32534;&#21046;&#20102;&#19968;&#20010;&#35745;&#21010;&#20572;&#26426;&#26102;&#38388;&#65292;Nagios&#23558;&#20250;&#32473;&#20027;&#26426;&#19982;&#26381;&#21153;&#21152;&#20837;&#19968;&#26465;&#27880;&#37322;&#20197;&#35828;&#26126;&#22312;&#36825;&#20010;&#26399;&#38388;&#35813;&#20027;&#26426;&#19982;&#26381;&#21153;&#26159;&#22788;&#20110;&#35745;&#21010;&#20572;&#26426;&#26102;&#38388;&#20869;&#12290;&#24403;&#35745;&#21010;&#20572;&#26426;&#26102;&#38388;&#36807;&#21435;&#20102;&#65292;Nagios&#23558;&#33258;&#21160;&#22320;&#21024;&#38500;&#37027;&#26465;&#28155;&#21152;&#30340;&#27880;&#37322;&#12290;&#24456;&#26834;&#21543;&#65311;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12000"></a>6.5.3.&nbsp;&#22266;&#23450;&#30340;&#19982;&#21487;&#21464;&#30340;&#20572;&#26426;&#26102;&#38388;</h3></div></div></div><p>&#24403;&#36890;&#36807;Web&#26469;&#32534;&#21046;&#19968;&#20010;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#35745;&#21010;&#20572;&#26426;&#26102;&#38388;&#26102;&#65292;Nagios&#20250;&#35810;&#38382;&#20572;&#26426;&#26102;&#38388;&#26159;&#22266;&#23450;&#24335;&#36824;&#26159;&#21487;&#21464;&#24335;&#65292;&#36825;&#37324;&#26469;&#35299;&#37322;&#19968;&#19979;&#8220;&#22266;&#23450;&#24335;&#8221;&#19982;&#8220;&#21487;&#21464;&#24335;&#8221;&#26377;&#20309;&#19981;&#21516;&#65306;</p><p>"&#22266;&#23450;&#24335;"&#20572;&#26426;&#26102;&#38388;&#21551;&#21160;&#21644;&#20572;&#27490;&#22312;&#20320;&#25152;&#32534;&#21046;&#35745;&#21010;&#25152;&#35774;&#23450;&#30340;&#26102;&#38388;&#20869;&#24320;&#22987;&#19982;&#32467;&#26463;&#65292;&#36825;&#24403;&#28982;&#24456;&#31616;&#21333;&#21862;...</p><p>"&#21487;&#21464;&#24335;"&#20572;&#26426;&#26102;&#38388;&#21487;&#20197;&#29992;&#22312;&#24403;&#30693;&#36947;&#20027;&#26426;&#19982;&#26381;&#21153;&#35201;&#20572;&#26426;X&#20998;&#38047;(&#25110;X&#23567;&#26102;)&#20294;&#26159;&#24182;&#19981;&#30693;&#36947;&#20160;&#20040;&#26102;&#20505;&#24320;&#22987;&#20572;&#26426;&#26102;&#65292;&#24403;&#20351;&#29992;&#21487;&#21464;&#24335;&#20572;&#26426;&#26102;&#38388;&#65292;Nagios&#23558;&#22312;&#26576;&#20010;&#26102;&#38388;&#24320;&#22987;&#25191;&#34892;&#20572;&#26426;&#65292;&#21040;&#20320;&#25351;&#23450;&#30340;&#26102;&#38388;&#38388;&#38548;&#36798;&#21040;&#21518;&#32467;&#26463;&#20572;&#26426;&#12290;&#23427;&#20551;&#23450;&#20102;&#20027;&#26426;&#19982;&#26381;&#21153;&#20351;&#29992;&#19968;&#20010;&#21487;&#21464;&#30340;&#20572;&#26426;&#26102;&#38388;&#27573;&#26469;&#20570;&#20572;&#26426;&#26102;&#30340;&#25805;&#20316;&#65292;&#32780;&#36825;&#20010;&#20572;&#26426;&#26102;&#38388;&#27573;&#24320;&#22987;&#20110;&#20027;&#26426;&#36827;&#20837;&#23445;&#26426;(&#25110;&#19981;&#21487;&#36798;)&#29366;&#24577;&#25110;&#26159;&#26381;&#21153;&#22788;&#20110;&#38750;&#27491;&#24120;&#29366;&#24577;&#26102;&#65292;&#32467;&#26463;&#26102;&#38388;&#26159;&#32463;&#36807;&#20102;&#20320;&#25351;&#23450;&#30340;&#26102;&#38388;&#38388;&#38548;&#20043;&#21518;&#30340;&#37027;&#20010;&#26102;&#38388;&#28857;&#65292;&#21363;&#20415;&#26159;&#22312;&#27492;&#20043;&#21069;&#20027;&#26426;&#19982;&#26381;&#21153;&#24050;&#32463;&#24674;&#22797;&#20063;&#26159;&#35748;&#20026;&#26159;&#23427;&#36824;&#22788;&#20110;&#20572;&#26426;&#26102;&#38388;&#20869;&#12290;&#23545;&#20110;&#36825;&#26679;&#30340;&#24773;&#20917;&#20320;&#23558;&#24456;&#38656;&#35201;&#36825;&#31181;&#20572;&#26426;&#26102;&#38388;&#23450;&#20041;&#65292;&#20320;&#38656;&#35201;&#20570;&#19968;&#20010;&#25925;&#38556;&#20462;&#22797;&#65292;&#20294;&#38656;&#35201;&#37325;&#21551;&#21160;&#26426;&#22120;&#25165;&#33021;&#35753;&#23427;&#30495;&#27491;&#21551;&#25928;&#12290;&#24456;&#32874;&#26126;&#65292;&#19981;&#26159;&#20040;&#65311;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12009"></a>6.5.4.&nbsp;&#35302;&#21457;&#20572;&#26426;&#26102;&#38388;</h3></div></div></div><p>&#24403;&#32534;&#21046;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#20572;&#26426;&#26102;&#38388;&#26102;&#38656;&#35201;&#32473;&#20986;&#21487;&#23545;&#23427;&#8220;&#35302;&#21457;&#8221;&#30340;&#20572;&#26426;&#26102;&#38388;&#12290;&#20160;&#20040;&#26159;&#35302;&#21457;&#20572;&#26426;&#26102;&#38388;&#65311;&#26377;&#35302;&#21457;&#30340;&#20572;&#26426;&#26102;&#38388;&#24320;&#22987;&#20110;&#32534;&#21046;&#26102;&#25152;&#25351;&#23450;&#30340;&#20572;&#26426;&#26102;&#38388;&#24320;&#22987;&#30340;&#26102;&#21051;&#65292;&#36825;&#23545;&#20110;&#24456;&#22810;&#20010;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#20572;&#26426;&#26102;&#38388;&#24320;&#22987;&#20110;&#32534;&#21046;&#22909;&#30340;&#26576;&#20010;&#20572;&#26426;&#26102;&#38388;&#26465;&#30446;&#26102;&#26159;&#38750;&#24120;&#26377;&#29992;&#30340;&#12290;&#27604;&#22914;&#65292;&#24403;&#32534;&#21046;&#19968;&#20010;&#20027;&#26426;&#30340;&#20572;&#26426;&#26102;&#38388;(&#22240;&#38656;&#35201;&#20570;&#32500;&#25252;&#32780;&#20570;&#20572;&#26426;)&#26102;&#65292;&#38656;&#35201;&#22312;&#32593;&#32476;&#25299;&#25169;&#20013;&#38024;&#23545;&#36825;&#20010;&#20027;&#26426;&#30340;<span class="emphasis"><em>&#20840;&#37096;&#23376;&#33410;&#28857;</em></span>&#20027;&#26426;&#23450;&#21046;&#35302;&#21457;&#20572;&#26426;&#26102;&#38388;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12017"></a>6.5.5.&nbsp;&#35745;&#21010;&#20572;&#26426;&#26102;&#38388;&#23545;&#36890;&#30693;&#20135;&#29983;&#20160;&#20040;&#24433;&#21709;&#65311;</h3></div></div></div><p>&#24403;&#20027;&#26426;&#19982;&#26381;&#21153;&#22788;&#20110;&#20572;&#26426;&#26102;&#38388;&#20869;&#26102;&#65292;Nagios&#23558;&#19981;&#20250;&#36865;&#20986;&#38024;&#23545;&#36825;&#20010;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#19968;&#33324;&#24847;&#20041;&#30340;&#36890;&#30693;&#12290;&#20294;&#26159;&#65292;&#20250;&#36865;&#20986;&#19968;&#26465;&#20572;&#26426;&#26102;&#38388;&#24320;&#22987;"DOWNTIMESTART"&#30340;&#36890;&#30693;&#65292;&#36825;&#23558;&#32473;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#31649;&#29702;&#32773;&#19968;&#20010;&#25552;&#31034;&#65292;&#22312;&#27492;&#20043;&#21518;&#23558;&#19981;&#20250;&#25910;&#21040;&#20027;&#26426;&#19982;&#26381;&#21153;&#25925;&#38556;&#26102;&#30340;&#21578;&#35686;&#36890;&#30693;&#30452;&#21040;&#20572;&#26426;&#26102;&#38388;&#32467;&#26463;&#12290;</p><p>&#24403;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#20572;&#26426;&#26102;&#38388;&#32467;&#26463;&#26102;&#65292;Nagios&#23558;&#20877;&#27425;&#21487;&#20197;&#36865;&#20986;&#38024;&#23545;&#36825;&#20010;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#19968;&#33324;&#24847;&#20041;&#30340;&#36890;&#30693;&#65292;&#20063;&#20250;&#36865;&#20986;&#19968;&#26465;&#20572;&#26426;&#26102;&#38388;&#32467;&#26463;"DOWNTIMEEND"&#30340;&#36890;&#30693;&#65292;&#36825;&#23558;&#32473;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#31649;&#29702;&#32773;&#25552;&#37266;&#65292;&#22312;&#27492;&#20043;&#21518;&#20250;&#20877;&#27425;&#25910;&#21040;&#21508;&#31181;&#35813;&#26377;&#30340;&#36890;&#30693;&#20102;&#12290;</p><p>&#22914;&#26524;&#39044;&#32622;&#30340;&#20572;&#26426;&#26102;&#38388;&#34987;&#25552;&#21069;&#21462;&#28040;(&#22312;&#26399;&#28385;&#20043;&#21069;)&#65292;&#20250;&#36865;&#20986;&#19968;&#26465;&#20572;&#26426;&#26102;&#38388;&#21462;&#28040;"DOWNTIMECANCELLED"&#30340;&#36890;&#30693;&#32473;&#30456;&#20851;&#30340;&#31649;&#29702;&#21592;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12026"></a>6.5.6.&nbsp;&#35745;&#21010;&#20572;&#26426;&#26102;&#38388;&#30340;&#37325;&#21472;</h3></div></div></div><p>&#36825;&#23601;&#22909;&#35937;&#26159;&#8220;&#22825;&#21834;&#65292;&#23427;&#21448;&#27809;&#21160;&#38745;&#20102;&#12290;&#8221;&#30340;&#24182;&#21457;&#30151;&#65292;&#20320;&#30693;&#36947;&#25105;&#22312;&#35828;&#20160;&#20040;&#12290;&#20320;&#32534;&#21046;&#20102;&#19968;&#20010;&#26381;&#21153;&#20572;&#26426;&#26102;&#38388;&#26469;&#20570;&#8220;&#20363;&#34892;&#8221;&#30340;&#30828;&#20214;&#21319;&#32423;&#65292;&#21482;&#26159;&#22312;&#27492;&#20043;&#21518;&#25165;&#24847;&#35782;&#21040;&#25805;&#20316;&#31995;&#32479;&#30340;&#39537;&#21160;&#19981;&#25903;&#25345;&#23427;&#65281;&#30828;&#30424;RAID&#25630;&#25481;&#20102;&#25110;&#26159;&#39537;&#21160;&#26144;&#20687;&#22833;&#36133;&#25110;&#26159;&#21407;&#22987;&#30424;&#24050;&#32463;&#24443;&#24213;&#23436;&#34507;&#20102;&#12290;&#35937;&#36825;&#26679;&#30340;&#25925;&#20107;&#20250;&#21457;&#29983;&#22312;&#20219;&#20309;&#19968;&#20010;&#20320;&#35748;&#20026;&#21482;&#26159;&#8220;&#20363;&#34892;&#8221;&#30340;&#20572;&#26426;&#26102;&#38388;&#37324;&#65292;&#32780;&#19988;&#30456;&#20284;&#30340;&#25925;&#20107;&#20250;&#19968;&#24149;&#19968;&#24149;&#22320;&#37325;&#28436;&#30528;&#12290;</p><p>&#30475;&#19979;&#38754;&#36825;&#20010;&#22330;&#26223;&#65306;&#20320;&#26159;&#20010;&#20570;&#32593;&#31649;&#30340;&#20498;&#38665;&#34507;&#65292;&#32780;&#19988;</p><div class="orderedlist"><ol type="1"><li>&#20320;&#32473;&#20027;&#26426;A&#23450;&#21046;&#20102;&#20572;&#26426;&#26102;&#38388;&#26159;&#27599;&#21608;&#19968;&#26202;&#19978;19:30-21:30&#65307;</li><li>&#36890;&#24120;&#22823;&#32422;&#26159;&#22312;&#21608;&#19968;&#26202;&#19978;19:45&#26102;&#20250;&#24320;&#22987;&#30828;&#20214;&#21319;&#32423;&#65307;</li><li>&#22312;&#19968;&#20010;&#24456;&#19981;&#24184;&#26085;&#23376;&#37324;&#65292;&#20320;&#22312;&#28010;&#36153;&#20102;&#19968;&#20010;&#21322;&#23567;&#26102;&#26469;&#22788;&#32622;SCSI&#21644;&#39537;&#21160;&#19981;&#20860;&#23481;&#20043;&#21518;&#65292;&#26426;&#22120;&#32456;&#20110;&#24320;&#21551;&#20102;&#65307;</li><li>&#22312;&#21040;&#20102;&#26202;&#19978;21:15&#26102;&#65292;&#20320;&#25165;&#21457;&#29616;&#19968;&#20010;&#20998;&#21306;&#26080;&#27861;&#25346;&#25509;&#25110;&#26159;&#22312;&#30424;&#19978;&#24590;&#20040;&#20063;&#25214;&#19981;&#21040;&#23427;&#65307;</li><li>&#30693;&#36947;&#35201;&#25630;&#24456;&#38271;&#26102;&#38388;&#20102;&#65292;&#20320;&#19981;&#24471;&#19981;&#36820;&#22238;&#37325;&#32534;&#21046;&#23545;&#20027;&#26426;A&#32534;&#21046;&#19968;&#20010;&#39069;&#22806;&#20572;&#26426;&#26102;&#38388;&#65292;&#20174;&#21608;&#19968;&#26202;&#19978;21:20&#21040;&#21608;&#20108;&#20940;&#26216;1:30&#65307;</li></ol></div><p>&#22914;&#26524;&#20320;&#32473;&#20027;&#26426;&#19982;&#26381;&#21153;&#32534;&#21046;&#20102;&#37325;&#21472;&#30340;&#35745;&#21010;&#20572;&#26426;&#26102;&#38388;(&#22312;&#19978;&#20363;&#20013;&#65292;&#26377;19:40&#21040;21:30&#21644;21:20&#21040;1:30&#20004;&#20010;&#20572;&#26426;&#26102;&#38388;)&#26102;&#65292;Nagios&#23558;&#20250;&#31561;&#24453;&#65292;&#30452;&#33267;&#26368;&#21518;&#19968;&#20010;&#32534;&#21046;&#30340;&#20572;&#26426;&#26102;&#38388;&#32467;&#26463;&#26102;&#25165;&#20250;&#36865;&#20986;&#30456;&#20851;&#30340;&#36890;&#30693;&#12290;&#22312;&#19978;&#20363;&#20013;&#65292;&#30452;&#21040;&#21608;&#20108;&#26089;&#26216;&#30340;1:30&#20043;&#21069;&#30340;&#36825;&#27573;&#26102;&#38388;&#37324;&#65292;&#20027;&#26426;A&#30340;&#21508;&#31181;&#36890;&#30693;&#19968;&#30452;&#20250;&#34987;&#21387;&#21046;&#30528;&#12290;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="timeperiods"></a>6.6.&nbsp;&#26102;&#38388;&#21608;&#26399;</h2></div></div></div><p> &#25110;&#35768;&#26159;...<span class="black">"&#27491;&#24403;&#20854;&#26102;&#65311;"</span></p><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12053"></a>6.6.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p><a class="link" href="#objectdefinitions_timeperiod">&#26102;&#38388;&#21608;&#26399;</a>&#23545;&#35937;&#23450;&#20041;&#21487;&#29992;&#20110;&#25511;&#21046;&#20309;&#26102;&#21508;&#31181;&#19981;&#21516;&#30340;&#30417;&#25511;&#19982;&#25253;&#35686;&#30340;&#36923;&#36753;&#21487;&#20197;&#25191;&#34892;&#25110;&#25805;&#20316;&#12290;&#20363;&#22914;&#21487;&#20197;&#38480;&#23450;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#20309;&#26102;&#21487;&#20197;&#25191;&#34892;&#23545;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#35745;&#21010;&#20219;&#21153;&#26816;&#27979;&#65307;</li><li>&#20309;&#26102;&#21487;&#20197;&#36865;&#20986;&#36890;&#30693;&#65307;</li><li>&#20309;&#26102;&#24212;&#29992;&#36890;&#30693;&#25193;&#23637;&#65307;</li><li>&#20309;&#26102;&#20381;&#36182;&#20851;&#31995;&#26159;&#27491;&#30830;&#30340;&#65307;</li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12069"></a>6.6.2.&nbsp;&#26102;&#38388;&#21608;&#26399;&#20013;&#30340;&#20248;&#20808;&#26435;</h3></div></div></div><p><a class="link" href="#objectdefinitions_timeperiod">&#26102;&#38388;&#21608;&#26399;</a>&#30340;&#23545;&#35937;&#23450;&#20041;&#20013;&#26377;&#22810;&#20010;&#19981;&#21516;&#31867;&#22411;&#30340;&#22495;&#65292;&#21253;&#25324;&#21608;&#35745;&#21010;&#12289;&#26376;&#35745;&#21010;&#12289;&#26085;&#21382;&#22411;&#26085;&#26399;&#12290;&#19981;&#21516;&#31867;&#22411;&#30340;&#22495;&#26377;&#19981;&#21516;&#30340;&#20248;&#20808;&#32423;&#21035;&#32780;&#19988;&#20250;&#35206;&#30422;&#21516;&#19968;&#20010;&#26102;&#38388;&#21608;&#26399;&#23450;&#20041;&#37324;&#30340;&#20854;&#20182;&#22495;&#20540;&#12290;&#19981;&#21516;&#31867;&#22411;&#30340;&#22495;&#30340;&#20248;&#20808;&#32423;&#20174;&#39640;&#21040;&#20302;&#20381;&#27425;&#22914;&#19979;(&#65293;&#65293;&#21518;&#38754;&#26159;&#35793;&#32773;&#21152;&#30340;&#20363;&#23376;)&#65306;</p><div class="orderedlist"><ol type="1"><li>&#26085;&#21382;&#22411;&#26085;&#26399;(2008-01-01)&#65293;&#65293;&#25351;&#23450;&#22885;&#36816;&#20250;&#24320;&#24149;&#30340;&#37027;&#22825;&#26159;(2008-08-08)</li><li>&#25351;&#23450;&#26376;&#20221;&#30340;&#26085;&#26399;(January 1st)&#65293;&#65293;&#22269;&#24198;&#26159;&#27599;&#24180;&#30340;&#21313;&#26376;&#19968;&#26085;&#65293;(October 1st)</li><li>&#19968;&#33324;&#26376;&#20221;&#37324;&#30340;&#26085;&#26399;(Day 15)&#65293;&#65293;&#27599;&#20010;&#26376;&#30340;5&#21495;&#21457;&#24037;&#36164;&#21834;(Day 5)</li><li>&#25351;&#23450;&#26376;&#20221;&#37324;&#30340;&#26143;&#26399;&#20960;&#30340;&#27425;&#25968;(2nd Tuesday in December)&#65293;&#65293;&#29238;&#20146;&#33410;&#26159;&#27599;&#24180;&#20845;&#26376;&#30340;&#31532;&#19977;&#20010;&#26143;&#26399;&#22825;(3th Sunday in June)</li><li>&#25351;&#23450;&#26143;&#26399;&#20960;&#30340;&#27425;&#25968;(3rd Monday)&#65293;&#65293;&#27599;&#38548;&#22235;&#21608;&#30340;&#21608;&#20845;&#37117;&#35201;&#25191;&#29677;(4rd Saturday)</li><li>&#19968;&#33324;&#30340;&#21608;&#35745;&#21010;(Tuesday)&#65293;&#65293;&#27599;&#21608;&#20845;&#21644;&#21608;&#26085;&#37117;&#21487;&#20197;&#20241;&#24687;(Saturday Sunday)</li></ol></div><p>&#19981;&#21516;&#30340;&#26102;&#38388;&#21608;&#26399;&#22495;&#30340;&#26679;&#20363;&#21487;&#20197;&#26597;&#38405;<a class="link" href="#objectdefinitions_timeperiod">&#36825;&#31687;</a>&#25991;&#26723;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12094"></a>6.6.3.&nbsp;&#26102;&#38388;&#21608;&#26399;&#22312;&#20027;&#26426;&#19982;&#26381;&#21153;&#26816;&#27979;&#26102;&#26159;&#22914;&#20309;&#36215;&#20316;&#29992;&#30340;&#65311;</h3></div></div></div><p>&#20027;&#26426;&#19982;&#26381;&#21153;&#23450;&#20041;&#37324;&#30340;&#21487;&#36873;&#22495;<span class="strong"><strong>check_period</strong></span>&#21487;&#29992;&#20110;&#25511;&#21046;&#38480;&#23450;&#29305;&#23450;&#30340;&#26102;&#38388;&#21608;&#26399;&#65292;&#23427;&#21487;&#20197;&#29992;&#20110;&#25511;&#21046;&#20309;&#26102;&#36827;&#34892;&#35268;&#26684;&#21270;&#30340;&#35745;&#21010;&#20219;&#21153;&#65292;&#20309;&#26102;&#20570;&#33258;&#20027;&#26816;&#27979;&#31561;&#12290;</p><p>&#22914;&#26524;&#27809;&#26377;&#22312;<span class="strong"><strong>check_period</strong></span>&#22495;&#26469;&#25351;&#23450;&#19968;&#20010;&#26102;&#38388;&#21608;&#26399;&#65292;Nagios&#23558;&#22312;&#20219;&#20309;&#38656;&#35201;&#30340;&#26102;&#20505;&#25191;&#34892;&#35745;&#21010;&#24615;&#30340;&#33258;&#20027;&#26816;&#27979;&#65292;&#23454;&#38469;&#19978;&#30456;&#24403;&#20110;&#35774;&#32622;&#19968;&#20010;24x7&#30340;&#26102;&#38388;&#21608;&#26399;&#12290;</p><p> Specifying a timeperiod in the&#22312;<span class="strong"><strong>check_period</strong></span>&#22495;&#37324;&#25351;&#23450;&#19968;&#20010;&#26102;&#38388;&#21608;&#26399;&#21487;&#20197;&#38480;&#23450;Nagios&#25191;&#34892;&#35268;&#26684;&#21270;&#35745;&#21010;&#26816;&#27979;&#30340;&#26102;&#38388;&#65292;&#20027;&#26426;&#19982;&#26381;&#21153;&#33258;&#20027;&#26816;&#27979;&#30340;&#26102;&#38388;&#12290;&#24403;Nagios&#23581;&#35797;&#21435;&#23545;&#20027;&#26426;&#25110;&#26381;&#21153;&#36827;&#34892;&#19968;&#20010;&#35268;&#26684;&#21270;&#35745;&#21010;&#34920;&#26816;&#27979;&#26102;&#65292;&#23427;&#23558;&#30830;&#20445;&#19979;&#27425;&#26816;&#27979;&#26159;&#22312;&#25351;&#23450;&#30340;&#21512;&#27861;&#26102;&#38388;&#27573;&#20869;&#36827;&#34892;&#12290;&#22914;&#26524;&#19981;&#26159;&#65292;Nagios&#23558;&#35843;&#25972;&#19979;&#27425;&#26816;&#27979;&#26102;&#38388;&#20197;&#20351;&#19979;&#27425;&#26816;&#27979;&#22788;&#20110;&#25351;&#23450;&#30340;&#26102;&#38388;&#21608;&#26399;&#25152;&#38480;&#23450;&#30340;&#21512;&#27861;&#26102;&#38388;&#20869;&#65292;&#36825;&#24847;&#21619;&#30528;&#20027;&#26426;&#25110;&#26381;&#21153;&#30340;&#26816;&#27979;&#21487;&#33021;&#22312;&#19979;&#20010;&#23567;&#26102;&#12289;&#19979;&#19968;&#22825;&#25110;&#19979;&#19968;&#21608;&#31561;&#31561;&#30340;&#26102;&#38388;&#37324;&#19981;&#20250;&#26816;&#27979;&#30452;&#33267;&#21040;&#26102;&#38388;&#12290;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><div><img src="../pub/images/note.gif"></div>&#25353;&#38656;&#26816;&#27979;&#21644;&#24378;&#21046;&#26816;&#27979;&#23558;&#19981;&#21463;<span class="strong"><strong>check_period</strong></span>&#22495;&#25152;&#25351;&#23450;&#30340;&#26102;&#38388;&#21608;&#26399;&#30340;&#38480;&#21046;&#65292;&#36825;&#20010;&#26102;&#38388;&#21608;&#26399;&#21482;&#26159;&#23545;&#35268;&#26684;&#21270;&#35745;&#21010;&#25191;&#34892;&#30340;&#33258;&#20027;&#26816;&#27979;&#20570;&#38480;&#21046;&#12290;</div><p>&#24378;&#28872;&#24314;&#35758;&#20320;&#23545;&#20840;&#37096;&#30340;&#20027;&#26426;&#19982;&#26381;&#21153;&#20351;&#29992;24x7&#36825;&#20010;&#26102;&#38388;&#21608;&#26399;&#65292;&#38500;&#38750;&#20320;&#26377;&#19968;&#20010;&#26126;&#30830;&#30340;&#29702;&#30001;&#21487;&#20197;&#19981;&#36825;&#26679;&#20570;&#12290;&#22914;&#26524;&#27809;&#26377;&#29992;24x7&#65292;&#21487;&#33021;&#22312;&#20320;&#25351;&#23450;&#26102;&#38388;&#21608;&#26399;&#30340;&#30340;&#38750;&#21512;&#27861;&#26102;&#38388;&#37324;(&#26080;&#30417;&#25511;&#30340;&#40657;&#33394;&#26102;&#38388;&#27573;)&#23558;&#20250;&#26377;&#20123;&#40635;&#28902;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#29366;&#24577;&#23558;&#19981;&#20877;&#25913;&#21464;&#65307;</li><li>&#32852;&#31995;&#20154;&#23558;&#20960;&#20046;&#19981;&#20250;&#25910;&#21040;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#37325;&#32622;&#25253;&#35686;&#65307;</li><li>&#22914;&#26524;&#20027;&#26426;&#19982;&#26381;&#21153;&#20174;&#25925;&#38556;&#20013;&#24674;&#22797;&#65292;&#25152;&#23646;&#30340;&#32852;&#31995;&#20154;&#23558;&#19981;&#20250;&#31435;&#21363;&#25910;&#21040;&#24674;&#22797;&#30340;&#36890;&#30693;&#12290;</li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12128"></a>6.6.4.&nbsp;&#26102;&#38388;&#21608;&#26399;&#22312;&#32852;&#31995;&#20154;&#36890;&#30693;&#26102;&#26159;&#22914;&#20309;&#36215;&#20316;&#29992;&#30340;&#65311;</h3></div></div></div><p>&#36890;&#36807;&#20351;&#29992;&#20027;&#26426;&#19982;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#37324;&#30340;<span class="strong"><strong>notification_period</strong></span>&#22495;&#21487;&#20197;&#25351;&#23450;&#19968;&#20010;&#29305;&#23450;&#30340;&#26102;&#38388;&#21608;&#26399;&#65292;&#23427;&#21487;&#20197;&#38480;&#23450;Nagios&#20027;&#26426;&#19982;&#26381;&#21153;&#22312;&#35748;&#23450;&#25925;&#38556;&#25110;&#25925;&#38556;&#24674;&#22797;&#26102;&#36865;&#20986;&#36890;&#30693;&#12290;&#24403;&#20027;&#26426;&#30340;&#36890;&#30693;&#23558;&#35201;&#34987;&#36865;&#20986;&#26102;&#65292;Nagios&#23558;&#20250;&#30830;&#20445;&#24403;&#21069;&#26102;&#21051;&#22788;&#20110;<span class="strong"><strong>notification_period</strong></span>&#25351;&#23450;&#30340;&#26102;&#38388;&#21608;&#26399;&#37324;&#26159;&#21512;&#27861;&#30340;&#26102;&#38388;&#12290;&#22914;&#26524;&#26159;&#21512;&#27861;&#26102;&#38388;&#65292;Nagios&#23558;&#23581;&#35797;&#23545;&#27599;&#19968;&#20010;&#32852;&#31995;&#20154;&#36865;&#20986;&#25925;&#38556;&#19982;&#24674;&#22797;&#30340;&#36890;&#30693;&#12290;</p><p>&#20063;&#21487;&#20197;&#29992;&#22810;&#31181;&#26102;&#38388;&#21608;&#26399;&#26469;&#25511;&#21046;&#36890;&#30693;&#36865;&#21521;&#19981;&#21516;&#30340;&#32852;&#31995;&#20154;&#12290;&#25351;&#23450;<a class="link" href="#objectdefinitions_contact">&#32852;&#31995;&#20154;&#23545;&#35937;&#23450;&#20041;</a>&#37324;&#30340;<span class="strong"><strong>service_notification_period</strong></span>&#21644;<span class="strong"><strong>host_notification_period</strong></span>&#22495;&#65292;&#21487;&#20197;&#23545;&#27599;&#20010;&#32852;&#31995;&#20154;&#25351;&#23450;&#19968;&#20010;&#8220;&#25353;&#24212;&#38656;&#27714;&#8221;&#30340;&#26102;&#38388;&#21608;&#26399;&#12290;&#27599;&#20010;&#32852;&#31995;&#20154;&#23558;&#21482;&#26159;&#22312;&#25351;&#23450;&#30340;&#26102;&#38388;&#21608;&#26399;&#37324;&#25165;&#20250;&#25910;&#21040;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#36890;&#30693;&#12290;</p><p>&#22914;&#20309;&#21019;&#24314;&#19968;&#20010;&#8220;&#25353;&#24212;&#38656;&#27714;&#8221;&#24490;&#29615;&#30340;&#20363;&#23376;&#21487;&#20197;&#26597;&#38405;<a class="link" href="#oncallrotation" title="8.10.&nbsp;&#24212;&#21484;&#24490;&#29615;">&#36825;&#31687;</a>&#25991;&#26723;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12155"></a>6.6.5.&nbsp;&#26102;&#38388;&#21608;&#26399;&#22312;&#36890;&#30693;&#25193;&#23637;&#37324;&#26159;&#22914;&#20309;&#36215;&#20316;&#29992;&#30340;&#65311;</h3></div></div></div><p>&#20351;&#29992;&#26381;&#21153;&#19982;&#20027;&#26426;&#30340;<a class="link" href="#escalations" title="8.9.&nbsp;&#26377;&#20851;&#36890;&#30693;&#30340;&#23545;&#35937;&#25193;&#23637;">&#36890;&#30693;&#25193;&#23637;&#23545;&#35937;</a>&#23450;&#20041;&#37324;&#30340;&#21487;&#36873;&#39033;<span class="strong"><strong>escalation_period</strong></span>&#22495;&#21487;&#20197;&#25351;&#23450;&#19968;&#20010;&#29305;&#23450;&#26102;&#38388;&#21608;&#26399;&#65292;&#23427;&#23558;&#38480;&#23450;&#22312;&#21738;&#20010;&#26102;&#38388;&#20869;&#26159;&#25193;&#23637;&#39033;&#26159;&#21512;&#27861;&#30340;&#19988;&#21487;&#29992;&#30340;&#12290;&#22914;&#26524;&#27809;&#26377;&#20351;&#29992;&#22312;&#25193;&#23637;&#23545;&#35937;&#37324;&#30340;<span class="strong"><strong>escalation_period</strong></span>&#22495;&#65292;&#37027;&#20040;&#25193;&#23637;&#23545;&#35937;&#23558;&#35748;&#23450;&#25152;&#26377;&#26102;&#38388;&#37117;&#26159;&#21512;&#27861;&#26102;&#38388;&#12290;&#22914;&#26524;&#20351;&#29992;&#20102;<span class="strong"><strong>escalation_period</strong></span>&#22495;&#26469;&#25351;&#23450;&#26102;&#38388;&#21608;&#26399;&#65292;Nagios&#23558;&#21482;&#26159;&#22312;&#25351;&#23450;&#26102;&#38388;&#21608;&#26399;&#25152;&#38480;&#23450;&#30340;&#21512;&#27861;&#26102;&#38388;&#20869;&#20351;&#29992;&#25193;&#23637;&#23545;&#35937;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12172"></a>6.6.6.&nbsp;&#26102;&#38388;&#21608;&#26399;&#22312;&#20381;&#36182;&#20851;&#31995;&#37324;&#26159;&#22914;&#20309;&#36215;&#20316;&#29992;&#30340;&#65311;</h3></div></div></div><p>&#36890;&#36807;&#20351;&#29992;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;<a class="link" href="#dependencies" title="8.11.&nbsp;&#20027;&#26426;&#38388;&#19982;&#26381;&#21153;&#38388;&#20381;&#36182;&#20851;&#31995;">&#20381;&#36182;</a>&#20851;&#31995;&#23545;&#35937;&#37324;&#30340;&#21487;&#36873;&#39033;<span class="strong"><strong>dependency_period</strong></span>&#22495;&#26469;&#25351;&#23450;&#19968;&#20010;&#26102;&#38388;&#21608;&#26399;&#65292;&#23427;&#21487;&#20197;&#38480;&#23450;&#20381;&#36182;&#20851;&#31995;&#23545;&#35937;&#22312;&#21738;&#20010;&#26102;&#38388;&#27573;&#20869;&#26159;&#21512;&#27861;&#30340;&#19988;&#21487;&#20197;&#20351;&#29992;&#12290;&#22914;&#26524;&#27809;&#26377;&#22312;&#20381;&#36182;&#20851;&#31995;&#23545;&#35937;&#37324;&#20351;&#29992;<span class="strong"><strong>dependency_period</strong></span>&#22495;&#65292;&#20381;&#36182;&#20851;&#31995;&#23545;&#35937;&#22312;&#20219;&#24847;&#26102;&#38388;&#37324;&#37117;&#26159;&#21512;&#27861;&#21487;&#29992;&#30340;&#12290;&#22914;&#26524;&#22312;&#23545;&#35937;&#20381;&#36182;&#20851;&#31995;&#37324;&#30340;<span class="strong"><strong>dependency_period</strong></span>&#22495;&#25351;&#23450;&#20102;&#26102;&#38388;&#21608;&#26399;&#65292;Nagios&#23558;&#21482;&#26159;&#22312;&#25351;&#23450;&#26102;&#38388;&#21608;&#26399;&#25152;&#38480;&#23450;&#30458;&#21512;&#27861;&#26102;&#38388;&#20869;&#20351;&#29992;&#35813;&#20381;&#36182;&#23545;&#35937;&#12290;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="notifications"></a>6.7.&nbsp;&#36890;&#30693;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12192"></a>6.7.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>&#25105;&#25910;&#21040;&#24456;&#22810;&#20851;&#20110;&#36890;&#30693;&#22914;&#20309;&#36816;&#20316;&#26356;&#31934;&#30830;&#30340;&#38382;&#39064;&#12290;&#27492;&#22788;&#23558;&#23581;&#35797;&#35299;&#35835;&#20309;&#26102;&#21644;&#22914;&#20309;&#23558;&#20027;&#26426;&#19982;&#26381;&#21153;&#36890;&#30693;&#36865;&#20986;&#20197;&#21450;&#35841;&#20250;&#25509;&#25910;&#36825;&#20123;&#36890;&#30693;&#12290;</p><p>&#36890;&#30693;&#25193;&#23637;&#30340;&#35299;&#37322;&#22312;<a class="link" href="#escalations" title="8.9.&nbsp;&#26377;&#20851;&#36890;&#30693;&#30340;&#23545;&#35937;&#25193;&#23637;">&#36825;&#31687;</a>&#25991;&#26723;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12202"></a>6.7.2.&nbsp;&#20309;&#26102;&#20250;&#20570;&#36890;&#30693;&#65311;</h3></div></div></div><p>&#36865;&#20986;&#36890;&#30693;&#30340;&#21028;&#23450;&#26159;&#30001;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#26816;&#27979;&#36923;&#36753;&#26469;&#23436;&#25104;&#30340;&#12290;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#36890;&#30693;&#21457;&#29983;&#20110;&#22914;&#19979;&#24773;&#24418;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#24403;&#19968;&#20010;&#30828;&#24577;&#29366;&#24577;&#21464;&#21270;&#26102;&#65307;&#26356;&#22810;&#26377;&#20851;&#29366;&#24577;&#31867;&#22411;&#19982;&#30828;&#24577;&#21464;&#21270;&#30340;&#20869;&#23481;&#35831;&#26597;&#38405;<a class="link" href="#statetypes" title="6.10.&nbsp;&#29366;&#24577;&#31867;&#22411;">&#36825;&#31687;</a>&#25991;&#26723;&#12290;</li><li>&#24403;&#20027;&#26426;&#25110;&#26381;&#21153;&#20173;&#26087;&#22788;&#20110;&#19968;&#20010;&#30828;&#24577;&#30340;&#38750;&#27491;&#24120;&#29366;&#24577;&#32780;&#19988;&#26368;&#21518;&#19968;&#27425;&#36890;&#30693;&#36865;&#20986;&#30340;&#26102;&#38388;&#36229;&#36807;&#20102;&#20027;&#26426;&#19982;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#37324;&#30340;&lt;<span class="strong"><strong>notification_interval</strong></span>&gt;&#22495;&#25152;&#25351;&#23450;&#30340;&#26102;&#38388;&#26102;&#12290;</li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12218"></a>6.7.3.&nbsp;&#35841;&#20250;&#25910;&#21040;&#36890;&#30693;&#65311;</h3></div></div></div><p>&#27599;&#20010;&#20027;&#26426;&#19982;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#37324;&#37117;&#26377;&lt;<span class="strong"><strong>contact_groups</strong></span>&gt;&#22495;&#26469;&#25351;&#23450;&#25509;&#25910;&#27492;&#20027;&#26426;&#19982;&#26381;&#21153;&#36890;&#30693;&#20869;&#23481;&#30340;&#32852;&#31995;&#20154;&#32452;&#12290;&#32852;&#31995;&#20154;&#32452;&#21487;&#20197;&#21253;&#25324;&#19968;&#20010;&#25110;&#20960;&#20010;&#30456;&#20114;&#29420;&#31435;&#30340;&#32852;&#31995;&#20154;&#12290;</p><p>&#24403;Nagios&#36865;&#20986;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#36890;&#30693;&#65292;&#23558;&#20250;&#36890;&#30693;&#27599;&#20010;&#32852;&#31995;&#20154;&#32452;&#37324;&#30340;&#32852;&#31995;&#20154;&#25104;&#21592;&#65292;&#32852;&#31995;&#20154;&#32452;&#26159;&#30001;&#23545;&#35937;&#23450;&#20041;&#37324;&#30340;&lt;<span class="strong"><strong>contactgroups</strong></span>&gt;&#22495;&#26469;&#35774;&#23450;&#12290;Nagios&#23454;&#29616;&#20102;&#32852;&#31995;&#20154;&#21487;&#20197;&#23646;&#20110;&#22810;&#20010;&#32852;&#31995;&#20154;&#32452;&#65292;&#25152;&#20197;&#20250;&#22312;&#20570;&#36890;&#30693;&#20043;&#21069;&#23558;&#32852;&#31995;&#20154;&#32452;&#37324;&#37325;&#22797;&#20986;&#29616;&#30340;&#32852;&#31995;&#20154;&#21435;&#25481;&#20445;&#35777;&#27599;&#20010;&#32852;&#31995;&#20154;&#25910;&#21040;&#26377;&#19988;&#21482;&#26377;&#19968;&#27425;&#36890;&#30693;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12231"></a>6.7.4.&nbsp;&#36865;&#20986;&#36890;&#30693;&#26102;&#24517;&#39035;&#35201;&#36890;&#36807;&#20160;&#20040;&#26679;&#30340;&#36807;&#28388;&#22120;&#65311;</h3></div></div></div><p>&#22240;&#20026;&#24182;&#38750;&#27599;&#19968;&#20010;&#25509;&#25910;&#36865;&#20986;&#36890;&#30693;&#30340;&#32852;&#31995;&#20154;&#37117;&#38656;&#35201;&#25910;&#21040;&#36890;&#30693;&#25152;&#20197;&#38656;&#35201;&#36807;&#28388;&#22120;&#26469;&#22788;&#29702;&#23427;&#12290;&#36890;&#30693;&#36865;&#20986;&#21069;&#26377;&#22909;&#20960;&#20010;&#32463;&#36807;&#30340;&#36807;&#28388;&#22120;&#65292;&#27491;&#22240;&#22914;&#27492;&#65292;&#25351;&#23450;&#26377;&#32852;&#31995;&#20154;&#23601;&#21487;&#33021;&#25910;&#19981;&#21040;&#20449;&#24687;&#22240;&#20026;&#36807;&#28388;&#22120;&#21487;&#33021;&#25226;&#23427;&#35201;&#25910;&#21040;&#30340;&#20449;&#24687;&#32452;&#36807;&#28388;&#25481;&#20102;&#12290;&#19979;&#38754;&#31245;&#35814;&#32454;&#28857;&#22320;&#20171;&#32461;&#19968;&#19979;&#36890;&#30693;&#22312;&#36865;&#20986;&#21069;&#35201;&#36890;&#36807;&#30340;&#36807;&#28388;&#22120;...</p><div class="sect3" lang="zh-CN"><div class="titlepage"><div><div><h4 class="title"><a name="d0e12236"></a>6.7.4.1.&nbsp;&#31243;&#24207;&#23618;&#38754;&#30340;&#36807;&#28388;&#22120;</h4></div></div></div><p>&#39318;&#20808;&#24517;&#39035;&#36890;&#36807;&#30340;&#36807;&#28388;&#22120;&#26159;&#22312;&#31243;&#24207;&#37324;&#38754;&#20869;&#23884;&#26159;&#21542;&#21457;&#36865;&#36890;&#30693;&#30340;&#36807;&#28388;&#22120;&#12290;&#23427;&#30001;&#20027;&#37197;&#32622;&#31243;&#24207;&#37324;&#30340;<a class="link" href="#enable_notifications" title="&#34920;&nbsp;5.13.&nbsp;&#36890;&#30693;&#36873;&#39033;">enable_notifications</a>&#21464;&#37327;&#20540;&#21021;&#22987;&#21270;&#65292;&#20294;&#21487;&#22312;&#36816;&#34892;&#26102;&#36890;&#36807;Web&#25509;&#21475;&#25913;&#21464;&#23427;&#12290;&#22914;&#26524;&#36890;&#30693;&#22312;&#31243;&#24207;&#23618;&#38754;&#37324;&#26159;&#19981;&#20351;&#33021;&#30340;&#65292;&#37027;&#20040;&#22312;&#36825;&#26399;&#38388;&#37324;&#65292;&#19981;&#20250;&#36865;&#20986;&#20219;&#20309;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#36890;&#30693;&#12290;&#22914;&#26524;&#20351;&#33021;&#20102;&#23427;&#65292;&#20173;&#26087;&#26377;&#20854;&#20182;&#30340;&#36807;&#28388;&#22120;&#35201;&#36890;&#36807;...</p></div><div class="sect3" lang="zh-CN"><div class="titlepage"><div><div><h4 class="title"><a name="d0e12244"></a>6.7.4.2.&nbsp;&#20027;&#26426;&#19982;&#26381;&#21153;&#36807;&#28388;&#22120;</h4></div></div></div><p>&#20027;&#26426;&#19982;&#26381;&#21153;&#36890;&#30693;&#35201;&#36890;&#36807;&#30340;&#31532;&#19968;&#20010;&#36807;&#28388;&#22120;&#26159;&#26816;&#26597;&#20027;&#26426;&#19982;&#26381;&#21153;&#26159;&#21542;&#22788;&#20110;<a class="link" href="#downtime" title="6.5.&nbsp;&#35745;&#21010;&#20572;&#26426;&#26102;&#38388;">&#35745;&#21010;&#20572;&#26426;&#26102;&#38388;&#23450;&#20041;</a>&#30340;&#26102;&#38388;&#27573;&#20869;&#12290;&#22914;&#26524;&#22312;&#20572;&#26426;&#26102;&#38388;&#27573;&#20869;&#65292;&#32852;&#31995;&#20154;&#19981;&#20250;&#25910;&#21040;&#36890;&#30693;&#12290;&#22914;&#26524;&#19981;&#26159;&#22312;&#20572;&#26426;&#26102;&#38388;&#27573;&#20869;&#65292;&#36890;&#30693;&#20250;&#36890;&#36807;&#36825;&#20010;&#36807;&#28388;&#22120;&#32780;&#21040;&#19979;&#19968;&#20010;&#36807;&#28388;&#12290;&#39069;&#22806;&#30340;&#25552;&#37266;&#26159;&#65292;&#22914;&#26524;&#26159;&#22312;&#20027;&#26426;&#30340;&#20572;&#26426;&#26102;&#38388;&#27573;&#20869;&#65292;&#32473;&#20027;&#26426;&#19978;&#30340;&#26381;&#21153;&#36890;&#30693;&#23558;&#20250;&#34987;&#21387;&#21046;&#12290;</p><p>&#35201;&#36890;&#36807;&#30340;&#31532;&#20108;&#20010;&#36807;&#28388;&#22120;&#26159;&#22312;&#26816;&#26597;&#20027;&#26426;&#19982;&#26381;&#21153;&#26159;&#21542;&#22788;&#20110;<a class="link" href="#flapping" title="8.7.&nbsp;&#24863;&#30693;&#21644;&#22788;&#29702;&#29366;&#24577;&#25238;&#21160;">&#25238;&#21160;</a>(&#22914;&#26524;&#20320;&#20351;&#33021;&#20102;&#24863;&#30693;&#25238;&#21160;&#26816;&#27979;&#39033;&#30340;&#35805;)&#12290;&#22914;&#26524;&#26381;&#21153;&#25110;&#20027;&#26426;&#24403;&#21069;&#22788;&#20110;&#25238;&#21160;&#65292;&#32852;&#31995;&#20154;&#19981;&#20250;&#25910;&#21040;&#36890;&#30693;&#65292;&#20854;&#20182;&#24773;&#20917;&#19979;&#65292;&#36825;&#20010;&#36807;&#28388;&#20250;&#36890;&#36807;&#36827;&#20837;&#21040;&#19979;&#20010;&#36807;&#28388;&#22120;&#12290;</p><p>&#35201;&#36890;&#36807;&#30340;&#31532;&#19977;&#20010;&#36807;&#28388;&#22120;&#26159;&#32473;&#20027;&#26426;&#30340;&#19982;&#26381;&#21153;&#30340;&#36890;&#30693;&#36873;&#39033;&#12290;&#27599;&#20010;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#21547;&#26377;&#19968;&#20010;&#36873;&#39033;&#36807;&#28388;&#20197;&#20915;&#23450;&#26159;&#21542;&#22312;&#25253;&#35686;&#12289;&#32039;&#24613;&#21644;&#24674;&#22797;&#31561;&#29366;&#24577;&#26102;&#36865;&#20986;&#36890;&#30693;&#12290;&#30456;&#20284;&#30340;&#65292;&#20027;&#26426;&#23545;&#35937;&#23450;&#20041;&#37324;&#21547;&#26377;&#36873;&#39033;&#20197;&#20915;&#23450;&#26159;&#21542;&#22312;&#23445;&#26426;&#12289;&#19981;&#21487;&#36798;&#21644;&#24674;&#22797;&#31561;&#29366;&#24577;&#26102;&#36865;&#20986;&#36890;&#30693;&#12290;&#22914;&#26524;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#36890;&#30693;&#27809;&#26377;&#36890;&#36807;&#36825;&#20123;&#36807;&#28388;&#36873;&#39033;&#65292;&#37027;&#20040;&#32852;&#31995;&#20154;&#19981;&#20250;&#25910;&#21040;&#36890;&#30693;&#65292;&#22914;&#26524;&#36890;&#36807;&#20102;&#65292;&#21017;&#20250;&#36827;&#20837;&#19979;&#19968;&#20010;&#36807;&#28388;...&#27880;&#24847;&#65292;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#24674;&#22797;&#36890;&#30693;&#20165;&#20165;&#26159;&#24403;&#35825;&#21457;&#23427;&#30340;&#21407;&#22987;&#25925;&#38556;&#36890;&#30693;&#20063;&#36865;&#20986;&#26102;&#25165;&#20250;&#36865;&#20986;&#65292;&#36825;&#26679;&#23601;&#19981;&#20250;&#25910;&#21040;&#19968;&#26465;&#19981;&#30693;&#36947;&#21407;&#22240;&#30340;&#25925;&#38556;&#24674;&#22797;&#36890;&#30693;&#30340;&#12290;</p><p>&#35201;&#36890;&#36807;&#30340;&#31532;&#22235;&#20010;&#36807;&#28388;&#22120;&#26159;&#32473;&#26102;&#38388;&#21608;&#26399;&#30340;&#26816;&#26597;&#12290;&#27599;&#20010;&#20027;&#26426;&#19982;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#37324;&#37117;&#26377;&#19968;&#20010;&lt;<span class="strong"><strong>notification_period</strong></span>&gt;&#36890;&#30693;&#26102;&#38388;&#21608;&#26399;&#36873;&#39033;&#26469;&#25351;&#23450;&#20309;&#26102;&#36865;&#20986;&#36890;&#30693;&#26159;&#21512;&#27861;&#30340;&#26102;&#38388;&#12290;&#22914;&#26524;&#36865;&#20986;&#36890;&#30693;&#30340;&#26102;&#38388;&#27809;&#26377;&#33853;&#22312;&#25351;&#23450;&#30340;&#26102;&#38388;&#21608;&#26399;&#25152;&#21010;&#23450;&#30340;&#33539;&#22260;&#20869;&#30340;&#35805;&#65292;&#27809;&#26377;&#20154;&#20250;&#25910;&#21040;&#36890;&#30693;&#12290;&#22914;&#26524;&#26102;&#38388;&#26159;&#22788;&#20110;&#25351;&#23450;&#30340;&#26102;&#38388;&#21608;&#26399;&#20043;&#20869;&#30340;&#35805;&#65292;&#35813;&#36807;&#28388;&#20250;&#36890;&#36807;&#65292;&#21017;&#20250;&#36827;&#20837;&#19968;&#19979;&#20010;&#36807;&#28388;...&#27880;&#24847;&#65306;&#22914;&#26524;&#26102;&#38388;&#21608;&#26399;&#30340;&#36807;&#28388;&#22120;&#27809;&#26377;&#36890;&#36807;&#30340;&#65292;Nagios&#23558;&#20250;&#37325;&#26032;&#32534;&#21046;&#35813;&#20027;&#26426;&#19982;&#26381;&#21153;(&#22914;&#26524;&#23427;&#22788;&#20110;&#38750;&#27491;&#24120;&#29366;&#24577;&#30340;&#35805;)&#30340;&#36890;&#30693;&#36865;&#20986;&#26102;&#38388;&#65292;&#20351;&#36865;&#20986;&#26102;&#38388;&#22788;&#20110;&#21512;&#27861;&#30340;&#26102;&#38388;&#21608;&#26399;&#35268;&#23450;&#12290;&#36825;&#23558;&#26377;&#21161;&#20110;&#20445;&#35777;&#32852;&#31995;&#20154;&#22312;&#19979;&#19968;&#20010;&#26102;&#38388;&#21608;&#26399;&#21040;&#26469;&#26102;&#23613;&#21487;&#33021;&#26089;&#22320;&#25910;&#21040;&#25925;&#38556;&#36890;&#30693;&#12290;</p><p>&#26368;&#21518;&#19968;&#20010;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#36807;&#28388;&#22120;&#26159;&#30001;&#20004;&#20010;&#35201;&#32032;&#26465;&#20214;&#25511;&#21046;&#65306;(1)&#38024;&#23545;&#35813;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#24050;&#32463;&#36865;&#20986;&#30340;&#26368;&#21518;&#19968;&#26465;&#36890;&#30693;&#25152;&#21457;&#20986;&#30340;&#26102;&#38388;&#65307;(2)&#20027;&#26426;&#19982;&#26381;&#21153;&#22312;&#26368;&#21518;&#19968;&#26465;&#36890;&#30693;&#21457;&#20986;&#21518;&#20173;&#26087;&#22788;&#20110;&#30456;&#21516;&#30340;&#38750;&#27491;&#24120;&#29366;&#24577;&#25152;&#22788;&#30340;&#26102;&#38388;&#38271;&#24230;&#12290;&#22914;&#26524;&#36935;&#21040;&#36825;&#20004;&#20010;&#38480;&#23450;&#26465;&#20214;&#65292;Nagios&#23558;&#20250;&#29992;&#26368;&#21518;&#19968;&#27425;&#36890;&#30693;&#36865;&#20986;&#26102;&#38388;&#21040;&#24403;&#21069;&#26102;&#38388;&#30340;&#26102;&#38388;&#27573;&#26469;&#27604;&#23545;&#20027;&#26426;&#19982;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#37324;&#30340;&lt;<span class="strong"><strong>notification_interval</strong></span>&gt;&#36890;&#30693;&#38388;&#38548;&#22495;&#65292;&#30475;&#30475;&#26159;&#21542;&#21040;&#36798;&#25110;&#36229;&#20986;&#12290;&#22914;&#26524;&#36824;&#27809;&#26377;&#21040;&#36890;&#30693;&#38388;&#38548;&#25152;&#35774;&#32622;&#30340;&#26102;&#38388;&#27573;&#65292;&#19981;&#20250;&#36865;&#20986;&#36890;&#30693;&#32473;&#20219;&#20309;&#20154;&#12290;&#22914;&#26524;&#36825;&#20010;&#26102;&#38388;&#27573;&#24050;&#32463;&#36229;&#20986;&#20102;&#38388;&#38548;&#35774;&#32622;&#32780;&#19988;&#31532;&#20108;&#20010;&#26465;&#20214;&#19981;&#25104;&#31435;&#30340;&#35805;(&#23601;&#26159;&#35828;&#22240;&#20026;&#29366;&#24577;&#19981;&#19968;&#26679;&#32780;&#36865;&#20986;&#36890;&#30693;)&#65292;&#36890;&#30693;&#23601;&#20250;&#34987;&#36865;&#20986;&#65281;&#26159;&#21542;&#30495;&#27491;&#22320;&#36865;&#20986;&#36890;&#30693;&#65292;&#36824;&#24517;&#39035;&#35201;&#36890;&#36807;&#27599;&#20010;&#32852;&#31995;&#20154;&#30340;&#36807;&#28388;&#22120;&#25511;&#21046;...</p></div><div class="sect3" lang="zh-CN"><div class="titlepage"><div><div><h4 class="title"><a name="d0e12269"></a>6.7.4.3.&nbsp;&#32852;&#31995;&#20154;&#36807;&#28388;&#22120;</h4></div></div></div><p>&#22312;&#36825;&#20010;&#28857;&#19978;&#65292;&#36890;&#30693;&#36807;&#31243;&#24050;&#32463;&#36890;&#36807;&#20102;&#31243;&#24207;&#36807;&#28388;&#21644;&#20840;&#37096;&#30340;&#20027;&#26426;&#19982;&#26381;&#21153;&#23545;&#35937;&#37324;&#25152;&#35774;&#32622;&#30340;&#36807;&#28388;&#65292;&#24320;&#22987;&#36890;&#30693;<a class="link" href="#objectdefinitions_contact">&#27599;&#19968;&#20010;&#23427;&#35813;&#36890;&#30693;&#21040;&#30340;&#32852;&#31995;&#20154;</a>&#12290;&#36825;&#26159;&#21542;&#23601;&#24847;&#21619;&#30528;&#35201;&#27599;&#20010;&#32852;&#31995;&#20154;&#37117;&#20250;&#25910;&#21040;&#36890;&#30693;&#21602;&#65311;&#24182;&#19981;&#26159;&#36825;&#26679;&#65281;&#27599;&#20010;&#32852;&#31995;&#20154;&#37117;&#26377;&#21508;&#33258;&#30340;&#32852;&#31995;&#20154;&#36807;&#28388;&#22120;&#65292;&#36890;&#30693;&#35201;&#32463;&#36807;&#36825;&#20123;&#36807;&#28388;&#21518;&#25165;&#33021;&#25910;&#21040;&#36890;&#30693;&#12290;&#27880;&#24847;&#65306;&#32852;&#31995;&#20154;&#36807;&#28388;&#22120;&#25351;&#23450;&#32473;&#27599;&#19968;&#20010;&#32852;&#31995;&#20154;&#20294;&#19981;&#20250;&#24433;&#21709;&#21040;&#20854;&#20182;&#32852;&#31995;&#20154;&#26159;&#21542;&#25910;&#21040;&#36890;&#30693;&#12290;</p><p>&#31532;&#19968;&#20010;&#32852;&#31995;&#20154;&#36807;&#28388;&#22120;&#26159;&#32852;&#31995;&#20154;&#23545;&#35937;&#23450;&#20041;&#37324;&#30340;&#26377;&#20851;&#20027;&#26426;&#30340;&#25110;&#26381;&#21153;&#30340;&#36807;&#28388;&#36890;&#30693;&#36873;&#39033;&#12290;&#27599;&#20010;&#32852;&#31995;&#20154;&#21487;&#20197;&#25351;&#23450;&#20986;&#23545;&#20110;&#26381;&#21153;&#65292;&#26159;&#21542;&#35201;&#25910;&#21040;&#21578;&#35686;&#29366;&#24577;&#12289;&#32039;&#24613;&#29366;&#24577;&#21644;&#24674;&#22797;&#29366;&#24577;&#30340;&#36890;&#30693;&#65292;&#21516;&#26679;&#22320;&#65292;&#20063;&#21487;&#20197;&#25351;&#23450;&#38024;&#23545;&#20027;&#26426;&#26159;&#21542;&#35201;&#25910;&#21040;&#20027;&#26426;&#23445;&#26426;&#12289;&#21464;&#20026;&#19981;&#36798;&#21487;&#25110;&#26159;&#24674;&#22797;&#30340;&#36890;&#30693;&#12290;&#22914;&#26524;&#36825;&#20123;&#22312;&#32852;&#31995;&#20154;&#37324;&#30340;&#20027;&#26426;&#21644;&#26381;&#21153;&#30340;&#36807;&#28388;&#27809;&#26377;&#36890;&#36807;&#30340;&#35805;&#23601;&#19981;&#20250;&#25910;&#21040;&#36890;&#30693;&#65292;&#22914;&#26524;&#35774;&#32622;&#20102;&#35201;&#36865;&#20986;&#36890;&#30693;&#65292;&#37027;&#20040;&#20250;&#36827;&#20837;&#19979;&#19968;&#20010;&#36807;&#28388;&#22120;...&#27880;&#24847;&#65306;&#21482;&#26159;&#37027;&#20123;&#38024;&#23545;&#20110;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#21407;&#22987;&#25925;&#38556;&#32780;&#20135;&#29983;&#30340;&#36890;&#30693;&#25165;&#20250;&#36865;&#20986;&#65292;&#19981;&#20250;&#26377;&#20154;&#25910;&#21040;&#19968;&#20010;&#27809;&#26377;&#25925;&#38556;&#21407;&#22240;&#36890;&#30693;&#21364;&#26377;&#29366;&#24577;&#24674;&#22797;&#30340;&#36890;&#30693;...</p><p>&#26368;&#21518;&#19968;&#20010;&#36807;&#28388;&#26159;&#32852;&#31995;&#20154;&#37324;&#30340;&#26102;&#38388;&#21608;&#26399;&#35774;&#32622;&#30340;&#26816;&#26597;&#12290;&#27599;&#20010;&#32852;&#31995;&#20154;&#23545;&#35937;&#23450;&#20041;&#37324;&#30340;&lt;<span class="strong"><strong>notification_period</strong></span>&gt;&#36890;&#30693;&#25509;&#25910;&#26102;&#38388;&#21608;&#26399;&#22495;&#25351;&#23450;&#20102;&#32852;&#31995;&#20154;&#21487;&#20197;&#25509;&#25910;&#36890;&#30693;&#30340;&#26102;&#38388;&#21608;&#26399;&#12290;&#22914;&#26524;&#36890;&#30693;&#30340;&#26102;&#38388;&#27809;&#26377;&#33853;&#20837;&#25351;&#23450;&#30340;&#26102;&#38388;&#21608;&#26399;&#30340;&#26102;&#38388;&#27573;&#20869;&#65292;&#32852;&#31995;&#20154;&#19981;&#20250;&#25910;&#21040;&#36890;&#30693;&#12290;&#22914;&#26524;&#22312;&#21512;&#27861;&#30340;&#26102;&#38388;&#27573;&#21306;&#38388;&#37324;&#65292;&#32852;&#31995;&#20154;&#20250;&#25910;&#21040;&#36890;&#30693;&#65281;</p></div><p>(&#35793;&#32773;&#27880;&#65306;&#25968;&#19968;&#25968;&#65292;&#19968;&#20849;&#26377;&#19971;&#20010;&#36807;&#28388;&#22120;&#65281;&#31532;1&#20010;&#26159;&#24635;&#38400;&#38376;&#65292;&#31532;2&#21040;&#31532;5&#20010;&#26159;&#38024;&#23545;&#26381;&#21153;&#19982;&#20027;&#26426;&#29366;&#24577;&#30340;&#65292;&#21518;&#38754;2&#20010;&#26159;&#38024;&#23545;&#27599;&#20010;&#32852;&#31995;&#20154;&#30340;&#65292;&#24456;&#22797;&#26434;&#65292;&#20294;&#26159;&#25552;&#20379;&#20102;&#24456;&#22823;&#30340;&#25511;&#21046;&#24230;)</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12286"></a>6.7.5.&nbsp;&#36890;&#30693;&#30340;&#26041;&#24335;</h3></div></div></div><p>&#23545;&#20110;&#25925;&#38556;&#19982;&#24674;&#22797;&#30340;&#36890;&#30693;&#26041;&#24335;&#65292;Nagios&#25552;&#20379;&#20102;&#22810;&#31181;&#20379;&#36873;&#25321;&#65306;BP&#26426;&#12289;&#34562;&#31389;&#30005;&#35805;&#12289;&#30005;&#23376;&#37038;&#20214;&#12289;&#21363;&#26102;&#20449;&#24687;&#12289;&#35686;&#25253;&#22768;&#38899;&#12289;&#30005;&#20987;(&#36825;&#26159;&#20010;&#20160;&#20040;&#19996;&#35199;&#65311;)&#31561;&#31561;&#12290;&#22914;&#20309;&#36865;&#20986;&#36890;&#30693;&#23558;&#20381;&#36182;&#20110;&#20320;&#30340;<a class="link" href="#config" title="5.1.&nbsp;&#37197;&#32622;&#27010;&#35272;">&#23545;&#35937;&#23450;&#20041;&#25991;&#20214;</a>&#37324;&#30340;<a class="link" href="#objectdefinitions_command">&#36890;&#30693;&#21629;&#20196;</a>&#12290;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><div><img src="../pub/images/note.gif"></div>&#22914;&#26524;&#20320;&#26159;&#25353;&#29031;<a class="link" href="#quickstart" title="4.3.&nbsp;&#24555;&#36895;&#23433;&#35013;&#25351;&#21335;">&#24555;&#36895;&#23433;&#35013;&#25351;&#21335;</a>&#26469;&#23433;&#35013;&#30340;Nagios&#30340;&#35805;&#65292;&#23427;&#23558;&#37197;&#32622;&#25104;&#29992;EMail&#36865;&#20986;&#36890;&#30693;&#12290;&#20320;&#21487;&#20197;&#22312;&#36825;&#20010;&#37197;&#32622;&#25991;&#20214;&#37324;&#25214;&#21040;&#24182;&#26597;&#30475;&#23545;&#24212;EMail&#36865;&#20986;&#36890;&#30693;&#30340;&#21629;&#20196;<span class="strong"><strong>/usr/local/nagios/etc/objects/commands.cfg</strong></span>&#12290;</div><p>&#29305;&#23450;&#30340;&#36890;&#30693;&#26041;&#24335;(&#35937;BP&#26426;&#31561;)&#24182;&#27809;&#26377;&#30452;&#25509;&#34701;&#21512;&#22312;Nagios&#20195;&#30721;&#20013;&#22240;&#20026;&#36825;&#27809;&#26377;&#24517;&#35201;&#12290;Nagios&#30340;&#26680;&#24515;&#35774;&#35745;&#24605;&#24819;&#24182;&#19981;&#26159;&#25226;Nagios&#25630;&#25104;&#19968;&#20010;&#38598;&#25104;&#23436;&#25972;&#32479;&#19968;&#30340;&#19968;&#20010;&#24212;&#29992;&#31243;&#24207;(all-in-one)&#12290;&#22914;&#26524;&#36825;&#31181;&#26381;&#21153;&#23884;&#20837;&#21040;Nagios&#30340;&#26680;&#24515;&#20043;&#20013;&#23558;&#20250;&#20351;&#24471;&#29992;&#25143;&#24456;&#38590;&#21152;&#20837;&#33258;&#24049;&#30340;&#26816;&#27979;&#26041;&#27861;&#65292;&#32780;&#19988;&#20462;&#25913;&#26816;&#27979;&#31561;&#31561;&#20063;&#19981;&#26041;&#20415;&#12290;&#36890;&#30693;&#30340;&#22788;&#29702;&#20063;&#26159;&#22914;&#27492;&#12290;&#26377;&#25104;&#30334;&#19978;&#21315;&#31181;&#26041;&#24335;&#26469;&#23454;&#29616;&#26816;&#27979;&#19982;&#36890;&#30693;&#65292;&#22240;&#32780;&#20026;&#20309;&#35201;&#33293;&#36817;&#27714;&#36828;&#21602;&#65311;&#26368;&#22909;&#30340;&#26041;&#24335;&#26159;&#25552;&#20379;&#19968;&#20010;&#22806;&#37096;&#35843;&#29992;&#30340;&#20837;&#21475;(&#22914;&#19968;&#20010;&#25191;&#34892;&#33050;&#26412;&#25110;&#19968;&#20010;&#25104;&#29087;&#30340;&#28040;&#24687;&#31995;&#32479;)&#26469;&#20570;&#36825;&#31181;&#26434;&#20107;&#12290;&#26377;&#19968;&#20123;&#28040;&#24687;&#22788;&#29702;&#21253;&#25110;&#26159;&#34562;&#31389;&#30005;&#35805;&#25346;&#20214;&#30340;&#36164;&#28304;&#21487;&#20197;&#22788;&#29702;&#36890;&#30693;&#65292;&#22312;&#19979;&#38754;&#19968;&#33410;&#37324;&#32473;&#20986;&#20102;&#21015;&#34920;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12309"></a>6.7.6.&nbsp;&#36890;&#30693;&#31867;&#22411;&#30340;&#23439;</h3></div></div></div><p>&#24403;&#32534;&#20889;&#36890;&#30693;&#21629;&#20196;&#26102;&#65292;&#38656;&#35201;&#29702;&#35299;&#26159;&#20160;&#20040;&#36890;&#30693;&#31867;&#22411;&#20135;&#29983;&#30340;&#12290;&#37027;&#20010;<a class="link" href="#macrolist_NOTIFICATIONTYPE">$NOTIFICATIONTYPE$</a>&#23439;&#23558;&#29992;&#19968;&#20010;&#23383;&#31526;&#20018;&#26469;&#25351;&#20986;&#26159;&#21738;&#20010;&#31867;&#22411;&#12290;&#19979;&#34920;&#21015;&#20986;&#36825;&#20010;&#23439;&#21487;&#33021;&#30340;&#20540;&#20197;&#21450;&#30456;&#20851;&#30340;&#25551;&#36848;&#20449;&#24687;&#65306;</p><div class="table"><a name="notificationstype"></a><p class="title"><b>&#34920;&nbsp;6.3.&nbsp;&#36890;&#30693;&#31867;&#22411;&#30340;&#23439;</b></p><div class="table-contents"><table summary="&#36890;&#30693;&#31867;&#22411;&#30340;&#23439;" border="1"><colgroup><col><col></colgroup><thead><tr><th>&#20540;</th><th>&#25551;&#36848;</th></tr></thead><tbody><tr><td>PROBLEM</td><td>&#26381;&#21153;&#19982;&#20027;&#26426;&#21018;&#21018;(&#25110;&#26159;&#20173;&#26087;)&#22788;&#20110;&#25925;&#38556;&#29366;&#24577;&#12290;&#22914;&#26524;&#25910;&#21040;&#26381;&#21153;&#36890;&#30693;&#65292;&#21487;&#33021;&#26381;&#21153;&#26159;&#22788;&#20110;&#21578;&#35686;&#12289;&#26410;&#30693;&#25110;&#26159;&#32039;&#24613;&#29366;&#24577;&#20043;&#20013;&#65292;&#22914;&#26524;&#25910;&#21040;&#26159;&#20027;&#26426;&#36890;&#30693;&#65292;&#20027;&#26426;&#21487;&#33021;&#26159;&#22788;&#20110;&#23445;&#26426;&#25110;&#19981;&#21487;&#36798;&#29366;&#24577;&#20043;&#20013;</td></tr><tr><td>RECOVERY</td><td>&#26381;&#21153;&#19982;&#20027;&#26426;&#24050;&#32463;&#24674;&#22797;&#12290;&#22914;&#26524;&#26159;&#19968;&#20010;&#26381;&#21153;&#36890;&#30693;&#65292;&#35828;&#26126;&#26381;&#21153;&#21018;&#22238;&#21040;&#27491;&#24120;&#29366;&#24577;&#65292;&#22914;&#26524;&#26159;&#20027;&#26426;&#36890;&#30693;&#65292;&#35828;&#26126;&#20027;&#26426;&#21018;&#21018;&#22238;&#21040;&#36816;&#34892;&#29366;&#24577;</td></tr><tr><td>ACKNOWLEDGEMENT</td><td>&#36825;&#26159;&#19968;&#20010;&#20027;&#26426;&#19982;&#26381;&#21153;&#25925;&#38556;&#30340;&#30830;&#35748;&#36890;&#30693;&#12290;&#30001;&#32852;&#31995;&#20154;&#32473;&#29305;&#23450;&#30340;&#20027;&#26426;&#19982;&#26381;&#21153;&#36890;&#36807;Web&#26469;&#21021;&#22987;&#21270;&#19968;&#20010;&#30830;&#35748;&#36890;&#30693;</td></tr><tr><td>FLAPPINGSTART</td><td>&#20027;&#26426;&#19982;&#26381;&#21153;&#21018;&#24320;&#22987;&#22788;&#20110;<a class="link" href="#flapping" title="8.7.&nbsp;&#24863;&#30693;&#21644;&#22788;&#29702;&#29366;&#24577;&#25238;&#21160;">&#25238;&#21160;</a></td></tr><tr><td>FLAPPINGSTOP</td><td>&#20027;&#26426;&#19982;&#26381;&#21153;&#21018;&#32467;&#26463;<a class="link" href="#flapping" title="8.7.&nbsp;&#24863;&#30693;&#21644;&#22788;&#29702;&#29366;&#24577;&#25238;&#21160;">&#25238;&#21160;</a></td></tr><tr><td>FLAPPINGDISABLED</td><td>&#20027;&#26426;&#19982;&#26381;&#21153;&#21018;&#22240;&#20026;&#26816;&#27979;&#25238;&#21160;&#34987;&#20851;&#38381;&#32780;&#20572;&#27490;<a class="link" href="#flapping" title="8.7.&nbsp;&#24863;&#30693;&#21644;&#22788;&#29702;&#29366;&#24577;&#25238;&#21160;">&#25238;&#21160;</a>...</td></tr><tr><td>DOWNTIMESTART</td><td>&#20027;&#26426;&#19982;&#26381;&#21153;&#21018;&#36827;&#20837;&#21040;&#19968;&#20010;<a class="link" href="#downtime" title="6.5.&nbsp;&#35745;&#21010;&#20572;&#26426;&#26102;&#38388;">&#35745;&#21010;&#20572;&#26426;&#26102;&#38388;&#21608;&#26399;</a>&#65292;&#22312;&#27492;&#21518;&#36890;&#30693;&#20250;&#34987;&#25233;&#21046;</td></tr><tr><td>DOWNTIMESTOP</td><td>&#20027;&#26426;&#19982;&#26381;&#21153;&#21018;&#32467;&#26463;&#20102;<a class="link" href="#downtime" title="6.5.&nbsp;&#35745;&#21010;&#20572;&#26426;&#26102;&#38388;">&#35745;&#21010;&#20572;&#26426;&#26102;&#38388;</a>&#12290;&#26377;&#20851;&#25925;&#38556;&#30340;&#36890;&#30693;&#23558;&#24674;&#22797;</td></tr><tr><td>DOWNTIMECANCELLED</td><td>&#32473;&#20027;&#26426;&#19982;&#26381;&#21153;&#25152;&#25351;&#23450;&#30340;<a class="link" href="#downtime" title="6.5.&nbsp;&#35745;&#21010;&#20572;&#26426;&#26102;&#38388;">&#35745;&#21010;&#20572;&#26426;&#26102;&#38388;</a>&#21018;&#21018;&#21462;&#28040;&#12290;&#26377;&#20851;&#25925;&#38556;&#30340;&#36890;&#30693;&#23558;&#24674;&#22797;</td></tr></tbody></table></div></div><br class="table-break"></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12389"></a>6.7.7.&nbsp;&#26377;&#29992;&#30340;&#36164;&#28304;</h3></div></div></div><p>&#22312;Nagios&#20013;&#21487;&#20197;&#37197;&#32622;&#22810;&#31181;&#36865;&#20986;&#36890;&#30693;&#30340;&#26041;&#24335;&#12290;&#36825;&#21462;&#20915;&#20110;&#20320;&#25152;&#24819;&#29992;&#30340;&#26041;&#24335;&#26041;&#27861;&#12290;&#19968;&#26086;&#23433;&#35013;&#22909;&#24517;&#39035;&#30340;&#25903;&#25345;&#36719;&#20214;&#24182;&#22312;&#37197;&#32622;&#25991;&#20214;&#37324;&#32473;&#23450;&#20102;&#36890;&#30693;&#21629;&#20196;&#23601;&#21487;&#20197;&#36816;&#29992;&#23427;&#20204;&#20102;&#12290;&#21487;&#34892;&#30340;&#26041;&#24335;&#36825;&#37324;&#21482;&#32473;&#20986;&#20960;&#31181;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#30005;&#23376;&#37038;&#20214;(Email)</li><li>BP&#26426;(Pager)</li><li>&#34562;&#31389;&#30005;&#35805;&#30701;&#20449;&#24687;(CellPhone SMS) </li><li>Windows&#24377;&#20986;&#28040;&#24687;(WinPopup message)</li><li>&#21508;&#31181;&#21363;&#26102;&#20449;&#24687;(Yahoo, ICQ, or MSN instant message)</li><li>&#22768;&#38899;&#35686;&#25253;(Audio alerts)</li><li>&#31561;&#31561;...</li></ol></div><p>&#25152;&#26377;&#36825;&#20123;&#20840;&#26159;&#22522;&#20110;&#20320;&#29992;&#36890;&#30693;&#21629;&#20196;&#26684;&#24335;&#26469;&#32534;&#20889;&#20102;&#19968;&#20010;&#21629;&#20196;&#34892;&#12290;</p><p>&#22914;&#26524;&#24819;&#25214;&#19968;&#20010;&#26367;&#20195;&#30005;&#23376;&#37038;&#20214;&#36865;&#20986;&#36890;&#30693;&#30340;&#26041;&#27861;&#65292;&#22914;&#29992;BP&#26426;&#25110;&#34562;&#31389;&#30005;&#35805;&#65292;&#26597;&#30475;&#19968;&#19979;&#22914;&#19979;&#36719;&#20214;&#21253;&#12290;&#36825;&#20123;&#21487;&#20197;&#19982;Nagios&#32467;&#21512;&#24403;&#25925;&#38556;&#20135;&#29983;&#26102;&#29992;&#19968;&#20010;Modem&#36865;&#20986;&#36890;&#30693;&#65292;&#36825;&#22312;EMail&#26080;&#27861;&#36865;&#20986;&#36890;&#30693;&#26102;&#36215;&#20316;&#29992;(&#27880;&#24847;&#65292;&#30005;&#23376;&#37038;&#20214;&#22312;&#32593;&#32476;&#20986;&#29616;&#25925;&#38556;&#26102;&#21487;&#33021;<span class="emphasis"><em>&#19981;&#20250;</em></span>&#36865;&#20986;&#30005;&#23376;&#37038;&#20214;)&#25105;&#27809;&#26377;&#30495;&#27491;&#27979;&#35797;&#36807;&#36825;&#20123;&#21253;&#65292;&#20294;&#20854;&#20182;&#20154;&#25253;&#21578;&#35828;&#26159;&#21487;&#20197;&#29992;&#30340;...</p><div class="orderedlist"><ol type="1"><li><a class="ulink" href="http://www.gnokii.org/" target="_top">Gnokii</a>&#19968;&#20010;&#25163;&#26426;&#30701;&#20449;&#30340;&#36719;&#20214;&#21253;(SMS software for contacting Nokia phones via GSM network) </li><li><a class="ulink" href="http://www.qpage.org/" target="_top">QuickPage</a>&#25968;&#23383;BP&#26426;&#30340;&#36719;&#20214;(alphanumeric pager software) </li><li><a class="ulink" href="http://www.sendpage.org/" target="_top">Sendpage</a>BP&#26426;&#36719;&#20214;(paging software) </li><li><a class="ulink" href="http://www.smsclient.org/" target="_top">SMS Client</a>&#32473;BP&#26426;&#25110;&#25163;&#26426;&#21457;&#30701;&#20449;&#30340;&#21629;&#20196;&#34892;&#24037;&#20855;(command line utility for sending messages to pagers and mobile phones)</li></ol></div><p>&#22914;&#26524;&#24819;&#35797;&#39564;&#38750;&#20256;&#32479;&#30340;&#36890;&#30693;&#26041;&#24335;&#65292;&#27604;&#22914;&#35828;&#24819;&#36153;&#26102;&#36153;&#21147;&#22320;&#20351;&#29992;&#22768;&#38899;&#35686;&#25253;&#65292;&#22312;&#20320;&#30340;&#30417;&#25511;&#20027;&#26426;&#19978;&#20351;&#29992;&#21512;&#25104;&#22768;&#38899;&#26469;&#28436;&#32462;&#20986;&#20320;&#30340;&#25925;&#38556;&#36890;&#30693;&#65292;&#21487;&#20197;&#36801;&#20986;<a class="ulink" href="http://www.cstr.ed.ac.uk/projects/festival/" target="_top">Festival</a>&#39033;&#30446;&#65292;&#22914;&#26524;&#24819;&#29992;&#19968;&#20010;&#29420;&#31435;&#30340;&#22768;&#38899;&#25253;&#35686;&#30418;&#23376;&#65292;&#21487;&#20197;&#36801;&#20986;<a class="ulink" href="http://radscan.com/nashtml" target="_top">Network Audio System (NAS)</a>&#21644;<a class="ulink" href="http://rplay.doit.org/" target="_top">rplay</a>&#39033;&#30446;&#12290;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="eventhandlers"></a>6.8.&nbsp;&#20107;&#20214;&#22788;&#29702;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12447"></a>6.8.1.&nbsp;&#20171;&#32461;</h3></div></div></div><div><img src="../pub/images/eventhandlers.png"></div><p>&#20107;&#20214;&#22788;&#29702;&#26159;&#19968;&#20123;&#21487;&#36873;&#30340;&#31995;&#32479;&#21629;&#20196;(&#33050;&#26412;&#25110;&#25191;&#34892;&#31243;&#24207;)&#65292;&#19968;&#26086;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#29366;&#24577;&#21457;&#29983;&#21464;&#21270;&#26102;&#23601;&#20250;&#36816;&#34892;&#23427;&#20204;&#12290;</p><p>&#19968;&#20010;&#26126;&#26174;&#30340;&#20363;&#23376;&#26159;&#20351;&#29992;&#20107;&#20214;&#22788;&#29702;&#26469;&#22312;&#20219;&#20309;&#20154;&#25910;&#21040;&#36890;&#30693;&#20043;&#21069;&#30001;Nagios&#26469;&#20570;&#19968;&#20123;&#21069;&#26399;&#25925;&#38556;&#20462;&#22797;&#12290;&#22914;&#19979;&#30340;&#24773;&#20917;&#20063;&#21487;&#33021;&#20250;&#29992;&#21040;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#37325;&#21551;&#21160;&#19968;&#20010;&#22833;&#25928;&#30340;&#26381;&#21153;&#65307;</li><li>&#24448;&#21327;&#21161;&#22788;&#32622;&#31995;&#32479;&#37324;&#25970;&#20837;&#19968;&#20010;&#25925;&#38556;&#31080;&#65307;</li><li>&#25226;&#20107;&#20214;&#20449;&#24687;&#35760;&#24405;&#21040;&#25968;&#25454;&#24211;&#20013;&#65307;</li><li>&#24490;&#29615;&#25805;&#20316;&#20027;&#26426;&#30005;&#28304;<sup>*</sup></li><li>&#31561;&#31561;</li></ol></div><p><sup>*</sup>&#24490;&#29615;&#25805;&#20316;&#20027;&#26426;&#30005;&#28304;&#26159;&#20010;&#25925;&#38556;&#22788;&#29702;&#32463;&#39564;&#65292;&#23427;&#26159;&#20010;&#19981;&#23481;&#26131;&#23454;&#29616;&#30340;&#33258;&#21160;&#21270;&#33050;&#26412;&#12290;&#22312;&#29992;&#33258;&#21160;&#21270;&#33050;&#26412;&#23454;&#29616;&#20043;&#21069;&#35201;&#32771;&#34385;&#21040;&#23427;&#30340;&#21518;&#26524;&#12290; :-) </p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12472"></a>6.8.2.&nbsp;&#20309;&#26102;&#25191;&#34892;&#20107;&#20214;&#22788;&#29702;&#65311;</h3></div></div></div><p>&#20107;&#20214;&#22788;&#29702;&#23558;&#20250;&#25191;&#34892;&#65292;&#24403;&#19968;&#20010;&#20027;&#26426;&#25110;&#26381;&#21153;&#22788;&#20110;&#22914;&#19979;&#24773;&#20917;&#26102;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#22788;&#20110;&#19968;&#20010;&#36719;&#24577;&#25925;&#38556;&#29366;&#24577;&#26102;</li><li>&#21021;&#22987;&#36827;&#20837;&#19968;&#20010;&#30828;&#24577;&#25925;&#38556;&#26102;</li><li>&#20174;&#36719;&#24577;&#25110;&#30828;&#24577;&#30340;&#25925;&#38556;&#29366;&#24577;&#20013;&#21021;&#22987;&#24674;&#22797;&#26102;</li></ol></div><p>&#29366;&#24577;&#31867;&#22411;&#30340;&#36719;&#24577;&#19982;&#30828;&#24577;&#22312;<a class="link" href="#statetypes" title="6.10.&nbsp;&#29366;&#24577;&#31867;&#22411;">&#36825;&#31687;</a>&#25991;&#26723;&#20013;&#26377;&#35814;&#32454;&#35828;&#26126;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12489"></a>6.8.3.&nbsp;&#20107;&#20214;&#22788;&#29702;&#31867;&#22411;</h3></div></div></div><p>&#26377;&#20960;&#31181;&#19981;&#21516;&#30340;&#20107;&#20214;&#22788;&#29702;&#31867;&#22411;&#21487;&#20197;&#29992;&#20110;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#29366;&#24577;&#21464;&#25442;&#30340;&#20107;&#20214;&#22788;&#29702;&#20013;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#20840;&#23616;&#20027;&#26426;&#20107;&#20214;&#22788;&#29702;</li><li>&#20840;&#23616;&#26381;&#21153;&#20107;&#20214;&#22788;&#29702;</li><li>&#29305;&#23450;&#20027;&#26426;&#20107;&#20214;&#22788;&#29702;</li><li>&#29305;&#23450;&#26381;&#21153;&#20107;&#20214;&#22788;&#29702;</li></ol></div><p>&#20840;&#23616;&#20027;&#26426;&#21644;&#26381;&#21153;&#20107;&#20214;&#22788;&#29702;&#23558;&#20110;<span class="strong"><strong>&#27599;&#19968;&#20010;</strong></span>&#20027;&#26426;&#21644;&#26381;&#21153;&#29366;&#24577;&#21464;&#26356;&#21457;&#29983;&#26102;&#20505;&#36816;&#34892;&#65292;&#19988;&#31245;&#31245;&#26089;&#20110;&#29305;&#23450;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#20107;&#20214;&#22788;&#29702;&#12290;&#21487;&#20197;&#29992;&#20027;&#37197;&#32622;&#25991;&#20214;&#37324;&#30340;<a class="link" href="#global_host_event_handler" title="&#34920;&nbsp;5.42.&nbsp;&#20840;&#23616;&#20027;&#26426;&#20107;&#20214;&#22788;&#29702;&#36873;&#39033;">global_host_event_handler</a>&#21644;<a class="link" href="#global_service_event_handler" title="&#34920;&nbsp;5.43.&nbsp;&#20840;&#23616;&#26381;&#21153;&#20107;&#20214;&#22788;&#29702;&#36873;&#39033;">global_service_event_handler</a>&#22495;&#26469;&#35774;&#32622;&#20840;&#23616;&#30340;&#20027;&#26426;&#19982;&#26381;&#21153;&#20107;&#20214;&#22788;&#29702;&#21629;&#20196;&#12290;</p><p>&#19981;&#21516;&#30340;&#20027;&#26426;&#19982;&#26381;&#21153;&#21487;&#20197;&#26377;&#21508;&#33258;&#19981;&#21516;&#20107;&#20214;&#22788;&#29702;&#26469;&#22788;&#32622;&#29366;&#24577;&#21464;&#21270;&#65292;&#26159;&#29992;<a class="link" href="#objectdefinitions_host">&#20027;&#26426;</a>&#21644;<a class="link" href="#objectdefinitions_service">&#26381;&#21153;</a>&#23545;&#35937;&#23450;&#20041;&#37324;&#30340;<span class="strong"><strong>event_handler</strong></span>&#22495;&#26469;&#25351;&#23450;&#20107;&#20214;&#22788;&#29702;&#21629;&#20196;&#12290;&#36825;&#20123;&#35774;&#32622;&#30340;&#29305;&#23450;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#20107;&#20214;&#22788;&#29702;&#21629;&#20196;&#23558;&#20250;&#22312;&#20840;&#23616;&#20027;&#26426;&#19982;&#26381;&#21153;&#20107;&#20214;&#22788;&#29702;&#36816;&#34892;&#20043;&#21518;&#36816;&#34892;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12525"></a>6.8.4.&nbsp;&#20351;&#33021;&#20107;&#20214;&#22788;&#29702;</h3></div></div></div><p>&#20107;&#20214;&#22788;&#29702;&#22312;&#31243;&#24207;&#23618;&#38754;&#19978;&#21487;&#36890;&#36807;&#20027;&#37197;&#32622;&#25991;&#20214;&#37324;&#30340;<a class="link" href="#enable_event_handlers" title="&#34920;&nbsp;5.18.&nbsp;&#20107;&#20214;&#22788;&#29702;&#36873;&#39033;">enable_event_handlers</a>&#26469;&#25511;&#21046;&#25171;&#24320;&#25110;&#20851;&#38381;&#12290;</p><p>&#29305;&#23450;&#20027;&#26426;&#30340;&#21644;&#26381;&#21153;&#30340;&#20107;&#20214;&#22788;&#29702;&#21487;&#29992;<a class="link" href="#objectdefinitions_host">&#20027;&#26426;</a>&#21644;<a class="link" href="#objectdefinitions_service">&#26381;&#21153;</a>&#23545;&#35937;&#37324;&#30340;<span class="strong"><strong>event_handler_enabled</strong></span>&#22495;&#26469;&#24320;&#20851;&#12290;&#22914;&#26524;&#20840;&#23616;&#30340;<a class="link" href="#enable_event_handlers" title="&#34920;&nbsp;5.18.&nbsp;&#20107;&#20214;&#22788;&#29702;&#36873;&#39033;">enable_event_handlers</a>&#22495;&#26159;&#20851;&#38381;&#30340;&#65292;&#37027;&#20040;&#29305;&#23450;&#20027;&#26426;&#30340;&#21644;&#26381;&#21153;&#30340;&#20107;&#20214;&#22788;&#29702;&#20063;<span class="emphasis"><em>&#19981;&#20250;</em></span>&#36816;&#34892;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12550"></a>6.8.5.&nbsp;&#20107;&#20214;&#22788;&#29702;&#30340;&#25191;&#34892;&#27425;&#24207;</h3></div></div></div><p>&#27491;&#22914;&#21069;&#38754;&#25152;&#35828;&#26126;&#30340;&#37027;&#26679;&#65292;&#20840;&#23616;&#30340;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#20107;&#20214;&#20250;&#26089;&#20110;&#20027;&#26426;&#30340;&#21644;&#26381;&#21153;&#30340;&#29305;&#23450;&#30340;&#20107;&#20214;&#22788;&#29702;&#21629;&#20196;&#25191;&#34892;&#12290;</p><p>&#23545;&#20110;&#30828;&#24577;&#25925;&#38556;&#21644;&#24674;&#22797;&#29366;&#24577;&#30340;&#20107;&#20214;&#22788;&#29702;&#21629;&#20196;&#26159;&#22312;&#36890;&#30693;&#36865;&#20986;&#21518;&#31435;&#21363;&#25191;&#34892;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12557"></a>6.8.6.&nbsp;&#32534;&#20889;&#20107;&#20214;&#22788;&#29702;&#21629;&#20196;</h3></div></div></div><p>&#20107;&#20214;&#22788;&#29702;&#21629;&#20196;&#21487;&#20197;&#26159;SHELL&#25110;&#26159;Perl&#31243;&#24207;&#65292;&#21516;&#26679;&#21487;&#20197;&#26159;&#20219;&#24847;&#31867;&#22411;&#35821;&#35328;&#32534;&#20889;&#30340;&#22312;&#21629;&#20196;&#34892;&#19979;&#21487;&#25191;&#34892;&#30340;&#31243;&#24207;&#12290;&#33267;&#23569;&#33050;&#26412;&#35201;&#22788;&#29702;&#22312;&#21442;&#25968;&#34892;&#37324;&#22788;&#29702;&#22914;&#19979;<a class="link" href="#macros" title="8.2.&nbsp;&#29702;&#35299;Nagios&#23439;&#21450;&#20854;&#24037;&#20316;&#26426;&#21046;">&#23439;</a>&#65306;</p><p>&#23545;&#26381;&#21153;&#30340;&#65306;<a class="link" href="#macrolist_SERVICESTATE">$SERVICESTATE$</a>&#12289;<a class="link" href="#macrolist_SERVICESTATETYPE">$SERVICESTATETYPE$</a>&#21644;<a class="link" href="#macrolist_SERVICEATTEMPT">$SERVICEATTEMPT$</a>&#65307;&#23545;&#20027;&#26426;&#30340;&#65306;<a class="link" href="#macrolist_HOSTSTATE">$HOSTSTATE$</a>&#12289;<a class="link" href="#macrolist_HOSTSTATETYPE">$HOSTSTATETYPE$</a>&#21644;<a class="link" href="#macrolist_HOSTATTEMPT">$HOSTATTEMPT$</a>&#12290;</p><p>&#33050;&#26412;&#39035;&#26816;&#27979;&#36825;&#20123;&#20316;&#20026;&#21629;&#20196;&#21442;&#25968;&#20256;&#20837;&#30340;&#20540;&#24182;&#37319;&#21462;&#20219;&#20309;&#24517;&#35201;&#21160;&#20316;&#26469;&#22788;&#29702;&#36825;&#20123;&#20540;&#12290;&#26368;&#22909;&#30340;&#29702;&#35299;&#20107;&#20214;&#22788;&#29702;&#22914;&#20309;&#24037;&#20316;&#30340;&#36884;&#24452;&#26159;&#30475;&#20363;&#23376;&#65292;&#24184;&#36816;&#30340;&#26159;<a class="link" href="#eventhandlers_example">&#19979;&#38754;</a>&#23601;&#25552;&#20379;&#20010;&#20363;&#23376;&#12290;</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#25552;&#31034;</h3><div><img src="../pub/images/tip.gif"></div>&#39069;&#22806;&#30340;&#20107;&#20214;&#22788;&#29702;&#33050;&#26412;&#30340;&#20363;&#23376;&#21487;&#20197;&#22312;Nagios&#21457;&#34892;&#21253;&#30340;<span class="strong"><strong>contrib/eventhandlers/</strong></span>&#23376;&#30446;&#24405;&#37324;&#25214;&#21040;&#12290;&#26377;&#20123;&#33050;&#26412;&#31034;&#33539;&#20102;&#36816;&#29992;<a class="link" href="#extcommands" title="6.9.&nbsp;&#22806;&#37096;&#21629;&#20196;">&#22806;&#37096;&#21629;&#20196;</a>&#26469;&#23454;&#29616;&#19968;&#20010;<a class="link" href="#redundancy" title="9.3.&nbsp;&#20887;&#20313;&#24335;&#19982;&#22833;&#25928;&#24335;&#32593;&#32476;&#30417;&#25511;">&#20887;&#20313;&#24335;</a>&#21644;<a class="link" href="#distributed" title="9.2.&nbsp;&#20998;&#24067;&#24335;&#30417;&#25511;">&#20998;&#24067;&#24335;</a>&#30417;&#25511;&#29615;&#22659;&#12290;</div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12606"></a>6.8.7.&nbsp;&#20107;&#20214;&#22788;&#29702;&#21629;&#20196;&#30340;&#26435;&#38480;</h3></div></div></div><p>&#20107;&#20214;&#22788;&#29702;&#21629;&#20196;&#36890;&#24120;&#26159;&#19982;&#36816;&#34892;&#20110;&#26412;&#26426;&#19978;&#30340;Nagios&#31243;&#24207;&#30340;&#26435;&#38480;&#26159;&#30456;&#21516;&#30340;&#12290;&#36825;&#21487;&#33021;&#20250;&#26377;&#38382;&#39064;&#65292;&#22914;&#26524;&#20320;&#24819;&#20889;&#25104;&#19968;&#20010;&#29992;&#20110;&#31995;&#32479;&#26381;&#21153;&#37325;&#21551;&#30340;&#21629;&#20196;&#65292;&#23427;&#38656;&#35201;&#26377;root&#26435;&#38480;&#20197;&#25191;&#34892;&#19968;&#31995;&#21015;&#21629;&#20196;&#19982;&#20219;&#21153;&#12290;</p><p>&#36739;&#29702;&#24819;&#30340;&#26159;&#35753;&#20107;&#20214;&#22788;&#29702;&#25317;&#26377;&#23427;&#23558;&#35201;&#25191;&#34892;&#30340;&#31995;&#32479;&#21629;&#20196;&#25152;&#38656;&#26435;&#38480;&#30456;&#21516;&#30340;&#26435;&#38480;&#12290;&#20320;&#25110;&#35768;&#23581;&#35797;&#29992;<a class="ulink" href="http://www.courtesan.com/sudo/sudo.html" target="_top">sudo</a>&#21629;&#20196;&#26469;&#23454;&#29616;&#23427;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12616"></a>6.8.8.&nbsp;&#26381;&#21153;&#20107;&#20214;&#22788;&#29702;&#30340;&#20363;&#23376;</h3></div></div></div><p>&#19979;&#38754;&#20363;&#23376;&#32473;&#20986;&#20102;&#30417;&#25511;&#26412;&#26426;&#19978;&#30340;HTTP&#26381;&#21153;&#19988;&#22312;HTTP&#26381;&#21153;&#23545;&#35937;&#37324;&#25351;&#23450;&#20102;<span class="strong"><strong>restart-httpd</strong></span>&#26469;&#20570;&#20026;&#20107;&#20214;&#22788;&#29702;&#21629;&#20196;&#12290;&#21516;&#26679;&#22320;&#65292;&#20551;&#23450;&#24050;&#32463;&#35774;&#32622;&#20102;&#26381;&#21153;&#23545;&#35937;&#30340;<span class="strong"><strong>max_check_attempts</strong></span>&#20540;&#20026;4&#25110;&#26159;&#22823;&#20110;4&#30340;&#20540;(&#26381;&#21153;&#23558;&#26816;&#27979;4&#27425;&#20043;&#21518;&#25165;&#35748;&#23450;&#23427;&#30495;&#30340;&#20986;&#38382;&#39064;)&#12290;&#35813;&#26679;&#20363;&#26381;&#21153;&#23545;&#35937;&#30340;&#23450;&#20041;&#29255;&#27573;&#35937;&#19979;&#38754;&#36825;&#26679;&#23376;&#65306;</p><pre class="programlisting"><p>define service{
	host_name			somehost
	service_description	HTTP
	max_check_attempts		4
	event_handler		restart-httpd
	...
	}</p></pre><p>&#19968;&#26086;&#23545;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#20102;&#20107;&#20214;&#22788;&#29702;&#65292;&#24517;&#39035;&#35201;&#20445;&#35777;&#21629;&#20196;&#21487;&#25191;&#34892;&#12290;&#19968;&#20010;<span class="strong"><strong>restart-httpd</strong></span>&#21629;&#20196;&#30340;&#26679;&#20363;&#35265;&#19979;&#12290;&#27880;&#24847;&#22312;&#21629;&#20196;&#34892;&#37324;&#32473;&#21629;&#20196;&#33050;&#26412;&#20256;&#36882;&#20102;&#20960;&#20010;&#23439;&#65293;&#36825;&#20010;&#24456;&#37325;&#35201;&#65281;</p><pre class="programlisting"><p>define command{
	command_name	restart-httpd
	command_line	/usr/local/nagios/libexec/eventhandlers/restart-httpd  $SERVICESTATE$ $SERVICESTATETYPE$ $SERVICEATTEMPT$
	}</p></pre><p>&#29616;&#22312;&#65292;&#20889;&#19968;&#20010;&#23454;&#29616;&#30340;&#20107;&#20214;&#22788;&#29702;&#33050;&#26412;(&#23427;&#26159;<span class="strong"><strong>/usr/local/nagios/libexec/eventhandlers/restart-httpd</strong></span>&#33050;&#26412;&#25991;&#20214;&#30340;&#20869;&#23481;)&#12290;</p><a name="eventhandlers#example"></a><pre class="programlisting"><p>
#!/bin/sh
#
# Event handler script for restarting the web server on the local machine
#
# Note: This script will only restart the web server if the service is
#       retried 3 times (in a "soft" state) or if the web service somehow
#       manages to fall into a "hard" error state.
#
#
# What state is the HTTP service in?
case "$1" in
OK)
	# The service just came back up, so don't do anything...
	;;
WARNING)
	# We don't really care about warning states, since the service is probably still running...
	;;
UNKNOWN)
	# We don't know what might be causing an unknown error, so don't do anything...
	;;
CRITICAL)
	# Aha!  The HTTP service appears to have a problem - perhaps we should restart the server...
	# Is this a "soft" or a "hard" state?
	case "$2" in
		
	# We're in a "soft" state, meaning that Nagios is in the middle of retrying the
	# check before it turns into a "hard" state and contacts get notified...
	SOFT)
			
		# What check attempt are we on?  We don't want to restart the web server on the first
		# check, because it may just be a fluke!
		case "$3" in
				
		# Wait until the check has been tried 3 times before restarting the web server.
		# If the check fails on the 4th time (after we restart the web server), the state
		# type will turn to "hard" and contacts will be notified of the problem.
		# Hopefully this will restart the web server successfully, so the 4th check will
		# result in a "soft" recovery.  If that happens no one gets notified because we
		# fixed the problem!
		3)
			echo -n "Restarting HTTP service (3rd soft critical state)..."
			# Call the init script to restart the HTTPD server
			/etc/rc.d/init.d/httpd restart
			;;
			esac
		;;
				
	# The HTTP service somehow managed to turn into a hard error without getting fixed.
	# It should have been restarted by the code above, but for some reason it didn't.
	# Let's give it one last try, shall we?  
	# Note: Contacts have already been notified of a problem with the service at this
	# point (unless you disabled notifications for this service)
	HARD)
		echo -n "Restarting HTTP service..."
		# Call the init script to restart the HTTPD server
		/etc/rc.d/init.d/httpd restart
		;;
	esac
	;;
esac
exit 0</p></pre><p>&#26679;&#20363;&#33050;&#26412;&#23558;&#23581;&#35797;&#29992;&#20004;&#20010;&#26102;&#21051;&#26469;&#37325;&#21551;&#26412;&#22320;Web&#26381;&#21153;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#22312;&#26381;&#21153;&#26816;&#27979;&#20986;&#19977;&#27425;&#24182;&#19988;&#26159;&#22788;&#20110;&#36719;&#24577;&#32039;&#24613;&#29366;&#24577;&#20043;&#21518;&#65307;</li><li>&#22312;&#26381;&#21153;&#39318;&#27425;&#36827;&#20837;&#30828;&#24577;&#32039;&#24613;&#29366;&#24577;&#20043;&#21518;&#65307;</li></ol></div><p>&#36825;&#20010;&#33050;&#26412;&#29702;&#35770;&#19978;&#22312;&#26381;&#21153;&#36716;&#20837;&#30828;&#24577;&#25925;&#38556;&#20043;&#21069;&#21487;&#20197;&#37325;&#21551;HTTP&#26381;&#21153;&#24182;&#21487;&#20197;&#20462;&#22797;&#25925;&#38556;&#65292;&#36825;&#37324;&#21253;&#21547;&#20102;&#39318;&#27425;&#37325;&#21551;&#27809;&#26377;&#25104;&#21151;&#30340;&#24773;&#20917;&#12290;&#39035;&#27880;&#24847;&#30340;&#26159;&#20107;&#20214;&#22788;&#29702;&#23558;&#21482;&#26159;&#31532;&#19968;&#27425;&#36827;&#20837;&#30828;&#24577;&#32039;&#24613;&#29366;&#24577;&#26102;&#25165;&#20250;&#25191;&#34892;&#20107;&#20214;&#22788;&#29702;&#65292;&#36825;&#23558;&#38459;&#27490;Nagios&#22312;&#26381;&#21153;&#19968;&#30452;&#22788;&#20110;&#30828;&#24577;&#25925;&#38556;&#30340;&#29366;&#24577;&#26102;&#20250;&#21453;&#22797;&#19981;&#20572;&#22320;&#37325;&#21551;&#21160;Web&#26381;&#21153;&#12290;&#20320;&#19981;&#38656;&#35201;&#21453;&#22797;&#22320;&#37325;&#21551;&#65292;&#23545;&#21543;&#65311; :-) </p><p>&#36825;&#23601;&#26159;&#20107;&#20214;&#22788;&#29702;&#12290;&#20107;&#20214;&#22788;&#29702;&#24456;&#23481;&#26131;&#29702;&#35299;&#12289;&#32534;&#20889;&#21644;&#23454;&#29616;&#65292;&#25152;&#20197;&#35201;&#23613;&#37327;&#23581;&#35797;&#26469;&#20351;&#29992;&#24182;&#30475;&#30475;&#23427;&#33021;&#32473;&#20320;&#24102;&#26469;&#20160;&#20040;&#12290;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="extcommands"></a>6.9.&nbsp;&#22806;&#37096;&#21629;&#20196;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12660"></a>6.9.1.&nbsp;&#20171;&#32461;</h3></div></div></div><div><img src="../pub/images/externalcommands.png"></div><p>Nagios&#21487;&#20197;&#22788;&#29702;&#24182;&#25191;&#34892;&#22806;&#37096;&#24212;&#29992;&#21253;&#25324;CGI&#31243;&#24207;&#24182;&#32473;&#20986;&#25353;&#20854;&#30417;&#25511;&#26102;&#25152;&#24471;&#21040;&#30340;&#36816;&#34892;&#32467;&#26524;&#32473;&#20986;&#25253;&#35686;&#12290;&#22806;&#37096;&#24212;&#29992;&#21487;&#20197;&#22312;<a class="link" href="#command_file" title="&#34920;&nbsp;5.23.&nbsp;&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;">&#21629;&#20196;&#25991;&#20214;</a>&#20013;&#32473;&#23450;&#65292;&#23427;&#21487;&#20197;&#34987;Nagios&#23432;&#25252;&#31243;&#24207;&#23450;&#26399;&#22320;&#22788;&#29702;&#24182;&#25191;&#34892;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12669"></a>6.9.2.&nbsp;&#20351;&#33021;&#22806;&#37096;&#21629;&#20196;</h3></div></div></div><p>&#20026;&#20351;Nagios&#21487;&#20197;&#22788;&#29702;&#22806;&#37096;&#21629;&#20196;&#65292;&#24517;&#39035;&#25353;&#22914;&#19979;&#27493;&#39588;&#26469;&#20570;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#20351;&#33021;&#20102;&#22806;&#37096;&#26816;&#27979;&#21629;&#20196;<a class="link" href="#check_external_commands" title="&#34920;&nbsp;5.21.&nbsp;&#22806;&#37096;&#21629;&#20196;&#26816;&#26597;&#36873;&#39033;">check_external_commands</a>&#36873;&#39033;&#12290;</li><li>&#29992;<a class="link" href="#command_check_interval" title="&#34920;&nbsp;5.22.&nbsp;&#22806;&#37096;&#21629;&#20196;&#26816;&#27979;&#38388;&#38548;">command_check_interval</a>&#36873;&#39033;&#35774;&#32622;&#20102;&#21629;&#20196;&#26816;&#27979;&#30340;&#39057;&#24230;&#12290;</li><li>&#22312;<a class="link" href="#command_file" title="&#34920;&nbsp;5.23.&nbsp;&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;">command_file</a>&#36873;&#39033;&#20013;&#25351;&#23450;&#20102;&#21629;&#20196;&#25991;&#20214;&#30340;&#20301;&#32622;&#12290;</li><li>&#23545;&#21253;&#21547;&#26377;&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;&#30340;&#30446;&#24405;&#32473;&#20986;&#20102;&#24688;&#24403;&#30340;&#30446;&#24405;&#25805;&#20316;&#26435;&#38480;&#65292;&#35937;&#22312;<a class="link" href="#quickstart" title="4.3.&nbsp;&#24555;&#36895;&#23433;&#35013;&#25351;&#21335;">&#24555;&#36895;&#25351;&#21335;</a>&#35828;&#26126;&#30340;&#37027;&#26679;&#12290;</li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12695"></a>6.9.3.&nbsp;Nagios&#20160;&#20040;&#26102;&#20505;&#29992;&#22806;&#37096;&#21629;&#20196;&#26816;&#27979;&#65311;</h3></div></div></div><div class="orderedlist"><ol type="1"><li>&#30001;<a class="link" href="#command_check_interval" title="&#34920;&nbsp;5.22.&nbsp;&#22806;&#37096;&#21629;&#20196;&#26816;&#27979;&#38388;&#38548;">command_check_interval</a>&#36873;&#39033;&#25351;&#23450;&#20102;&#19968;&#20010;&#35268;&#26684;&#21270;&#30340;&#39057;&#24230;&#65292;&#35813;&#36873;&#39033;&#22312;&#20027;&#37197;&#32622;&#25991;&#20214;&#20013;&#32473;&#20986;&#12290;</li><li>&#22312;<a class="link" href="#eventhandlers" title="6.8.&nbsp;&#20107;&#20214;&#22788;&#29702;">&#20107;&#20214;&#22788;&#29702;&#21477;&#26564;</a>&#20043;&#21518;&#34987;&#31435;&#21363;&#25191;&#34892;&#12290;&#22312;&#35268;&#26684;&#21270;&#23450;&#21046;&#21608;&#26399;&#25191;&#34892;&#30340;&#21629;&#20196;&#26816;&#27979;&#20043;&#21518;&#22686;&#21152;&#20102;&#22914;&#26524;&#38656;&#35201;Nagios&#26469;&#20570;&#20107;&#20214;&#22788;&#29702;&#20043;&#21518;&#31435;&#21363;&#25191;&#34892;&#30340;&#35201;&#27714;&#12290;</li></ol></div><p>
</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12711"></a>6.9.4.&nbsp;&#20351;&#29992;&#22806;&#37096;&#21629;&#20196;</h3></div></div></div><p>&#22806;&#37096;&#21629;&#20196;&#21487;&#20197;&#23436;&#21892;&#21508;&#31181;&#22312;Nagios&#36816;&#34892;&#20013;&#38656;&#35201;&#20570;&#30340;&#20107;&#24773;&#12290;&#20363;&#22914;&#20020;&#26102;&#24615;&#22320;&#23545;&#26576;&#20123;&#26381;&#21153;&#25110;&#20027;&#26426;&#30340;&#25253;&#35686;&#19981;&#20570;&#21709;&#24212;&#65292;&#20020;&#26102;&#21462;&#28040;&#23545;&#26381;&#21153;&#30340;&#26816;&#27979;&#65292;&#24378;&#21046;&#23545;&#26381;&#21153;&#36827;&#34892;&#26816;&#27979;&#65292;&#22686;&#21152;&#23545;&#20027;&#26426;&#25110;&#26381;&#21153;&#30340;&#25209;&#27880;&#31561;&#31561;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12716"></a>6.9.5.&nbsp;&#21629;&#20196;&#26684;&#24335;</h3></div></div></div><p>&#22806;&#37096;&#21629;&#20196;&#21487;&#20197;&#20889;&#20837;&#21040;<a class="link" href="#command_file" title="&#34920;&nbsp;5.23.&nbsp;&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;">&#21629;&#20196;&#25991;&#20214;</a>&#20043;&#20013;&#65292;&#29992;&#22914;&#19979;&#26684;&#24335;&#65306;</p><pre class="programlisting">[<span class="strong"><strong>time</strong></span>] <span class="strong"><strong>command_id</strong></span>;<span class="strong"><strong>command_arguments</strong></span></pre><p>&#36825;&#37324;&#30340;<span class="strong"><strong>time</strong></span>&#26159;&#25351;&#29992;<span class="strong"><strong>time_t</strong></span>&#26684;&#24335;&#30340;&#26102;&#38388;&#25139;&#65292;&#26631;&#35760;&#22806;&#37096;&#21629;&#20196;&#25110;&#24212;&#29992;&#25191;&#34892;&#26102;&#38388;&#12290;&#32780;<span class="strong"><strong>command_id</strong></span>&#30340;&#20540;&#21644;<span class="strong"><strong>command_arguments</strong></span>&#21629;&#20196;&#21442;&#25968;&#21462;&#20915;&#20110;Nagios&#23558;&#25191;&#34892;&#30340;&#21629;&#20196;&#12290;</p><p>&#19968;&#20010;&#23436;&#25972;&#30340;&#22806;&#37096;&#21629;&#20196;&#21015;&#34920;&#21253;&#25324;&#22914;&#20309;&#20351;&#29992;&#36825;&#20123;&#30340;&#26679;&#20363;&#21487;&#20197;&#22312;&#32447;&#26597;&#38405;URL:</p><p><a class="ulink" href="http://www.nagios.org/developerinfo/externalcommands/" target="_top">http://www.nagios.org/developerinfo/externalcommands/</a></p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="statetypes"></a>6.10.&nbsp;&#29366;&#24577;&#31867;&#22411;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12756"></a>6.10.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>&#34987;&#30417;&#25511;&#30340;&#20027;&#26426;&#21644;&#26381;&#21153;&#30340;&#24403;&#21069;&#29366;&#24577;&#30001;&#22914;&#19979;&#20004;&#20010;&#35201;&#32032;&#20915;&#23450;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#29366;&#20917;(&#22914;&#27491;&#24120;&#12289;&#35686;&#21578;&#12289;&#36816;&#34892;&#21644;&#23445;&#26426;&#31561;)</li><li>&#26381;&#21153;&#19982;&#20027;&#26426;&#23558;&#35201;&#20174;&#23646;&#30340;&#29366;&#24577;<span class="strong"><strong>&#31867;&#22411;</strong></span></li></ol></div><p>Nagios&#26377;&#20004;&#31181;&#29366;&#24577;&#31867;&#22411; &#65293; &#36719;&#24577;&#21644;&#30828;&#24577;&#12290;&#36825;&#20004;&#31181;&#29366;&#24577;&#21462;&#20915;&#20110;&#30417;&#25511;&#36923;&#36753;&#65292;&#24403;&#25191;&#34892;&#36807;<a class="link" href="#eventhandlers" title="6.8.&nbsp;&#20107;&#20214;&#22788;&#29702;">&#20107;&#20214;&#22788;&#29702;</a>&#25110;&#26159;&#24403;<a class="link" href="#notifications" title="6.7.&nbsp;&#36890;&#30693;">&#36890;&#30693;</a>&#34987;&#21021;&#22987;&#36865;&#20986;&#26102;&#23558;&#20250;&#32473;&#20986;&#20915;&#23450;&#12290;</p><p>&#26412;&#25991;&#35797;&#22270;&#25551;&#36848;&#36719;&#24577;&#21644;&#30828;&#22826;&#30340;&#29366;&#24577;&#21306;&#21035;&#65292;&#23427;&#20204;&#26159;&#22914;&#20309;&#21457;&#29983;&#21450;&#22312;&#21457;&#29983;&#26102;&#23558;&#20570;&#20123;&#20160;&#20040;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12778"></a>6.10.2.&nbsp;&#26381;&#21153;&#19982;&#20027;&#26426;&#30340;&#26816;&#27979;&#37325;&#35797;</h3></div></div></div><p>&#20026;&#38450;&#27490;&#22240;&#30636;&#24577;&#25925;&#38556;&#32780;&#24341;&#21457;&#38169;&#35823;&#25253;&#35686;&#65292;Nagio&#38656;&#35201;&#23450;&#20041;&#20027;&#26426;&#19982;&#26381;&#21153;&#32463;&#36807;&#22810;&#23569;&#27425;&#30340;&#37325;&#35797;&#26816;&#27979;&#21518;&#20877;&#35748;&#20026;&#25925;&#38556;&#26159;&#8220;&#30495;&#27491;&#8221;&#21457;&#29983;&#12290;&#36825;&#20010;&#27425;&#25968;&#26159;&#30001;&#20027;&#26426;&#19982;&#26381;&#21153;&#20013;&#30340;<span class="strong"><strong>max_check_attempts</strong></span>&#36873;&#39033;&#20915;&#23450;&#12290;&#29702;&#35299;&#22914;&#26524;&#30495;&#27491;&#25925;&#38556;&#21457;&#29983;&#26102;&#20027;&#26426;&#19982;&#26381;&#21153;&#36827;&#34892;&#26816;&#27979;&#37325;&#35797;&#30340;&#20570;&#27861;&#22312;&#29702;&#35299;&#29366;&#24577;&#31867;&#22411;&#26426;&#21046;&#24456;&#37325;&#35201;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12786"></a>6.10.3.&nbsp;&#36719;&#24577;</h3></div></div></div><p>&#36719;&#24577;&#22312;&#22914;&#19979;&#24773;&#20917;&#26102;&#20250;&#21457;&#29983;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#24403;&#26381;&#21153;&#19982;&#20027;&#26426;&#26816;&#27979;&#36820;&#22238;&#19968;&#20010;&#38750;&#27491;&#24120;&#25110;&#38750;&#36816;&#34892;&#29366;&#24577;&#65292;&#21516;&#26102;&#65292;&#26381;&#21153;&#19982;&#20027;&#26426;&#30340;&#37325;&#35797;&#26816;&#27979;&#36824;&#27809;&#26377;&#36798;&#21040;&#35774;&#32622;<span class="strong"><strong>max_check_attempts</strong></span>&#25152;&#35774;&#23450;&#30340;&#27425;&#25968;&#26102;&#12290;&#36825;&#20010;&#34987;&#31216;&#20026;&#36719;&#25925;&#38556;&#12290;</li><li>&#24403;&#26381;&#21153;&#19982;&#20027;&#26426;&#33258;&#36719;&#25925;&#38556;&#36716;&#21464;&#26102;&#12290;&#36825;&#20010;&#34987;&#31216;&#20026;&#36719;&#24674;&#22797;&#12290;</li></ol></div><p>&#36719;&#24577;&#21464;&#21270;&#26102;&#23558;&#26377;&#22914;&#19979;&#24773;&#24418;&#21457;&#29983;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#36719;&#24577;&#34987;&#35760;&#24405;&#65307;</li><li>&#20107;&#20214;&#22788;&#29702;&#23558;&#20250;&#25191;&#34892;&#20197;&#25429;&#33719;&#20998;&#26512;&#36719;&#24577;&#65307;</li></ol></div><p>&#21482;&#26159;&#22312;&#20351;&#33021;&#20102;&#20027;&#37197;&#32622;&#25991;&#20214;&#37324;&#30340;<a class="link" href="#log_service_retries" title="&#34920;&nbsp;5.36.&nbsp;&#26381;&#21153;&#26816;&#27979;&#37325;&#35797;&#35760;&#24405;&#36873;&#39033;">log_service_retries</a>&#36873;&#39033;&#25110;&#26159;<a class="link" href="#log_host_retries" title="&#34920;&nbsp;5.37.&nbsp;&#20027;&#26426;&#26816;&#27979;&#37325;&#35797;&#35760;&#24405;&#36873;&#39033;">log_host_retries</a>&#36873;&#39033;&#26102;&#36719;&#24577;&#25165;&#20250;&#34987;&#35760;&#24405;&#12290;</p><p>&#30495;&#27491;&#37325;&#35201;&#30340;&#26159;&#22312;&#36719;&#24577;&#21457;&#29983;&#26102;&#21435;&#25191;&#34892;&#20107;&#20214;&#22788;&#29702;&#12290;&#22312;&#23427;&#36716;&#20837;&#30828;&#24577;&#20043;&#21069;&#24212;&#29992;&#20107;&#20214;&#22788;&#29702;&#23558;&#29305;&#21035;&#26377;&#25928;&#65292;&#22914;&#26524;&#20320;&#35797;&#22270;&#39044;&#22788;&#29702;&#20462;&#22797;&#25925;&#38556;&#26102;&#12290;&#24403;&#20107;&#20214;&#22788;&#29702;&#36816;&#34892;&#26102;&#65292;&#23439;<a class="link" href="#macrolist_HOSTSTATETYPE">$HOSTSTATETYPE$</a>&#25110;<a class="link" href="#macrolist_SERVICESTATETYPE">$SERVICESTATETYPE$</a>&#23558;&#20250;&#36171;&#20540;"<span class="strong"><strong>&#36719;&#24577;</strong></span>"&#65292;&#36825;&#26679;&#23558;&#20351;&#20107;&#20214;&#22788;&#29702;&#33050;&#26412;&#24471;&#30693;&#20160;&#20040;&#26102;&#20505;&#27491;&#30830;&#21160;&#20316;&#12290;&#26356;&#22810;&#26377;&#20851;&#20107;&#20214;&#22788;&#29702;&#30340;&#20449;&#24687;&#21487;&#20197;&#26597;&#38405;<a class="link" href="#eventhandlers" title="6.8.&nbsp;&#20107;&#20214;&#22788;&#29702;">&#36825;&#31687;&#25991;&#26723;</a>&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12828"></a>6.10.4.&nbsp;&#30828;&#24577;</h3></div></div></div><p>&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#30828;&#24577;&#23558;&#20250;&#22312;&#22914;&#19979;&#24773;&#20917;&#21457;&#29983;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#24403;&#26381;&#21153;&#19982;&#20027;&#26426;&#26816;&#27979;&#36820;&#22238;&#19968;&#20010;&#38750;&#27491;&#24120;&#25110;&#38750;&#36816;&#34892;&#29366;&#24577;&#65292;&#21516;&#26102;&#65292;&#26381;&#21153;&#19982;&#20027;&#26426;&#30340;&#37325;&#35797;&#26816;&#27979;&#24050;&#32463;&#36798;&#21040;&#35774;&#32622;<span class="strong"><strong>max_check_attempts</strong></span>&#25152;&#35774;&#23450;&#30340;&#27425;&#25968;&#26102;&#65307;&#36825;&#20010;&#34987;&#31216;&#20026;&#30828;&#25925;&#38556;&#12290;</li><li>&#24403;&#20027;&#26426;&#19982;&#26381;&#21153;&#20174;&#19968;&#20010;&#30828;&#25925;&#38556;&#36716;&#21464;&#20026;&#21478;&#19968;&#20010;&#26102;(&#22914;&#21578;&#35686;&#21040;&#32039;&#24613;)&#65307;</li><li>&#24403;&#26381;&#21153;&#26816;&#27979;&#22788;&#29702;&#38750;&#27491;&#24120;&#29366;&#24577;&#26102;&#23545;&#24212;&#30340;&#20027;&#26426;&#22788;&#20110;&#23445;&#26426;&#25110;&#19981;&#21487;&#36798;&#26102;&#65307;</li><li>&#24403;&#20027;&#26426;&#25110;&#26381;&#21153;&#33258;&#19968;&#20010;&#30828;&#24577;&#24674;&#22797;&#26102;&#65307;&#36825;&#20010;&#34987;&#31216;&#20026;&#30828;&#24674;&#22797;&#12290;</li><li>&#24403;&#25910;&#21040;&#19968;&#20010;<a class="link" href="#passivechecks" title="6.14.&nbsp;&#24378;&#21046;&#26816;&#27979;">&#24378;&#21046;&#20027;&#26426;&#26816;&#27979;</a>&#32467;&#26524;&#26102;&#12290;&#24378;&#21046;&#20027;&#26426;&#26816;&#27979;&#32467;&#26524;&#23558;&#34987;&#35748;&#23450;&#26159;&#30828;&#24577;&#38500;&#38750;&#35774;&#32622;&#20351;&#33021;&#20102;<a class="link" href="#passive_host_checks_are_soft" title="&#34920;&nbsp;5.61.&nbsp;Passive Host Checks Are SOFT Option">passive_host_checks_are_soft</a>&#36873;&#39033;&#65307;</li></ol></div><p>&#24403;&#20027;&#26426;&#25110;&#26381;&#21153;&#32463;&#36807;&#30828;&#24577;&#21464;&#36801;&#26102;&#22914;&#19979;&#24773;&#24418;&#23558;&#20250;&#21457;&#29983;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#30828;&#24577;&#34987;&#35760;&#24405;&#65307;</li><li>&#20107;&#20214;&#22788;&#29702;&#23558;&#20250;&#25191;&#34892;&#20197;&#22788;&#32622;&#30828;&#24577;&#65307;</li><li>&#22312;&#20027;&#26426;&#19982;&#26381;&#21153;&#25925;&#38556;&#21644;&#24674;&#22797;&#26102;&#23545;&#24212;&#30340;&#32852;&#31995;&#20154;&#23558;&#25910;&#21040;&#36890;&#30693;&#65307;</li></ol></div><p>&#24403;&#25191;&#34892;&#20107;&#20214;&#22788;&#29702;&#26102;&#23439;<a class="link" href="#macrolist_HOSTSTATETYPE">$HOSTSTATETYPE$</a>&#25110;<a class="link" href="#macrolist_SERVICESTATETYPE">$SERVICESTATETYPE$</a>&#23558;&#20250;&#36171;&#20540;&#20026;"<span class="strong"><strong>&#30828;&#24577;</strong></span>"&#65292;&#36825;&#26679;&#23558;&#20351;&#20107;&#20214;&#22788;&#29702;&#33050;&#26412;&#24471;&#30693;&#20160;&#20040;&#26102;&#20505;&#27491;&#30830;&#21160;&#20316;&#12290;&#26356;&#22810;&#26377;&#20851;&#20107;&#20214;&#22788;&#29702;&#30340;&#20449;&#24687;&#21487;&#20197;&#26597;&#38405;<a class="link" href="#eventhandlers" title="6.8.&nbsp;&#20107;&#20214;&#22788;&#29702;">&#36825;&#31687;&#25991;&#26723;</a>&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12876"></a>6.10.5.&nbsp;&#20030;&#20363;</h3></div></div></div><p>&#36825;&#37324;&#26377;&#19968;&#20010;&#22312;&#24403;&#29366;&#24577;&#36716;&#25442;&#21457;&#29983;&#26102;&#21644;&#24403;&#20107;&#20214;&#22788;&#29702;&#19982;&#36890;&#30693;&#34987;&#36865;&#20986;&#26102;&#22914;&#20309;&#32473;&#23450;&#29366;&#24577;&#31867;&#22411;&#30340;&#20363;&#23376;&#12290;&#26381;&#21153;&#30340;&#26368;&#22823;&#37325;&#35797;&#27425;&#25968;<span class="strong"><strong>max_check_attempts</strong></span>&#20540;&#35774;&#32622;&#20026;3&#12290;</p><div class="table"><a name="d0e12884"></a><p class="title"><b>&#34920;&nbsp;6.4.&nbsp;</b></p><div class="table-contents"><table border="1"><colgroup><col><col><col><col><col><col></colgroup><thead><tr><th>&#26102;&#21051;</th><th>&#26816;&#27979;&#27425;&#25968;</th><th>&#29366;&#24577;</th><th>&#29366;&#24577;&#31867;&#22411;</th><th>&#26159;&#21542;&#29366;&#24577;&#21464;&#25442;</th><th>&#27880;&#37322;</th></tr></thead><tbody><tr><td>0</td><td>1</td><td>&#27491;&#24120;</td><td>&#30828;&#24577;</td><td>&#21542;</td><td>&#21021;&#22987;&#30340;&#26381;&#21153;&#29366;&#24577;</td></tr><tr><td>1</td><td>1</td><td>&#32039;&#24613;</td><td>&#36719;&#24577;</td><td>&#26159;</td><td>&#39318;&#27425;&#21457;&#29616;&#38750;&#27491;&#24120;&#29366;&#24577;&#12290;&#25191;&#34892;&#20107;&#20214;&#22788;&#29702;&#12290;</td></tr><tr><td>2</td><td>2</td><td>&#21578;&#35686;</td><td>&#36719;&#24577;</td><td>&#26159;</td><td>&#26381;&#21153;&#20173;&#22788;&#20110;&#38750;&#27491;&#24120;&#29366;&#24577;&#12290;&#25191;&#34892;&#20107;&#20214;&#22788;&#29702;&#12290;</td></tr><tr><td>3</td><td>3</td><td>&#32039;&#24613;</td><td>&#30828;&#24577;</td><td>&#26159;</td><td>&#36798;&#21040;&#26368;&#22823;&#37325;&#35797;&#27425;&#25968;&#65292;&#26381;&#21153;&#29366;&#24577;&#31867;&#22411;&#36827;&#20837;&#30828;&#24577;&#12290;&#20107;&#20214;&#22788;&#29702;&#25191;&#34892;&#19988;&#36865;&#20986;&#25925;&#38556;&#36890;&#30693;&#12290;&#26816;&#27979;&#25968;&#22312;&#24403;&#26102;&#34987;&#37325;&#32622;&#20026;1&#12290;</td></tr><tr><td>4</td><td>1</td><td>&#21578;&#35686;</td><td>&#30828;&#24577;</td><td>&#26159;</td><td>&#26381;&#21153;&#29366;&#24577;&#21464;&#25442;&#20026;&#30828;&#24577;&#21578;&#35686;&#12290;&#20107;&#20214;&#22788;&#29702;&#25191;&#34892;&#19988;&#36865;&#20986;&#25925;&#38556;&#36890;&#30693;&#12290;</td></tr><tr><td>5</td><td>1</td><td>&#21578;&#35686;</td><td>&#30828;&#24577;</td><td>&#21542;</td><td>&#26381;&#21153;&#20173;&#20572;&#22312;&#30828;&#24577;&#25925;&#38556;&#65292;&#20026;&#20010;&#21462;&#20915;&#20110;&#26381;&#21153;&#30340;&#36890;&#30693;&#38388;&#38548;&#26159;&#22810;&#23569;&#65292;&#20063;&#21487;&#33021;&#20250;&#26377;&#21478;&#19968;&#20010;&#25925;&#38556;&#36890;&#30693;&#34987;&#36865;&#20986;&#12290;</td></tr><tr><td>6</td><td>1</td><td>&#27491;&#24120;</td><td>&#30828;&#24577;</td><td>&#26159;</td><td>&#26381;&#21153;&#32463;&#21382;&#20102;&#19968;&#20010;&#30828;&#24577;&#24674;&#22797;&#12290;&#20107;&#20214;&#22788;&#29702;&#25191;&#34892;&#19988;&#19968;&#20010;&#24674;&#22797;&#36890;&#30693;&#34987;&#36865;&#20986;&#12290;</td></tr><tr><td>7</td><td>1</td><td>&#27491;&#24120;</td><td>&#30828;&#24577;</td><td>&#21542;</td><td>&#26381;&#21153;&#20173;&#22788;&#20110;&#27491;&#24120;&#12290;</td></tr><tr><td>8</td><td>1</td><td>&#26410;&#30693;</td><td>&#36719;&#24577;</td><td>&#26159;</td><td>&#26381;&#21153;&#34987;&#26816;&#26597;&#20986;&#20174;&#19968;&#20010;&#36719;&#24577;&#38750;&#27491;&#24120;&#24577;&#21464;&#25442;&#20102;&#12290;&#20107;&#20214;&#22788;&#29702;&#25191;&#34892;&#12290;</td></tr><tr><td>9</td><td>2</td><td>&#27491;&#24120;</td><td>&#36719;&#24577;</td><td>&#26159;</td><td>&#26381;&#21153;&#32463;&#21382;&#20102;&#19968;&#20010;&#36719;&#24674;&#22797;&#12290;&#20107;&#20214;&#22788;&#29702;&#25191;&#34892;&#65292;&#20294;&#36890;&#30693;&#19981;&#20250;&#36865;&#20986;&#65292;&#22240;&#20026;&#36825;&#19981;&#26159;&#20010;&#8220;&#30495;&#27491;&#8221;&#25925;&#38556;&#12290;&#24403;&#36825;&#21457;&#29983;&#26102;&#29366;&#24577;&#31867;&#22411;&#35774;&#32622;&#20026;&#30828;&#24577;&#32780;&#19988;&#26816;&#27979;&#27425;&#25968;&#34987;&#31435;&#21363;&#37325;&#32622;&#20026;1&#12290;</td></tr><tr><td>10</td><td>1</td><td>&#27491;&#24120;</td><td>&#30828;&#24577;</td><td>&#21542;</td><td>&#26381;&#21153;&#20572;&#22312;&#20102;&#19968;&#20010;&#27491;&#24120;&#29366;&#24577;&#12290;</td></tr></tbody></table></div></div><br class="table-break"></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="hostchecks"></a>6.11.&nbsp;&#20027;&#26426;&#26816;&#27979;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13047"></a>6.11.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>&#36825;&#37324;&#23558;&#20171;&#32461;&#20027;&#26426;&#26816;&#27979;&#30340;&#22522;&#26412;&#26426;&#21046;...</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13052"></a>6.11.2.&nbsp;&#20160;&#20040;&#26102;&#20505;&#20570;&#20027;&#26426;&#26816;&#27979;&#65311;</h3></div></div></div><p>&#30001;Nagios&#23432;&#25252;&#36827;&#31243;&#26469;&#20570;&#20027;&#26426;&#26816;&#27979;&#65292;&#19968;&#33324;&#26159;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#22312;&#35268;&#26684;&#21270;&#30340;&#38388;&#38548;&#20869;&#65292;&#36825;&#20010;&#30001;<a class="link" href="#objectdefinitions_host">&#20027;&#26426;&#23545;&#35937;&#23450;&#20041;</a>&#37324;&#30340;<span class="strong"><strong>check_interval</strong></span>&#21644;<span class="strong"><strong>retry_interval</strong></span>&#36873;&#39033;&#30830;&#23450;&#65307;</li><li>&#24403;&#20027;&#26426;&#29366;&#24577;&#21464;&#25442;&#21518;&#23545;&#24212;&#30340;&#26381;&#21153;&#20570;&#25353;&#38656;&#26816;&#27979;&#65307;</li><li>&#22312;<a class="link" href="#networkreachability" title="8.4.&nbsp;&#22914;&#20309;&#30830;&#35748;&#32593;&#32476;&#20013;&#20027;&#26426;&#30340;&#29366;&#24577;&#19982;&#21487;&#36798;&#24615;">&#20027;&#26426;&#21487;&#36798;&#24615;</a>&#36923;&#36753;&#20013;&#38656;&#35201;&#20570;&#25353;&#38656;&#26816;&#27979;&#65307;</li><li>&#22312;<a class="link" href="#dependencychecks" title="8.12.&nbsp;&#20381;&#36182;&#26816;&#27979;&#30340;&#21069;&#22788;&#29702;">&#20027;&#26426;&#20381;&#36182;&#26816;&#27979;&#30340;&#21069;&#22788;&#29702;</a>&#20013;&#38656;&#35201;&#20570;&#25353;&#38656;&#26816;&#27979;&#65307;</li></ol></div><p>&#35268;&#26684;&#21270;&#23450;&#26399;&#20027;&#26426;&#26816;&#27979;&#26159;&#21487;&#36873;&#30340;&#65292;&#22914;&#26524;&#20320;&#23558;&#20027;&#26426;&#23545;&#35937;&#23450;&#20041;&#37324;&#30340;<span class="strong"><strong>check_interval</strong></span>&#20540;&#35774;&#32622;&#20026;0&#65292;Nagios&#23558;&#19981;&#20250;&#23450;&#26399;&#20570;&#26816;&#27979;&#12290;&#28982;&#32780;&#23427;&#20173;&#26087;&#20250;&#22312;&#25353;&#38656;&#26816;&#27979;&#26102;&#20570;&#20027;&#26426;&#26816;&#27979;&#65292;&#22914;&#26524;&#30001;&#30417;&#25511;&#36923;&#36753;&#20013;&#30340;&#20854;&#20182;&#37096;&#20998;&#38656;&#35201;&#36827;&#34892;&#26816;&#27979;&#26102;&#12290;</p><p>&#25353;&#38656;&#26816;&#27979;&#34987;&#29992;&#20110;&#24403;&#32465;&#23450;&#20110;&#26576;&#21488;&#20027;&#26426;&#19978;&#30340;&#26381;&#21153;&#29366;&#24577;&#21464;&#25442;&#26102;&#23545;&#20027;&#26426;&#26816;&#27979;&#65292;&#22240;&#20026;Nagios&#38656;&#35201;&#30693;&#36947;&#20027;&#26426;&#26159;&#21542;&#20063;&#26377;&#29366;&#24577;&#21464;&#25442;&#24773;&#20917;&#21457;&#29983;&#12290;&#26381;&#21153;&#29366;&#24577;&#30340;&#21464;&#21270;&#36890;&#24120;&#34920;&#24449;&#30528;&#20027;&#26426;&#29366;&#24577;&#20063;&#21457;&#29983;&#21464;&#21270;&#12290;&#20363;&#22914;&#65292;&#22914;&#26524;Nagios&#21457;&#29616;&#26576;&#21488;&#20027;&#26426;&#19978;&#30340;HTTP&#26381;&#21153;&#20174;&#8220;&#32039;&#24613;&#8221;&#21040;&#8220;&#27491;&#24120;&#8221;&#26102;&#65292;&#23427;&#26377;&#20063;&#34920;&#31034;&#20027;&#26426;&#21018;&#21018;&#20174;&#37325;&#21551;&#20013;&#24674;&#22797;&#23427;&#37325;&#26032;&#24674;&#22797;&#36816;&#34892;&#12290;</p><p>&#25353;&#38656;&#26816;&#27979;&#21516;&#26679;&#34987;&#29992;&#20110;<a class="link" href="#networkreachability" title="8.4.&nbsp;&#22914;&#20309;&#30830;&#35748;&#32593;&#32476;&#20013;&#20027;&#26426;&#30340;&#29366;&#24577;&#19982;&#21487;&#36798;&#24615;">&#20027;&#26426;&#21487;&#36798;&#24615;</a>&#36923;&#36753;&#20043;&#20013;&#23545;&#20027;&#26426;&#26816;&#27979;&#12290;Nagios&#34987;&#35774;&#35745;&#20026;&#23613;&#24555;&#22320;&#24471;&#21040;&#32593;&#32476;&#27010;&#20917;&#65292;&#19988;&#23613;&#24555;&#20998;&#36776;&#20986;&#20027;&#26426;&#30340;&#23445;&#26426;&#19982;&#19981;&#21487;&#36798;&#29366;&#24577;&#12290;&#36825;&#20123;&#23436;&#20840;&#19981;&#21516;&#30340;&#29366;&#24577;&#23558;&#21327;&#21161;&#31649;&#29702;&#21592;&#23613;&#24555;&#22312;&#32593;&#32476;&#20013;&#23450;&#20301;&#20986;&#38382;&#39064;&#28304;&#28857;&#12290;</p><p>&#25353;&#38656;&#26816;&#27979;&#21516;&#26679;&#22312;<a class="link" href="#dependencychecks" title="8.12.&nbsp;&#20381;&#36182;&#26816;&#27979;&#30340;&#21069;&#22788;&#29702;">&#20027;&#26426;&#20381;&#36182;&#24615;&#26816;&#27979;&#30340;&#21069;&#22788;&#29702;</a>&#36923;&#36753;&#20013;&#36827;&#34892;&#20027;&#26426;&#26816;&#27979;&#12290;&#36825;&#23558;&#21327;&#21161;&#30830;&#20445;&#24471;&#21040;&#23613;&#21487;&#33021;&#27491;&#30830;&#30340;&#20381;&#36182;&#36923;&#36753;&#20851;&#31995;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13098"></a>6.11.3.&nbsp;&#32531;&#23384;&#20027;&#26426;&#26816;&#27979;</h3></div></div></div><p>&#21487;&#29992;&#32531;&#23384;&#26816;&#27979;&#26469;&#26174;&#33879;&#22320;&#25913;&#21892;&#25353;&#38656;&#26816;&#27979;&#30340;&#24615;&#33021;&#65292;&#32531;&#23384;&#26816;&#27979;&#26426;&#21046;&#21487;&#20351;Nagios&#25918;&#24323;&#19968;&#20010;&#20027;&#26426;&#30340;&#26816;&#27979;&#25191;&#34892;&#32780;&#20351;&#29992;&#30456;&#20851;&#30340;&#26368;&#36817;&#26816;&#27979;&#26469;&#26367;&#20195;&#65292;&#26356;&#22810;&#26377;&#20851;&#32531;&#23384;&#26816;&#27979;&#30340;&#20449;&#24687;&#21487;&#26597;&#38405;<a class="link" href="#cachedchecks" title="9.5.&nbsp;&#32531;&#23384;&#26816;&#27979;">&#36825;&#31687;&#25991;&#26723;</a>&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13106"></a>6.11.4.&nbsp;&#20381;&#36182;&#24615;&#19982;&#26816;&#27979;</h3></div></div></div><p>&#21487;&#36890;&#36807;&#32473;&#20986;&#23545;&#35937;&#23450;&#20041;&#37324;&#30340;<a class="link" href="#objectdefinitions_hostdependency">&#20027;&#26426;&#20381;&#36182;</a>&#23450;&#20041;&#26469;&#38450;&#27490;Nagios&#22240;&#23545;&#19968;&#20010;&#20027;&#26426;&#29366;&#24577;&#30340;&#26816;&#27979;&#32780;&#23545;&#19968;&#20010;&#25110;&#26356;&#22810;&#20027;&#26426;&#36827;&#34892;&#29366;&#24577;&#26816;&#27979;&#12290;&#26356;&#22810;&#30340;&#20851;&#20110;&#20027;&#26426;&#20381;&#36182;&#20851;&#31995;&#30340;&#20449;&#24687;&#21487;&#26597;&#38405;<a class="link" href="#dependencies" title="8.11.&nbsp;&#20027;&#26426;&#38388;&#19982;&#26381;&#21153;&#38388;&#20381;&#36182;&#20851;&#31995;">&#36825;&#31687;</a>&#25991;&#26723;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13117"></a>6.11.5.&nbsp;&#24182;&#21457;&#20027;&#26426;&#26816;&#27979;</h3></div></div></div><p>&#35745;&#21010;&#24335;&#20027;&#26426;&#26816;&#27979;&#26159;&#24182;&#21457;&#36816;&#34892;&#30340;&#12290;&#24403;Nagios&#35201;&#36816;&#34892;&#19968;&#20010;&#35745;&#21010;&#30340;&#20027;&#26426;&#26816;&#27979;&#26102;&#65292;&#21021;&#22987;&#20250;&#23545;&#23427;&#36827;&#34892;&#20027;&#26426;&#26816;&#27979;&#36820;&#22238;&#21518;&#20877;&#28982;&#21518;&#20570;&#20854;&#20182;&#24037;&#20316;(&#36816;&#34892;&#26381;&#21153;&#26816;&#27979;&#31561;)&#12290;&#19968;&#20010;&#20027;&#26426;&#26816;&#27979;&#31243;&#24207;&#26159;&#30001;&#20027;Nagios&#23432;&#25252;&#36827;&#31243;fork&#27966;&#29983;&#20986;&#26469;&#30340;&#19968;&#20010;&#23376;&#36827;&#31243;&#12290;&#24403;&#20027;&#26426;&#26816;&#27979;&#23436;&#25104;&#65292;&#23376;&#36827;&#31243;&#23558;&#36890;&#21578;&#20027;&#36827;&#31243;&#26816;&#27979;&#30340;&#32467;&#26524;&#12290;Nagios&#20027;&#36827;&#31243;&#23558;&#22788;&#29702;&#26816;&#27979;&#32467;&#26524;&#24182;&#37319;&#21462;&#21512;&#36866;&#30340;&#21160;&#20316;(&#25191;&#34892;&#20107;&#20214;&#22788;&#29702;&#12289;&#21457;&#36865;&#36890;&#30693;&#31561;)&#12290;</p><p>&#22914;&#26524;&#38656;&#35201;&#25353;&#38656;&#20027;&#26426;&#26816;&#27979;&#21516;&#26679;&#21487;&#20197;&#24182;&#21457;&#12290;&#22312;&#21069;&#38754;&#25152;&#25552;&#21450;&#30340;&#65292;Nagios&#22914;&#26524;&#21487;&#20197;&#21033;&#29992;&#20174;&#32531;&#23384;&#30340;&#30456;&#20851;&#30340;&#26368;&#36817;&#20027;&#26426;&#26816;&#27979;&#30340;&#32467;&#26524;&#32780;&#25918;&#24323;&#19968;&#27425;&#25353;&#38656;&#26816;&#27979;&#12290;</p><p>&#24403;Nagios&#22788;&#29702;&#35745;&#21010;&#30340;&#21644;&#25353;&#38656;&#30340;&#20027;&#26426;&#26816;&#27979;&#32467;&#26524;&#26102;&#65292;&#23427;&#21487;&#33021;&#21021;&#22987;&#21270;&#20043;&#21518;&#30340;&#20854;&#20182;&#20027;&#26426;&#26816;&#27979;&#12290;&#21021;&#22987;&#21270;&#36825;&#20123;&#26816;&#27979;&#21487;&#33021;&#26159;&#30001;&#20110;&#20004;&#20010;&#21407;&#22240;&#65306;<a class="link" href="#dependencychecks" title="8.12.&nbsp;&#20381;&#36182;&#26816;&#27979;&#30340;&#21069;&#22788;&#29702;">&#20381;&#36182;&#24615;&#26816;&#27979;&#30340;&#21069;&#22788;&#29702;</a>&#21644;&#20351;&#29992;<a class="link" href="#networkreachability" title="8.4.&nbsp;&#22914;&#20309;&#30830;&#35748;&#32593;&#32476;&#20013;&#20027;&#26426;&#30340;&#29366;&#24577;&#19982;&#21487;&#36798;&#24615;">&#32593;&#32476;&#21487;&#36798;&#24615;</a>&#36923;&#36753;&#26469;&#21028;&#23450;&#20027;&#26426;&#29366;&#24577;&#12290;&#21021;&#22987;&#21270;&#30340;&#20043;&#21518;&#26816;&#27979;&#19968;&#33324;&#26159;&#24182;&#21457;&#30340;&#12290;&#28982;&#32780;&#65292;&#19968;&#20010;&#24456;&#22823;&#38382;&#39064;&#24517;&#39035;&#35201;&#25226;&#25569;&#65292;&#36825;&#23558;&#38477;&#20302;&#36816;&#34892;&#25928;&#29575;...</p><div><img src="../pub/images/note.gif"></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3>&#22312;&#20027;&#26426;&#23545;&#35937;&#23450;&#20041;&#37324;&#23558;<span class="strong"><strong>max_check_attempts</strong></span>&#20540;&#35774;&#23450;&#20026;1&#20250;&#23548;&#33268;&#19968;&#31995;&#21015;&#24615;&#33021;&#38382;&#39064;&#12290;&#21407;&#22240;&#23601;&#26159;&#65292;&#22914;&#26524;Nagios&#38656;&#35201;&#20351;&#29992;<a class="link" href="#networkreachability" title="8.4.&nbsp;&#22914;&#20309;&#30830;&#35748;&#32593;&#32476;&#20013;&#20027;&#26426;&#30340;&#29366;&#24577;&#19982;&#21487;&#36798;&#24615;">&#32593;&#32476;&#21487;&#36798;&#24615;</a>&#36923;&#36753;&#26469;&#21028;&#23450;&#19968;&#20010;&#20027;&#26426;&#30340;&#30495;&#27491;&#29366;&#24577;(&#23427;&#20204;&#26159;&#23445;&#26426;&#25110;&#19981;&#21487;&#36798;)&#26102;&#65292;Nagios&#23558;&#19981;&#24471;&#19981;&#23545;&#35813;&#20027;&#26426;&#30340;&#30452;&#25509;&#29238;&#33410;&#28857;&#25191;&#34892;&#19968;&#36830;&#32493;&#22320;&#26816;&#27979;&#12290;&#38656;&#35201;&#37325;&#30003;&#65292;&#36825;&#20123;&#26816;&#27979;&#26159;<span class="strong"><strong>&#19968;&#20010;&#20010;&#22320;&#36830;&#32493;</strong></span>&#36816;&#34892;&#65292;&#32780;&#19981;&#26159;&#24182;&#21457;&#65292;&#36825;&#23558;&#23548;&#33268;&#24615;&#33021;&#38477;&#20302;&#12290;&#22522;&#20110;&#27492;&#65292;&#24314;&#35758;&#24635;&#26159;&#23558;&#20027;&#26426;&#23545;&#35937;&#23450;&#20041;&#37324;&#30340;<span class="strong"><strong>max_check_attempts</strong></span>&#22495;&#20540;&#35774;&#32622;&#22823;&#20110;1&#12290;</div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13148"></a>6.11.6.&nbsp;&#20027;&#26426;&#29366;&#24577;</h3></div></div></div><p>&#20027;&#26426;&#22312;&#22914;&#19979;&#19977;&#31181;&#29366;&#24577;&#20043;&#19968;&#26102;&#20250;&#34987;&#26816;&#27979;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#36816;&#34892;(UP)</li><li>&#23445;&#26426;(DOWN)</li><li>&#19981;&#21487;&#36798;(UNREACHABLE)</li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13160"></a>6.11.7.&nbsp;&#20027;&#26426;&#29366;&#24577;&#21028;&#23450;</h3></div></div></div><p>&#20027;&#26426;&#26816;&#27979;&#30001;<a class="link" href="#plugins" title="8.1.&nbsp;Nagios&#30340;&#25554;&#20214;">&#25554;&#20214;</a>&#26469;&#20570;&#65292;&#25554;&#20214;&#20250;&#36820;&#22238;&#32467;&#26524;&#65292;&#32467;&#26524;&#26159;&#36816;&#34892;&#12289;&#21578;&#35686;&#12289;&#26410;&#30693;&#21644;&#32039;&#24613;&#22235;&#20010;&#29366;&#24577;&#20043;&#19968;&#12290;&#37027;&#20040;Nagios&#23558;&#22914;&#20309;&#25226;&#25554;&#20214;&#30340;&#36820;&#22238;&#20540;&#36716;&#25442;&#25104;&#20027;&#26426;&#30340;&#36816;&#34892;&#12289;&#23445;&#26426;&#25110;&#19981;&#21487;&#36798;&#21602;&#65311;&#19979;&#38754;&#20250;&#35762;&#21040;&#12290;</p><p>&#19979;&#34920;&#32473;&#20986;&#20102;&#25554;&#20214;&#36820;&#22238;&#32467;&#26524;&#19982;&#39044;&#32622;&#20027;&#26426;&#29366;&#24577;&#65292;&#20043;&#21518;&#20250;&#20570;&#26576;&#20123;&#21518;&#32493;&#22788;&#29702;(&#21518;&#38754;&#20250;&#35762;&#21040;)&#65292;&#21518;&#32493;&#22788;&#29702;&#21487;&#33021;&#20250;&#25913;&#21464;&#26368;&#32456;&#30340;&#20027;&#26426;&#29366;&#24577;&#12290;</p><div class="table"><a name="plugin_result"></a><p class="title"><b>&#34920;&nbsp;6.5.&nbsp;&#29366;&#24577;&#20540;</b></p><div class="table-contents"><table summary="&#29366;&#24577;&#20540;" border="1"><colgroup><col><col></colgroup><thead><tr><th>&#25554;&#20214;&#32467;&#26524;</th><th>&#39044;&#32622;&#20027;&#26426;&#29366;&#24577;</th></tr></thead><tbody><tr><td>&#27491;&#24120;(OK)</td><td>&#36816;&#34892;(UP)</td></tr><tr><td>&#21578;&#35686;(WARNING)</td><td>&#36816;&#34892;(UP)&#25110;&#23445;&#26426;(DOWN)<sup>*</sup></td></tr><tr><td>&#26410;&#30693;(UNKNOWN)</td><td>&#23445;&#26426;(DOWN)</td></tr><tr><td>&#32039;&#24613;(CRITICAL)</td><td>&#23445;&#26426;(DOWN)</td></tr></tbody></table></div></div><br class="table-break"><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><div><img src="../pub/images/note.gif"></div>&#21578;&#35686;&#36890;&#24120;&#24847;&#21619;&#30528;&#20027;&#26426;&#26159;&#36816;&#34892;&#30340;&#65292;&#28982;&#32780;&#65292;&#22914;&#26524;&#20320;&#20351;&#33021;&#20102;<a class="link" href="#use_aggressive_host_checking" title="&#34920;&nbsp;5.59.&nbsp;&#36827;&#21462;&#24335;&#20027;&#26426;&#26816;&#27979;&#36873;&#39033;">use_aggressive_host_checking</a>&#36873;&#39033;&#30340;&#35805;&#65292;&#21578;&#35686;&#20063;&#21487;&#29702;&#35299;&#20026;&#20027;&#26426;&#23445;&#26426;&#12290;</div><p>&#22914;&#26524;&#39044;&#32622;&#20027;&#26426;&#29366;&#24577;&#26159;&#23445;&#26426;&#65292;Nagios&#23558;&#23581;&#35797;&#23427;&#26159;&#21542;&#30495;&#30340;&#23445;&#26426;&#36824;&#26159;&#23427;&#26159;&#19981;&#21487;&#36798;&#12290;&#23445;&#26426;&#19982;&#19981;&#21487;&#36798;&#20998;&#24320;&#24456;&#37325;&#35201;&#65292;&#36825;&#20351;&#24471;&#31649;&#29702;&#21592;&#26356;&#24555;&#22320;&#26597;&#25214;&#21040;&#32593;&#32476;&#25925;&#38556;&#30340;&#28304;&#22836;&#12290;&#19979;&#38754;&#32473;&#20986;&#20102;&#22522;&#20110;&#35813;&#20027;&#26426;&#30340;&#29238;&#33410;&#28857;&#24471;&#20986;&#20027;&#26426;&#26368;&#32456;&#29366;&#24577;&#30340;&#34920;&#26684;&#12290;&#20027;&#26426;&#30340;&#29238;&#33410;&#28857;&#26159;&#22312;&#23545;&#35937;&#23450;&#20041;&#37324;&#30340;<span class="strong"><strong>parents</strong></span>&#22495;&#26469;&#35774;&#23450;&#30340;&#12290;</p><div class="table"><a name="host_state"></a><p class="title"><b>&#34920;&nbsp;6.6.&nbsp;</b></p><div class="table-contents"><table border="1"><colgroup><col><col><col></colgroup><thead><tr><th>&#39044;&#32622;&#20027;&#26426;&#29366;&#24577;</th><th>&#29238;&#33410;&#28857;&#29366;&#24577;</th><th>&#26368;&#32456;&#30340;&#20027;&#26426;&#29366;&#24577;</th></tr></thead><tbody><tr><td>&#23445;&#26426;(DOWN)</td><td>&#33267;&#23569;&#19968;&#21488;&#36816;&#34892;(UP)</td><td>&#23445;&#26426;(DOWN)</td></tr><tr><td>&#23445;&#26426;(DOWN)</td><td>&#20840;&#37096;&#29238;&#33410;&#28857;&#19981;&#26159;&#23445;&#26426;(DOWN)&#23601;&#26159;&#19981;&#21487;&#36798;(UNREACHABLE)</td><td>&#19981;&#21487;&#36798;(UNREACHABLE)</td></tr></tbody></table></div></div><br class="table-break"><p>&#26377;&#20851;&#22914;&#20309;&#20998;&#36776;&#23445;&#26426;(DOWN)&#19982;&#19981;&#21487;&#36798;(UNREACHABLE)&#29366;&#24577;&#30340;&#26356;&#22810;&#20449;&#24687;&#21487;&#26597;&#38405;<a class="link" href="#networkreachability" title="8.4.&nbsp;&#22914;&#20309;&#30830;&#35748;&#32593;&#32476;&#20013;&#20027;&#26426;&#30340;&#29366;&#24577;&#19982;&#21487;&#36798;&#24615;">&#36825;&#31687;</a>&#25991;&#26723;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13245"></a>6.11.8.&nbsp;&#20027;&#26426;&#29366;&#24577;&#21464;&#25442;</h3></div></div></div><p>&#20320;&#21487;&#33021;&#27880;&#24847;&#21040;&#20102;&#20027;&#26426;&#24182;&#19981;&#24635;&#26159;&#30041;&#22312;&#19968;&#31181;&#29366;&#24577;&#65292;&#20107;&#20214;&#20013;&#26029;&#12289;&#25171;&#19978;&#34917;&#19969;&#21644;&#26381;&#21153;&#22120;&#38656;&#35201;&#37325;&#21551;&#21160;&#31561;&#37117;&#20250;&#35753;&#23427;&#29366;&#24577;&#21464;&#25442;&#12290;&#24403;Nagios&#26816;&#27979;&#20986;&#20027;&#26426;&#29366;&#24577;&#26102;&#65292;&#23427;&#24635;&#26159;&#35201;&#24863;&#30693;&#21040;&#20027;&#26426;&#20174;&#22235;&#31181;&#29366;&#24577;&#20043;&#38388;&#20570;&#20102;&#21464;&#25442;&#24182;&#35201;&#37319;&#21462;&#23545;&#24212;&#30340;&#34892;&#21160;&#12290;&#36825;&#20123;&#22312;&#19981;&#21516;&#30340;<a class="link" href="#statetypes" title="6.10.&nbsp;&#29366;&#24577;&#31867;&#22411;">&#29366;&#24577;&#31867;&#22411;</a>(&#30828;&#24577;&#25110;&#36719;&#24577;)&#19979;&#30340;&#29366;&#24577;&#21464;&#25442;&#23558;&#20250;&#35302;&#21457;<a class="link" href="#eventhandlers" title="6.8.&nbsp;&#20107;&#20214;&#22788;&#29702;">&#20107;&#20214;&#22788;&#29702;</a>&#30340;&#36816;&#34892;&#21644;&#21457;&#36865;&#20986;<a class="link" href="#notifications" title="6.7.&nbsp;&#36890;&#30693;">&#36890;&#30693;</a>&#12290;&#21457;&#29616;&#19982;&#22788;&#32622;&#36825;&#20123;&#29366;&#24577;&#21464;&#25442;&#26159;Nagios&#35813;&#20570;&#30340;&#20840;&#37096;&#12290;</p><p>&#24403;&#20027;&#26426;&#29366;&#24577;&#36807;&#24230;&#39057;&#32321;&#22320;&#21464;&#25442;&#29366;&#24577;&#26102;&#21487;&#20197;&#32771;&#34385;&#29366;&#24577;&#22788;&#20110;&#8220;&#25238;&#21160;&#8221;(flapping)&#12290;&#19968;&#20010;&#26126;&#26174;&#30340;&#20363;&#23376;&#23601;&#26159;&#19968;&#21488;&#20027;&#26426;&#30001;&#20110;&#21152;&#36733;&#25805;&#20316;&#31995;&#32479;&#32780;&#19981;&#26029;&#22320;&#37325;&#21551;&#21160;&#65292;&#36825;&#31181;&#29366;&#24577;&#23601;&#26159;&#22788;&#20110;&#25238;&#21160;&#12290;&#19981;&#24471;&#19981;&#24212;&#23545;&#23427;&#26159;&#20010;&#26377;&#36259;&#30340;&#26041;&#26696;&#65292;Nagios&#33021;&#24863;&#30693;&#20027;&#26426;&#24320;&#22987;&#25238;&#21160;&#65292;&#24182;&#19988;&#21487;&#20197;&#21387;&#21046;&#36890;&#30693;&#30452;&#21040;&#25238;&#21160;&#20572;&#19979;&#26469;&#36798;&#21040;&#19968;&#31181;&#31283;&#23450;&#29366;&#24577;&#12290;&#26356;&#22810;&#30340;&#26377;&#20851;&#24863;&#30693;&#25238;&#21160;&#36923;&#36753;&#30340;&#20869;&#23481;&#21487;&#20197;&#26597;&#38405;<a class="link" href="#flapping" title="8.7.&nbsp;&#24863;&#30693;&#21644;&#22788;&#29702;&#29366;&#24577;&#25238;&#21160;">&#36825;&#31687;</a>&#25991;&#26723;&#12290;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="servicechecks"></a>6.12.&nbsp;&#26381;&#21153;&#26816;&#27979;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13267"></a>6.12.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>&#19979;&#38754;&#23558;&#23545;&#26381;&#21153;&#26816;&#27979;&#30340;&#22522;&#26412;&#26426;&#21046;&#36827;&#34892;&#35828;&#26126;...</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13272"></a>6.12.2.&nbsp;&#20160;&#20040;&#26102;&#20505;&#20250;&#20570;&#26381;&#21153;&#26816;&#27979;&#65311;</h3></div></div></div><p>&#30001;Nagios&#23432;&#25252;&#36827;&#34892;&#30340;&#26381;&#21153;&#26816;&#27979;&#25191;&#34892;&#20110;</p><div class="orderedlist"><ol type="1"><li>&#22312;&#35268;&#21010;&#30340;&#38388;&#38548;&#21040;&#20102;&#26102;&#65307;&#38388;&#38548;&#30001;<a class="link" href="#objectdefinitions_service">&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;</a>&#37324;&#30340;<span class="strong"><strong>check_interval</strong></span>&#21644;<span class="strong"><strong>retry_interval</strong></span>&#36873;&#39033;&#30830;&#23450;&#12290;</li><li>&#22240;<a class="link" href="#dependencychecks" title="8.12.&nbsp;&#20381;&#36182;&#26816;&#27979;&#30340;&#21069;&#22788;&#29702;">&#26381;&#21153;&#20381;&#36182;&#26816;&#27979;&#30340;&#21069;&#22788;&#29702;</a>&#38656;&#35201;&#32780;&#21457;&#20986;&#30340;&#25353;&#38656;&#26816;&#27979;&#65307;</li></ol></div><p>&#22240;<a class="link" href="#dependencychecks" title="8.12.&nbsp;&#20381;&#36182;&#26816;&#27979;&#30340;&#21069;&#22788;&#29702;">&#26381;&#21153;&#20381;&#36182;&#26816;&#27979;&#30340;&#21069;&#22788;&#29702;</a>&#36923;&#36753;&#32780;&#20570;&#30340;&#25353;&#38656;&#26816;&#27979;&#21487;&#20197;&#20445;&#35777;&#24471;&#21040;&#30340;&#20381;&#36182;&#36923;&#36753;&#20851;&#31995;&#23613;&#21487;&#33021;&#20934;&#30830;&#12290;&#22914;&#26524;&#19981;&#20351;&#29992;<a class="link" href="#objectdefinitions_servicedependency">&#20351;&#29992;&#20381;&#36182;</a>&#65292;Nagios&#23558;&#19981;&#20570;&#20219;&#20309;&#25353;&#38656;&#26381;&#21153;&#26816;&#27979;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13302"></a>6.12.3.&nbsp;&#32531;&#23384;&#26381;&#21153;&#26816;&#27979;</h3></div></div></div><p>&#36890;&#36807;&#24212;&#29992;&#32531;&#23384;&#26381;&#21153;&#26816;&#27979;&#21487;&#20197;&#26174;&#33879;&#22320;&#25913;&#21892;&#25353;&#38656;&#26381;&#21153;&#26816;&#27979;&#30340;&#24615;&#33021;&#65292;&#32531;&#23384;&#26381;&#21153;&#26816;&#27979;&#21487;&#20196;Nagios&#25918;&#24323;&#19968;&#20010;&#26381;&#21153;&#26816;&#27979;&#32780;&#29992;&#19968;&#20010;&#30456;&#20851;&#30340;&#26368;&#36817;&#19968;&#20010;&#26816;&#27979;&#26469;&#26367;&#20195;&#12290;&#22914;&#26524;&#32473;&#20986;&#20102;<a class="link" href="#objectdefinitions_servicedependency">&#26381;&#21153;&#20381;&#36182;</a>&#65292;&#32531;&#23384;&#26816;&#27979;&#23558;&#21482;&#26159;&#25552;&#39640;&#24615;&#33021;&#12290;&#26356;&#22810;&#30340;&#26377;&#20851;&#32531;&#23384;&#26816;&#27979;&#21487;&#26597;&#38405;<a class="link" href="#cachedchecks" title="9.5.&nbsp;&#32531;&#23384;&#26816;&#27979;">&#36825;&#31687;</a>&#25991;&#26723;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13313"></a>6.12.4.&nbsp;&#20381;&#36182;&#24615;&#19982;&#26816;&#27979;</h3></div></div></div><p>&#36890;&#36807;&#32473;&#20986;<a class="link" href="#objectdefinitions_servicedependency">&#26381;&#21153;&#20381;&#36182;</a>&#23545;&#35937;&#30340;&#23450;&#20041;&#21487;&#38450;&#27490;Nagios&#20026;&#21028;&#23450;&#19968;&#20010;&#26381;&#21153;&#32780;&#23545;&#19968;&#20010;&#25110;&#22810;&#20010;&#26381;&#21153;&#36827;&#34892;&#29366;&#24577;&#26816;&#27979;&#12290;&#26356;&#22810;&#30340;&#26377;&#20851;&#20381;&#36182;&#26816;&#27979;&#30340;&#20449;&#24687;&#21487;&#26597;&#38405;<a class="link" href="#dependencies" title="8.11.&nbsp;&#20027;&#26426;&#38388;&#19982;&#26381;&#21153;&#38388;&#20381;&#36182;&#20851;&#31995;">&#36825;&#31687;</a>&#25991;&#26723;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13324"></a>6.12.5.&nbsp;&#26381;&#21153;&#26816;&#27979;&#24182;&#21457;</h3></div></div></div><p>&#35745;&#21010;&#30340;&#26381;&#21153;&#26816;&#27979;&#26159;&#24182;&#21457;&#36816;&#34892;&#12290;&#24403;Nagios&#38656;&#35201;&#36816;&#34892;&#19968;&#20010;&#35745;&#21010;&#26381;&#21153;&#26816;&#27979;&#26102;&#65292;&#23427;&#23558;&#21021;&#22987;&#21270;&#19968;&#20010;&#26381;&#21153;&#26816;&#27979;&#24182;&#36820;&#22238;&#26469;&#20570;&#20854;&#20182;&#24037;&#20316;(&#36816;&#34892;&#20027;&#26426;&#26816;&#27979;&#31561;)&#12290;&#26381;&#21153;&#26816;&#27979;&#22312;&#19968;&#20010;&#30001;Nagios&#23432;&#25252;&#20027;&#36827;&#31243;&#20013;&#27966;&#29983;&#20986;&#30340;&#23376;&#36827;&#31243;&#20013;&#36816;&#34892;&#65292;&#23376;&#36827;&#31243;&#23558;&#25226;&#26816;&#27979;&#32467;&#26524;&#36890;&#21578;&#32473;&#20027;&#36827;&#31243;&#12290;Nagios&#20027;&#31243;&#24207;&#20250;&#22788;&#29702;&#26816;&#27979;&#32467;&#26524;&#24182;&#37319;&#21462;&#21512;&#36866;&#30340;&#34892;&#21160;(&#25191;&#34892;&#19968;&#20010;&#20107;&#20214;&#22788;&#29702;&#12289;&#21457;&#20986;&#36890;&#30693;&#31561;)&#12290;</p><p>&#22914;&#26524;&#38656;&#35201;&#65292;&#25353;&#38656;&#26381;&#21153;&#26816;&#27979;&#21516;&#26679;&#21487;&#20197;&#24182;&#21457;&#12290;&#22914;&#21069;&#25152;&#36848;&#65292;Nagios&#21487;&#20197;&#25918;&#24323;&#19968;&#20010;&#25353;&#38656;&#26816;&#27979;&#22914;&#26524;&#21487;&#20197;&#21033;&#29992;&#32531;&#23384;&#30340;&#30456;&#20851;&#30340;&#26368;&#36817;&#30340;&#26816;&#27979;&#32467;&#26524;&#26469;&#26367;&#20195;&#30340;&#35805;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13331"></a>6.12.6.&nbsp;&#26381;&#21153;&#29366;&#24577;</h3></div></div></div><p>&#34987;&#26816;&#27979;&#30340;&#26381;&#21153;&#26377;&#19979;&#21015;&#22235;&#31181;&#29366;&#24577;&#20043;&#19968;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#27491;&#24120;(OK)</li><li>&#21578;&#35686;(WARNING)</li><li>&#26410;&#30693;(UNKNOWN)</li><li>&#32039;&#24613;(CRITICAL)</li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13345"></a>6.12.7.&nbsp;&#26381;&#21153;&#29366;&#24577;&#21028;&#23450;</h3></div></div></div><p>&#30001;<a class="link" href="#plugins" title="8.1.&nbsp;Nagios&#30340;&#25554;&#20214;">&#25554;&#20214;</a>&#26469;&#20570;&#30340;&#26381;&#21153;&#26816;&#27979;&#23558;&#36820;&#22238;&#19968;&#20010;&#29366;&#24577;&#65292;&#26159;&#27491;&#24120;(OK)&#12289;&#21578;&#35686;(WARNING)&#12289;&#26410;&#30693;(UNKNOWN)&#25110;&#32039;&#24613;(CRITICAL)&#22235;&#31181;&#20043;&#19968;&#12290;&#25554;&#20214;&#30452;&#25509;&#23558;&#36716;&#25442;&#20026;&#26381;&#21153;&#29366;&#24577;&#65292;&#22914;&#25554;&#20214;&#36820;&#22238;&#19968;&#20010;&#21578;&#35686;&#29366;&#24577;&#23558;&#20351;&#19968;&#20010;&#26381;&#21153;&#22788;&#20110;&#21578;&#35686;&#24577;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13353"></a>6.12.8.&nbsp;&#26381;&#21153;&#29366;&#24577;&#21464;&#25442;</h3></div></div></div><p>&#24403;Nagios&#23545;&#26381;&#21153;&#36827;&#34892;&#29366;&#24577;&#26816;&#27979;&#65292;&#23558;&#20250;&#24863;&#30693;&#21040;&#26381;&#21153;&#22312;&#22235;&#31181;&#29366;&#24577;&#20043;&#38388;&#36827;&#34892;&#21464;&#21270;&#24182;&#37319;&#21462;&#21512;&#36866;&#34892;&#21160;&#12290;&#36825;&#20123;&#29366;&#24577;&#26377;&#19981;&#21516;&#30340;<a class="link" href="#statetypes" title="6.10.&nbsp;&#29366;&#24577;&#31867;&#22411;">&#29366;&#24577;&#31867;&#22411;</a>(&#30828;&#24577;&#25110;&#36719;&#24577;)&#23558;&#20250;&#35302;&#21457;<a class="link" href="#eventhandlers" title="6.8.&nbsp;&#20107;&#20214;&#22788;&#29702;">&#20107;&#20214;&#22788;&#29702;</a>&#36816;&#34892;&#21644;&#21457;&#20986;<a class="link" href="#notifications" title="6.7.&nbsp;&#36890;&#30693;">&#36890;&#30693;</a>&#12290;&#26381;&#21153;&#29366;&#24577;&#21464;&#25442;&#21516;&#26679;&#21487;&#20197;&#35302;&#21457;&#25353;&#38656;&#30340;<a class="link" href="#hostchecks" title="6.11.&nbsp;&#20027;&#26426;&#26816;&#27979;">&#20027;&#26426;&#26816;&#27979;</a>&#12290;&#24863;&#30693;&#19982;&#22788;&#29702;&#29366;&#24577;&#21464;&#25442;&#26159;Nagios&#35813;&#20570;&#30340;&#20840;&#37096;&#12290;</p><p>&#24403;&#26381;&#21153;&#29366;&#24577;&#36807;&#20998;&#39057;&#32321;&#22320;&#21464;&#25442;&#21487;&#34987;&#35748;&#20026;&#22788;&#20110;"&#25238;&#21160;"&#12290;Nagios&#21487;&#20197;&#24863;&#30693;&#21040;&#26381;&#21153;&#24320;&#22987;&#25238;&#21160;&#65292;&#21487;&#21387;&#21046;&#36890;&#30693;&#30452;&#21040;&#25238;&#21160;&#32467;&#26463;&#24182;&#19988;&#26381;&#21153;&#36798;&#21040;&#26576;&#31181;&#31283;&#23450;&#24577;&#12290;&#26356;&#22810;&#30340;&#20851;&#20110;&#24863;&#30693;&#25238;&#21160;&#36923;&#36753;&#30340;&#20449;&#24687;&#21487;&#20197;&#26597;&#38405;<a class="link" href="#flapping" title="8.7.&nbsp;&#24863;&#30693;&#21644;&#22788;&#29702;&#29366;&#24577;&#25238;&#21160;">&#36825;&#31687;</a>&#25991;&#26723;&#12290;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="activechecks"></a>6.13.&nbsp;&#33258;&#20027;&#26816;&#27979;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13378"></a>6.13.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p> Nagios&#29992;&#20004;&#31181;&#27169;&#24335;&#26469;&#23545;&#20027;&#26426;&#21644;&#26381;&#21153;&#36827;&#34892;&#26816;&#27979;&#65306;&#33258;&#20027;&#26816;&#27979;&#21644;&#24378;&#21046;&#26816;&#27979;&#12290;&#24378;&#21046;&#26816;&#27979;&#23558;&#22312;<a class="link" href="#passivechecks" title="6.14.&nbsp;&#24378;&#21046;&#26816;&#27979;">&#20854;&#20182;&#22320;&#26041;</a>&#35828;&#26126;&#65292;&#36825;&#37324;&#21482;&#28041;&#21450;&#33258;&#20027;&#26816;&#27979;&#12290;&#33258;&#20027;&#26816;&#27979;&#26159;&#26368;&#36890;&#29992;&#30340;&#30417;&#25511;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#26041;&#24335;&#12290;&#33258;&#20027;&#26816;&#27979;&#30340;&#20027;&#35201;&#29305;&#28857;&#26159;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#30001;Nagios&#36827;&#31243;&#36827;&#34892;&#36215;&#22987;&#30340;&#33258;&#20027;&#26816;&#27979;</li><li>&#33258;&#20027;&#26816;&#27979;&#26159;&#22312;&#19968;&#20010;&#35268;&#26684;&#21270;&#39044;&#23450;&#20041;&#21608;&#26399;&#20043;&#19978;&#36827;&#34892;</li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13391"></a>6.13.2.&nbsp;&#33258;&#20027;&#26816;&#27979;&#26159;&#22914;&#20309;&#36827;&#34892;&#30340;&#65311;</h3></div></div></div><p>&#33258;&#20027;&#26816;&#27979;&#30001;Nagios&#23432;&#25252;&#36827;&#31243;&#30340;&#26816;&#27979;&#36923;&#36753;&#36827;&#31243;&#21021;&#22987;&#21270;&#12290;&#24403;Nagios&#38656;&#35201;&#36827;&#34892;&#23545;&#20027;&#26426;&#21644;&#26381;&#21153;&#36827;&#34892;&#29366;&#24577;&#26816;&#27979;&#26102;&#65292;&#23427;&#23558;&#38656;&#35201;&#26816;&#27979;&#30340;&#20449;&#24687;&#20256;&#32473;&#19968;&#20010;&#25554;&#20214;&#65292;&#30001;&#25554;&#20214;&#26469;&#26816;&#27979;&#20027;&#26426;&#25110;&#26381;&#21153;&#24182;&#32473;&#20986;&#19968;&#20010;&#21487;&#20379;&#36827;&#19968;&#27493;&#36816;&#20316;&#30340;&#29366;&#24577;&#65292;&#23558;&#32467;&#26524;&#36820;&#32473;Nagios&#23432;&#25252;&#36827;&#31243;&#12290;Nagios&#25353;&#29031;&#20027;&#26426;&#25110;&#26381;&#21153;&#30340;&#32467;&#26524;&#26469;&#20570;&#36866;&#24403;&#22320;&#21160;&#20316;&#65288;&#22914;&#21457;&#20986;&#21578;&#35686;&#12289;&#25191;&#34892;&#20107;&#20214;&#22788;&#29702;&#21477;&#26564;&#31561;&#65289;</p><p>&#26377;&#20851;&#25554;&#20214;&#26159;&#22914;&#20309;&#24037;&#20316;&#30340;&#26356;&#22810;&#20449;&#24687;&#21487;&#20197;&#22312;<a class="link" href="#plugins" title="8.1.&nbsp;Nagios&#30340;&#25554;&#20214;">&#36825;&#37324;</a>&#25214;&#21040;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13401"></a>6.13.3.&nbsp;&#20160;&#20040;&#26102;&#38388;&#25191;&#34892;&#33258;&#20027;&#26816;&#27979;&#65311;</h3></div></div></div><p>&#33258;&#20027;&#26816;&#27979;&#23558;&#22312;&#22914;&#19979;&#24773;&#20917;&#25191;&#34892;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#24403;&#35268;&#26684;&#21270;&#26102;&#38388;&#21040;&#36798;&#26102;&#65307;&#35268;&#26684;&#21270;&#26102;&#38388;&#30001;&#20027;&#26426;&#21644;&#26381;&#21153;&#23450;&#20041;&#30340;<span class="strong"><strong>check_interval</strong></span>&#21644;<span class="strong"><strong>retry_interval</strong></span>&#36873;&#39033;&#20915;&#23450;&#12290;</li><li>&#36827;&#31243;&#24517;&#39035;&#22788;&#20110;&#23432;&#25252;&#29366;&#24577;&#65307;</li></ol></div><p>&#35268;&#26684;&#21270;&#35745;&#21010;&#26816;&#27979;&#21457;&#29983;&#30340;&#38388;&#38548;&#35201;&#20040;&#26159;<span class="strong"><strong>check_interval</strong></span>&#35201;&#20040;&#26159;<span class="strong"><strong>retry_interval</strong></span>&#65292;&#36825;&#21462;&#20915;&#20110;&#20027;&#26426;&#19982;&#26381;&#21153;&#24403;&#21069;&#22788;&#20110;&#20160;&#20040;<a class="link" href="#statetypes" title="6.10.&nbsp;&#29366;&#24577;&#31867;&#22411;">&#29366;&#24577;&#31867;&#22411;</a>&#12290;&#22914;&#26524;&#20027;&#26426;&#19982;&#26381;&#21153;&#26159;&#22788;&#20110;&#30828;&#24577;&#65292;&#23454;&#38469;&#26816;&#27979;&#38388;&#38548;&#23558;&#31561;&#20110;<span class="strong"><strong>check_interval</strong></span>&#20540;&#65292;&#22914;&#26524;&#23427;&#22788;&#20110;&#36719;&#24577;&#65292;&#26816;&#27979;&#38388;&#38548;&#23558;&#31561;&#20110;<span class="strong"><strong>retry_interval</strong></span>&#20540;&#12290;</p><p>&#27599;&#24403;Nagios&#38656;&#35201;&#21462;&#24471;&#26576;&#29305;&#23450;&#20027;&#26426;&#25110;&#26381;&#21153;&#30340;&#26368;&#26032;&#29366;&#24577;&#26102;&#65292;&#23558;&#20250;&#21435;&#20570;&#25353;&#38656;&#26816;&#27979;&#12290;&#20363;&#22914;&#24403;Nagios&#35201;&#21028;&#26029;&#20027;&#26426;&#30340;<a class="link" href="#networkreachability" title="8.4.&nbsp;&#22914;&#20309;&#30830;&#35748;&#32593;&#32476;&#20013;&#20027;&#26426;&#30340;&#29366;&#24577;&#19982;&#21487;&#36798;&#24615;">&#21487;&#36798;&#24615;</a>&#26102;&#65292;&#23427;&#36890;&#24120;&#20250;&#21435;&#20570;&#38024;&#23545;&#20027;&#26426;&#29238;&#33410;&#28857;&#21450;&#23376;&#33410;&#28857;&#30340;&#25353;&#38656;&#26816;&#27979;&#20197;&#20915;&#23450;&#35813;&#32593;&#27573;&#30340;&#29366;&#24577;&#12290;&#25353;&#38656;&#26816;&#27979;&#21516;&#26679;&#21457;&#29983;&#20110;<a class="link" href="#dependencychecks" title="8.12.&nbsp;&#20381;&#36182;&#26816;&#27979;&#30340;&#21069;&#22788;&#29702;">&#20381;&#36182;&#24615;&#26816;&#27979;&#30340;&#21069;&#22788;&#29702;</a>&#36923;&#36753;&#20043;&#20013;&#65292;&#20197;&#30830;&#20445;Nagios&#24471;&#21040;&#26368;&#20026;&#20934;&#30830;&#30340;&#29366;&#24577;&#20449;&#24687;&#12290;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="passivechecks"></a>6.14.&nbsp;&#24378;&#21046;&#26816;&#27979;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13445"></a>6.14.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>&#36890;&#24120;&#24773;&#20917;&#19979;Nagios&#30417;&#25511;&#20027;&#26426;&#19982;&#26381;&#21153;&#20351;&#29992;&#35268;&#26684;&#21270;&#35745;&#21010;&#34920;&#26469;&#20570;<a class="link" href="#activechecks" title="6.13.&nbsp;&#33258;&#20027;&#26816;&#27979;">&#33258;&#20027;&#26816;&#27979;</a>&#12290;&#33258;&#20027;&#26816;&#27979;&#20351;&#29992;&#8220;&#36718;&#35810;&#8221;&#26426;&#21046;&#26469;&#23545;&#35774;&#22791;&#25110;&#26381;&#21153;&#30340;&#29366;&#24577;&#20449;&#24687;&#36827;&#34892;&#25910;&#38598;&#65292;&#36825;&#26159;&#24120;&#35265;&#26041;&#24335;&#12290;Nagios&#21516;&#26679;&#25903;&#25345;&#29992;&#21478;&#19968;&#31181;&#26041;&#24335;&#65292;&#21363;&#24378;&#21046;&#26041;&#24335;&#26469;&#26367;&#20195;&#33258;&#20027;&#26041;&#24335;&#26469;&#26816;&#27979;&#65292;&#24378;&#21046;&#26816;&#27979;&#30340;&#20851;&#38190;&#29305;&#24615;&#26159;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#24378;&#21046;&#26816;&#27979;&#34987;&#22806;&#37096;&#24212;&#29992;&#25110;&#36827;&#31243;&#21021;&#22987;&#21270;&#21644;&#25191;&#34892;&#65307;</li><li>&#24378;&#21046;&#26816;&#27979;&#30340;&#32467;&#26524;&#20132;&#32473;Nagios&#26469;&#22788;&#29702;&#65307;</li></ol></div><p>&#33258;&#20027;&#26816;&#27979;&#19982;&#24378;&#21046;&#26816;&#27979;&#30340;&#26368;&#20027;&#35201;&#19981;&#21516;&#26159;&#33258;&#20027;&#26816;&#27979;&#26159;&#30001;Nagios&#26469;&#20570;&#21021;&#22987;&#21270;&#21644;&#25191;&#34892;&#32780;&#24378;&#21046;&#26816;&#27979;&#26159;&#30001;&#22806;&#37096;&#24212;&#29992;&#31243;&#24207;&#26469;&#20570;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13460"></a>6.14.2.&nbsp;&#24378;&#21046;&#26816;&#27979;&#30340;&#29992;&#22788;</h3></div></div></div><p>&#24378;&#21046;&#26816;&#27979;&#22312;&#22914;&#19979;&#30417;&#25511;&#20013;&#24456;&#26377;&#29992;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#26412;&#36523;&#26159;&#24322;&#27493;&#30340;&#24182;&#19988;&#26080;&#27861;&#26377;&#25928;&#22320;&#22522;&#20110;&#19968;&#20010;&#35268;&#26684;&#21270;&#35745;&#21010;&#34920;&#26469;&#36718;&#35810;&#30340;&#30417;&#25511;&#65307;</li><li>&#34987;&#30417;&#25511;&#20027;&#26426;&#20301;&#20110;&#38450;&#28779;&#22681;&#21518;&#38754;&#26080;&#27861;&#20174;&#30417;&#25511;&#26381;&#21153;&#22120;&#36865;&#20986;&#33258;&#20027;&#26816;&#27979;&#65307;</li></ol></div><p>&#24322;&#27493;&#24335;&#26381;&#21153;&#30340;&#20363;&#23376;&#26159;&#33258;&#36523;&#25552;&#20379;&#21253;&#25324;SNMP&#38519;&#20117;&#25110;&#23433;&#20840;&#35686;&#21578;&#31561;&#24378;&#21046;&#30417;&#25511;&#26041;&#24335;&#30340;&#26381;&#21153;&#12290;&#20174;&#26469;&#19981;&#20250;&#30693;&#36947;&#22312;&#19968;&#20010;&#25351;&#23450;&#26102;&#38388;&#29255;&#27573;&#37324;&#23558;&#20250;&#25910;&#21040;&#22810;&#23569;SNMP&#38519;&#20117;&#25110;&#23433;&#20840;&#35686;&#21578;&#65292;&#25152;&#20197;&#36825;&#20123;&#19981;&#36866;&#21512;&#29992;&#27599;&#20960;&#20998;&#38047;&#26469;&#21028;&#23450;&#19968;&#19979;&#34987;&#30417;&#25511;&#30340;&#29366;&#24577;&#12290;</p><p>&#24378;&#21046;&#26816;&#27979;&#20063;&#21487;&#20197;&#29992;&#20110;&#37197;&#32622;&#19968;&#20010;<a class="link" href="#distributed" title="9.2.&nbsp;&#20998;&#24067;&#24335;&#30417;&#25511;">&#20998;&#24067;&#24335;</a>&#30417;&#25511;&#25110;&#26159;&#19968;&#20010;<a class="link" href="#redundancy" title="9.3.&nbsp;&#20887;&#20313;&#24335;&#19982;&#22833;&#25928;&#24335;&#32593;&#32476;&#30417;&#25511;">&#20887;&#20313;</a>&#30417;&#25511;&#31995;&#32479;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13480"></a>6.14.3.&nbsp;&#24378;&#21046;&#26816;&#27979;&#26159;&#22914;&#20309;&#24037;&#20316;&#30340;&#65311;</h3></div></div></div><p>&#26356;&#35814;&#32454;&#30340;&#24378;&#21046;&#26816;&#27979;&#30340;&#24037;&#20316;&#26426;&#21046;&#26159;...</p><div class="orderedlist"><ol type="1"><li>&#19968;&#20010;&#22806;&#37096;&#24212;&#29992;&#23545;&#20027;&#26426;&#25110;&#26381;&#21153;&#30340;&#29366;&#24577;&#36827;&#34892;&#26816;&#26597;&#65307;</li><li>&#22806;&#37096;&#31243;&#24207;&#23558;&#26816;&#27979;&#32467;&#26524;&#20889;&#20837;<a class="link" href="#command_file" title="&#34920;&nbsp;5.23.&nbsp;&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;">&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;</a>&#20043;&#20013;&#65307;</li><li>&#27599;&#27425;Nagios&#35835;&#20837;&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;&#24182;&#23558;&#20840;&#37096;&#24378;&#21046;&#26816;&#27979;&#32467;&#26524;&#20889;&#20837;&#19968;&#20010;&#23558;&#35201;&#22788;&#29702;&#30340;&#38431;&#21015;&#20013;&#65292;&#35813;&#38431;&#21015;&#21516;&#26679;&#20250;&#20445;&#23384;&#33258;&#20027;&#26816;&#27979;&#32467;&#26524;&#65307;</li><li>Nagios&#23558;&#23450;&#26399;&#25191;&#34892;<a class="link" href="#check_result_reaper_frequency" title="&#34920;&nbsp;5.49.&nbsp;&#26816;&#27979;&#32467;&#26524;&#30340;&#22238;&#25910;&#39057;&#24230;">&#26816;&#27979;&#32467;&#26524;&#25509;&#25910;&#30340;&#20107;&#20214;&#22788;&#29702;</a>&#24182;&#25195;&#25551;&#32467;&#26524;&#38431;&#21015;&#12290;&#22312;&#38431;&#21015;&#37324;&#21487;&#25214;&#21040;&#30340;&#27599;&#20010;&#26381;&#21153;&#26816;&#27979;&#32467;&#26524;&#37117;&#20250;&#21516;&#26679;&#22788;&#29702; - &#19981;&#31649;&#36825;&#20010;&#26816;&#27979;&#32467;&#26524;&#26159;&#33258;&#20027;&#26816;&#27979;&#30340;&#36824;&#26159;&#24378;&#21046;&#26816;&#27979;&#30340;&#32467;&#26524; &#65293; Nagios&#23558;&#25353;&#29031;&#26816;&#27979;&#32467;&#26524;&#36865;&#20986;&#36890;&#30693;&#12289;&#35760;&#24405;&#35686;&#21578;&#31561;&#12290;</li></ol></div><p>&#23545;&#33258;&#20027;&#26816;&#27979;&#19982;&#24378;&#21046;&#26816;&#27979;&#30340;&#22788;&#29702;&#26412;&#36136;&#19978;&#26159;&#19968;&#33268;&#30340;&#65292;&#36825;&#20351;&#24471;Nagios&#19982;&#20854;&#20182;&#30340;&#22806;&#37096;&#24212;&#29992;&#26080;&#32541;&#38598;&#25104;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13502"></a>6.14.4.&nbsp;&#20351;&#33021;&#24378;&#21046;&#26816;&#27979;</h3></div></div></div><p>&#22312;Nagios&#37324;&#20351;&#33021;&#24378;&#21046;&#26816;&#27979;&#38656;&#35201;&#20570;&#22914;&#19979;&#35774;&#32622;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#23558;<a class="link" href="#accept_passive_service_checks" title="&#34920;&nbsp;5.15.&nbsp;&#24378;&#21046;&#26381;&#21153;&#26816;&#27979;&#32467;&#26524;&#25509;&#21463;&#36873;&#39033;">accept_passive_service_checks</a>&#22495;&#35774;&#32622;&#20026;1&#65307;</li><li>&#22312;&#20027;&#26426;&#19982;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#37324;&#23558;<span class="strong"><strong>passive_checks_enabled</strong></span>&#22495;&#35774;&#23450;&#20026;1&#65307;</li></ol></div><p>&#22914;&#26524;&#24819;&#20840;&#23616;&#22320;&#20851;&#38381;&#24378;&#21046;&#26816;&#27979;&#65292;&#23558;<a class="link" href="#accept_passive_service_checks" title="&#34920;&nbsp;5.15.&nbsp;&#24378;&#21046;&#26381;&#21153;&#26816;&#27979;&#32467;&#26524;&#25509;&#21463;&#36873;&#39033;">accept_passive_service_checks</a>&#22495;&#35774;&#32622;&#20026;0&#65307;</p><p>&#22914;&#26524;&#21482;&#24819;&#23545;&#20960;&#20010;&#20027;&#26426;&#19982;&#26381;&#21153;&#20851;&#38381;&#24378;&#21046;&#26816;&#27979;&#65292;&#22312;&#23545;&#35937;&#19982;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#37324;&#29992;<span class="strong"><strong>passive_checks_enabled</strong></span>&#22495;&#26469;&#25511;&#21046;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13528"></a>6.14.5.&nbsp;&#25552;&#20132;&#26381;&#21153;&#30340;&#24378;&#21046;&#26816;&#27979;&#32467;&#26524;</h3></div></div></div><p>&#22806;&#37096;&#24212;&#29992;&#36890;&#36807;&#20889;&#20837;&#19968;&#20010;PROCESS_SERVICE_CHECK_RESULT<a class="link" href="#extcommands" title="6.9.&nbsp;&#22806;&#37096;&#21629;&#20196;">&#22806;&#37096;&#21629;&#20196;</a>&#21040;&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;&#20013;&#26469;&#21578;&#35785;Nagios&#25552;&#20132;&#20102;&#19968;&#20010;&#24378;&#21046;&#26816;&#27979;&#32467;&#26524;&#12290;</p><p>&#21629;&#20196;&#30340;&#26684;&#24335;&#26159;&#65306;</p><pre class="programlisting"><p>[&lt;timestamp&gt;] PROCESS_SERVICE_CHECK_RESULT;&lt;host_name&gt;;&lt;svc_description&gt;;&lt;return_code&gt;;&lt;plugin_output&gt;</p></pre><p>&#21442;&#25968;&#35828;&#26126;&#65306;</p><div class="orderedlist"><ol type="1"><li><span class="strong"><strong>timestamp</strong></span>&#26159;&#19968;&#20010;time_t&#26684;&#24335;&#30340;&#26102;&#38388;&#25139;&#26469;&#34920;&#24449;&#26816;&#27979;&#21160;&#20316;&#30340;&#26102;&#38388;&#65292;&#27880;&#24847;&#26377;&#22312;&#26041;&#25324;&#21495;&#30340;&#21491;&#20391;&#26377;&#19968;&#20010;&#31354;&#26684;&#65307;</li><li><span class="strong"><strong>host_name</strong></span>&#26159;&#20027;&#26426;&#19982;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#37324;&#30340;&#30701;&#21517;&#31216;&#65307;</li><li><span class="strong"><strong>svc_description</strong></span>&#26159;&#25351;&#23450;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#37324;&#30340;&#26381;&#21153;&#25551;&#36848;&#65307;</li><li><span class="strong"><strong>return_code</strong></span>&#26159;&#36820;&#22238;&#30340;&#26816;&#27979;&#32467;&#26524;(0=&#27491;&#24120;(OK), 1=&#25253;&#35686;(WARNING), 2=&#32039;&#24613;(CRITICAL), 3=&#26410;&#30693;(UNKNOWN))&#65307;</li><li><span class="strong"><strong>plugin_output</strong></span>&#26159;&#26381;&#21153;&#26816;&#27979;&#30340;&#25991;&#26412;&#36755;&#20986;(&#22914;&#21516;&#25554;&#20214;&#36755;&#20986;)&#12290;</li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><div><img src="../pub/images/note.gif"></div>&#24517;&#39035;&#22312;Nagios&#25552;&#20132;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#21518;&#25165;&#21487;&#20197;&#25552;&#20132;&#26816;&#27979;&#32467;&#26524;&#65307;Nagios&#23558;&#20250;&#24573;&#30053;&#27809;&#26377;&#26368;&#21518;&#19968;&#27425;&#21551;&#21160;&#21518;&#35835;&#20837;&#30340;&#37197;&#32622;&#25991;&#20214;&#37324;&#25152;&#20570;&#23545;&#35937;&#23450;&#20041;&#30340;&#20840;&#37096;&#26816;&#27979;&#32467;&#26524;&#12290;</div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#25552;&#31034;</h3><div><img src="../pub/images/tip.gif"></div>&#19968;&#20010;&#29992;SHELL&#33050;&#26412;&#26469;&#23454;&#29616;&#24378;&#21046;&#26816;&#27979;&#24182;&#23558;&#32467;&#26524;&#25552;&#20132;&#32473;Nagios&#30340;&#20363;&#23376;&#21487;&#20197;&#22312;&#25991;&#26723;<a class="link" href="#volatileservices" title="8.5.&nbsp;&#21487;&#21464;&#26381;&#21153;">&#21487;&#21464;&#26381;&#21153;</a>&#37324;&#25214;&#21040;&#12290;</div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13575"></a>6.14.6.&nbsp;&#25552;&#20132;&#20027;&#26426;&#30340;&#24378;&#21046;&#26816;&#27979;&#32467;&#26524;</h3></div></div></div><p>&#22806;&#37096;&#24212;&#29992;&#36890;&#36807;&#20889;&#19968;&#20010;PROCESS_HOST_CHECK_RESULT&#22806;&#37096;&#21629;&#20196;&#21040;&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;&#20013;&#26469;&#21578;&#35785;Nagios&#25552;&#20132;&#20102;&#19968;&#20010;&#24378;&#21046;&#26816;&#27979;&#32467;&#26524;&#12290;</p><p>&#21629;&#20196;&#26684;&#24335;&#26159;&#65306;</p><pre class="programlisting"><p>[&lt;timestamp&gt;].PROCESS_HOST_CHECK_RESULT;&lt;host_name&gt;;&lt;host_status&gt;;&lt;plugin_output&gt;</p></pre><p>&#21442;&#25968;&#35828;&#26126;&#65306;</p><div class="orderedlist"><ol type="1"><li><span class="strong"><strong>timestamp</strong></span>&#26159;&#19968;&#20010;time_t&#26684;&#24335;&#30340;&#26102;&#38388;&#25139;&#26469;&#34920;&#24449;&#26816;&#27979;&#21160;&#20316;&#30340;&#26102;&#38388;&#65292;&#27880;&#24847;&#26377;&#22312;&#26041;&#25324;&#21495;
&#30340;&#21491;&#20391;&#26377;&#19968;&#20010;&#31354;&#26684;&#65307;</li><li><span class="strong"><strong>host_name</strong></span>&#26159;&#20027;&#26426;&#23545;&#35937;&#23450;&#20041;&#37324;&#30340;&#30701;&#21517;&#31216;&#65307;</li><li><span class="strong"><strong>host_status</strong></span>&#26159;&#20027;&#26426;&#30340;&#29366;&#24577;(0=&#36816;&#34892;(UP), 1=&#23445;&#26426;(DOWN), 2=&#19981;&#21487;&#36798;(UNREACHABLE))&#65307;</li><li><span class="strong"><strong>plugin_output</strong></span>&#26159;&#26381;&#21153;&#26816;&#27979;&#30340;&#25991;&#26412;&#36755;&#20986;(&#22914;&#21516;&#25554;&#20214;&#36755;&#20986;)&#12290;</li></ol></div><div><img src="../pub/images/note.gif"></div><p>&#24517;&#39035;&#22312;Nagios&#25552;&#20132;&#20027;&#26426;&#23545;&#35937;&#23450;&#20041;&#21518;&#25165;&#21487;&#20197;&#25552;&#20132;&#26816;&#27979;&#32467;&#26524;&#65307;Nagios&#23558;&#20250;&#24573;&#30053;&#27809;&#26377;&#26368;&#21518;&#19968;&#27425;&#21551;&#21160;&#21518;&#35835;&#20837;&#30340;&#37197;&#32622;&#25991;&#20214;&#37324;&#25152;&#20570;&#23545;&#35937;&#23450;&#20041;&#30340;&#20840;&#37096;&#26816;&#27979;&#32467;&#26524;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13607"></a>6.14.7.&nbsp;&#24378;&#21046;&#26816;&#27979;&#19982;&#20027;&#26426;&#29366;&#24577;</h3></div></div></div><p>&#19982;&#33258;&#20027;&#26816;&#27979;&#19981;&#21516;&#65292;Nagios(&#40664;&#35748;)&#19981;&#20250;&#22312;&#24378;&#21046;&#26816;&#27979;&#26102;&#23581;&#35797;&#21028;&#23450;&#20027;&#26426;&#26159;&#23445;&#26426;(DOWN)&#25110;&#19981;&#21487;&#36798;(UNREACHABLE)&#12290;Nagios&#25226;&#24378;&#21046;&#26816;&#27979;&#32467;&#26524;&#24403;&#20570;&#30495;&#23454;&#30340;&#20027;&#26426;&#29366;&#24577;&#65292;&#24182;&#19988;&#19981;&#20250;&#20351;&#29992;<a class="link" href="#networkreachability" title="8.4.&nbsp;&#22914;&#20309;&#30830;&#35748;&#32593;&#32476;&#20013;&#20027;&#26426;&#30340;&#29366;&#24577;&#19982;&#21487;&#36798;&#24615;">&#32593;&#32476;&#21487;&#36798;&#24615;&#26816;&#27979;&#36923;&#36753;</a>&#26469;&#21028;&#23450;&#20027;&#26426;&#30340;&#30495;&#27491;&#29366;&#24577;&#12290;&#22914;&#26524;&#26159;&#24819;&#23545;&#36828;&#31243;&#20027;&#26426;&#30340;&#24378;&#21046;&#26816;&#27979;&#36827;&#34892;&#21028;&#23450;&#26102;&#23558;&#20250;&#23548;&#33268;&#38382;&#39064;&#65292;&#21516;&#26679;&#65292;&#22312;&#19968;&#20010;<a class="link" href="#distributed" title="9.2.&nbsp;&#20998;&#24067;&#24335;&#30417;&#25511;">&#20998;&#24067;&#24335;&#30417;&#25511;</a>&#29615;&#22659;&#19979;&#22240;&#29238;/&#23376;&#33410;&#28857;&#30340;&#20851;&#31995;&#19981;&#19968;&#26679;&#26102;&#20063;&#20250;&#26377;&#38382;&#39064;&#12290;</p><p>&#21487;&#20197;&#35774;&#32622;&#20196;Nagios&#22312;&#24378;&#21046;&#26816;&#27979;&#30340;&#29366;&#24577;&#26159;&#23445;&#26426;(DOWN)/&#19981;&#21487;&#36798;(UNREACHABLE)&#26102;&#21464;&#25442;&#21040;&#19968;&#20010;&#8220;&#21512;&#29702;&#8221;&#30340;&#29366;&#24577;&#65292;&#36890;&#36807;&#35774;&#32622;<a class="link" href="#translate_passive_host_checks" title="&#34920;&nbsp;5.60.&nbsp;&#20256;&#36882;&#24378;&#21046;&#20027;&#26426;&#26816;&#27979;&#32467;&#26524;&#36873;&#39033;">translate_passive_host_checks</a>&#21464;&#37327;&#26469;&#20570;&#21464;&#25442;&#21363;&#21487;&#65292;&#26356;&#35814;&#32454;&#22320;&#20851;&#20110;&#22914;&#20309;&#35774;&#32622;&#23427;&#30340;&#20449;&#24687;&#21487;&#20197;&#26597;&#38405;<a class="link" href="#passivestatetranslation" title="9.9.&nbsp;&#24378;&#21046;&#24335;&#20027;&#26426;&#29366;&#24577;&#36801;&#31227;">&#36825;&#31687;</a>&#25991;&#26723;&#12290;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><div><img src="../pub/images/note.gif"></div>&#24378;&#21046;&#20027;&#26426;&#26816;&#27979;&#19968;&#33324;&#35748;&#23450;&#26159;<a class="link" href="#statetypes" title="6.10.&nbsp;&#29366;&#24577;&#31867;&#22411;">&#30828;&#24577;</a>&#31867;&#22411;&#65292;&#38500;&#38750;&#20351;&#33021;&#20102;<a class="link" href="#passive_host_checks_are_soft" title="&#34920;&nbsp;5.61.&nbsp;Passive Host Checks Are SOFT Option">passive_host_checks_are_soft</a>&#36873;&#39033;&#26102;&#25165;&#20250;&#19981;&#21516;&#12290;</div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13636"></a>6.14.8.&nbsp;&#21028;&#23450;&#26469;&#33258;&#36828;&#31243;&#20027;&#26426;&#30340;&#24378;&#21046;&#26816;&#27979;&#32467;&#26524;</h3></div></div></div><p>&#22914;&#26524;&#21457;&#36865;&#20027;&#26426;&#19982;&#26381;&#21153;&#24378;&#21046;&#26816;&#27979;&#32467;&#26524;&#30340;&#22806;&#37096;&#24212;&#29992;&#19982;Nagios&#21516;&#23646;&#19968;&#21488;&#20027;&#26426;&#65292;&#37027;&#20040;&#22806;&#37096;&#24212;&#29992;&#21487;&#20197;&#24456;&#23481;&#26131;&#22320;&#35937;&#19978;&#38754;&#25152;&#35828;&#30340;&#37027;&#26679;&#30452;&#25509;&#23558;&#32467;&#26524;&#20889;&#20837;&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;&#65292;&#28982;&#32780;&#65292;&#24403;&#24212;&#29992;&#31243;&#24207;&#22312;&#36828;&#31243;&#20027;&#26426;&#19978;&#26102;&#36825;&#26679;&#20570;&#24182;&#19981;&#23481;&#26131;&#12290;</p><p>&#20026;&#20102;&#35753;&#36828;&#31243;&#20027;&#26426;&#21487;&#20197;&#21457;&#36865;&#24378;&#21046;&#26816;&#27979;&#32467;&#26524;&#21040;&#23433;&#35013;&#26377;Nagios&#30340;&#30417;&#25511;&#26381;&#21153;&#22120;&#19978;&#65292;&#25105;&#24320;&#21457;&#20102;&#21517;&#20026;<a class="link" href="#addons_NSCA" title="11.4.3.&nbsp;NSCA">NSCA</a>&#22806;&#37096;&#26500;&#20214;&#12290;NSCA&#22806;&#37096;&#26500;&#20214;&#21253;&#25324;&#19968;&#20010;&#26381;&#21153;&#23432;&#25252;&#36827;&#31243;&#36816;&#34892;&#22312;&#35013;&#26377;Nagios&#30340;&#20027;&#26426;&#19978;&#65292;&#21478;&#19968;&#20010;&#23458;&#25143;&#31471;&#23433;&#35013;&#20110;&#36828;&#31243;&#20027;&#26426;&#19978;&#12290;&#26381;&#21153;&#23432;&#25252;&#36827;&#31243;&#23558;&#30417;&#21548;&#26469;&#33258;&#36828;&#31243;&#23458;&#25143;&#31471;&#30340;&#32852;&#25509;&#65292;&#23545;&#26469;&#33258;&#36828;&#31243;&#30340;&#32467;&#26524;&#20570;&#20123;&#22522;&#26412;&#30340;&#30830;&#35748;&#65292;&#28982;&#21518;&#23558;&#32467;&#26524;&#30452;&#25509;&#20889;&#20837;&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;&#20043;&#20013;(&#35937;&#19978;&#38754;&#25152;&#25551;&#36848;&#30340;&#37027;&#26679;)&#12290;&#26356;&#22810;&#30340;&#20851;&#20110;NSCA&#22806;&#37096;&#26500;&#20214;&#30340;&#20449;&#24687;&#21487;&#20197;&#26597;&#38405;<a class="link" href="#addons_NSCA" title="11.4.3.&nbsp;NSCA">&#36825;&#31687;</a>&#25991;&#26723;&#12290;</p></div></div></div><div class="chapter" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title"><a name="running"></a>&#31532;&nbsp;7&nbsp;&#31456;&nbsp;&#36816;&#34892;Nagios&#30340;&#22522;&#26412;&#25805;&#20316;</h2></div></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="verifyconfig"></a>7.1.&nbsp;&#39564;&#35777;&#37197;&#32622;&#25991;&#20214;&#30340;&#27491;&#30830;&#24615;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"></div><p>&#27599;&#27425;&#20462;&#25913;&#36807;&#20320;&#30340;<a class="link" href="#config" title="5.1.&nbsp;&#37197;&#32622;&#27010;&#35272;">&#37197;&#32622;&#25991;&#20214;</a>&#65292;&#20320;&#24212;&#35813;&#36816;&#34892;&#19968;&#27425;&#26816;&#27979;&#31243;&#24207;&#26469;&#39564;&#35777;&#37197;&#32622;&#30340;&#27491;&#30830;&#24615;&#12290;&#22312;&#36816;&#34892;&#20320;&#30340;Nagios&#31243;&#24207;&#20043;&#21069;&#36825;&#26159;&#24456;&#37325;&#35201;&#30340;&#65292;&#21542;&#21017;&#30340;&#35805;&#20250;&#23548;&#33268;Nagios&#26381;&#21153;&#22240;&#37197;&#32622;&#30340;&#38169;&#35823;&#32780;&#20851;&#38381;&#12290;</p><p>&#20026;&#39564;&#35777;&#20320;&#37197;&#32622;&#65292;&#36816;&#34892;Nagios&#24102;&#21629;&#20196;&#34892;&#21442;&#25968; -v&#65292;&#35937;&#36825;&#26679;&#65306;</p><pre class="programlisting">/usr/local/nagios/bin/nagios -v /usr/local/nagios/etc/nagios.cfg</pre><p>&#22914;&#26524;&#20320;&#30830;&#23454;&#24536;&#35760;&#20102;&#19968;&#20123;&#37325;&#35201;&#30340;&#25968;&#25454;&#25110;&#26159;&#38169;&#35823;&#22320;&#37197;&#32622;&#20102;&#65292;Nagios&#23558;&#20250;&#32473;&#20986;&#19968;&#20010;&#25253;&#35686;&#25110;&#26159;&#19968;&#20010;&#38169;&#35823;&#20449;&#24687;&#65292;&#20854;&#20013;&#20250;&#32473;&#20986;&#38169;&#35823;&#30340;&#20301;&#32622;&#12290;&#38169;&#35823;&#20449;&#24687;&#36890;&#24120;&#20250;&#25171;&#21360;&#20986;&#38169;&#35823;&#37197;&#32622;&#30340;&#25991;&#20214;&#20013;&#30340;&#37027;&#19968;&#34892;&#12290;&#22312;&#38169;&#35823;&#26102;&#65292;Nagios&#36890;&#24120;&#26159;&#22312;&#39044;&#26816;&#26597;&#20986;&#26377;&#38382;&#39064;&#25171;&#21360;&#20986;&#38382;&#39064;&#30340;&#28304;&#37197;&#32622;&#25991;&#20214;&#34892;&#21518;&#36864;&#22238;&#21040;&#21629;&#20196;&#34892;&#29366;&#24577;&#12290;&#36825;&#20351;&#24471;Nagios&#19981;&#20250;&#22240;&#19968;&#20010;&#38169;&#35823;&#32780;&#33853;&#20837;&#38656;&#35201;&#39564;&#35777;&#19968;&#20010;&#22240;&#38169;&#35823;&#32780;&#23884;&#22871;&#30340;&#37197;&#32622;&#24490;&#29615;&#38169;&#35823;&#20043;&#20013;&#12290;&#25253;&#35686;&#20449;&#24687;&#21487;<span class="strong"><strong>&#36890;&#24120;</strong></span>&#26159;&#34987;&#24573;&#30053;&#30340;&#65292;&#22240;&#20026;&#19968;&#33324;&#37027;&#20123;&#21482;&#26159;&#24314;&#35758;&#24615;&#30340;&#24182;&#38750;&#24517;&#39035;&#30340;&#12290;</p><p>&#19968;&#26086;&#20320;&#24050;&#32463;&#39564;&#35777;&#20102;&#20320;&#37197;&#32622;&#25991;&#20214;&#24182;&#20462;&#25913;&#36807;&#20320;&#30340;&#38169;&#35823;&#65292;&#23601;&#21487;&#20197;&#32487;&#32493;&#19979;&#21435;&#65292;<a class="link" href="#startstop" title="7.2.&nbsp;&#21551;&#21160;&#19982;&#20572;&#27490;Nagios">&#21551;&#21160;&#25110;&#37325;&#21551;Nagios</a>&#26381;&#21153;&#20102;&#12290;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="startstop"></a>7.2.&nbsp;&#21551;&#21160;&#19982;&#20572;&#27490;Nagios</h2></div></div></div><p>&#26377;&#22810;&#20110;&#19968;&#31181;&#26041;&#24335;&#26469;&#21551;&#21160;&#12289;&#20572;&#27490;&#21644;&#37325;&#21551;&#21160;Nagios&#65292;&#36825;&#37324;&#22312;&#26377;&#26356;&#36890;&#24120;&#20570;&#30340;&#26041;&#24335;... </p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#25552;&#31034;</h3><div><img src="../pub/images/tip.gif"></div><p>&#22312;&#20320;&#21551;&#21160;&#25110;&#37325;&#21551;&#21160;&#20320;&#30340;Nagios&#31243;&#24207;&#20043;&#21069;&#65292;&#20320;&#24635;&#26159;&#35201;&#30830;&#20445;&#20320;<a class="link" href="#verifyconfig" title="7.1.&nbsp;&#39564;&#35777;&#37197;&#32622;&#25991;&#20214;&#30340;&#27491;&#30830;&#24615;">&#39564;&#35777;&#20320;&#30340;&#37197;&#32622;&#25991;&#20214;</a>&#24050;&#32463;&#36890;&#36807;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13687"></a>7.2.1.&nbsp;&#21551;&#21160;Nagios</h3></div></div></div><div class="orderedlist"><ol type="1"><li>&#21021;&#22987;&#21270;&#33050;&#26412;&#65306;&#26368;&#31616;&#21333;&#30340;&#21551;&#21160;Nagios&#23432;&#25252;&#36827;&#31243;&#30340;&#26041;&#24335;&#26159;&#20351;&#29992;&#21021;&#22987;&#21270;&#33050;&#26412;&#65292;&#35937;&#36825;&#26679;&#65306;<pre class="programlisting">/etc/rc.d/init.d/nagios start</pre></li><li>&#25163;&#24037;&#26041;&#24335;&#65306;&#20320;&#21487;&#20197;&#25163;&#21160;&#22320;&#21551;&#21160;Nagios&#23432;&#25252;&#36827;&#31243;&#65292;&#29992;&#21629;&#20196;&#21442;&#25968;-d&#65292;&#35937;&#36825;&#26679;&#65306;<pre class="programlisting">/usr/local/nagios/bin/nagios -d /usr/local/nagios/etc/nagios.cfg</pre></li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13699"></a>7.2.2.&nbsp;&#37325;&#21551;&#21160;Nagios</h3></div></div></div><p>&#24403;&#20320;&#20462;&#25913;&#20102;&#37197;&#32622;&#25991;&#20214;&#24182;&#24819;&#20351;&#20043;&#29983;&#25928;&#30340;&#35805;&#65292;&#37325;&#21551;&#21160;&#25110;&#37325;&#36733;&#20837;&#21160;&#20316;&#26159;&#24517;&#39035;&#30340;&#12290;</p><div class="orderedlist"><ol type="1"><li>&#21021;&#22987;&#21270;&#33050;&#26412;&#65306;&#26368;&#31616;&#21333;&#22320;&#37325;&#21551;&#21160;Nagios&#23432;&#25252;&#36827;&#31243;&#30340;&#26041;&#24335;&#26159;&#20351;&#29992;&#21021;&#22987;&#21270;&#33050;&#26412;&#65292;&#35937;&#36825;&#26679;&#65306;<pre class="programlisting">/etc/rc.d/init.d/nagios reload</pre></li><li>Web&#25509;&#21475;&#26041;&#24335;&#65306;&#20320;&#21487;&#20197;&#21033;&#29992;WEB&#25509;&#21475;&#65292;&#36890;&#36807;&#28857;&#20987;&#8220;&#36827;&#31243;&#20449;&#24687;&#8221;&#30340;&#36229;&#38142;&#25509;&#39029;&#38754;&#37324;&#30340;&#8220;&#37325;&#21551;&#21160;Nagios&#36827;&#31243;&#8221;&#26469;&#37325;&#21551;&#21160;Nagios&#65292;&#35265;&#22270;<div><img src="../pub/images/stoprestart.png"></div></li><li>&#25163;&#24037;&#26041;&#24335;&#65306;&#20320;&#21487;&#20197;&#25163;&#21160;&#22320;&#21457;&#19968;&#20010;SIGHUP&#20449;&#21495;&#65292;&#35937;&#36825;&#26679;&#65306;<pre class="programlisting">kill -HUP &lt;nagios_pid&gt;</pre></li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13716"></a>7.2.3.&nbsp;&#20572;&#27490;Nagios</h3></div></div></div><div class="orderedlist"><ol type="1"><li>&#21021;&#22987;&#21270;&#33050;&#26412;&#65306;&#26368;&#31616;&#21333;&#22320;&#20572;&#27490;Nagios&#23432;&#25252;&#36827;&#31243;&#30340;&#26041;&#24335;&#26159;&#36890;&#36807;&#21021;&#22987;&#21270;&#33050;&#26412;&#65292;&#35937;&#36825;&#26679;&#65306;<pre class="programlisting">/etc/rc.d/init.d/nagios stop</pre></li><li>Web&#25509;&#21475;&#26041;&#24335;&#65306;&#20320;&#21487;&#20197;&#21033;&#29992;WEB&#25509;&#21475;&#65292;&#36890;&#36807;&#28857;&#20987;&#8220;&#36827;&#31243;&#20449;&#24687;&#8221;&#30340;&#36229;&#38142;&#25509;&#39029;&#38754;&#37324;&#30340;&#8220;&#20851;&#38381;Nagios&#36827;&#31243;&#8221;&#26469;&#20572;&#27490;Nagios&#65292;&#35265;&#22270;<div><img src="../pub/images/stoprestart.png"></div></li><li>&#25163;&#24037;&#26041;&#24335;&#65306;&#20320;&#21487;&#20197;&#25163;&#21160;&#21457;&#19968;&#20010;SIGTERM&#20449;&#21495;&#65292;&#35937;&#36825;&#26679;&#65306;<pre class="programlisting">kill &lt;nagios_pid&gt;</pre></li></ol></div></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="faststartup"></a>7.3.&nbsp;&#24555;&#36895;&#21551;&#21160;&#36873;&#39033;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13734"></a>7.3.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>&#21482;&#26377;&#24456;&#23569;&#20960;&#20214;&#20107;&#21487;&#20197;&#20943;&#23569;Nagios&#30340;&#21551;&#21160;&#25110;&#37325;&#21551;&#24635;&#26102;&#38388;&#12290;&#21152;&#36895;&#21551;&#21160;&#26041;&#27861;&#21253;&#25324;&#26377;&#31227;&#38500;&#20123;&#36127;&#25285;&#36824;&#21253;&#25324;&#21152;&#24555;&#37197;&#32622;&#25991;&#20214;&#22788;&#29702;&#36807;&#31243;&#12290;</p><p>&#21033;&#29992;&#36825;&#20123;&#25216;&#26415;&#22312;&#22914;&#19979;&#19968;&#31181;&#25110;&#20960;&#31181;&#24773;&#20917;&#26102;&#29305;&#21035;&#26377;&#25928;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#22823;&#22411;&#23433;&#35013;&#37197;&#32622;</li><li>&#22797;&#26434;&#22320;&#37197;&#32622;(&#36807;&#24230;&#22320;&#21033;&#29992;&#27169;&#26495;&#29305;&#24615;)</li><li>&#38656;&#35201;&#36827;&#34892;&#39057;&#32321;&#37325;&#21551;&#21160;&#30340;&#23433;&#35013;&#27169;&#24335;</li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13748"></a>7.3.2.&nbsp;&#32972;&#26223;</h3></div></div></div><p>&#27599;&#27425;Nagios&#21551;&#21160;&#21644;&#37325;&#21551;&#26102;&#65292;&#22312;&#23427;&#30528;&#25163;&#36827;&#34892;&#30417;&#25511;&#24037;&#20316;&#20043;&#21069;&#24517;&#39035;&#35201;&#22788;&#29702;&#37197;&#32622;&#25991;&#20214;&#12290;&#21551;&#21160;&#36807;&#31243;&#20013;&#30340;&#37197;&#32622;&#22788;&#29702;&#21253;&#25324;&#22914;&#19979;&#20960;&#27493;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#35835;&#20837;&#37197;&#32622;&#25991;&#20214;</li><li>&#35299;&#26512;&#27169;&#26495;&#23450;&#20041;</li><li>&#37325;&#31896;&#36830;("Recombobulating")&#23545;&#35937;(&#26159;&#25105;&#24819;&#21040;&#30340;&#24212;&#20570;&#21508;&#31181;&#24037;&#20316;)</li><li>&#22797;&#21046;&#23545;&#35937;&#23450;&#20041;</li><li>&#32487;&#25215;&#23545;&#35937;&#23646;&#24615;</li><li>&#23545;&#35937;&#23450;&#20041;&#25490;&#24207;</li><li>&#39564;&#35777;&#23545;&#35937;&#20851;&#32852;&#20851;&#31995;&#30340;&#23436;&#25972;&#24615;</li><li>&#39564;&#35777;&#22238;&#36335;</li><li>&#21644;&#20854;&#20182;...</li></ol></div><p>&#24403;&#26377;&#24456;&#22823;&#30340;&#25110;&#26159;&#24456;&#22797;&#26434;&#30340;&#37197;&#32622;&#25991;&#20214;&#35201;&#22788;&#29702;&#26102;&#26377;&#20960;&#27493;&#38750;&#24120;&#28040;&#32791;&#26102;&#38388;&#30340;&#12290;&#26377;&#27809;&#26377;&#21152;&#24555;&#36825;&#20123;&#30340;&#21150;&#27861;&#65311;&#24403;&#28982;&#26377;&#65281;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13774"></a>7.3.3.&nbsp;&#35780;&#20272;&#21551;&#21160;&#26102;&#38388;</h3></div></div></div><p>&#22312;&#20570;&#35753;&#21551;&#21160;&#36895;&#24230;&#26356;&#24555;&#30340;&#20107;&#24773;&#20043;&#21069;&#65292;&#38656;&#35201;&#30475;&#30475;&#21487;&#33021;&#24615;&#26377;&#22810;&#23569;&#21644;&#26159;&#21542;&#26377;&#24517;&#35201;&#28041;&#36275;&#27492;&#20107;&#12290;&#36825;&#20010;&#27604;&#36739;&#23481;&#26131;&#65293;&#21482;&#26159;&#29992;-s&#21629;&#20196;&#34892;&#24320;&#20851;&#21551;&#21160;Nagios&#20197;&#21462;&#24471;&#35745;&#26102;&#21644;&#35843;&#24230;&#20449;&#24687;&#12290;</p><p>&#19979;&#38754;&#26159;&#20010;&#36755;&#20986;&#26679;&#20363;(&#20570;&#36807;&#31934;&#20943;&#65292;&#21482;&#26159;&#26174;&#31034;&#20102;&#26377;&#20851;&#37096;&#20998;)&#65292;&#22312;&#36825;&#20010;&#20363;&#23376;&#20013;&#65292;&#20551;&#23450;Nagios&#37197;&#32622;&#20026;&#23545;25&#20010;&#20027;&#26426;&#21644;&#36229;&#36807;10,000&#20010;&#26381;&#21153;&#36827;&#34892;&#30417;&#25511;&#12290;</p><pre class="programlisting"><p>/usr/local/nagios/bin/nagios -s /usr/local/nagios/etc/nagios.cfg
Nagios 3.0-prealpha
Copyright (c) 1999-2007 Ethan Galstad (http://www.nagios.org)
Last Modified: 01-27-2007
License: GPL

Timing information on object configuration processing is listed
below.  You can use this information to see if precaching your
object configuration would be useful.

Object Config Source: Config files (uncached)

OBJECT CONFIG PROCESSING TIMES      (* = Potential for precache savings with -u option)
----------------------------------
Read:                 0.486780 sec
Resolve:              0.004106 sec  *
Recomb Contactgroups: 0.000077 sec  *
Recomb Hostgroups:    0.000172 sec  *
Dup Services:         0.028801 sec  *
Recomb Servicegroups: 0.010358 sec  *
Duplicate:            5.666932 sec  *
Inherit:              0.003770 sec  *
Recomb Contacts:      0.030085 sec  *
Sort:                 2.648863 sec  *
Register:             2.654628 sec
Free:                 0.021347 sec
                      ============
TOTAL:                11.555925 sec  * = 8.393170 sec (72.63%) estimated savings


Timing information on configuration verification is listed below.

CONFIG VERIFICATION TIMES          (* = Potential for speedup with -x option)
----------------------------------
Object Relationships: 1.400807 sec
Circular Paths:       54.676622 sec  *
Misc:                 0.006924 sec
                      ============
TOTAL:                56.084353 sec  * = 54.676622 sec (97.5%) estimated savings</p></pre><p>OK&#65292;&#30475;&#30475;&#21457;&#29983;&#20102;&#20160;&#20040;&#12290;&#20808;&#30475;&#27719;&#24635;&#20449;&#24687;&#65292;&#22823;&#27010;&#26377;11.6&#31186;&#29992;&#20110;&#22788;&#29702;&#37197;&#32622;&#25991;&#20214;&#26377;56&#31186;&#26469;&#39564;&#35777;&#37197;&#32622;&#12290;&#36825;&#24847;&#21619;&#30528;&#27599;&#27425;&#29992;&#36825;&#20010;&#37197;&#32622;&#21551;&#21160;&#25110;&#37325;&#21551;Nagios&#26102;&#65292;&#23427;&#22823;&#32422;&#20250;&#26377;68&#31186;&#26469;&#20570;&#21551;&#21160;&#20107;&#39033;&#32780;&#19981;&#20250;&#20570;&#20219;&#20309;&#30417;&#25511;&#30340;&#20107;&#24773;&#65281;&#22914;&#26524;&#26159;&#22312;&#23450;&#21046;&#37197;&#32622;Nagios&#36807;&#31243;&#20013;&#20063;&#26159;&#19981;&#21487;&#23481;&#24525;&#30340;&#12290;</p><p>&#37027;&#20040;&#24590;&#20040;&#21150;&#65311;&#30475;&#19968;&#19979;&#36755;&#20986;&#20869;&#23481;&#65292;&#22914;&#26524;&#36816;&#29992;&#20102;&#20248;&#21270;&#36873;&#39033;&#65292;Nagios&#23558;&#21487;&#20197;&#22312;&#37197;&#32622;&#35835;&#21462;&#36807;&#31243;&#33410;&#30465;&#22823;&#32422;8.4&#31186;&#32780;&#22312;&#39564;&#35777;&#36807;&#31243;&#21487;&#33410;&#30465;63&#31186;&#12290;</p><p>&#21703;&#65281;&#20174;68&#31186;&#21040;&#21482;&#26377;5&#31186;&#65311;&#65281;&#26159;&#30340;&#65281;&#30475;&#30475;&#19979;&#38754;&#26159;&#24590;&#20040;&#20570;&#21040;&#30340;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13790"></a>7.3.4.&nbsp;&#39044;&#32531;&#23384;&#23545;&#35937;&#37197;&#32622;</h3></div></div></div><p>Nagios&#21487;&#22312;&#35299;&#26512;&#37197;&#32622;&#25991;&#20214;&#36807;&#31243;&#20013;&#20570;&#20123;&#21152;&#36895;&#65292;&#29305;&#21035;&#26159;&#24403;&#37197;&#32622;&#20013;&#20351;&#29992;&#20102;&#27169;&#26495;&#26469;&#20570;&#32487;&#25215;&#31561;&#30340;&#26102;&#20505;&#12290;&#20026;&#38477;&#20302;Nagios&#35299;&#26512;&#37197;&#32622;&#25991;&#20214;&#30340;&#22788;&#29702;&#26102;&#38388;&#21487;&#29992;Nagios&#39044;&#22788;&#29702;&#19982;&#39044;&#32531;&#23384;&#37197;&#32622;&#25991;&#20214;&#30340;&#21151;&#33021;&#12290;</p><p>&#24403;&#29992;-p&#21629;&#20196;&#21442;&#25968;&#26469;&#36816;&#34892;Nagios&#26102;&#65292;Nagios&#23558;&#35835;&#20837;&#37197;&#32622;&#25991;&#20214;&#65292;&#22788;&#29702;&#21518;&#23558;&#37197;&#32622;&#32467;&#26524;&#20889;&#20837;&#39044;&#32531;&#23384;&#25991;&#20214;(&#30001;&#20027;&#37197;&#32622;&#25991;&#20214;&#20013;<a class="link" href="#precached_object_file" title="&#34920;&nbsp;5.5.&nbsp;&#39044;&#32531;&#20914;&#23545;&#35937;&#25991;&#20214;">precached_object_file</a>&#22495;&#25351;&#23450;&#25991;&#20214;&#20301;&#32622;)&#12290;&#35813;&#39044;&#32531;&#23384;&#37197;&#32622;&#25991;&#20214;&#23558;&#21253;&#21547;&#20102;&#39044;&#22788;&#29702;&#21518;&#30340;&#20449;&#24687;&#23558;&#20351;Nagios&#22788;&#29702;&#37197;&#32622;&#25991;&#20214;&#26356;&#23481;&#26131;&#21644;&#24555;&#25463;&#12290;&#24517;&#39035;&#25226;-p&#21442;&#25968;&#36873;&#39033;&#19982;-v&#25110;-s&#21629;&#20196;&#21442;&#25968;&#19968;&#36215;&#20351;&#29992;&#65292;&#22914;&#19979;&#20363;&#12290;&#27880;&#24847;&#35201;&#20570;&#39044;&#32531;&#23384;&#37197;&#32622;&#25991;&#20214;&#20043;&#21069;&#37197;&#32622;&#24212;&#26159;&#24050;&#34987;&#39564;&#35777;&#36807;&#30340;&#12290;</p><pre class="programlisting"><p>/usr/local/nagios/bin/nagios -pv /usr/local/nagios/etc/nagios.cfg</p></pre><p>&#39044;&#32531;&#23384;&#37197;&#32622;&#25991;&#20214;&#26377;&#22823;&#23567;&#26126;&#26174;&#22320;&#27604;&#21407;&#26377;&#37197;&#32622;&#25991;&#20214;&#22823;&#12290;&#36825;&#26159;&#27491;&#24120;&#30340;&#30001;&#35774;&#35745;&#21021;&#34935;&#20915;&#23450;&#30340;&#12290;</p><div><img src="../pub/images/fast-startup1.png"></div><p>&#19968;&#26086;&#39044;&#32531;&#23384;&#23545;&#35937;&#37197;&#32622;&#25991;&#20214;&#21019;&#24314;&#65292;&#21487;&#20197;&#21551;&#21160;Nagios&#26102;&#24102;&#19978;-u&#21629;&#20196;&#34892;&#36873;&#39033;&#20197;&#35753;&#23427;&#20351;&#29992;&#39044;&#32531;&#23384;&#37197;&#32622;&#25991;&#20214;&#32780;&#19981;&#26159;&#37197;&#32622;&#25991;&#20214;&#26412;&#36523;&#12290;</p><pre class="programlisting"><p>/usr/local/nagios/bin/nagios -ud /usr/local/nagios/etc/nagios.cfg</p></pre><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#37325;&#35201;</h3><div><img src="../pub/images/important.gif"></div>&#22914;&#26524;&#26356;&#25913;&#20102;&#37197;&#32622;&#25991;&#20214;&#65292;&#24517;&#39035;&#22312;Nagios&#37325;&#21551;&#21160;&#21069;&#35201;&#37325;&#26032;&#39564;&#35777;&#21644;&#37325;&#24314;&#39044;&#32531;&#23384;&#37197;&#32622;&#25991;&#20214;&#12290;&#22914;&#26524;&#27809;&#26377;&#37325;&#26500;&#24314;&#39044;&#32531;&#23384;&#37197;&#32622;&#25991;&#20214;&#65292;Nagios&#23558;&#20351;&#29992;&#26087;&#37197;&#32622;&#36816;&#34892;&#22240;&#20026;&#26159;&#30001;&#26087;&#37197;&#32622;&#29983;&#25104;&#30340;&#39044;&#32531;&#23384;&#25991;&#20214;&#65292;&#32780;&#19981;&#26159;&#29992;&#26032;&#30340;&#21407;&#22987;&#37197;&#32622;&#25991;&#20214;&#12290;</div><div><img src="../pub/images/fast-startup2.png"></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13816"></a>7.3.5.&nbsp;&#36339;&#36807;&#22238;&#36335;&#26816;&#27979;</h3></div></div></div><p>&#31532;&#20108;&#27493;(&#20063;&#26159;&#26368;&#32791;&#26102;)&#37096;&#20998;&#26159;&#23545;&#37197;&#32622;&#20013;&#30340;&#22238;&#36335;&#36827;&#34892;&#26816;&#27979;&#12290;&#22312;&#19978;&#38754;&#20363;&#23376;&#20013;&#36825;&#19968;&#27493;&#20960;&#20046;&#29992;&#21435;&#20102;1&#20998;&#38047;&#26469;&#39564;&#35777;&#37197;&#32622;&#39564;&#35777;&#12290;</p><p>&#20160;&#20040;&#26102;&#22238;&#36335;&#26816;&#27979;&#21644;&#20026;&#20160;&#20040;&#35201;&#20570;&#36825;&#20040;&#38271;&#26102;&#38388;&#65311;&#22238;&#36335;&#26816;&#27979;&#36923;&#36753;&#26159;&#20026;&#20102;&#30830;&#20445;&#22312;&#20320;&#30340;&#20027;&#26426;&#12289;&#20027;&#26426;&#20381;&#36182;&#12289;&#26381;&#21153;&#21644;&#26381;&#21153;&#20381;&#36182;&#31561;&#23545;&#35937;&#20043;&#38388;&#19981;&#23384;&#22312;&#20219;&#20309;&#30340;&#24490;&#29615;&#36335;&#24452;&#12290;&#22914;&#26524;&#22312;&#37197;&#32622;&#20013;&#26377;&#24490;&#29615;&#36335;&#24452;&#65292;Nagios&#23558;&#20250;&#22240;&#27515;&#38145;&#32780;&#20572;&#27490;&#12290;&#29992;&#26102;&#36739;&#38271;&#21407;&#22240;&#26159;&#30001;&#20110;&#27809;&#26377;&#20351;&#29992;&#36739;&#39640;&#25928;&#30340;&#31639;&#27861;&#12290;&#27426;&#36814;&#25552;&#20379;&#26356;&#39640;&#25928;&#21457;&#29616;&#22238;&#36335;&#30340;&#31639;&#27861;&#12290;&#25552;&#31034;&#65306;&#36825;&#24847;&#21619;&#30528;EMail&#32473;&#25105;&#26377;&#20851;Nagios&#35770;&#25991;&#30340;&#35745;&#31639;&#26426;&#31185;&#23398;&#31995;&#30740;&#31350;&#29983;&#23558;&#26377;&#26426;&#20250;&#24471;&#21040;&#20123;&#22238;&#36192;&#20195;&#30721;&#12290;:-) </p><p>&#22914;&#26524;&#20320;&#24819;&#22312;Nagios&#20026;&#21551;&#21160;&#26102;&#36339;&#36807;&#22238;&#36335;&#26816;&#27979;&#65292;&#21487;&#20197;&#22312;&#21629;&#20196;&#34892;&#22238;&#21152;&#19978;-x&#21442;&#25968;&#65292;&#35937;&#36825;&#26679;&#65306;</p><pre class="programlisting"><p>/usr/local/nagios/bin/nagios -xd /usr/local/nagios/etc/nagios.cfg</p></pre><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#37325;&#35201;</h3><div><img src="../pub/images/important.gif"></div>&#24403;&#35201;&#22312;&#21551;&#21160;&#21644;&#37325;&#21551;&#21069;&#36339;&#36807;&#22238;&#36335;&#26816;&#27979;&#20043;&#21069;&#65292;&#39564;&#35777;&#37197;&#32622;&#25991;&#20214;&#30340;&#27491;&#30830;&#24615;&#26159;&#38750;&#24120;&#38750;&#24120;&#37325;&#35201;&#30340;&#65281;&#27809;&#26377;&#36825;&#20040;&#20570;&#23558;&#26377;&#21487;&#33021;&#23548;&#33268;Nagios&#36923;&#36753;&#19978;&#30340;&#27515;&#38145;&#12290;&#20320;&#24050;&#34987;&#25105;&#25552;&#37266;&#36807;&#20102;&#21834;&#65281;</div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13832"></a>7.3.6.&nbsp;&#32852;&#21512;&#36215;&#26469;&#20351;&#29992;</h3></div></div></div><p>&#25353;&#29031;&#19979;&#38754;&#27493;&#39588;&#23558;&#20250;&#20351;&#29992;&#39044;&#32531;&#23384;&#37197;&#32622;&#25991;&#20214;&#24182;&#19988;&#36339;&#36807;&#22238;&#36335;&#26816;&#27979;&#20197;&#20805;&#20998;&#21152;&#36895;&#21551;&#21160;&#12290;</p><p>1&#12289;&#39564;&#35777;&#37197;&#32622;&#25991;&#20214;&#24182;&#29983;&#25104;&#39044;&#32531;&#23384;&#37197;&#32622;&#25991;&#20214;&#65292;&#29992;&#22914;&#19979;&#21629;&#20196;&#65306;</p><pre class="programlisting"><p>/usr/local/nagios/bin/nagios -vp /usr/local/nagios/etc/nagios.cfg</p></pre><p>2&#12289;&#22914;&#26524;Nagios&#27491;&#22312;&#36816;&#34892;&#65292;&#20572;&#25481;&#23427;&#65307;</p><p>3&#12289;&#21551;&#21160;Nagios&#65292;&#35753;&#20854;&#20351;&#29992;&#39044;&#32531;&#23384;&#37197;&#32622;&#25991;&#20214;&#32780;&#19988;&#36339;&#36807;&#22238;&#36335;&#26816;&#27979;&#65306;</p><pre class="programlisting"><p>/usr/local/nagios/bin/nagios -uxd /usr/local/nagios/etc/nagios.cfg</p></pre><p>4&#12289;&#24403;&#26356;&#25913;&#20102;&#21407;&#22987;&#37197;&#32622;&#25991;&#20214;&#26102;&#65292;&#38656;&#35201;&#37325;&#21551;&#21160;Nagios&#24182;&#20462;&#25913;&#29616;&#26377;&#20869;&#23481;&#65292;&#37325;&#26032;&#22238;&#21040;&#27493;&#39588;1&#21435;&#39564;&#35777;&#37197;&#32622;&#24182;&#37325;&#26500;&#39044;&#32531;&#23384;&#37197;&#32622;&#25991;&#20214;&#12290;&#19968;&#26086;&#20570;&#22909;&#20102;&#65292;&#23601;&#21487;&#20197;&#36890;&#36807;Web&#25509;&#21475;&#26469;&#37325;&#21551;Nagios&#25110;&#26159;&#22312;&#31995;&#32479;&#20013;&#21457;&#20010;SIGHUP&#20449;&#21495;&#65292;&#22914;&#26524;&#27809;&#26377;&#37325;&#26500;&#39044;&#32531;&#23384;&#37197;&#32622;&#25991;&#20214;&#65292;Nagios&#23558;&#29992;&#26087;&#37197;&#32622;&#36816;&#34892;&#65292;&#22240;&#20026;&#23427;&#39318;&#20808;&#20250;&#35835;&#20837;&#32531;&#23384;&#37197;&#32622;&#25991;&#20214;&#32780;&#19981;&#26159;&#28304;&#37197;&#32622;&#25991;&#20214;&#65307;</p><p>5&#12289;&#23601;&#36825;&#20040;&#22810;&#65281;&#31069;&#20320;&#21487;&#20197;&#21152;&#24555;&#21551;&#21160;&#36807;&#31243;&#12290;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="cgis"></a>7.4.&nbsp;&#20851;&#20110;CGI&#31243;&#24207;&#27169;&#22359;&#30340;&#20449;&#24687;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13856"></a>7.4.1.&nbsp;&#35828;&#26126;</h3></div></div></div><p>&#36825;&#37324;&#23558;&#25551;&#36848;&#19968;&#19979;&#38543;Nagios&#21457;&#34892;&#30340;&#20960;&#20010;CGI&#31243;&#24207;&#27169;&#22359;&#65292;&#27599;&#20010;CGI&#27169;&#22359;&#37117;&#38656;&#35201;&#20570;&#20805;&#20998;&#30340;&#25480;&#26435;&#35774;&#32622;&#12290;&#40664;&#35748;&#24773;&#20917;&#19979;CGI&#31243;&#24207;&#23558;&#20381;&#20381;&#36182;&#20110;&#20320;&#22312;Web&#26381;&#21153;&#31243;&#24207;&#37324;&#30340;&#25480;&#26435;&#21644;&#23545;&#20320;&#25152;&#35831;&#27714;&#30340;&#35270;&#22270;&#32473;&#20320;&#30340;&#25480;&#26435;&#12290;&#26356;&#22810;&#30340;&#26377;&#20851;&#25480;&#26435;&#37197;&#32622;&#30340;&#20449;&#24687;&#21487;&#20197;&#22312;<a class="link" href="#cgiauth" title="10.5.&nbsp;&#23545;CGIs&#31243;&#24207;&#27169;&#22359;&#30340;&#25480;&#26435;&#19982;&#35748;&#35777;">&#36825;&#37324;</a>&#25214;&#21040;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13864"></a>7.4.2.&nbsp;&#32034;&#24341;</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><a class="link" href="#cgis_status_cgi">Status CGI</a></li><li><a class="link" href="#cgis_statusmap_cgi">Status map CGI</a></li><li><a class="link" href="#cgis_statuswml_cgi">WAP interface CGI</a></li><li><a class="link" href="#cgis_statuswrl_cgi">Status world CGI (VRML)</a></li><li><a class="link" href="#cgis_tac_cgi">Tactical overview CGI</a></li><li><a class="link" href="#cgis_outages_cgi">Network outages CGI</a></li><li><a class="link" href="#cgis_config_cgi">Configuration CGI</a></li><li><a class="link" href="#cgis_cmd_cgi">Command CGI</a></li><li><a class="link" href="#cgis_extinfo_cgi">Extended information CGI</a></li><li><a class="link" href="#cgis_showlog_cgi">Event log CGI</a></li><li><a class="link" href="#cgis_history_cgi">Alert history CGI</a></li><li><a class="link" href="#cgis_notifications_cgi">Notifications CGI</a></li><li><a class="link" href="#cgis_trends_cgi">Trends CGI</a></li><li><a class="link" href="#cgis_avail_cgi">Availability reporting CGI</a></li><li><a class="link" href="#cgis_histogram_cgi">Alert histogram CGI</a></li><li><a class="link" href="#cgis_summary_cgi">Alert summary CGI</a></li></ul></div><p>
<a name="cgis_status_cgi"></a></p><pre class="programlisting"><p>Status CGI</p></pre><p>
</p><div class="table"><a name="d0e13923"></a><p class="title"><b>&#34920;&nbsp;7.1.&nbsp;</b></p><div class="table-contents"><table border="1"><colgroup><col><col><col><col></colgroup><tbody><tr><td><div><img src="../pub/images/cgi-status-a.png"></div></td><td><div><img src="../pub/images/cgi-status-b.png"></div></td><td><div><img src="../pub/images/cgi-status-c.png"></div></td><td><div><img src="../pub/images/cgi-status-d.png"></div></td></tr></tbody></table></div></div><p><br class="table-break">
</p><p><span class="strong"><strong>&#27169;&#22359;&#25991;&#20214;&#21517;</strong></span><span class="emphasis"><em>status.cgi</em></span></p><p>
</p><p><span class="strong"><strong>&#25551;&#36848;&#65306;</strong></span>&#22312;Nagios&#37324;&#36825;&#26159;&#19968;&#20010;&#24456;&#37325;&#35201;&#30340;CGI&#27169;&#22359;&#12290;&#23427;&#21487;&#20197;&#35753;&#20320;&#35266;&#27979;&#21040;&#34987;&#30417;&#27979;&#30340;&#20840;&#37096;&#20027;&#26426;&#21644;&#26381;&#21153;&#30340;&#24403;&#21069;&#29366;&#24577;&#12290;&#23427;&#23558;&#29983;&#25104;&#26412;&#20010;&#20027;&#26426;&#31867;&#22411;&#30340;&#36755;&#20986;&#25253;&#21578; &#65293; &#20840;&#37096;&#30340;&#65288;&#25110;&#37096;&#20998;&#20027;&#26426;&#65289;&#20197;&#25104;&#32452;&#26041;&#24335;&#32473;&#20986;&#29366;&#24577;&#25253;&#21578;&#21644;&#20840;&#37096;&#30340;&#26381;&#21153;&#65288;&#25110;&#37096;&#20998;&#20027;&#26426;&#19978;&#30340;&#20840;&#37096;&#26381;&#21153;&#65289;&#30340;&#29366;&#24577;&#12290;</p><p>
</p><p><span class="bold"><strong>&#25480;&#26435;&#35201;&#27714;&#65306;</strong></span></p><div class="orderedlist"><ol type="1"><li>&#22914;&#26524;&#20320;&#24050;&#34987;<a class="link" href="#authorized_for_all_hosts" title="&#34920;&nbsp;5.132.&nbsp;&#20840;&#23616;&#20027;&#26426;&#30340;&#20449;&#24687;&#33719;&#21462;&#26435;&#38480;"><span class="strong"><strong>&#25480;&#26435;&#23545;&#20840;&#37096;&#20027;&#26426;</strong></span></a>&#20320;&#23601;&#21487;&#20197;&#30475;&#21040;&#20840;&#37096;&#20027;&#26426;&#21644;&#20840;&#37096;&#26381;&#21153;&#12290;</li><li>&#22914;&#26524;&#20320;&#24050;&#34987;<a class="link" href="#authorized_for_all_services" title="&#34920;&nbsp;5.134.&nbsp;&#20840;&#23616;&#26381;&#21153;&#30340;&#20449;&#24687;&#33719;&#21462;&#26435;"><span class="strong"><strong>&#25480;&#26435;&#23545;&#20840;&#37096;&#30340;&#26381;&#21153;</strong></span></a>&#20320;&#23601;&#21487;&#20197;&#30475;&#21040;&#20840;&#37096;&#26381;&#21153;&#12290;</li><li>&#22914;&#26524;&#20320;&#26159;&#19968;&#20010;&#34987;<span class="strong"><strong>&#25480;&#26435;&#30340;&#32852;&#31995;&#20154;</strong></span>&#20320;&#23601;&#21487;&#20197;&#30475;&#21040;&#20197;&#20320;&#20026;&#32852;&#31995;&#20154;&#30340;&#20840;&#37096;&#20027;&#26426;&#21644;&#26381;&#21153;&#12290; </li></ol></div><p>
</p><p>
<a name="cgis_statusmap_cgi"></a></p><pre class="programlisting"><p>Status Map CGI</p></pre><p>
</p><div><img src="../pub/images/cgi-statusmap.png"></div><p>
</p><p><span class="strong"><strong>&#27169;&#22359;&#25991;&#20214;&#21517;</strong></span><span class="emphasis"><em>statusmap.cgi</em></span></p><p>
</p><p><span class="strong"><strong>&#25551;&#36848;&#65306;</strong></span>&#36825;&#20010;CGI&#27169;&#22359;&#23558;&#21019;&#24314;&#19968;&#20010;&#22522;&#20110;&#20320;&#30417;&#27979;&#32593;&#32476;&#20840;&#37096;&#20027;&#26426;&#30340;&#20108;&#32500;&#22320;&#22270;&#12290;&#20351;&#29992;Thomas Boutell&#30340;<a class="ulink" href="http://www.boutell.com/gd/" target="_top">gd</a>&#24211;(&#29256;&#26412;&#26159;1.6.3&#25110;&#26356;&#39640;)&#26469;&#29983;&#25104;&#19968;&#20010;PNG&#22270;&#65292;&#37324;&#38754;&#30340;&#20108;&#32500;&#22352;&#26631;&#20381;&#36182;&#20110;&#27599;&#20010;<a class="link" href="#objectdefinitions_host">&#20027;&#26426;</a>&#23545;&#35937;&#30340;&#23450;&#20041;&#65288;&#21253;&#25324;&#21487;&#20197;&#32473;&#27599;&#20010;&#20027;&#26426;&#23450;&#20041;&#19968;&#20010;&#22909;&#30475;&#30340;&#22270;&#26631;&#65289;&#12290;&#22914;&#26524;&#20320;&#23425;&#21487;&#35753;CGI&#31243;&#24207;&#33258;&#24049;&#33258;&#21160;&#22320;&#35774;&#23450;&#20027;&#26426;&#30340;&#22352;&#26631;&#65292;&#29992;&#19968;&#19979;&#36825;&#20010;<a class="link" href="#default_statusmap_layout" title="&#34920;&nbsp;5.138.&nbsp;&#40664;&#35748;&#30340;&#20108;&#32500;&#25299;&#25169;&#22270;&#23618;&#32472;&#21046;&#26041;&#24335;">default_statusmap_layout</a>&#22495;&#26469;&#25351;&#23450;&#19968;&#20010;&#20108;&#32500;&#22270;&#29983;&#25104;&#31639;&#27861;&#12290;</p><p>
</p><p><span class="bold"><strong>&#25480;&#26435;&#35201;&#27714;&#65306;</strong></span></p><div class="orderedlist"><ol type="1"><li>&#22914;&#26524;&#20320;&#24050;&#34987;<a class="link" href="#authorized_for_all_hosts" title="&#34920;&nbsp;5.132.&nbsp;&#20840;&#23616;&#20027;&#26426;&#30340;&#20449;&#24687;&#33719;&#21462;&#26435;&#38480;"><span class="strong"><strong>&#25480;&#26435;&#23545;&#20840;&#37096;&#20027;&#26426;</strong></span></a>&#20320;&#23601;&#21487;&#20197;&#30475;&#21040;&#20840;&#37096;&#20027;&#26426;&#12290;</li><li>&#22914;&#26524;&#20320;&#26159;&#19968;&#20010;&#34987;<span class="strong"><strong>&#25480;&#26435;&#30340;&#32852;&#31995;&#20154;</strong></span>&#20320;&#23601;&#21487;&#20197;&#30475;&#21040;&#20197;&#20320;&#20026;&#32852;&#31995;&#20154;&#30340;&#20027;&#26426;&#12290;</li></ol></div><p>
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><p>&#27809;&#26377;&#34987;&#25480;&#26435;&#30340;&#29992;&#25143;&#21482;&#33021;&#30475;&#21040;&#37027;&#20123;&#20027;&#26426;&#30340;&#33410;&#28857;&#22788;&#20110;<span class="strong"><strong>&#26410;&#30693;</strong></span>&#29366;&#24577;&#12290;&#25105;&#30495;&#30340;&#35753;&#23427;&#26080;&#27861;&#30475;&#21040;<span class="strong"><strong>&#20219;&#20309;</strong></span>&#19996;&#35199;&#65292;&#22914;&#26524;&#20320;&#26080;&#27861;&#30475;&#21040;&#20027;&#26426;&#20381;&#36182;&#30340;&#35805;&#65292;&#20320;&#29978;&#33267;&#26080;&#27861;&#30475;&#21040;&#19968;&#20010;&#20108;&#32500;&#22270;...</p></div><p>
</p><p>
<a name="cgis_statuswml_cgi"></a></p><pre class="programlisting"><p>WAP Interface CGI</p></pre><p>
</p><div><img src="../pub/images/cgi-statuswml.png"></div><p>
</p><p><span class="strong"><strong>&#27169;&#22359;&#25991;&#20214;&#21517;</strong></span><span class="emphasis"><em>statuswml.cgi</em></span></p><p>
</p><p><span class="strong"><strong>&#25551;&#36848;&#65306;</strong></span>&#36825;&#20010;CGI&#27169;&#22359;&#23558;&#32473;WAP&#25509;&#21475;&#25552;&#20379;&#32593;&#32476;&#29366;&#24577;&#26381;&#21153;&#12290;&#22914;&#26524;&#20320;&#26377;&#19968;&#20010;WAP&#35774;&#22791;(&#35937;&#19968;&#20010;&#24102;&#22240;&#29305;&#32593;&#25509;&#20837;&#33021;&#21147;&#30340;&#31227;&#21160;&#30005;&#35805;)&#65292;&#20320;&#21487;&#20197;&#22312;&#31227;&#21160;&#20013;&#35266;&#30475;&#29366;&#24577;&#20449;&#24687;&#12290;&#22312;&#20027;&#26426;&#32452;&#27719;&#24635;&#12289;&#20027;&#26426;&#27010;&#35272;&#12289;&#20027;&#26426;&#35814;&#32454;&#20449;&#24687;&#12289;&#26381;&#21153;&#35814;&#32454;&#20449;&#24687;&#12289;&#20840;&#37096;&#30340;&#25925;&#38556;&#21578;&#35686;&#12289;&#20840;&#37096;&#26410;&#22788;&#29702;&#25925;&#38556;&#31561;&#31561;&#19981;&#21516;&#30340;&#25253;&#21578;&#65292;&#38500;&#20102;&#29366;&#24577;&#20449;&#24687;&#22806;&#65292;&#21516;&#26679;&#21487;&#20197;&#20174;&#31227;&#21160;&#30005;&#35805;&#37324;&#26469;&#35774;&#32622;&#21462;&#28040;&#21578;&#35686;&#12289;&#20851;&#38381;&#26816;&#27979;&#21644;&#36890;&#30693;&#25925;&#38556;&#31561;&#12290;&#36825;&#20010;&#21151;&#33021;&#24456;&#37239;&#21543;&#65311;</p><p>
</p><p><span class="bold"><strong>&#25480;&#26435;&#35201;&#27714;&#65306;</strong></span></p><div class="orderedlist"><ol type="1"><li>&#22914;&#26524;&#20320;&#24050;&#34987;<a class="link" href="#authorized_for_system_information" title="&#34920;&nbsp;5.129.&nbsp;&#31995;&#32479;&#21644;&#36827;&#31243;&#30340;&#20449;&#24687;&#25805;&#20316;&#26435;"><span class="strong"><strong>&#25480;&#26435;&#30475;&#31995;&#32479;&#20449;&#24687;</strong></span></a>&#20320;&#21487;&#20197;&#30475;&#21040;Nagios&#36827;&#31243;&#20449;&#24687;&#12290;</li><li>&#22914;&#26524;&#20320;&#24050;&#34987;<a class="link" href="#authorized_for_all_hosts" title="&#34920;&nbsp;5.132.&nbsp;&#20840;&#23616;&#20027;&#26426;&#30340;&#20449;&#24687;&#33719;&#21462;&#26435;&#38480;"><span class="strong"><strong>&#25480;&#26435;&#23545;&#20840;&#37096;&#20027;&#26426;</strong></span></a>&#20320;&#21487;&#20197;&#30475;&#21040;&#20840;&#37096;&#20027;&#26426;&#21644;&#26381;&#21153;&#30340;&#29366;&#24577;&#25968;&#25454;&#12290;</li><li>&#22914;&#26524;&#20320;&#24050;&#34987;<a class="link" href="#authorized_for_all_services" title="&#34920;&nbsp;5.134.&nbsp;&#20840;&#23616;&#26381;&#21153;&#30340;&#20449;&#24687;&#33719;&#21462;&#26435;"><span class="strong"><strong>&#25480;&#26435;&#23545;&#20840;&#37096;&#30340;&#26381;&#21153;</strong></span></a>&#20320;&#21487;&#20197;&#30475;&#21040;&#20840;&#37096;&#26381;&#21153;&#30340;&#29366;&#24577;&#25968;&#25454;&#12290;</li><li>&#22914;&#26524;&#20320;&#26159;&#19968;&#20010;&#34987;<span class="strong"><strong>&#25480;&#26435;&#30340;&#32852;&#31995;&#20154;</strong></span>&#20320;&#21487;&#20197;&#30475;&#21040;&#20197;&#20320;&#20570;&#20026;&#32852;&#31995;&#20154;&#30340;&#20027;&#26426;&#21644;&#26381;&#21153;&#30340;&#29366;&#24577;&#25968;&#25454;&#12290;</li></ol></div><p>
</p><p>
<a name="cgis_statuswrl_cgi"></a></p><pre class="programlisting"><p>Status World CGI (VRML)</p></pre><p>
</p><div><img src="../pub/images/cgi-statuswrl.png"></div><p>
</p><p><span class="strong"><strong>&#27169;&#22359;&#25991;&#20214;&#21517;</strong></span><span class="emphasis"><em>statuswrl.cgi</em></span></p><p>
</p><p><span class="strong"><strong>&#25551;&#36848;&#65306;</strong></span>&#36825;&#20010;CGI&#27169;&#22359;&#23558;&#23545;&#20320;&#25152;&#30417;&#25511;&#32593;&#32476;&#30340;&#20840;&#37096;&#20027;&#26426;&#29983;&#25104;&#19968;&#20010;&#19977;&#32500;&#34394;&#25311;&#35270;&#22270;&#12290;&#36825;&#20123;&#32472;&#21046;&#20013;&#25152;&#29992;&#30340;&#20027;&#26426;&#19977;&#32500;&#22352;&#26631;(&#20197;&#21450;&#28210;&#26579;&#22270;&#29255;)&#26469;&#33258;&#20110;&#37197;&#32622;&#25991;&#20214;&#20013;&#30340;<a class="link" href="#objectdefinitions_host">&#20027;&#26426;</a>&#23450;&#20041;&#12290;&#22914;&#26524;&#20320;&#24819;&#35753;CGI&#31243;&#24207;&#27169;&#22359;&#33258;&#21160;&#22320;&#29983;&#25104;&#19977;&#32500;&#22352;&#26631;&#65292;&#21487;&#20197;&#35774;&#32622;<a class="link" href="#default_statuswrl_layout" title="&#34920;&nbsp;5.141.&nbsp;&#40664;&#35748;&#19977;&#32500;&#31354;&#38388;&#22352;&#26631;&#29983;&#25104;&#31639;&#27861;">default_statuswrl_layout</a>&#22495;&#26469;&#25351;&#23450;&#19968;&#20010;&#19977;&#32500;&#22270;&#22352;&#26631;&#29983;&#25104;&#31639;&#27861;&#12290;&#21516;&#26679;&#65292;&#22312;&#20320;&#35201;&#20570;&#35266;&#23519;&#20043;&#21069;&#20320;&#20063;&#24212;&#22312;&#20320;&#31995;&#32479;&#37324;&#23433;&#35013;&#19968;&#20010;&#34394;&#25311;&#29616;&#23454;&#30340;&#27983;&#35272;&#22120;(&#35937;<a class="ulink" href="http://www.parallelgraphics.com/cortona/" target="_top">Cortona</a>&#12289;<a class="ulink" href="http://www.cosmosoftware.com" target="_top">Cosmo Player</a>&#25110;<a class="ulink" href="http://www.intervista.com" target="_top">WorldView</a>)&#12290;</p><p>
</p><p><span class="bold"><strong>&#25480;&#26435;&#35201;&#27714;&#65306;</strong></span></p><div class="orderedlist"><ol type="1"><li>&#22914;&#26524;&#20320;&#24050;&#34987;<a class="link" href="#authorized_for_all_hosts" title="&#34920;&nbsp;5.132.&nbsp;&#20840;&#23616;&#20027;&#26426;&#30340;&#20449;&#24687;&#33719;&#21462;&#26435;&#38480;"><span class="strong"><strong>&#25480;&#26435;&#23545;&#20840;&#37096;&#20027;&#26426;</strong></span></a>&#20320;&#23601;&#21487;&#20197;&#30475;&#21040;&#20840;&#37096;&#20027;&#26426;&#12290;</li><li>&#22914;&#26524;&#20320;&#26159;&#19968;&#20010;&#34987;<span class="strong"><strong>&#25480;&#26435;&#30340;&#32852;&#31995;&#20154;</strong></span>&#20320;&#23601;&#21487;&#20197;&#30475;&#21040;&#20197;&#20320;&#20026;&#32852;&#31995;&#20154;&#30340;&#20027;&#26426;&#12290;</li></ol></div><p>
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><p>&#23545;&#20110;&#27809;&#26377;&#34987;&#25480;&#26435;&#30340;&#29992;&#25143;&#65292;&#23558;&#22312;&#27809;&#25480;&#26435;&#30340;&#20027;&#26426;&#33410;&#28857;&#19978;&#30475;&#21040;<span class="strong"><strong>&#26410;&#30693;</strong></span>&#29366;&#24577;&#12290;&#25105;&#30495;&#30340;&#35753;&#20182;&#26080;&#27861;&#30475;&#21040;<span class="strong"><strong>&#20219;&#20309;</strong></span>&#19996;&#35199;&#65292;&#22914;&#26524;&#20320;&#26080;&#27861;&#30475;&#21040;&#20027;&#26426;&#20381;&#36182;&#20851;&#31995;&#26102;&#20320;&#29978;&#33267;&#26080;&#27861;&#30475;&#21040;&#19968;&#20010;&#19977;&#32500;&#22270;...</p></div><p>
</p><p>
<a name="cgis_tac_cgi"></a></p><pre class="programlisting"><p>Tactical Overview CGI</p></pre><p>
</p><div><img src="../pub/images/cgi-tac.png"></div><p>
</p><p><span class="strong"><strong>&#27169;&#22359;&#25991;&#20214;&#21517;</strong></span><span class="emphasis"><em>tac.cgi</em></span></p><p>
</p><p><span class="strong"><strong>&#25551;&#36848;&#65306;</strong></span>&#36825;&#20010;CGI&#27169;&#22359;&#32473;&#20102;&#19968;&#20010;&#32593;&#32476;&#27963;&#21160;&#30340;&#8220;&#40479;&#30640;&#22270;&#8221;&#12290;&#36825;&#23481;&#35768;&#20320;&#24555;&#36895;&#22320;&#24471;&#21040;&#32593;&#32476;&#27010;&#20917;&#12289;&#20027;&#26426;&#29366;&#24577;&#21644;&#26381;&#21153;&#29366;&#24577;&#12290;&#22312;&#24050;&#34987;&#8220;&#22788;&#29702;&#8221;&#30340;&#25925;&#38556;(&#35937;&#34987;&#35748;&#21516;&#30340;&#21644;&#20851;&#38381;&#21578;&#35686;&#30340;&#25925;&#38556;)&#21644;&#27809;&#26377;&#34987;&#25429;&#33719;&#30340;&#38382;&#39064;&#20043;&#38388;&#20570;&#20986;&#21306;&#20998;&#36776;&#21035;&#65292;&#19988;&#26159;&#38656;&#35201;&#25552;&#35831;&#20851;&#27880;&#30340;&#12290;&#22914;&#26524;&#20320;&#22312;&#30417;&#25511;&#22823;&#37327;&#30340;&#20027;&#26426;&#21644;&#26381;&#21153;&#24182;&#19988;&#24819;&#21482;&#26159;&#29992;&#19968;&#32452;&#30011;&#38754;&#26469;&#20998;&#26512;&#22788;&#29702;&#36825;&#20123;&#25925;&#38556;&#30340;&#35805;&#36825;&#20010;&#20250;&#24456;&#26377;&#29992;&#12290;</p><p>
</p><p><span class="bold"><strong>&#25480;&#26435;&#35201;&#27714;&#65306;</strong></span></p><div class="orderedlist"><ol type="1"><li>&#22914;&#26524;&#20320;&#24050;&#34987;<a class="link" href="#authorized_for_all_hosts" title="&#34920;&nbsp;5.132.&nbsp;&#20840;&#23616;&#20027;&#26426;&#30340;&#20449;&#24687;&#33719;&#21462;&#26435;&#38480;"><span class="strong"><strong>&#25480;&#26435;&#23545;&#20840;&#37096;&#20027;&#26426;</strong></span></a>&#20320;&#21487;&#20197;&#30475;&#21040;&#20840;&#37096;&#20027;&#26426;&#21644;&#20840;&#37096;&#26381;&#21153;&#12290;</li><li>&#22914;&#26524;&#20320;&#24050;&#34987;<a class="link" href="#authorized_for_all_services" title="&#34920;&nbsp;5.134.&nbsp;&#20840;&#23616;&#26381;&#21153;&#30340;&#20449;&#24687;&#33719;&#21462;&#26435;"><span class="strong"><strong>&#25480;&#26435;&#23545;&#20840;&#37096;&#30340;&#26381;&#21153;</strong></span></a>&#20320;&#21487;&#20197;&#30475;&#21040;&#20840;&#37096;&#26381;&#21153;&#12290;</li><li>&#22914;&#26524;&#20320;&#26159;&#19968;&#20010;&#34987;<span class="strong"><strong>&#25480;&#26435;&#30340;&#32852;&#31995;&#20154;</strong></span> &#20320;&#23601;&#21487;&#20197;&#30475;&#21040;&#20197;&#20320;&#20026;&#32852;&#31995;&#20154;&#30340;&#20840;&#37096;&#20027;&#26426;&#21644;&#26381;&#21153;&#12290; </li></ol></div><p>
</p><p>
<a name="cgis_outages_cgi"></a></p><pre class="programlisting"><p>Network Outages CGI</p></pre><p>
</p><div><img src="../pub/images/cgi-outages.png"></div><p>
</p><p><span class="strong"><strong>&#27169;&#22359;&#25991;&#20214;&#21517;</strong></span><span class="emphasis"><em>outages.cgi</em></span></p><p>
</p><p><span class="strong"><strong>&#25551;&#36848;&#65306;</strong></span>&#36825;&#20010;CGI&#23558;&#32473;&#20986;&#20320;&#32593;&#32476;&#20013;&#30340;&#24341;&#21457;&#32593;&#32476;&#20986;&#38169;&#30340;&#8220;&#38382;&#39064;&#8221;&#20027;&#26426;&#21015;&#34920;&#12290;&#36825;&#23545;&#20110;&#31649;&#29702;&#19968;&#20010;&#22823;&#22411;&#30340;&#32593;&#32476;&#21644;&#24819;&#24555;&#36895;&#23450;&#20301;&#32593;&#32476;&#25925;&#38556;&#26469;&#28304;&#30340;&#24773;&#20917;&#26159;&#24456;&#26377;&#29992;&#30340;&#12290;&#21015;&#34920;&#20013;&#30340;&#20027;&#26426;&#23558;&#25353;&#20986;&#38169;&#38382;&#39064;&#30340;&#20808;&#21518;&#20851;&#31995;&#26469;&#25490;&#21015;&#12290;</p><p>
</p><p><span class="bold"><strong>&#25480;&#26435;&#35201;&#27714;&#65306;</strong></span></p><div class="orderedlist"><ol type="1"><li>&#22914;&#26524;&#20320;&#24050;&#34987;<a class="link" href="#authorized_for_all_hosts" title="&#34920;&nbsp;5.132.&nbsp;&#20840;&#23616;&#20027;&#26426;&#30340;&#20449;&#24687;&#33719;&#21462;&#26435;&#38480;"><span class="strong"><strong>&#25480;&#26435;&#23545;&#20840;&#37096;&#20027;&#26426;</strong></span></a>&#20320;&#23601;&#21487;&#20197;&#30475;&#21040;&#20840;&#37096;&#20027;&#26426;&#12290;</li><li>&#22914;&#26524;&#20320;&#26159;&#19968;&#20010;&#34987;<span class="strong"><strong>&#25480;&#26435;&#30340;&#32852;&#31995;&#20154;</strong></span>&#20320;&#23601;&#21487;&#20197;&#30475;&#21040;&#20197;&#20320;&#20026;&#32852;&#31995;&#20154;&#30340;&#20027;&#26426;&#12290;</li></ol></div><p>
</p><p>
<a name="cgis_config_cgi"></a></p><pre class="programlisting"><p>Configuration CGI</p></pre><p>
</p><div><img src="../pub/images/cgi-config.png"></div><p>
</p><p><span class="strong"><strong>&#27169;&#22359;&#25991;&#20214;&#21517;</strong></span><span class="emphasis"><em>config.cgi</em></span></p><p>
</p><p><span class="strong"><strong>&#25551;&#36848;&#65306;</strong></span>&#36825;&#20010;CGI&#27169;&#22359;&#23558;&#35753;&#20320;&#21487;&#20197;&#30475;&#21040;&#20840;&#37096;&#23545;&#35937;(&#35937;&#20027;&#26426;&#12289;&#20027;&#26426;&#32452;&#12289;&#32852;&#31995;&#20154;&#12289;&#32852;&#31995;&#20154;&#32452;&#12289;&#26102;&#38388;&#21608;&#26399;&#12289;&#26381;&#21153;&#31561;&#31561;)&#30340;&#37197;&#32622;&#65292;&#36825;&#20123;&#37197;&#32622;&#20889;&#22312;&#20320;&#30340;<a class="link" href="#configobject" title="5.3.&nbsp;&#23545;&#35937;&#37197;&#32622;&#27010;&#35272;">&#23545;&#35937;&#37197;&#32622;&#25991;&#20214;</a>&#37324;&#38754;&#12290;</p><p>
</p><p><span class="bold"><strong>&#25480;&#26435;&#35201;&#27714;&#65306;</strong></span></p><div class="orderedlist"><ol type="1"><li>&#20320;&#24517;&#39035;&#34987;<a class="link" href="#authorized_for_configuration_information" title="&#34920;&nbsp;5.131.&nbsp;&#37197;&#32622;&#30340;&#20449;&#24687;&#33719;&#21462;&#26435;&#38480;"><span class="strong"><strong>&#25480;&#26435;&#21487;&#20197;&#30475;&#21040;&#20219;&#20309;&#37197;&#32622;</strong></span></a>&#20449;&#24687;&#21644;&#20219;&#24847;&#19968;&#31181;&#37197;&#32622;&#20869;&#23481;&#12290;</li></ol></div><p>
</p><p>
<a name="cgis_cmd_cgi"></a></p><pre class="programlisting"><p>Command CGI</p></pre><p>
</p><div><img src="../pub/images/cgi-cmd.png"></div><p>
</p><p><span class="strong"><strong>&#27169;&#22359;&#25991;&#20214;&#21517;</strong></span><span class="emphasis"><em>cmd.cgi</em></span></p><p>
</p><p><span class="strong"><strong>&#25551;&#36848;&#65306;</strong></span>&#36825;&#20010;CGI&#27169;&#22359;&#23558;&#35753;&#20320;&#32473;Nagis&#36827;&#31243;&#21457;&#20986;&#21629;&#20196;&#12290;&#34429;&#28982;&#23427;&#26377;&#24456;&#22810;&#20010;&#21629;&#20196;&#21442;&#25968;&#65292;&#20294;&#20320;&#26368;&#22909;&#26159;&#29420;&#31435;&#22320;&#20351;&#29992;&#23427;&#20204;&#12290;&#22312;&#19981;&#21516;&#30340;Nagios&#29256;&#26412;&#38388;&#23427;&#20204;&#26377;&#24456;&#22823;&#22320;&#19981;&#21516;&#12290;&#29992;<a class="link" href="#cgis_extinfo_cgi">extended information CGI</a>&#27169;&#22359;&#26469;&#20570;&#20026;&#21457;&#24067;&#21629;&#20196;&#30340;&#36215;&#28857;&#12290;</p><p>
</p><p><span class="bold"><strong>&#25480;&#26435;&#35201;&#27714;&#65306;</strong></span></p><div class="orderedlist"><ol type="1"><li>&#20320;&#24517;&#39035;&#34987;<a class="link" href="#authorized_for_system_commands" title="&#34920;&nbsp;5.130.&nbsp;&#31995;&#32479;&#21644;&#36827;&#31243;&#30340;&#21629;&#20196;&#25805;&#20316;&#26435;"><span class="strong"><strong>&#25480;&#26435;&#20570;&#31995;&#32479;&#21629;&#20196;</strong></span></a>&#20197;&#20351;&#20320;&#21457;&#20986;&#23545;Nagios&#26377;&#24433;&#21709;&#30340;&#21629;&#20196;(&#37325;&#21551;&#21160;&#12289;&#20851;&#38381;&#12289;&#27169;&#24335;&#20999;&#25442;&#31561;&#31561;)&#12290;</li><li>&#22914;&#26524;&#20320;&#34987;<a class="link" href="#authorized_for_all_host_commands" title="&#34920;&nbsp;5.133.&nbsp;&#20840;&#23616;&#20027;&#26426;&#30340;&#21629;&#20196;&#25805;&#20316;&#26435;"><span class="strong"><strong>&#25480;&#26435;&#22312;&#20840;&#37096;&#20027;&#26426;&#19978;&#25191;&#34892;&#21629;&#20196;</strong></span></a>&#20197;&#20351;&#20320;&#21487;&#20197;&#23545;&#20840;&#37096;&#20027;&#26426;&#21644;&#26381;&#21153;&#21457;&#20986;&#21629;&#20196;&#12290;</li><li>&#22914;&#26524;&#20320;&#34987;<a class="link" href="#authorized_for_all_service_commands" title="&#34920;&nbsp;5.135.&nbsp;&#20840;&#23616;&#26381;&#21153;&#30340;&#21629;&#20196;&#25805;&#20316;&#26435;"><span class="strong"><strong>&#25480;&#26435;&#23545;&#20840;&#37096;&#26381;&#21153;&#25191;&#34892;&#21629;&#20196;</strong></span></a>&#20197;&#20351;&#20320;&#21487;&#23545;&#20840;&#37096;&#26381;&#21153;&#21457;&#20986;&#21629;&#20196;&#12290;</li><li>&#22914;&#26524;&#20320;&#26159;&#19968;&#20010;&#34987;<span class="strong"><strong>&#25480;&#26435;&#30340;&#32852;&#31995;&#20154;</strong></span>&#20320;&#21487;&#20197;&#23545;&#20320;&#20570;&#20026;&#32852;&#31995;&#20154;&#30340;&#20027;&#26426;&#21644;&#26381;&#21153;&#19978;&#21457;&#20986;&#21629;&#20196;&#12290;</li></ol></div><p>
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><p>&#22914;&#26524;<span class="emphasis"><em>&#27809;&#26377;</em></span>&#20351;&#29992;&#22312;CGI&#37197;&#32622;&#25991;&#20214;&#37324;<a class="link" href="#use_authentication" title="&#34920;&nbsp;5.127.&nbsp;&#24212;&#29992;&#35748;&#35777;">use_authentication</a>&#36873;&#39033;&#65292;&#36825;&#20010;CGI&#27169;&#22359;&#23558;<span class="strong"><strong>&#19981;&#20250;</strong></span>&#35753;&#20320;&#23545;Nagios&#25191;&#34892;&#20219;&#20309;&#21629;&#20196;&#65292;&#36825;&#26159;&#23545;&#20320;&#35774;&#32622;&#30340;&#19968;&#31181;&#20445;&#25252;&#12290;&#22914;&#26524;&#20320;&#20915;&#23450;&#22312;WEB&#37324;&#35774;&#32622;&#25104;&#38750;&#25480;&#26435;&#31649;&#29702;&#29366;&#24577;&#26469;&#36816;&#34892;&#65292;&#25105;&#24314;&#35758;&#20320;&#26368;&#22909;&#31227;&#36208;&#36825;&#20010;CGI&#27169;&#22359;&#12290;</p></div><p>
</p><p>
<a name="cgis_extinfo_cgi"></a></p><pre class="programlisting"><p>Extended Information CGI</p></pre><p>
</p><div class="table"><a name="d0e14300"></a><p class="title"><b>&#34920;&nbsp;7.2.&nbsp;</b></p><div class="table-contents"><table border="1"><colgroup><col><col><col><col></colgroup><tbody><tr><td><div><img src="../pub/images/cgi-extinfo-a.png"></div></td><td><div><img src="../pub/images/cgi-extinfo-b.png"></div></td><td><div><img src="../pub/images/cgi-extinfo-c.png"></div></td><td><div><img src="../pub/images/cgi-extinfo-d.png"></div></td></tr></tbody></table></div></div><p><br class="table-break">
</p><p><span class="strong"><strong>&#27169;&#22359;&#25991;&#20214;&#21517;</strong></span><span class="emphasis"><em>extinfo.cgi</em></span></p><p>
</p><p><span class="strong"><strong>&#25551;&#36848;&#65306;</strong></span>&#36825;&#20010;CGI&#27169;&#22359;&#23558;&#35753;&#20320;&#30475;&#21040;Nagios&#36827;&#31243;&#20449;&#24687;&#12289;&#20027;&#26426;&#21644;&#26381;&#21153;&#29366;&#24577;&#32479;&#35745;&#12289;&#20027;&#26426;&#21644;&#26381;&#21153;&#27880;&#37322;&#21644;&#20854;&#20182;&#20449;&#24687;&#31561;&#12290;&#21516;&#26679;&#23427;&#20063;&#21487;&#20197;&#20570;&#20026;&#23545;Nagios&#21457;&#20986;&#21629;&#20196;&#30340;&#26381;&#21153;&#65292;&#36319;<a class="link" href="#cgis_cmd_cgi">command CGI</a>&#27169;&#22359;&#19968;&#26679;&#12290;&#34429;&#28982;&#23427;&#26377;&#20960;&#20010;&#21629;&#20196;&#21442;&#25968;&#65292;&#20294;&#20320;&#26368;&#22909;&#26159;&#29420;&#31435;&#22320;&#29992;&#23427;&#20204; &#65293; &#22312;&#19981;&#21516;&#30340;Nagios&#29256;&#26412;&#20043;&#38388;&#23427;&#20204;&#20250;&#26377;&#19981;&#21516;&#12290;&#20320;&#21487;&#20197;&#36890;&#36807;&#28857;&#20987;&#22312;&#39029;&#38754;&#36793;&#19978;&#30340;&#8220;&#32593;&#32476;&#20581;&#24247;&#29366;&#20917;&#8221;&#21644;&#8220;&#36827;&#31243;&#20449;&#24687;&#8221;&#37324;&#30340;&#38142;&#25509;&#26469;&#36827;&#21040;&#36825;&#20010;CGI&#27169;&#22359;&#65292;&#20063;&#21487;&#20197;&#36890;&#36807;&#28857;&#20987;<a class="link" href="#cgis_status_cgi">status CGI</a>&#37324;&#30340;&#20027;&#26426;&#25110;&#26381;&#21153;&#19978;&#30340;&#38142;&#25509;&#36827;&#20837;&#12290;</p><p>
</p><p><span class="bold"><strong>&#25480;&#26435;&#35201;&#27714;&#65306;</strong></span></p><div class="orderedlist"><ol type="1"><li>&#20320;&#24517;&#39035;&#34987;<a class="link" href="#authorized_for_system_information" title="&#34920;&nbsp;5.129.&nbsp;&#31995;&#32479;&#21644;&#36827;&#31243;&#30340;&#20449;&#24687;&#25805;&#20316;&#26435;"><span class="strong"><strong>&#25480;&#26435;&#30475;&#31995;&#32479;&#20449;&#24687;</strong></span></a>&#20197;&#20351;&#20320;&#21487;&#20197;&#30475;&#21040;&#36827;&#31243;&#20449;&#24687;&#25253;&#21578;&#12290;</li><li>&#22914;&#26524;&#20320;&#24050;&#34987;<a class="link" href="#authorized_for_all_hosts" title="&#34920;&nbsp;5.132.&nbsp;&#20840;&#23616;&#20027;&#26426;&#30340;&#20449;&#24687;&#33719;&#21462;&#26435;&#38480;"><span class="strong"><strong>&#25480;&#26435;&#23545;&#20840;&#37096;&#20027;&#26426;</strong></span></a>&#20320;&#21487;&#20197;&#30475;&#21040;&#20840;&#37096;&#20027;&#26426;&#21644;&#26381;&#21153;&#30340;&#25193;&#23637;&#20449;&#24687;&#12290;</li><li>&#22914;&#26524;&#20320;&#24050;&#34987;<a class="link" href="#authorized_for_all_services" title="&#34920;&nbsp;5.134.&nbsp;&#20840;&#23616;&#26381;&#21153;&#30340;&#20449;&#24687;&#33719;&#21462;&#26435;"><span class="strong"><strong>&#25480;&#26435;&#23545;&#20840;&#37096;&#30340;&#26381;&#21153;</strong></span></a>&#20320;&#21487;&#20197;&#30475;&#21040;&#20840;&#37096;&#26381;&#21153;&#30340;&#25193;&#23637;&#20449;&#24687;&#12290;</li><li>&#22914;&#26524;&#20320;&#26159;&#19968;&#20010;&#34987;<span class="strong"><strong>&#25480;&#26435;&#30340;&#32852;&#31995;&#20154;</strong></span>&#20320;&#21487;&#20197;&#30475;&#21040;&#20197;&#20320;&#20570;&#32852;&#31995;&#20154;&#30340;&#20840;&#37096;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#25193;&#23637;&#20449;&#24687;&#12290;</li></ol></div><p>
</p><p>
<a name="cgis_showlog_cgi"></a></p><pre class="programlisting"><p>Event Log CGI</p></pre><p>
</p><div><img src="../pub/images/cgi-showlog.png"></div><p>
</p><p><span class="strong"><strong>&#27169;&#22359;&#25991;&#20214;&#21517;</strong></span><span class="emphasis"><em>showlog.cgi</em></span></p><p>
</p><p><span class="strong"><strong>&#25551;&#36848;&#65306;</strong></span>&#27492;CGI&#27169;&#22359;&#29992;&#20110;&#26174;&#31034;<a class="link" href="#log_file" title="&#34920;&nbsp;5.1.&nbsp;&#26085;&#24535;&#25991;&#20214;">&#26085;&#24535;&#25991;&#20214;</a>&#12290;&#22914;&#26524;&#24050;&#35774;&#32622;<a class="link" href="#log_rotation_method" title="&#34920;&nbsp;5.19.&nbsp;&#26085;&#24535;&#22238;&#28378;&#26041;&#27861;">&#26085;&#24535;&#22238;&#28378;</a>&#20351;&#33021;&#65292;&#21487;&#20197;&#29992;&#39030;&#37096;&#30340;&#23548;&#33322;&#38142;&#25509;&#26469;&#22312;&#25171;&#21253;&#30340;&#26085;&#24535;&#25991;&#20214;&#20013;&#27983;&#35272;&#24403;&#21069;&#21578;&#35686;&#12290;</p><p>
</p><p><span class="bold"><strong>&#25480;&#26435;&#35201;&#27714;&#65306;</strong></span></p><div class="orderedlist"><ol type="1"><li>&#20320;&#24517;&#39035;&#34987;<a class="link" href="#authorized_for_system_information" title="&#34920;&nbsp;5.129.&nbsp;&#31995;&#32479;&#21644;&#36827;&#31243;&#30340;&#20449;&#24687;&#25805;&#20316;&#26435;"><span class="strong"><strong>&#25480;&#26435;&#30475;&#31995;&#32479;&#20449;&#24687;</strong></span></a>&#20197;&#20351;&#20320;&#21487;&#30475;&#21040;&#26085;&#24535;&#25991;&#20214;&#25253;&#21578;&#12290;</li></ol></div><p>
</p><p>
<a name="cgis_history_cgi"></a></p><pre class="programlisting"><p>Alert History CGI</p></pre><p>
</p><div><img src="../pub/images/cgi-history.png"></div><p>
</p><p><span class="strong"><strong>&#27169;&#22359;&#25991;&#20214;&#21517;</strong></span><span class="emphasis"><em>history.cgi</em></span></p><p>
</p><p><span class="strong"><strong>&#25551;&#36848;&#65306;</strong></span>&#36825;&#20010;CGI&#27169;&#22359;&#34987;&#29992;&#20110;&#26174;&#31034;&#37096;&#20998;&#25110;&#26159;&#20840;&#37096;&#20027;&#26426;&#30340;&#21382;&#21490;&#25925;&#38556;&#12290;&#36825;&#20010;&#26159;&#26174;&#31034;<a class="link" href="#cgis_showlog_cgi">&#26085;&#24535;&#25991;&#20214;CGI&#27169;&#22359;</a>&#20449;&#24687;&#30340;&#23376;&#38598;&#12290;&#20320;&#21487;&#20197;&#36807;&#28388;&#26174;&#31034;&#36755;&#20986;&#20869;&#23481;&#65292;&#21482;&#25361;&#20986;&#25351;&#23450;&#31867;&#22411;&#30340;&#25925;&#38556;&#26469;&#26597;&#30475;(&#22914;&#25353;&#30828;&#25925;&#38556;&#21644;&#36719;&#25925;&#38556;&#20998;&#31867;&#65292;&#25110;&#25353;&#26381;&#21153;&#21644;&#20027;&#26426;&#21578;&#35686;&#30340;&#31867;&#22411;&#26469;&#26174;&#31034;&#31561;)&#12290;&#22914;&#26524;&#20320;&#35774;&#32622;&#20102;<a class="link" href="#log_rotation_method" title="&#34920;&nbsp;5.19.&nbsp;&#26085;&#24535;&#22238;&#28378;&#26041;&#27861;">&#26085;&#24535;&#22238;&#28378;</a>&#65292;&#20320;&#21487;&#20197;&#36890;&#36807;&#39029;&#38754;&#39030;&#31471;&#30340;&#23548;&#33322;&#38142;&#25509;&#26469;&#22312;&#25171;&#21253;&#30340;&#26085;&#24535;&#25991;&#20214;&#20013;&#26597;&#30475;&#24403;&#21069;&#30340;&#21382;&#21490;&#20449;&#24687;&#12290;</p><p>
</p><p><span class="bold"><strong>&#25480;&#26435;&#35201;&#27714;&#65306;</strong></span></p><div class="orderedlist"><ol type="1"><li>&#22914;&#26524;&#20320;&#24050;&#34987;<a class="link" href="#authorized_for_all_hosts" title="&#34920;&nbsp;5.132.&nbsp;&#20840;&#23616;&#20027;&#26426;&#30340;&#20449;&#24687;&#33719;&#21462;&#26435;&#38480;"><span class="strong"><strong>&#25480;&#26435;&#23545;&#20840;&#37096;&#20027;&#26426;</strong></span></a>&#20320;&#21487;&#20197;&#30475;&#21040;&#20840;&#37096;&#20027;&#26426;&#21644;&#26381;&#21153;&#30340;&#21382;&#21490;&#20449;&#24687;&#12290;</li><li>&#22914;&#26524;&#20320;&#24050;&#34987;<a class="link" href="#authorized_for_all_services" title="&#34920;&nbsp;5.134.&nbsp;&#20840;&#23616;&#26381;&#21153;&#30340;&#20449;&#24687;&#33719;&#21462;&#26435;"><span class="strong"><strong>&#25480;&#26435;&#23545;&#20840;&#37096;&#30340;&#26381;&#21153;</strong></span></a>&#20320;&#21487;&#20197;&#30475;&#21040;&#20840;&#37096;&#26381;&#21153;&#30340;&#21382;&#21490;&#20449;&#24687;&#12290;</li><li>&#22914;&#26524;&#20320;&#26159;&#19968;&#20010;&#34987;<span class="strong"><strong>&#25480;&#26435;&#30340;&#32852;&#31995;&#20154;</strong></span>&#20320;&#21487;&#20197;&#30475;&#21040;&#20197;&#20320;&#20570;&#20026;&#32852;&#31995;&#20154;&#30340;&#20840;&#37096;&#26381;&#21153;&#21644;&#20027;&#26426;&#30340;&#21382;&#21490;&#20449;&#24687;&#12290;</li></ol></div><p>
</p><p>
<a name="cgis_notifications_cgi"></a></p><pre class="programlisting"><p>Notifications CGI</p></pre><p>
</p><div><img src="../pub/images/cgi-notifications.png"></div><p>
</p><p><span class="strong"><strong>&#27169;&#22359;&#25991;&#20214;&#21517;</strong></span><span class="emphasis"><em>notifications.cgi</em></span></p><p>
</p><p><span class="strong"><strong>&#25551;&#36848;&#65306;</strong></span>&#36825;&#20010;CGI&#27169;&#22359;&#21487;&#20197;&#29992;&#20110;&#26174;&#31034;&#32473;&#21508;&#31867;&#32852;&#31995;&#20154;&#32780;&#21457;&#20986;&#20027;&#26426;&#21644;&#26381;&#21153;&#30340;&#36890;&#30693;&#12290;&#36825;&#20010;&#36755;&#20986;&#26159; The output is basically a subset of the information that is displayed by the <a class="link" href="#cgis_showlog_cgi">&#26085;&#24535;CGI&#27169;&#22359;</a>&#26174;&#31034;&#20869;&#23481;&#30340;&#23376;&#38598;&#12290;&#20320;&#21487;&#20197;&#36807;&#28388;&#36755;&#20986;&#26174;&#31034;&#20869;&#23481;&#65292;&#21482;&#26159;&#26174;&#31034;&#25351;&#23450;&#30340;&#36890;&#30693;&#31867;&#22411;(&#22914;&#26381;&#21153;&#36890;&#30693;&#12289;&#20027;&#26426;&#36890;&#30693;&#12289;&#32473;&#25351;&#23450;&#32852;&#31995;&#20154;&#30340;&#36890;&#30693;&#31561;)&#12290;&#22914;&#26524;&#35774;&#32622;&#20102;<a class="link" href="#log_rotation_method" title="&#34920;&nbsp;5.19.&nbsp;&#26085;&#24535;&#22238;&#28378;&#26041;&#27861;">&#26085;&#24535;&#22238;&#28378;</a>&#36873;&#39033;&#20351;&#33021;&#65292;&#20320;&#21487;&#20197;&#36890;&#36807;&#22312;&#39029;&#38754;&#39030;&#31471;&#30340;&#23548;&#33322;&#38142;&#25509;&#26469;&#22312;&#25171;&#21253;&#30340;&#26085;&#24535;&#25991;&#20214;&#20013;&#26597;&#30475;&#24403;&#21069;&#30340;&#36890;&#30693;&#12290;</p><p>
</p><p><span class="bold"><strong>&#25480;&#26435;&#35201;&#27714;&#65306;</strong></span></p><div class="orderedlist"><ol type="1"><li>&#22914;&#26524;&#20320;&#24050;&#34987;<a class="link" href="#authorized_for_all_hosts" title="&#34920;&nbsp;5.132.&nbsp;&#20840;&#23616;&#20027;&#26426;&#30340;&#20449;&#24687;&#33719;&#21462;&#26435;&#38480;"><span class="strong"><strong>&#25480;&#26435;&#23545;&#20840;&#37096;&#20027;&#26426;</strong></span></a>&#20320;&#21487;&#20197;&#26597;&#30475;&#20840;&#37096;&#30340;&#20027;&#26426;&#21644;&#26381;&#21153;&#30340;&#36890;&#30693;&#25253;&#21578;&#12290;</li><li>&#22914;&#26524;&#20320;&#24050;&#34987;<a class="link" href="#authorized_for_all_services" title="&#34920;&nbsp;5.134.&nbsp;&#20840;&#23616;&#26381;&#21153;&#30340;&#20449;&#24687;&#33719;&#21462;&#26435;"><span class="strong"><strong>&#25480;&#26435;&#23545;&#20840;&#37096;&#30340;&#26381;&#21153;</strong></span></a>&#20320;&#21487;&#20197;&#26597;&#30475;&#20840;&#37096;&#26381;&#21153;&#30340;&#36890;&#30693;&#12290;</li><li>&#22914;&#26524;&#20320;&#26159;&#19968;&#20010;&#34987;<span class="strong"><strong>&#25480;&#26435;&#30340;&#32852;&#31995;&#20154;</strong></span>&#20320;&#21487;&#20197;&#26597;&#30475;&#20197;&#20320;&#20026;&#32852;&#31995;&#20154;&#30340;&#20840;&#37096;&#26381;&#21153;&#21644;&#20027;&#26426;&#30340;&#36890;&#30693;&#25253;&#21578;&#12290;</li></ol></div><p>
</p><p>
<a name="cgis_trends_cgi"></a></p><pre class="programlisting"><p>Trends CGI</p></pre><p>
</p><div><img src="../pub/images/cgi-trends.png"></div><p>
</p><p><span class="strong"><strong>&#27169;&#22359;&#25991;&#20214;&#21517;</strong></span><span class="emphasis"><em>trends.cgi</em></span></p><p>
</p><p><span class="strong"><strong>&#25551;&#36848;&#65306;</strong></span>&#36825;&#20010;CGI&#27169;&#22359;&#21487;&#20197;&#21019;&#24314;&#19968;&#20010;&#20027;&#26426;&#25110;&#26381;&#21153;&#30340;&#20219;&#24847;&#26102;&#38388;&#27573;&#20869;&#30340;&#29366;&#24577;&#36235;&#21183;&#22270;&#12290;&#20026;&#20102;&#35753;&#27492;CGI&#27169;&#22359;&#26356;&#26377;&#29992;&#65292;&#20320;&#38656;&#35201;&#35774;&#32622;<a class="link" href="#log_rotation_method" title="&#34920;&nbsp;5.19.&nbsp;&#26085;&#24535;&#22238;&#28378;&#26041;&#27861;">&#26085;&#24535;&#22238;&#28378;</a>&#36873;&#39033;&#20351;&#33021;&#24182;&#20445;&#30041;&#22909;&#25171;&#21253;&#30340;&#26085;&#24535;&#25991;&#20214;&#65292;&#25171;&#21253;&#26085;&#24535;&#25991;&#20214;&#20445;&#30041;&#36335;&#24452;&#22312;<a class="link" href="#log_archive_path" title="&#34920;&nbsp;5.20.&nbsp;&#26085;&#24535;&#25171;&#21253;&#36335;&#24452;">log_archive_path</a>&#22495;&#37324;&#35774;&#32622;&#12290;&#36825;&#20010;CGI&#27169;&#22359;&#20351;&#29992;&#20102;Thomas Boutell&#30340;<a class="ulink" href="http://www.boutell.com/gd/" target="_top">gd</a>&#24211;(&#29256;&#26412;1.6.3&#25110;&#26356;&#39640;)&#20197;&#21019;&#24314;&#29366;&#24577;&#36235;&#21183;&#22270;&#12290;</p><p>
</p><p><span class="bold"><strong>&#25480;&#26435;&#35201;&#27714;&#65306;</strong></span></p><div class="orderedlist"><ol type="1"><li>&#22914;&#26524;&#20320;&#24050;&#34987;<a class="link" href="#authorized_for_all_hosts" title="&#34920;&nbsp;5.132.&nbsp;&#20840;&#23616;&#20027;&#26426;&#30340;&#20449;&#24687;&#33719;&#21462;&#26435;&#38480;"><span class="strong"><strong>&#25480;&#26435;&#23545;&#20840;&#37096;&#20027;&#26426;</strong></span></a>&#20320;&#21487;&#20197;&#26597;&#30475;&#20840;&#37096;&#20027;&#26426;&#21644;&#20840;&#37096;&#26381;&#21153;&#30340;&#36235;&#21183;&#22270;</li><li>&#22914;&#26524;&#20320;&#24050;&#34987;<a class="link" href="#authorized_for_all_services" title="&#34920;&nbsp;5.134.&nbsp;&#20840;&#23616;&#26381;&#21153;&#30340;&#20449;&#24687;&#33719;&#21462;&#26435;"><span class="strong"><strong>&#25480;&#26435;&#23545;&#20840;&#37096;&#30340;&#26381;&#21153;</strong></span></a>&#20320;&#21487;&#20197;&#26597;&#30475;&#20840;&#37096;&#26381;&#21153;&#30340;&#36235;&#21183;&#22270;&#12290;</li><li>&#22914;&#26524;&#20320;&#26159;&#19968;&#20010;&#34987;<span class="strong"><strong>&#25480;&#26435;&#30340;&#32852;&#31995;&#20154;</strong></span>&#20320;&#21487;&#20197;&#26597;&#30475;&#20197;&#20320;&#20026;&#32852;&#31995;&#20154;&#30340;&#20840;&#37096;&#26381;&#21153;&#21644;&#20027;&#26426;&#30340;&#36235;&#21183;&#22270;&#12290;</li></ol></div><p>
</p><p>
<a name="cgis_avail_cgi"></a></p><pre class="programlisting"><p>Availability Reporting CGI</p></pre><p>
</p><div class="table"><a name="d0e14539"></a><p class="title"><b>&#34920;&nbsp;7.3.&nbsp;</b></p><div class="table-contents"><table border="1"><colgroup><col><col></colgroup><tbody><tr><td><div><img src="../pub/images/cgi-avail-a.png"></div></td><td><div><img src="../pub/images/cgi-avail-b.png"></div></td></tr></tbody></table></div></div><p><br class="table-break">
</p><p><span class="strong"><strong>&#27169;&#22359;&#25991;&#20214;&#21517;</strong></span><span class="emphasis"><em>avail.cgi</em></span></p><p>
</p><p><span class="strong"><strong>&#25551;&#36848;&#65306;</strong></span>&#36825;&#20010;CGI&#27169;&#22359;&#21487;&#29992;&#20110;&#26597;&#30475;&#29992;&#25143;&#23450;&#21046;&#30340;&#25351;&#23450;&#26102;&#38388;&#27573;&#20869;&#30340;&#21487;&#29992;&#24615;&#25253;&#21578;&#12290;&#20026;&#20351;&#36825;&#20010;CGI&#31243;&#24207;&#26356;&#22810;&#22320;&#34987;&#36816;&#29992;&#65292;&#20320;&#35201;&#35774;&#32622;<a class="link" href="#log_rotation_method" title="&#34920;&nbsp;5.19.&nbsp;&#26085;&#24535;&#22238;&#28378;&#26041;&#27861;">&#26085;&#24535;&#22238;&#28378;</a>&#20351;&#33021;&#24182;&#20445;&#30041;&#25171;&#21253;&#30340;&#26085;&#24535;&#25991;&#20214;&#65292;&#26085;&#24535;&#25991;&#20214;&#20445;&#23384;&#20110;<a class="link" href="#log_archive_path" title="&#34920;&nbsp;5.20.&nbsp;&#26085;&#24535;&#25171;&#21253;&#36335;&#24452;">log_archive_path</a>&#22495;&#37324;&#38754;&#12290;</p><p>
</p><p><span class="bold"><strong>&#25480;&#26435;&#35201;&#27714;&#65306;</strong></span></p><div class="orderedlist"><ol type="1"><li>&#22914;&#26524;&#20320;&#24050;&#34987;<a class="link" href="#authorized_for_all_hosts" title="&#34920;&nbsp;5.132.&nbsp;&#20840;&#23616;&#20027;&#26426;&#30340;&#20449;&#24687;&#33719;&#21462;&#26435;&#38480;"><span class="strong"><strong>&#25480;&#26435;&#23545;&#20840;&#37096;&#20027;&#26426;</strong></span></a>&#20320;&#21487;&#20197;&#26597;&#30475;&#20840;&#37096;&#20027;&#26426;&#21644;&#20840;&#37096;&#26381;&#21153;&#30340;&#21487;&#29992;&#24615;&#25968;&#25454;&#25253;&#21578;&#12290;</li><li>&#22914;&#26524;&#20320;&#24050;&#34987;<a class="link" href="#authorized_for_all_services" title="&#34920;&nbsp;5.134.&nbsp;&#20840;&#23616;&#26381;&#21153;&#30340;&#20449;&#24687;&#33719;&#21462;&#26435;"><span class="strong"><strong>&#25480;&#26435;&#23545;&#20840;&#37096;&#30340;&#26381;&#21153;</strong></span></a>&#20320;&#21487;&#20197;&#26597;&#30475;&#20840;&#37096;&#26381;&#21153;&#30340;&#21487;&#29992;&#24615;&#25968;&#25454;&#25253;&#21578;&#12290;</li><li>&#22914;&#26524;&#20320;&#26159;&#19968;&#20010;&#34987;<span class="strong"><strong>&#25480;&#26435;&#30340;&#32852;&#31995;&#20154;</strong></span>&#20320;&#21487;&#20197;&#26597;&#30475;&#20197;&#20320;&#20026;&#32852;&#31995;&#20154;&#30340;&#20840;&#37096;&#26381;&#21153;&#21644;&#20027;&#26426;&#30340;&#21487;&#29992;&#24615;&#25968;&#25454;&#25253;&#21578;&#12290;</li></ol></div><p>
</p><p>
<a name="cgis_histogram_cgi"></a></p><pre class="programlisting"><p>Alert Histogram CGI</p></pre><p>
</p><div><img src="../pub/images/cgi-histogram.png"></div><p>
</p><p><span class="strong"><strong>&#27169;&#22359;&#25991;&#20214;&#21517;</strong></span><span class="emphasis"><em>histogram.cgi</em></span></p><p>
</p><p><span class="strong"><strong>&#25551;&#36848;&#65306;</strong></span>&#36825;&#20010;CGI&#27169;&#22359;&#21487;&#29992;&#20110;&#26174;&#31034;&#22312;&#29992;&#25143;&#23450;&#21046;&#30340;&#26102;&#38388;&#27573;&#20869;&#30340;&#20027;&#26426;&#21644;&#26381;&#21153;&#30340;&#21487;&#29992;&#24615;&#26354;&#32447;&#12290;&#20026;&#20351;&#36825;&#20010;CGI&#26356;&#22810;&#22320;&#21033;&#29992;&#65292;&#20320;&#39035;&#35774;&#32622;<a class="link" href="#log_rotation_method" title="&#34920;&nbsp;5.19.&nbsp;&#26085;&#24535;&#22238;&#28378;&#26041;&#27861;">&#26085;&#24535;&#22238;&#28378;</a>&#36873;&#39033;&#24182;&#20445;&#30041;&#20320;&#30340;&#25171;&#21253;&#26085;&#24535;&#25991;&#20214;&#65292;&#26085;&#24535;&#25991;&#20214;&#20445;&#23384;&#20110;<a class="link" href="#log_archive_path" title="&#34920;&nbsp;5.20.&nbsp;&#26085;&#24535;&#25171;&#21253;&#36335;&#24452;">log_archive_path</a>&#22495;&#35774;&#32622;&#30340;&#36335;&#24452;&#37324;&#12290;&#36825;&#20010;CGI&#27169;&#22359;&#20351;&#29992;&#20102;Thomas Boutell&#30340;<a class="ulink" href="http://www.boutell.com/gd/" target="_top">gd</a>&#24211;(&#29256;&#26412;1.6.3&#25110;&#26356;&#39640;)&#20197;&#21019;&#24314;&#21382;&#21490;&#26354;&#32447;&#22270;&#12290;</p><p>
</p><p><span class="bold"><strong>&#25480;&#26435;&#35201;&#27714;&#65306;</strong></span></p><div class="orderedlist"><ol type="1"><li>&#22914;&#26524;&#20320;&#24050;&#34987;<a class="link" href="#authorized_for_all_hosts" title="&#34920;&nbsp;5.132.&nbsp;&#20840;&#23616;&#20027;&#26426;&#30340;&#20449;&#24687;&#33719;&#21462;&#26435;&#38480;"><span class="strong"><strong>&#25480;&#26435;&#23545;&#20840;&#37096;&#20027;&#26426;</strong></span></a>&#20320;&#21487;&#20197;&#26597;&#30475;&#20840;&#37096;&#30340;&#20027;&#26426;&#21644;&#20840;&#37096;&#26381;&#21153;&#30340;&#21382;&#21490;&#26354;&#32447;&#12290;</li><li>&#22914;&#26524;&#20320;&#24050;&#34987;<a class="link" href="#authorized_for_all_services" title="&#34920;&nbsp;5.134.&nbsp;&#20840;&#23616;&#26381;&#21153;&#30340;&#20449;&#24687;&#33719;&#21462;&#26435;"><span class="strong"><strong>&#25480;&#26435;&#23545;&#20840;&#37096;&#30340;&#26381;&#21153;</strong></span></a>&#20320;&#21487;&#20197;&#26597;&#30475;&#20840;&#37096;&#26381;&#21153;&#30340;&#21382;&#21490;&#26354;&#32447;&#12290;</li><li>&#22914;&#26524;&#20320;&#26159;&#19968;&#20010;&#34987;<span class="strong"><strong>&#25480;&#26435;&#30340;&#32852;&#31995;&#20154;</strong></span>&#20320;&#21487;&#20197;&#26597;&#30475;&#20197;&#20320;&#20026;&#32852;&#31995;&#20154;&#30340;&#20840;&#37096;&#26381;&#21153;&#21644;&#20027;&#26426;&#30340;&#21382;&#21490;&#26354;&#32447;&#25253;&#21578;&#12290;</li></ol></div><p>
</p><p>
<a name="cgis_summary_cgi"></a></p><pre class="programlisting"><p>Alert Summary CGI</p></pre><p>
</p><div><img src="../pub/images/cgi-summary.png"></div><p>
</p><p><span class="strong"><strong>&#27169;&#22359;&#25991;&#20214;&#21517;</strong></span><span class="emphasis"><em>summary.cgi</em></span></p><p>
</p><p><span class="strong"><strong>&#25551;&#36848;&#65306;</strong></span>&#36825;&#20010;CGI&#27169;&#22359;&#25552;&#20379;&#20102;&#26377;&#20851;&#20027;&#26426;&#21644;&#26381;&#21153;&#21578;&#35686;&#30340;&#27010;&#35201;&#24615;&#30340;&#25253;&#21578;&#65292;&#21253;&#25324;&#24635;&#30340;&#21644;&#26368;&#22823;&#30340;&#21578;&#35686;&#28304;&#31561;&#12290;</p><p>
</p><p><span class="bold"><strong>&#25480;&#26435;&#35201;&#27714;&#65306;</strong></span></p><div class="orderedlist"><ol type="1"><li>&#22914;&#26524;&#20320;&#24050;&#34987;<a class="link" href="#authorized_for_all_hosts" title="&#34920;&nbsp;5.132.&nbsp;&#20840;&#23616;&#20027;&#26426;&#30340;&#20449;&#24687;&#33719;&#21462;&#26435;&#38480;"><span class="strong"><strong>&#25480;&#26435;&#23545;&#20840;&#37096;&#20027;&#26426;</strong></span></a>&#20320;&#21487;&#20197;&#26597;&#30475;&#20840;&#37096;&#20027;&#26426;&#21644;&#20840;&#37096;&#26381;&#21153;&#30340;&#27719;&#24635;&#20449;&#24687;&#12290;</li><li>&#22914;&#26524;&#20320;&#24050;&#34987;<a class="link" href="#authorized_for_all_services" title="&#34920;&nbsp;5.134.&nbsp;&#20840;&#23616;&#26381;&#21153;&#30340;&#20449;&#24687;&#33719;&#21462;&#26435;"><span class="strong"><strong>&#25480;&#26435;&#23545;&#20840;&#37096;&#30340;&#26381;&#21153;</strong></span></a>&#20320;&#21487;&#20197;&#26597;&#30475;&#20840;&#37096;&#26381;&#21153;&#30340;&#27719;&#24635;&#20449;&#24687;&#12290;</li><li>&#22914;&#26524;&#20320;&#26159;&#19968;&#20010;&#34987;<span class="strong"><strong>&#25480;&#26435;&#30340;&#32852;&#31995;&#20154;</strong></span>&#20320;&#21487;&#20197;&#26597;&#30475;&#20197;&#20320;&#20026;&#32852;&#31995;&#20154;&#30340;&#20840;&#37096;&#26381;&#21153;&#21644;&#20027;&#26426;&#30340;&#27719;&#24635;&#20449;&#24687;&#12290;</li></ol></div><p>
</p><p>
</p></div></div></div><div class="chapter" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title"><a name="advance"></a>&#31532;&nbsp;8&nbsp;&#31456;&nbsp;Nagios&#28145;&#20837;&#36827;&#38454;</h2></div></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="plugins"></a>8.1.&nbsp;Nagios&#30340;&#25554;&#20214;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e14683"></a>8.1.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>&#19982;&#20854;&#20182;&#30340;&#30417;&#25511;&#24037;&#20855;&#19981;&#21516;&#65292;Nagios&#30340;&#20869;&#22312;&#26426;&#21046;&#20013;&#19981;&#21253;&#21547;&#38024;&#23545;&#20027;&#26426;&#21644;&#26381;&#21153;&#29366;&#24577;&#30340;&#26816;&#27979;&#65292;&#32780;&#26159;&#20381;&#36182;&#20110;&#22806;&#37096;&#31243;&#24207;&#65288;&#31216;&#20026;&#25554;&#20214;&#65289;&#26469;&#20570;&#36825;&#20123;&#33039;&#27963;&#65288;&#65293;&#65293;&#30495;&#27491;&#35813;&#20570;&#30340;&#26816;&#26597;&#24037;&#20316;&#26159;&#33039;&#27963;&#65292;&#30495;&#22815;&#24189;&#40664;&#30340;&#65289;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e14688"></a>8.1.2.&nbsp;&#20160;&#20040;&#26159;&#25554;&#20214;&#65311;</h3></div></div></div><p>&#25554;&#20214;&#26159;&#32534;&#35793;&#30340;&#25191;&#34892;&#25991;&#20214;&#25110;&#33050;&#26412;(Perl&#33050;&#26412;&#12289;SHELL&#33050;&#26412;&#31561;&#31561;)&#65292;&#21487;&#20197;&#22312;&#21629;&#20196;&#34892;&#19979;&#25191;&#34892;&#23545;&#20027;&#26426;&#25110;&#26381;&#21153;&#30340;&#29366;&#24577;&#26816;&#26597;&#12290;Nagios&#36816;&#34892;&#36825;&#20123;&#25554;&#20214;&#30340;&#26816;&#27979;&#32467;&#26524;&#26469;&#20915;&#23450;&#32593;&#32476;&#20013;&#30340;&#20027;&#26426;&#21644;&#26381;&#21153;&#30340;&#24403;&#21069;&#29366;&#24577;&#12290;</p><p>&#24403;&#38656;&#35201;&#26816;&#27979;&#20027;&#26426;&#25110;&#26381;&#21153;&#30340;&#29366;&#24577;&#26102;Nagios&#24635;&#26159;&#25191;&#34892;&#19968;&#20010;&#25554;&#20214;&#31243;&#24207;&#65292;&#25554;&#20214;&#24635;&#35201;&#20570;&#28857;<span class="strong"><strong>&#20107;&#24773;</strong></span>(&#27880;&#24847;&#19968;&#33324;&#26465;&#20214;&#19979;)&#26469;&#23436;&#25104;&#26816;&#26597;&#24182;&#32473;&#20986;&#31616;&#27905;&#30340;&#32467;&#26524;&#32473;Nagios&#12290;Nagios&#23558;&#22788;&#29702;&#36825;&#20123;&#26469;&#33258;&#25554;&#20214;&#30340;&#32467;&#26524;&#24182;&#20570;&#20123;&#35813;&#20570;&#30340;&#21160;&#20316;(&#36816;&#34892;<a class="link" href="#eventhandlers" title="6.8.&nbsp;&#20107;&#20214;&#22788;&#29702;">&#20107;&#20214;&#22788;&#29702;&#21477;&#26564;</a>&#12289;&#21457;&#36865;&#20986;<a class="link" href="#notifications" title="6.7.&nbsp;&#36890;&#30693;">&#21578;&#35686;</a>&#31561;)&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e14704"></a>8.1.3.&nbsp;&#25554;&#20214;&#26159;&#19968;&#20010;&#25277;&#35937;&#23618;</h3></div></div></div><p>&#25554;&#20214;&#25198;&#28436;&#20102;&#20301;&#20110;Nagios&#23432;&#25252;&#31243;&#24207;&#37324;&#30340;&#30417;&#25511;&#36923;&#36753;&#21644;&#23454;&#38469;&#34987;&#30417;&#25511;&#30340;&#20027;&#26426;&#19982;&#26381;&#21153;&#20043;&#38388;&#30340;&#25277;&#35937;&#23618;&#27425;&#12290;</p><div><img src="../pub/images/plugins.png"></div><p>&#22312;&#25554;&#20214;&#26500;&#26550;&#20043;&#19978;&#20320;&#21487;&#20197;&#30417;&#25511;&#25152;&#26377;&#20320;&#24819;&#35201;&#30417;&#25511;&#30340;&#19996;&#35199;&#12290;&#22914;&#26524;&#20320;&#33021;&#33258;&#21160;&#22320;&#22788;&#29702;&#26816;&#27979;&#36807;&#31243;&#20320;&#23601;&#21487;&#20197;&#29992;Nagios&#26469;&#30417;&#25511;&#23427;&#12290;&#24050;&#32463;&#20889;&#22909;&#24456;&#22810;&#25554;&#20214;&#20197;&#29992;&#20110;&#30417;&#25511;&#22522;&#30784;&#24615;&#36164;&#28304;&#35937;&#22788;&#29702;&#22120;&#36127;&#33655;&#12289;&#30913;&#30424;&#21033;&#29992;&#29575;&#12289;PING&#21253;&#29575;&#31561;&#65292;&#22914;&#26524;&#20320;&#24819;&#30417;&#25511;&#28857;&#21035;&#30340;&#65292;&#20320;&#38656;&#35201;&#26597;&#38405;<a class="link" href="#pluginapi" title="12.3.&nbsp;Nagios&#25554;&#20214;API">&#20070;&#20889;&#25554;&#20214;</a>&#36825;&#31687;&#25991;&#26723;&#24182;&#33258;&#24049;&#20184;&#20986;&#21162;&#21147;&#65292;&#36825;&#24456;&#31616;&#21333;&#22320;&#65281;</p><p>&#22312;&#25554;&#20214;&#26500;&#26550;&#20043;&#19979;&#65292;&#20107;&#23454;&#19978;Nagios&#20063;&#19981;&#30693;&#36947;&#20320;&#24819;&#35201;&#25630;&#20123;&#20160;&#20040;&#21517;&#22530;&#12290;&#20320;&#21487;&#20197;&#30417;&#25511;&#32593;&#32476;&#27969;&#37327;&#24577;&#21183;&#12289;&#25968;&#25454;&#38169;&#21253;&#29575;&#12289;&#25151;&#38388;&#28201;&#24230;&#12289;CPU&#30005;&#21387;&#20540;&#12289;&#39118;&#25159;&#36716;&#36895;&#12289;&#22788;&#29702;&#22120;&#36127;&#36733;&#12289;&#30913;&#30424;&#31354;&#38388;&#25110;&#26159;&#26377;&#21487;&#33021;&#22312;&#26089;&#19978;&#36215;&#26469;&#20320;&#30340;&#36229;&#32423;&#26080;&#25932;&#30340;&#38754;&#21253;&#26426;&#28900;&#20986;&#27491;&#23447;&#30340;&#33394;&#27901;...Nagios&#19981;&#20250;&#29702;&#35299;&#20160;&#20040;&#34987;&#30417;&#25511;&#20102;&#65293;&#23427;&#21482;&#26159;&#24544;&#23454;&#22320;&#35760;&#24405;&#19979;&#20102;&#36825;&#20123;&#34987;&#31649;&#29702;&#36164;&#28304;&#30340;<span class="strong"><strong>&#29366;&#24577;</strong></span>&#21464;&#21270;&#36712;&#36857;&#12290;&#21482;&#26377;&#25554;&#20214;&#33258;&#24050;&#30693;&#36947;&#30417;&#25511;&#20102;&#20160;&#20040;&#19996;&#35199;&#24182;&#22914;&#20309;&#23436;&#25104;&#26816;&#27979;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e14720"></a>8.1.4.&nbsp;&#20160;&#20040;&#26679;&#30340;&#25554;&#20214;&#21487;&#29992;&#65311;</h3></div></div></div><p>&#26377;&#35768;&#22810;&#25554;&#20214;&#21487;&#29992;&#20110;&#30417;&#25511;&#19981;&#21516;&#30340;&#35774;&#22791;&#21644;&#26381;&#21153;&#65292;&#21253;&#25324;&#65306;</p><div class="orderedlist"><ol type="1"><li>HTTP&#12289;POP3&#12289;IMAP&#12289;FTP&#12289;SSH&#12289;DHCP</li><li>CPU&#36127;&#33655;&#12289;&#30913;&#30424;&#21033;&#29992;&#29575;&#12289;&#20869;&#23384;&#21344;&#29992;&#12289;&#24403;&#21069;&#29992;&#25143;&#25968;</li><li>Unix/Linux&#12289;Windows&#21644;Netware&#26381;&#21153;&#22120;</li><li>&#36335;&#30001;&#22120;&#21644;&#20132;&#25442;&#26426;</li><li>&#31561;&#31561;</li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e14736"></a>8.1.5.&nbsp;&#33719;&#24471;&#25554;&#20214;</h3></div></div></div><p>&#25554;&#20214;&#19981;&#19982;Nagios&#21253;&#19968;&#36215;&#21457;&#24067;&#65292;&#20294;&#20320;&#21487;&#20197;&#19979;&#36733;&#21040;Nagios&#23448;&#26041;&#25554;&#20214;&#21644;&#30001;Nagios&#29992;&#25143;&#20070;&#20889;&#24182;&#32500;&#25252;&#30340;&#39069;&#22806;&#25554; &#20214;&#65292;&#22312;&#36825;&#20123;&#32593;&#22336;&#37324;&#65306;</p><div class="orderedlist"><ol type="1"><li>Nagios Plugins&#24037;&#31243;<a class="ulink" href="http://nagiosplug.sourceforge.net/" target="_top">http://nagiosplug.sourceforge.net/</a></li><li>Nagios&#19979;&#36733;&#39029;&#38754;<a class="ulink" href="http://www.nagios.org/download/" target="_top">http://www.nagios.org/download/</a></li><li>NagiosExchange.org<a class="ulink" href="http://www.nagiosexchange.org/" target="_top">http://www.nagiosexchange.org/</a></li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e14754"></a>8.1.6.&nbsp;&#22914;&#20309;&#26469;&#20351;&#29992;&#25554;&#20214;<span class="strong"><strong>X</strong></span>&#65311;</h3></div></div></div><p>&#24403;&#20320;&#22312;&#21629;&#20196;&#34892;&#19979;&#29992;&#21629;&#20196;&#21442;&#25968;-h&#25110;-help&#36816;&#34892;&#26102;&#35768;&#22810;&#25554;&#20214;&#20250;&#26174;&#31034;&#22522;&#26412;&#29992;&#27861;&#20449;&#24687;&#12290;&#20363;&#22914;&#22914;&#26524;&#20320;&#24819;&#30693;&#36947;&#22914;&#20309;&#20351;&#29992;check_http&#25554;&#20214;&#25110;&#26159;&#23427;&#30340;&#21487;&#25509;&#25910;&#21738;&#20123;&#36873;&#39033;&#21442;&#25968;&#26102;&#65292;&#20320;&#21482;&#35201;&#23581;&#35797;&#36816;&#34892;&#65306;</p><pre class="programlisting">./check_http --help</pre><p>&#23601;&#21487;&#20197;&#30475;&#21040;&#25552;&#31034;&#20869;&#23481;&#20102;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e14766"></a>8.1.7.&nbsp;&#25554;&#20214;API</h3></div></div></div><p>&#20320;&#21487;&#20197;&#22312;<a class="link" href="#pluginapi" title="12.3.&nbsp;Nagios&#25554;&#20214;API">&#36825;&#37324;</a>&#25214;&#21040;&#26377;&#20851;&#25554;&#20214;&#25216;&#26415;&#35770;&#36848;&#30340;&#20449;&#24687;&#24182;&#19988;&#26377;&#22914;&#20309;&#20070;&#20889;&#20320;&#33258;&#24049;&#23450;&#21046;&#25554;&#20214;&#30340;&#20869;&#23481;&#12290;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="macros"></a>8.2.&nbsp;&#29702;&#35299;Nagios&#23439;&#21450;&#20854;&#24037;&#20316;&#26426;&#21046;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e14777"></a>8.2.1.&nbsp;&#23439;</h3></div></div></div><p>Nagios&#26159;&#22914;&#27492;&#22320;&#26580;&#24615;&#21270;&#30340;&#19968;&#20010;&#37325;&#35201;&#29305;&#24449;&#26159;&#20855;&#22791;&#22312;&#21629;&#20196;&#22495;&#30340;&#23450;&#20041;&#37324;&#20351;&#29992;&#23439;&#12290;&#23439;&#20801;&#35768;&#20320;&#30340;&#21629;&#20196;&#37324;&#33719;&#21462;&#20027;&#26426;&#12289;&#26381;&#21153;&#21644;&#20854;&#20182;&#23545;&#35937;&#28304;&#30340;&#20449;&#24687;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e14782"></a>8.2.2.&nbsp;&#23439;&#26367;&#25442; &#65293; &#23439;&#30340;&#24037;&#20316;&#26426;&#21046;</h3></div></div></div><p>&#22312;Nagios&#25191;&#34892;&#21629;&#20196;&#20043;&#21069;&#65292;&#23427;&#23558;&#23545;&#21629;&#20196;&#37324;&#30340;&#27599;&#20010;&#23439;&#26367;&#25442;&#25104;&#23427;&#20204;&#24212;&#24403;&#21462;&#24471;&#30340;&#20540;&#12290;&#36825;&#31181;&#23439;&#26367;&#25442;&#21457;&#29983;&#22312;Nagios&#22312;&#25191;&#34892;&#21508;&#31181;&#31867;&#22411;&#30340;&#23439;&#26102;&#20505; &#65293; &#35937;&#20027;&#26426;&#21644;&#26381;&#21153;&#30340;&#26816;&#27979;&#12289;&#36890;&#30693;&#12289;&#20107;&#20214;&#22788;&#29702;&#31561;&#12290;</p><p>&#26377;&#20123;&#29305;&#23450;&#30340;&#23439;&#21253;&#21547;&#20102;&#20854;&#20182;&#23439;&#65292;&#36825;&#20123;&#23439;&#21253;&#25324;$HOSTNOTES$&#12289;$HOSTNOTESURL$&#12289;$HOSTACTIONURL$&#12289;$SERVICENOTES$&#12289;$SERVICENOTESURL$&#21644;$SERVICEACTIONURL$&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e14789"></a>8.2.3.&nbsp;&#20363;1&#65306;&#20027;&#26426;IP&#22320;&#22336;&#23439;</h3></div></div></div><p>&#24403;&#22312;&#21629;&#20196;&#23450;&#20041;&#20013;&#20351;&#29992;&#20027;&#26426;&#25110;&#26381;&#21153;&#23439;&#26102;&#65292;&#23439;&#23558;&#35201;&#25191;&#34892;&#25152;&#29992;&#30340;&#20540;&#26159;&#25351;&#21521;&#20027;&#26426;&#25110;&#26381;&#21153;&#25152;&#24102;&#26377;&#20540;&#12290;&#23581;&#35797;&#36825;&#20010;&#20363;&#23376;&#65292;&#20551;&#23450;&#22312;<span class="strong"><strong>check_ping</strong></span>&#21629;&#20196;&#23450;&#20041;&#37324;&#20351;&#29992;&#20102;&#19968;&#20010;&#20027;&#26426;&#23545;&#35937;&#65292;&#35937;&#36825;&#26679;&#65306;</p><pre class="programlisting"><p>define host{
		host_name		linuxbox
		address		192.168.1.2
		check_command	check_ping
		...
		}
		define command{
		command_name    check_ping
		command_line    /usr/local/nagios/libexec/check_ping -H $HOSTADDRESS$ -w 100.0,90% -c 200.0,60%
		}</p></pre><p>&#37027;&#20040;&#25191;&#34892;&#36825;&#20010;&#20027;&#26426;&#26816;&#27979;&#21629;&#20196;&#26102;&#23637;&#24320;&#24182;&#26368;&#32456;&#25191;&#34892;&#30340;&#23558;&#26159;&#36825;&#26679;&#30340;&#65306;</p><pre class="programlisting"><p>	/usr/local/nagios/libexec/check_ping -H 192.168.1.2 -w 100.0,90% -c 200.0,60%</p></pre><p>&#24456;&#31616;&#21333;&#65292;&#23545;&#21543;&#65311;&#20248;&#32654;&#20043;&#22788;&#22312;&#20110;&#20320;&#21487;&#20197;&#22312;&#21482;&#29992;&#19968;&#20010;&#21629;&#20196;&#23450;&#20041;&#26469;&#23436;&#25104;&#26080;&#38480;&#21046;&#30340;&#22810;&#20010;&#20027;&#26426;&#30340;&#26816;&#27979;&#12290;&#27599;&#20010;&#20027;&#26426;&#21487;&#20197;&#20351;&#29992;&#30456;&#21516;&#30340;&#21629;&#20196;&#26469;&#36827;&#34892;&#26816;&#27979;&#65292;&#32780;&#22312;&#23545;&#20182;&#20204;&#26816;&#27979;&#20043;&#21069;&#23558;&#25226;&#20027;&#26426;&#22320;&#22336;&#27491;&#30830;&#22320;&#26367;&#25442;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e14807"></a>8.2.4.&nbsp;&#20363;2&#65306;&#21629;&#20196;&#21442;&#25968;&#23439;</h3></div></div></div><p>&#21516;&#26679;&#20320;&#21487;&#20197;&#21521;&#21629;&#20196;&#20256;&#36882;&#21442;&#25968;&#65292;&#36825;&#26679;&#21487;&#20197;&#20445;&#35777;&#20320;&#30340;&#21629;&#20196;&#23450;&#20041;&#26356;&#20855;&#36890;&#29992;&#24615;&#12290;&#21442;&#25968;&#25351;&#23450;&#22312;&#23545;&#35937;&#65288;&#35937;&#20027;&#26426;&#25110;&#26381;&#21153;&#65289;&#20013;&#23450;&#20041;&#65292;&#29992;&#19968;&#20010;&#8220;<span class="emphasis"><em>!</em></span>&#8221;&#26469;&#20998;&#38548;&#20182;&#20204;&#65292;&#35937;&#36825;&#26679;&#65306;</p><pre class="programlisting"><p>define service{
		host_name		linuxbox
		service_description	PING
		check_command	check_ping!200.0,80%!400.0,40%
		...
		}</p></pre><p>&#22312;&#19978;&#20363;&#20013;&#65292;&#26381;&#21153;&#30340;&#26816;&#27979;&#21629;&#20196;&#20013;&#21547;&#26377;&#20004;&#20010;&#21442;&#25968;(&#35831;&#21442;&#32771;<a class="link" href="#macrolist_ARG">$ARGn$</a>&#23439;)&#65292;&#32780;$ARG1$&#23439;&#23558;&#26159;"200.0,80%"&#65292;&#21516;&#26102;$ARG2$&#23558;&#26159;"400.0,40%"(&#37117;&#19981;&#24102;&#24341;&#21495;)&#12290;&#20551;&#23450;&#20351;&#29992;&#20043;&#21069;&#30340;&#20027;&#26426;&#23450;&#20041;&#24182;&#36825;&#26679;&#26469;&#23450;&#20041;&#20320;&#30340;<span class="strong"><strong>check_ping</strong></span>&#21629;&#20196;&#65306;</p><pre class="programlisting"><p>define command{
		command_name    check_ping
		command_line    /usr/local/nagios/libexec/check_ping -H $HOSTADDRESS$ -w $ARG1$ -c $ARG2$
		}</p></pre><p>&#37027;&#20040;&#23545;&#20110;&#26381;&#21153;&#30340;&#26816;&#27979;&#21629;&#20196;&#26368;&#32456;&#23558;&#26159;&#36825;&#26679;&#23376;&#30340;&#65306;</p><pre class="programlisting"><p>		/usr/local/nagios/libexec/check_ping -H 192.168.1.2 -w 200.0,80% -c 400.0,40%</p></pre><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#25552;&#31034;</h3><div><img src="../pub/images/tip.gif"></div><p>&#22914;&#26524;&#20320;&#38656;&#35201;&#22312;&#20320;&#30340;&#21629;&#20196;&#34892;&#37324;&#20351;&#29992;&#36825;&#20010;(!)&#23383;&#31526;&#65292;&#20320;&#24471;&#21152;&#19978;&#36716;&#20041;&#31526;&#21453;&#26012;&#32447;(\)&#65292;&#23601;&#26159;&#20320;&#35201;&#20889;&#25104;(\!)&#12290;&#22914;&#26524;&#24819;&#29992;&#21453;&#26012;&#32447;&#65292;&#21516;&#26679;&#24471;&#21152;&#36716;&#20041;&#31526;&#65292;&#20889;&#25104;(\\)&#12290;</p></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="macros_ondemand"></a>8.2.5.&nbsp;&#25353;&#38656;&#32780;&#25104;&#30340;&#23439;(on-demand macro)</h3></div></div></div><p>&#36890;&#24120;&#22312;&#22312;&#21629;&#20196;&#23545;&#35937;&#23450;&#20041;&#37324;&#20351;&#29992;&#20027;&#26426;&#21644;&#26381;&#21153;&#30340;&#23439;&#65292;&#29992;&#20197;&#22312;&#21629;&#20196;&#25191;&#34892;&#26102;&#25351;&#21521;&#26576;&#20010;&#26381;&#21153;&#25110;&#26159;&#20027;&#26426;&#12290;&#20294;&#20063;&#23601;&#26159;&#35828;&#65292;&#19968;&#20010;&#22312;&#23545;&#21629;&#21517;&#20026;linuxbox&#30340;&#20027;&#26426;&#19978;&#25191;&#34892;&#21629;&#20196;&#26102;&#65292;&#20840;&#37096;&#30340;<a class="link" href="#macrolist" title="8.3.&nbsp;Nagiosr&#20869;&#23884;&#30340;&#26631;&#20934;&#23439;">&#26631;&#20934;&#30340;&#20027;&#26426;&#23439;</a>&#37117;&#24212;&#20351;&#29992;&#36825;&#20010;&#20027;&#26426;&#20540;&#37117;&#26159;&#27491;&#36816;&#34892;&#30340;&#20027;&#26426;&#21517;linuxbox&#12290;</p><p>&#22914;&#26524;&#19981;&#24819;&#36825;&#26679;&#65292;&#20063;&#26159;&#26159;&#35753;&#21629;&#20196;&#37324;&#24341;&#29992;&#30340;&#20027;&#26426;&#25110;&#26381;&#21153;&#23439;&#25351;&#21521;&#21478;&#22806;&#19968;&#20123;&#20027;&#26426;&#25110;&#26381;&#21153;&#65292;&#20320;&#21487;&#20197;&#29992;&#8220;&#25353;&#38656;&#29983;&#25104;&#30340;&#23439;&#8221;&#30340;&#26426;&#21046;&#12290;&#38500;&#20102;&#37027;&#20010;&#38656;&#35201;&#25351;&#23450;&#20174;&#21738;&#20010;&#32473;&#20027;&#26426;&#25110;&#26381;&#21153;&#26102;&#21462;&#20540;&#32780;&#21253;&#21547;&#22312;&#20869;&#30340;&#26631;&#35782;&#20043;&#22806;&#65292;&#25353;&#38656;&#32780;&#25104;&#30340;&#23439;&#30475;&#36215;&#26469;&#23601;&#35937;&#26159;&#19968;&#33324;&#30340;&#23439;&#12290;&#36825;&#37324;&#26159;&#22522;&#26412;&#30340;&#8220;&#25353;&#38656;&#32780;&#25104;&#30340;&#23439;&#8221;&#30340;&#22522;&#26412;&#26684;&#24335;&#65306;</p><div class="orderedlist"><ol type="1"><li>$<span class="strong"><strong>HOSTMACRONAME</strong></span>:<span class="strong"><strong>host_name</strong></span>$</li><li>$<span class="strong"><strong>SERVICEMACRONAME</strong></span>:<span class="strong"><strong>host_name</strong></span>:<span class="strong"><strong>service_description</strong></span>$</li></ol></div><p>&#29992;&#26631;&#20934;&#30340;&#20027;&#26426;&#21644;&#26381;&#21153;&#30340;&#23439;&#21517;&#23383;&#26367;&#25442;<span class="strong"><strong>HOSTMACRONAME</strong></span>&#21644;<span class="strong"><strong>SERVICEMACRONAME</strong></span>&#65292;&#36825;&#20123;&#26631;&#20934;&#30340;&#23439;&#21487;&#20197;&#22312;<a class="link" href="#macrolist" title="8.3.&nbsp;Nagiosr&#20869;&#23884;&#30340;&#26631;&#20934;&#23439;">&#36825;&#37324;</a>&#26597;&#21040;&#12290;</p><p>&#35201;&#27880;&#24847;&#23439;&#30340;&#21517;&#23383;&#19982;&#20027;&#26426;&#21644;&#26381;&#21153;&#30340;&#26631;&#35782;&#20043;&#38388;&#38548;&#26377;&#19968;&#20010;(:)&#31526;&#21495;&#12290;&#20026;&#20102;&#24418;&#25104;&#34920;&#36798;&#25353;&#38656;&#32780;&#25104;&#30340;&#26381;&#21153;&#23439;&#30340;&#26631;&#35782;&#65292;&#22312;&#26631;&#35782;&#37324;&#26082;&#26377;&#20027;&#26426;&#21517;&#21448;&#26377;&#26381;&#21153;&#25551;&#36848;&#65293;&#20182;&#20204;&#20457;&#29992;&#19968;&#20010;(:)&#31526;&#21495;&#20998;&#24320;&#12290;</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#25552;&#31034;</h3><div><img src="../pub/images/tip.gif"></div><p>&#25353;&#38656;&#32780;&#25104;&#30340;&#26381;&#21153;&#23439;&#21487;&#20197;&#21253;&#21547;&#20027;&#26426;&#21517;&#22495;&#20026;&#31354;&#65292;&#27492;&#26102;&#25152;&#32465;&#23450;&#30340;&#20027;&#26426;&#30001;&#26381;&#21153;&#32467;&#21512;&#24773;&#20917;&#33258;&#34892;&#26469;&#25351;&#23450;&#12290;</p></div><p>&#19979;&#38754;&#26159;&#25353;&#38656;&#32780;&#25104;&#30340;&#20027;&#26426;&#21644;&#26381;&#21153;&#23439;&#30340;&#20363;&#23376;&#65306;</p><pre class="programlisting"><p>		$HOSTDOWNTIME:myhost$                        &lt;--- On-demand host macro
		$SERVICESTATEID:novellserver:DS Database$    &lt;--- On-demand service macro
		$SERVICESTATEID::CPU Load$                   &lt;--- On-demand service macro with blank host name field</p></pre><p>&#25353;&#38656;&#32780;&#25104;&#30340;&#23439;&#21516;&#26679;&#21487;&#20197;&#36816;&#29992;&#20110;&#20027;&#26426;&#32452;&#12289;&#26381;&#21153;&#32452;&#12289;&#32852;&#31995;&#20154;&#21644;&#32852;&#31995;&#20154;&#32452;&#23439;&#37324;&#65292;&#20363;&#22914;&#65306;</p><pre class="programlisting"><p>		$CONTACTEMAIL:john$                          &lt;--- On-demand contact macro
		$CONTACTGROUPMEMBERS:linux-admins$           &lt;--- On-demand contactgroup macro
		$HOSTGROUPALIAS:linux-servers$               &lt;--- On-demand hostgroup macro
		$SERVICEGROUPALIAS:DNS-Cluster$              &lt;--- On-demand servicegroup macro</p></pre></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e14895"></a>8.2.6.&nbsp;&#29992;&#25143;&#33258;&#23450;&#21046;&#23439;</h3></div></div></div><p>&#22312;&#20027;&#26426;&#12289;&#26381;&#21153;&#25110;&#32852;&#31995;&#20154;&#31561;&#23545;&#35937;&#37324;&#30340;&#20219;&#20309;&#19968;&#20010;<a class="link" href="#customobjectvars" title="6.3.&nbsp;&#29992;&#25143;&#33258;&#23450;&#21046;&#23545;&#35937;&#21464;&#37327;">&#29992;&#25143;&#33258;&#23450;&#21046;&#21464;&#37327;</a>&#37117;&#21487;&#20197;&#32852;&#25509;&#23439;&#12290;&#29992;&#25143;&#33258;&#23450;&#21046;&#30340;&#21464;&#37327;&#23439;&#21629;&#21517;&#22914;&#19979;&#65306;</p><div class="orderedlist"><ol type="1"><li>$_HOST<span class="strong"><strong>varname</strong></span>$</li><li>$_SERVICE<span class="strong"><strong>varname</strong></span>$</li><li>$_CONTACT<span class="strong"><strong>varname</strong></span>$</li></ol></div><p>&#22914;&#19979;&#30340;&#20027;&#26426;&#23545;&#35937;&#23450;&#20041;&#20013;&#23450;&#20041;&#20102;&#19968;&#20010;&#29992;&#25143;&#33258;&#23450;&#21046;&#21464;&#37327;&#26159;"_MACADDRESS"&#65292;&#35265;&#32454;&#33410;&#65306;</p><pre class="programlisting"><p>define host{
		host_name		linuxbox
		address		192.168.1.1
		_MACADDRESS	00:01:02:03:04:05
		...
		}</p></pre><p>&#37027;&#20040;&#20027;&#26426;&#23545;&#35937;&#30340;_MACADDRESS&#29992;&#25143;&#33258;&#23450;&#21046;&#21464;&#37327;&#30340;&#20540;&#23601;&#21487;&#20197;&#22312;&#23439;$_HOSTMACADDRESS$&#37324;&#38754;&#20351;&#29992;&#12290;&#20320;&#21487;&#20197;&#22312;<a class="link" href="#customobjectvars" title="6.3.&nbsp;&#29992;&#25143;&#33258;&#23450;&#21046;&#23545;&#35937;&#21464;&#37327;">&#36825;&#37324;</a>&#25214;&#21040;&#26356;&#22810;&#30340;&#20851;&#20110;&#29992;&#25143;&#33258;&#23450;&#21046;&#21464;&#37327;&#20197;&#21450;&#22914;&#20309;&#22312;&#23439;&#37324;&#20351;&#29992;&#23427;&#30340;&#20449;&#24687;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e14929"></a>8.2.7.&nbsp;&#23439;&#30340;&#28165;&#29702;</h3></div></div></div><p>&#22312;&#21629;&#20196;&#25191;&#34892;&#20043;&#21069;&#65292;&#26377;&#20123;&#23439;&#35201;&#21435;&#25481;&#37027;&#20123;&#21487;&#33021;&#20250;&#24341;&#36215;SHELL&#28508;&#22312;&#39118;&#38505;&#30340;&#20803;&#23383;&#31526;&#12290;&#36825;&#20123;&#20803;&#23383;&#31526;&#30001;<a class="link" href="#illegal_macro_output_chars" title="&#34920;&nbsp;5.113.&nbsp;&#38750;&#27861;&#23439;&#36755;&#20986;&#23383;&#31526;">illegal_macro_output_chars</a>&#36873;&#39033;&#26469;&#23450;&#20041;&#12290;&#19979;&#38754;&#36825;&#20123;&#23439;&#26159;&#35201;&#20570;&#36825;&#31181;&#22788;&#29702;&#30340;&#65306;</p><div class="orderedlist"><ol type="1"><li><a class="link" href="#macrolist_HOSTOUTPUT">$HOSTOUTPUT$</a></li><li><a class="link" href="#macrolist_LONGHOSTOUTPUT">$LONGHOSTOUTPUT$</a></li><li><a class="link" href="#macrolist_HOSTPERFDATA">$HOSTPERFDATA$</a></li><li><a class="link" href="#macrolist_HOSTACKAUTHOR">$HOSTACKAUTHOR$</a></li><li><a class="link" href="#macrolist_HOSTACKCOMMENT">$HOSTACKCOMMENT$</a></li><li><a class="link" href="#macrolist_SERVICEOUTPUT">$SERVICEOUTPUT$</a></li><li><a class="link" href="#macrolist_LONGSERVICEOUTPUT">$LONGSERVICEOUTPUT$</a></li><li><a class="link" href="#macrolist_SERVICEPERFDATA">$SERVICEPERFDATA$</a></li><li><a class="link" href="#macrolist_SERVICEACKAUTHOR">$SERVICEACKAUTHOR$</a></li><li><a class="link" href="#macrolist_SERVICEACKCOMMENT">$SERVICEACKCOMMENT$</a></li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e14968"></a>8.2.8.&nbsp;&#20316;&#20026;&#29615;&#22659;&#21464;&#37327;&#30340;&#23439;</h3></div></div></div><p>&#30001;Nagios&#23558;&#23439;&#21464;&#25104;&#19968;&#20010;&#25805;&#20316;&#31995;&#32479;&#30340;&#29615;&#22659;&#21464;&#37327;&#23558;&#26377;&#21033;&#20110;&#22312;&#33050;&#26412;&#25110;&#21629;&#20196;&#25191;&#34892;&#26102;&#24341;&#29992;&#12290;&#20026;&#20445;&#35777;&#23433;&#20840;&#21644;&#28165;&#26224;&#30340;&#24605;&#36335;&#65292;<a class="link" href="#macrolist_USER">$USERn$</a>&#21644;"&#25353;&#38656;&#32780;&#25104;on-demand"&#30340;&#20027;&#26426;&#21644;&#26381;&#21153;&#23439;&#26159;<span class="underline">&#19981;&#21487;&#20197;</span>&#34987;&#20316;&#20026;&#29615;&#22659;&#21464;&#37327;&#30340;&#12290;</p><p>&#29615;&#22659;&#21464;&#37327;&#30340;&#21629;&#21517;&#19982;&#20854;&#21253;&#21547;&#30340;&#21629;&#21517;&#26631;&#20934;&#23439;(&#21015;&#34920;&#22312;<a class="link" href="#macrolist" title="8.3.&nbsp;Nagiosr&#20869;&#23884;&#30340;&#26631;&#20934;&#23439;">&#36825;&#37324;</a>)&#30340;&#21517;&#23383;&#26159;&#30456;&#20851;&#30340;&#65292;&#23427;&#20204;&#30340;&#21517;&#23383;&#21069;&#38754;&#21152;&#21069;&#32512;"NAGIOS_"&#12290;&#27604;&#22914;&#35828;<a class="link" href="#macrolist_HOSTNAME">$HOSTNAME$</a>&#23439;&#22312;&#29615;&#22659;&#21464;&#37327;&#37324;&#34987;&#21629;&#21517;&#20026;"NAGIOS_HOSTNAME". </p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e14987"></a>8.2.9.&nbsp;&#21487;&#29992;&#23439;</h3></div></div></div><p>&#25152;&#26377;&#30340;&#22312;Nagios&#37324;&#30340;&#21487;&#29992;&#30340;&#23439;&#20197;&#21450;&#22914;&#20309;&#20351;&#29992;&#23427;&#20204;&#30340;&#21015;&#34920;&#21487;&#20197;&#22312;<a class="link" href="#macrolist" title="8.3.&nbsp;Nagiosr&#20869;&#23884;&#30340;&#26631;&#20934;&#23439;">&#36825;&#37324;</a>&#26597;&#25214;&#12290;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="macrolist"></a>8.3.&nbsp;Nagiosr&#20869;&#23884;&#30340;&#26631;&#20934;&#23439;</h2></div></div></div><p>&#36825;&#37324;&#21015;&#20986;&#20102;Nagios&#37324;&#21487;&#29992;&#30340;&#26631;&#20934;&#23439;&#12290;&#25353;&#38656;&#29983;&#25104;&#30340;&#23439;&#21644;&#29992;&#25143;&#23450;&#21046;&#21464;&#37327;&#23439;&#22312;<a class="link" href="#macros" title="8.2.&nbsp;&#29702;&#35299;Nagios&#23439;&#21450;&#20854;&#24037;&#20316;&#26426;&#21046;">&#36825;&#31687;&#25991;&#26723;</a>&#37324;&#26377;&#35828;&#26126;&#12290;</p><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e15003"></a>8.3.1.&nbsp;&#23439;&#30340;&#26377;&#25928;&#24615;</h3></div></div></div><p>&#34429;&#28982;&#23439;&#21487;&#34987;&#29992;&#20110;&#23450;&#20041;&#30340;&#21508;&#31181;&#21629;&#20196;&#20043;&#20013;&#65292;&#20294;&#24182;&#38750;&#27599;&#31181;&#23439;&#22312;&#29305;&#23450;&#29615;&#22659;&#37324;&#26159;&#8220;&#21512;&#27861;&#8221;&#30340;&#12290;&#22914;&#65292;&#26377;&#20123;&#23439;&#21482;&#26159;&#22312;&#26381;&#21153;&#36890;&#30693;&#21629;&#20196;&#37324;&#26377;&#25928;&#65292;&#32780;&#21478;&#22806;&#19968;&#20123;&#21482;&#22312;&#20027;&#26426;&#26816;&#27979;&#21629;&#20196;&#37324;&#26377;&#29992;&#12290;Nagios&#21487;&#20197;&#36776;&#35782;&#21644;&#22788;&#29702;&#30340;&#24773;&#20917;&#26377;&#21313;&#31181;&#19981;&#21516;&#31867;&#22411;&#65292;&#23427;&#20204;&#23601;&#26159;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#26381;&#21153;&#26816;&#27979;</li><li>&#26381;&#21153;&#36890;&#30693;</li><li>&#20027;&#26426;&#26816;&#27979;</li><li>&#20027;&#26426;&#36890;&#30693;</li><li>&#26381;&#21153;<a class="link" href="#eventhandlers" title="6.8.&nbsp;&#20107;&#20214;&#22788;&#29702;">&#20107;&#20214;&#22788;&#29702;</a>&#21644;&#20840;&#23616;&#26381;&#21153;&#20107;&#20214;&#22788;&#29702;</li><li>&#20027;&#26426;<a class="link" href="#eventhandlers" title="6.8.&nbsp;&#20107;&#20214;&#22788;&#29702;">&#20107;&#20214;&#22788;&#29702;</a>&#21644;&#20840;&#23616;&#20027;&#26426;&#20107;&#20214;&#22788;&#29702;</li><li><a class="link" href="#ocsp_command" title="&#34920;&nbsp;5.84.&nbsp;Obsessive Compulsive Service Processor Command">OCSP</a>&#21629;&#20196;</li><li><a class="link" href="#ochp_command" title="&#34920;&nbsp;5.86.&nbsp;Obsessive Compulsive Host Processor Command">OCHP</a>&#21629;&#20196;</li><li>&#26381;&#21153;<a class="link" href="#perfdata" title="8.13.&nbsp;&#24615;&#33021;&#25968;&#25454;">&#24615;&#33021;&#25968;&#25454;</a>&#21629;&#20196;</li><li>&#20027;&#26426;<a class="link" href="#perfdata" title="8.13.&nbsp;&#24615;&#33021;&#25968;&#25454;">&#24615;&#33021;&#25968;&#25454;</a>&#21629;&#20196;</li></ol></div><p>&#19979;&#38754;&#34920;&#26684;&#20013;&#21015;&#20986;&#20102;&#22312;Nagios&#21487;&#29992;&#30340;&#20840;&#37096;&#30340;&#23439;&#65292;&#24182;&#19988;&#27599;&#20010;&#23439;&#37117;&#26377;&#19968;&#20010;&#31616;&#30701;&#35828;&#26126;&#21450;&#20160;&#20040;&#26679;&#21629;&#20196;&#26159;&#26377;&#25928;&#30340;&#12290;&#22914;&#26524;&#23439;&#22312;&#26080;&#25928;&#30340;&#21629;&#20196;&#20013;&#20351;&#29992;&#65292;&#21487;&#33021;&#20250;&#34987;&#31354;&#20018;&#26367;&#20195;&#12290;&#39035;&#27880;&#24847;&#20840;&#37096;&#23439;&#26159;&#22823;&#20889;&#23383;&#31526;&#19988;&#21517;&#23383;&#37324;&#26368;&#21069;&#21644;&#26368;&#21518;&#37117;&#26377;$&#23383;&#31526;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e15047"></a>8.3.2.&nbsp;&#21487;&#21033;&#29992;&#30340;&#23439;&#22270;&#34920;</h3></div></div></div><div class="table"><a name="d0e15050"></a><p class="title"><b>&#34920;&nbsp;8.1.&nbsp;<span class="emphasis"><em>&#22270;&#20363;&#65306;</em></span></b></p><div class="table-contents"><table summary="&#22270;&#20363;&#65306;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>No</td><td>&#35813;&#23439;&#19981;&#21487;&#29992;</td></tr><tr><td>Yes</td><td>&#35813;&#23439;&#21487;&#20197;&#36816;&#29992;</td></tr></tbody></table></div></div><br class="table-break"><div class="table"><a name="d0e15066"></a><p class="title"><b>&#34920;&nbsp;8.2.&nbsp;&#20027;&#26426;&#23439;&#65306;<a class="link" href="#macrolist_note3"><sup>3</sup></a></b></p><div class="table-contents"><table summary="&#20027;&#26426;&#23439;&#65306;3" border="1"><colgroup><col><col><col><col><col><col><col><col><col></colgroup><thead><tr><th>&#23439;&#21517;</th><th>&#26381;&#21153;&#26816;&#27979;</th><th>&#26381;&#21153;&#36890;&#30693;</th><th>&#20027;&#26426;&#26816;&#27979;</th><th>&#20027;&#26426;&#36890;&#30693;</th><th>&#26381;&#21153;&#20107;&#20214;&#22788;&#29702;&#19982;<a class="link" href="#ocsp_command" title="&#34920;&nbsp;5.84.&nbsp;Obsessive Compulsive Service Processor Command">OCSP</a></th><th>&#20027;&#26426;&#20107;&#20214;&#22788;&#29702;&#19982;<a class="link" href="#ochp_command" title="&#34920;&nbsp;5.86.&nbsp;Obsessive Compulsive Host Processor Command">OCHP</a></th><th>&#26381;&#21153;&#24615;&#33021;</th><th>&#20027;&#26426;&#24615;&#33021;</th></tr></thead><tbody><tr><td>$HOSTNAME$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$HOSTDISPLAYNAME$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$HOSTALIAS$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$HOSTADDRESS$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$HOSTSTATE$</td><td>Yes</td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note1"><sup>1</sup></a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$HOSTSTATEID$</td><td>Yes</td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note1"><sup>1</sup></a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$LASTHOSTSTATE$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$LASTHOSTSTATEID$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$HOSTSTATETYPE$</td><td>Yes</td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note1"><sup>1</sup></a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$HOSTATTEMPT$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$MAXHOSTATTEMPTS$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$HOSTEVENTID$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$LASTHOSTEVENTID$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$HOSTPROBLEMID$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$LASTHOSTPROBLEMID$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td><a name="macrolist_HOSTLATENCY"></a>$HOSTLATENCY$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$HOSTEXECUTIONTIME$</td><td>Yes</td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note1"><sup>1</sup></a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$HOSTDURATION$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$HOSTDURATIONSEC$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$HOSTDOWNTIME$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$HOSTPERCENTCHANGE$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$HOSTGROUPNAME$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$HOSTGROUPNAMES$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$LASTHOSTCHECK$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$LASTHOSTSTATECHANGE$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$LASTHOSTUP$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$LASTHOSTDOWN$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$LASTHOSTUNREACHABLE$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td><a name="macrolist_HOSTOUTPUT"></a>$HOSTOUTPUT$</td><td>Yes</td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note1"><sup>1</sup></a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$LONGHOSTOUTPUT$</td><td>Yes</td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note1"><sup>1</sup></a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td><a name="macrolist_HOSTPERFDATA"></a>$HOSTPERFDATA$</td><td>Yes</td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note1"><sup>1</sup></a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$HOSTCHECKCOMMAND$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td><a name="macrolist_HOSTACKAUTHOR"></a>$HOSTACKAUTHOR$<a class="link" href="#macrolist_note8"><sup>8</sup></a></td><td>No</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>No</td><td>No</td><td>No</td></tr><tr><td><a name="macrolist_HOSTACKAUTHORNAME"></a>$HOSTACKAUTHORNAME$<a class="link" href="#macrolist_note8"><sup>8</sup></a></td><td>No</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>No</td><td>No</td><td>No</td></tr><tr><td>$HOSTACKAUTHORALIAS$<a class="link" href="#macrolist_note8"><sup>8</sup></a> </td><td>No</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>No</td><td>No</td><td>No</td></tr><tr><td><a name="macrolist_HOSTACKCOMMENT"></a>$HOSTACKCOMMENT$<a class="link" href="#macrolist_note8"><sup>8</sup></a> </td><td>No</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>No</td><td>No</td><td>No</td></tr><tr><td>$HOSTACTIONURL$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$HOSTNOTESURL$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$HOSTNOTES$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$TOTALHOSTSERVICES$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$TOTALHOSTSERVICESOK$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$TOTALHOSTSERVICESWARNING$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$TOTALHOSTSERVICESUNKNOWN$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$TOTALHOSTSERVICESCRITICAL$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr></tbody></table></div></div><br class="table-break"><div class="table"><a name="d0e15969"></a><p class="title"><b>&#34920;&nbsp;8.3.&nbsp;&#20027;&#26426;&#32452;&#23439;&#65306;</b></p><div class="table-contents"><table summary="&#20027;&#26426;&#32452;&#23439;&#65306;" border="1"><colgroup><col><col><col><col><col><col><col><col><col></colgroup><thead><tr><th>&#23439;&#21517;</th><th>&#26381;&#21153;&#26816;&#27979;</th><th>&#26381;&#21153;&#36890;&#30693;</th><th>&#20027;&#26426;&#26816;&#27979;</th><th>&#20027;&#26426;&#36890;&#30693;</th><th>&#26381;&#21153;&#20107;&#20214;&#22788;&#29702;&#19982;<a class="link" href="#ocsp_command" title="&#34920;&nbsp;5.84.&nbsp;Obsessive Compulsive Service Processor Command">OCSP</a></th><th>&#20027;&#26426;&#20107;&#20214;&#22788;&#29702;&#19982;<a class="link" href="#ochp_command" title="&#34920;&nbsp;5.86.&nbsp;Obsessive Compulsive Host Processor Command">OCHP</a></th><th>&#26381;&#21153;&#24615;&#33021;</th><th>&#20027;&#26426;&#24615;&#33021;</th></tr></thead><tbody><tr><td>$HOSTGROUPALIAS$<a class="link" href="#macrolist_note5"><sup>5</sup></a> </td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$HOSTGROUPMEMBERS$<a class="link" href="#macrolist_note5"><sup>5</sup></a> </td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$HOSTGROUPNOTES$<a class="link" href="#macrolist_note5"><sup>5</sup></a> </td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$HOSTGROUPNOTESURL$<a class="link" href="#macrolist_note5"><sup>5</sup></a> </td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$HOSTGROUPACTIONURL$<a class="link" href="#macrolist_note5"><sup>5</sup></a> </td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr></tbody></table></div></div><br class="table-break"><div class="table"><a name="d0e16113"></a><p class="title"><b>&#34920;&nbsp;8.4.&nbsp;&#26381;&#21153;&#23439;&#65306;</b></p><div class="table-contents"><table summary="&#26381;&#21153;&#23439;&#65306;" border="1"><colgroup><col><col><col><col><col><col><col><col><col></colgroup><thead><tr><th>&#23439;&#21517;</th><th>&#26381;&#21153;&#26816;&#27979;</th><th>&#26381;&#21153;&#36890;&#30693;</th><th>&#20027;&#26426;&#26816;&#27979;</th><th>&#20027;&#26426;&#36890;&#30693;</th><th>&#26381;&#21153;&#20107;&#20214;&#22788;&#29702;&#19982;<a class="link" href="#ocsp_command" title="&#34920;&nbsp;5.84.&nbsp;Obsessive Compulsive Service Processor Command">OCSP</a></th><th>&#20027;&#26426;&#20107;&#20214;&#22788;&#29702;&#19982;<a class="link" href="#ochp_command" title="&#34920;&nbsp;5.86.&nbsp;Obsessive Compulsive Host Processor Command">OCHP</a></th><th>&#26381;&#21153;&#24615;&#33021;</th><th>&#20027;&#26426;&#24615;&#33021;</th></tr></thead><tbody><tr><td>$SERVICEDESC$</td><td>Yes</td><td>Yes</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td></tr><tr><td>$SERVICEDISPLAYNAME$</td><td>Yes</td><td>Yes</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td></tr><tr><td>$SERVICESTATE$</td><td>Yes <a class="link" href="#macrolist_note2"><sup>2</sup></a> </td><td>Yes</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td></tr><tr><td>$SERVICESTATEID$</td><td>Yes <a class="link" href="#macrolist_note2"><sup>2</sup></a> </td><td>Yes</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td></tr><tr><td>$LASTSERVICESTATE$</td><td>Yes</td><td>Yes</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td></tr><tr><td>$LASTSERVICESTATEID$</td><td>Yes</td><td>Yes</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td></tr><tr><td>$SERVICESTATETYPE$</td><td>Yes</td><td>Yes</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td></tr><tr><td>$SERVICEATTEMPT$</td><td>Yes</td><td>Yes</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td></tr><tr><td>$MAXSERVICEATTEMPTS$</td><td>Yes</td><td>Yes</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td></tr><tr><td>$SERVICEISVOLATILE$</td><td>Yes</td><td>Yes</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td></tr><tr><td>$SERVICEEVENTID$</td><td>Yes </td><td>Yes</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td></tr><tr><td>$LASTSERVICEEVENTID$</td><td>Yes</td><td>Yes</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td></tr><tr><td>$SERVICEPROBLEMID$</td><td>Yes </td><td>Yes</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td></tr><tr><td>$LASTSERVICEPROBLEMID$</td><td>Yes</td><td>Yes</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td></tr><tr><td>$SERVICELATENCY$</td><td>Yes</td><td>Yes</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td></tr><tr><td>$SERVICEEXECUTIONTIME$</td><td>Yes <a class="link" href="#macrolist_note2"><sup>2</sup></a> </td><td>Yes</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td></tr><tr><td>$SERVICEDURATION$</td><td>Yes</td><td>Yes</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td></tr><tr><td>$SERVICEDURATIONSEC$</td><td>Yes</td><td>Yes</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td></tr><tr><td>$SERVICEDOWNTIME$</td><td>Yes</td><td>Yes</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td></tr><tr><td>$SERVICEPERCENTCHANGE$</td><td>Yes</td><td>Yes</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td></tr><tr><td>$SERVICEGROUPNAME$</td><td>Yes</td><td>Yes</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td></tr><tr><td>$SERVICEGROUPNAMES$</td><td>Yes</td><td>Yes</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td></tr><tr><td>$LASTSERVICECHECK$</td><td>Yes</td><td>Yes</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td></tr><tr><td>$LASTSERVICESTATECHANGE$</td><td>Yes</td><td>Yes</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td></tr><tr><td>$LASTSERVICEOK$</td><td>Yes</td><td>Yes</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td></tr><tr><td>$LASTSERVICEWARNING$</td><td>Yes</td><td>Yes</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td></tr><tr><td>$LASTSERVICEUNKNOWN$</td><td>Yes</td><td>Yes</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td></tr><tr><td>$LASTSERVICECRITICAL$</td><td>Yes</td><td>Yes</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td></tr><tr><td><a name="macrolist_SERVICEOUTPUT"></a>$SERVICEOUTPUT$</td><td>Yes <a class="link" href="#macrolist_note2"><sup>2</sup></a> </td><td>Yes</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td></tr><tr><td><a name="macrolist_LONGSERVICEOUTPUT"></a>$LONGSERVICEOUTPUT$</td><td>Yes <a class="link" href="#macrolist_note2"><sup>2</sup></a> </td><td>Yes</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td></tr><tr><td><a name="macrolist_SERVICEPERFDATA"></a>$SERVICEPERFDATA$</td><td>Yes <a class="link" href="#macrolist_note2"><sup>2</sup></a> </td><td>Yes</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td></tr><tr><td>$SERVICECHECKCOMMAND$</td><td>Yes</td><td>Yes</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td></tr><tr><td><a name="macrolist_SERVICEACKAUTHOR"></a>$SERVICEACKAUTHOR$<a class="link" href="#macrolist_note8"><sup>8</sup></a> </td><td>No</td><td>Yes</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td></tr><tr><td>$SERVICEACKAUTHORNAME$<a class="link" href="#macrolist_note8"><sup>8</sup></a> </td><td>No</td><td>Yes</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td></tr><tr><td>$SERVICEACKAUTHORALIAS$<a class="link" href="#macrolist_note8"><sup>8</sup></a> </td><td>No</td><td>Yes</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td></tr><tr><td><a name="macrolist_SERVICEACKCOMMENT"></a>$SERVICEACKCOMMENT$<a class="link" href="#macrolist_note8"><sup>8</sup></a> </td><td>No</td><td>Yes</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td><td>No</td></tr><tr><td>$SERVICEACTIONURL$</td><td>Yes</td><td>Yes</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td></tr><tr><td>$SERVICENOTESURL$</td><td>Yes</td><td>Yes</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td></tr><tr><td>$SERVICENOTES$</td><td>Yes</td><td>Yes</td><td>No</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td></tr></tbody></table></div></div><br class="table-break"><div class="table"><a name="d0e16923"></a><p class="title"><b>&#34920;&nbsp;8.5.&nbsp;&#26381;&#21153;&#32452;&#23439;&#65306;</b></p><div class="table-contents"><table summary="&#26381;&#21153;&#32452;&#23439;&#65306;" border="1"><colgroup><col><col><col><col><col><col><col><col><col></colgroup><thead><tr><th>&#23439;&#21517;</th><th>&#26381;&#21153;&#26816;&#27979;</th><th>&#26381;&#21153;&#36890;&#30693;</th><th>&#20027;&#26426;&#26816;&#27979;</th><th>&#20027;&#26426;&#36890;&#30693;</th><th>&#26381;&#21153;&#20107;&#20214;&#22788;&#29702;&#19982;<a class="link" href="#ocsp_command" title="&#34920;&nbsp;5.84.&nbsp;Obsessive Compulsive Service Processor Command">OCSP</a></th><th>&#20027;&#26426;&#20107;&#20214;&#22788;&#29702;&#19982;<a class="link" href="#ochp_command" title="&#34920;&nbsp;5.86.&nbsp;Obsessive Compulsive Host Processor Command">OCHP</a></th><th>&#26381;&#21153;&#24615;&#33021;</th><th>&#20027;&#26426;&#24615;&#33021;</th></tr></thead><tbody><tr><td>$SERVICEGROUPALIAS$<a class="link" href="#macrolist_note6"><sup>6</sup></a> </td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$SERVICEGROUPMEMBERS$<a class="link" href="#macrolist_note6"><sup>6</sup></a> </td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$SERVICEGROUPNOTES$<a class="link" href="#macrolist_note6"><sup>6</sup></a> </td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$SERVICEGROUPNOTESURL$<a class="link" href="#macrolist_note6"><sup>6</sup></a> </td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$SERVICEGROUPACTIONURL$<a class="link" href="#macrolist_note6"><sup>6</sup></a> </td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr></tbody></table></div></div><br class="table-break"><div class="table"><a name="d0e17067"></a><p class="title"><b>&#34920;&nbsp;8.6.&nbsp;&#32852;&#31995;&#20154;&#23439;&#65306;</b></p><div class="table-contents"><table summary="&#32852;&#31995;&#20154;&#23439;&#65306;" border="1"><colgroup><col><col><col><col><col><col><col><col><col></colgroup><thead><tr><th>&#23439;&#21517;</th><th>&#26381;&#21153;&#26816;&#27979;</th><th>&#26381;&#21153;&#36890;&#30693;</th><th>&#20027;&#26426;&#26816;&#27979;</th><th>&#20027;&#26426;&#36890;&#30693;</th><th>&#26381;&#21153;&#20107;&#20214;&#22788;&#29702;&#19982;<a class="link" href="#ocsp_command" title="&#34920;&nbsp;5.84.&nbsp;Obsessive Compulsive Service Processor Command">OCSP</a></th><th>&#20027;&#26426;&#20107;&#20214;&#22788;&#29702;&#19982;<a class="link" href="#ochp_command" title="&#34920;&nbsp;5.86.&nbsp;Obsessive Compulsive Host Processor Command">OCHP</a></th><th>&#26381;&#21153;&#24615;&#33021;</th><th>&#20027;&#26426;&#24615;&#33021;</th></tr></thead><tbody><tr><td>$CONTACTNAME$</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td><td>No</td><td>No</td><td>No</td></tr><tr><td>$CONTACTALIAS$</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td><td>No</td><td>No</td><td>No</td></tr><tr><td>$CONTACTEMAIL$</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td><td>No</td><td>No</td><td>No</td></tr><tr><td>$CONTACTPAGER$</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td><td>No</td><td>No</td><td>No</td></tr><tr><td>$CONTACTADDRESSn$</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td><td>No</td><td>No</td><td>No</td></tr></tbody></table></div></div><br class="table-break"><div class="table"><a name="d0e17191"></a><p class="title"><b>&#34920;&nbsp;8.7.&nbsp;&#32852;&#31995;&#20154;&#32452;&#23439;&#65306;</b></p><div class="table-contents"><table summary="&#32852;&#31995;&#20154;&#32452;&#23439;&#65306;" border="1"><colgroup><col><col><col><col><col><col><col><col><col></colgroup><thead><tr><th>&#23439;&#21517;</th><th>&#26381;&#21153;&#26816;&#27979;</th><th>&#26381;&#21153;&#36890;&#30693;</th><th>&#20027;&#26426;&#26816;&#27979;</th><th>&#20027;&#26426;&#36890;&#30693;</th><th>&#26381;&#21153;&#20107;&#20214;&#22788;&#29702;&#19982;<a class="link" href="#ocsp_command" title="&#34920;&nbsp;5.84.&nbsp;Obsessive Compulsive Service Processor Command">OCSP</a></th><th>&#20027;&#26426;&#20107;&#20214;&#22788;&#29702;&#19982;<a class="link" href="#ochp_command" title="&#34920;&nbsp;5.86.&nbsp;Obsessive Compulsive Host Processor Command">OCHP</a></th><th>&#26381;&#21153;&#24615;&#33021;</th><th>&#20027;&#26426;&#24615;&#33021;</th></tr></thead><tbody><tr><td>$CONTACTGROUPALIAS$<a class="link" href="#macrolist_note7"><sup>7</sup></a> </td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$CONTACTGROUPMEMBERS$<a class="link" href="#macrolist_note7"><sup>7</sup></a> </td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr></tbody></table></div></div><br class="table-break"><div class="table"><a name="d0e17266"></a><p class="title"><b>&#34920;&nbsp;8.8.&nbsp;&#27719;&#24635;&#32479;&#35745;&#23439;&#65306;</b></p><div class="table-contents"><table summary="&#27719;&#24635;&#32479;&#35745;&#23439;&#65306;" border="1"><colgroup><col><col><col><col><col><col><col><col><col></colgroup><thead><tr><th>&#23439;&#21517;</th><th>&#26381;&#21153;&#26816;&#27979;</th><th>&#26381;&#21153;&#36890;&#30693;</th><th>&#20027;&#26426;&#26816;&#27979;</th><th>&#20027;&#26426;&#36890;&#30693;</th><th>&#26381;&#21153;&#20107;&#20214;&#22788;&#29702;&#19982;<a class="link" href="#ocsp_command" title="&#34920;&nbsp;5.84.&nbsp;Obsessive Compulsive Service Processor Command">OCSP</a></th><th>&#20027;&#26426;&#20107;&#20214;&#22788;&#29702;&#19982;<a class="link" href="#ochp_command" title="&#34920;&nbsp;5.86.&nbsp;Obsessive Compulsive Host Processor Command">OCHP</a></th><th>&#26381;&#21153;&#24615;&#33021;</th><th>&#20027;&#26426;&#24615;&#33021;</th></tr></thead><tbody><tr><td>$TOTALHOSTSUP$<a class="link" href="#macrolist_note10"><sup>10</sup></a> </td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note4"><sup>4</sup></a> </td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note4"><sup>4</sup></a> </td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$TOTALHOSTSDOWN$<a class="link" href="#macrolist_note10"><sup>10</sup></a> </td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note4"><sup>4</sup></a> </td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note4"><sup>4</sup></a> </td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$TOTALHOSTSUNREACHABLE$<a class="link" href="#macrolist_note10"><sup>10</sup></a> </td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note4"><sup>4</sup></a> </td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note4"><sup>4</sup></a> </td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$TOTALHOSTSDOWNUNHANDLED$<a class="link" href="#macrolist_note10"><sup>10</sup></a> </td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note4"><sup>4</sup></a> </td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note4"><sup>4</sup></a> </td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$TOTALHOSTSUNREACHABLEUNHANDLED$<a class="link" href="#macrolist_note10"><sup>10</sup></a> </td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note4"><sup>4</sup></a> </td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note4"><sup>4</sup></a> </td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$TOTALHOSTPROBLEMS$<a class="link" href="#macrolist_note10"><sup>10</sup></a> </td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note4"><sup>4</sup></a> </td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note4"><sup>4</sup></a> </td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$TOTALHOSTPROBLEMSUNHANDLED$<a class="link" href="#macrolist_note10"><sup>10</sup></a> </td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note4"><sup>4</sup></a> </td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note4"><sup>4</sup></a> </td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$TOTALSERVICESOK$<a class="link" href="#macrolist_note10"><sup>10</sup></a> </td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note4"><sup>4</sup></a> </td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note4"><sup>4</sup></a> </td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$TOTALSERVICESWARNING$<a class="link" href="#macrolist_note10"><sup>10</sup></a> </td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note4"><sup>4</sup></a> </td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note4"><sup>4</sup></a> </td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$TOTALSERVICESCRITICAL$<a class="link" href="#macrolist_note10"><sup>10</sup></a> </td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note4"><sup>4</sup></a> </td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note4"><sup>4</sup></a> </td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$TOTALSERVICESUNKNOWN$<a class="link" href="#macrolist_note10"><sup>10</sup></a> </td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note4"><sup>4</sup></a> </td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note4"><sup>4</sup></a> </td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$TOTALSERVICESWARNINGUNHANDLED$<a class="link" href="#macrolist_note10"><sup>10</sup></a> </td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note4"><sup>4</sup></a> </td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note4"><sup>4</sup></a> </td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$TOTALSERVICESCRITICALUNHANDLED$<a class="link" href="#macrolist_note10"><sup>10</sup></a> </td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note4"><sup>4</sup></a> </td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note4"><sup>4</sup></a> </td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$TOTALSERVICESUNKNOWNUNHANDLED$<a class="link" href="#macrolist_note10"><sup>10</sup></a> </td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note4"><sup>4</sup></a> </td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note4"><sup>4</sup></a> </td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$TOTALSERVICEPROBLEMS$<a class="link" href="#macrolist_note10"><sup>10</sup></a> </td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note4"><sup>4</sup></a> </td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note4"><sup>4</sup></a> </td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$TOTALSERVICEPROBLEMSUNHANDLED$<a class="link" href="#macrolist_note10"><sup>10</sup></a> </td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note4"><sup>4</sup></a> </td><td>Yes</td><td>Yes <a class="link" href="#macrolist_note4"><sup>4</sup></a> </td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr></tbody></table></div></div><br class="table-break"><div class="table"><a name="d0e17791"></a><p class="title"><b>&#34920;&nbsp;8.9.&nbsp;&#36890;&#30693;&#23439;&#65306;</b></p><div class="table-contents"><table summary="&#36890;&#30693;&#23439;&#65306;" border="1"><colgroup><col><col><col><col><col><col><col><col><col></colgroup><thead><tr><th>&#23439;&#21517;</th><th>&#26381;&#21153;&#26816;&#27979;</th><th>&#26381;&#21153;&#36890;&#30693;</th><th>&#20027;&#26426;&#26816;&#27979;</th><th>&#20027;&#26426;&#36890;&#30693;</th><th>&#26381;&#21153;&#20107;&#20214;&#22788;&#29702;&#19982;<a class="link" href="#ocsp_command" title="&#34920;&nbsp;5.84.&nbsp;Obsessive Compulsive Service Processor Command">OCSP</a></th><th>&#20027;&#26426;&#20107;&#20214;&#22788;&#29702;&#19982;<a class="link" href="#ochp_command" title="&#34920;&nbsp;5.86.&nbsp;Obsessive Compulsive Host Processor Command">OCHP</a></th><th>&#26381;&#21153;&#24615;&#33021;</th><th>&#20027;&#26426;&#24615;&#33021;</th></tr></thead><tbody><tr><td>$NOTIFICATIONTYPE$</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td><td>No</td><td>No</td><td>No</td></tr><tr><td>$NOTIFICATIONRECIPIENTS$</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td><td>No</td><td>No</td><td>No</td></tr><tr><td>$NOTIFICATIONISESCALATED$</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td><td>No</td><td>No</td><td>No</td></tr><tr><td>$NOTIFICATIONAUTHOR$</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td><td>No</td><td>No</td><td>No</td></tr><tr><td>$NOTIFICATIONAUTHORNAME$</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td><td>No</td><td>No</td><td>No</td></tr><tr><td>$NOTIFICATIONAUTHORALIAS$</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td><td>No</td><td>No</td><td>No</td></tr><tr><td>$NOTIFICATIONCOMMENT$</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td><td>No</td><td>No</td><td>No</td></tr><tr><td>$HOSTNOTIFICATIONNUMBER$</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td><td>No</td><td>No</td><td>No</td></tr><tr><td>$HOSTNOTIFICATIONID$</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td><td>No</td><td>No</td><td>No</td></tr><tr><td>$SERVICENOTIFICATIONNUMBER$</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td><td>No</td><td>No</td><td>No</td></tr><tr><td>$SERVICENOTIFICATIONID$</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td><td>No</td><td>No</td><td>No</td></tr></tbody></table></div></div><br class="table-break"><div class="table"><a name="d0e18029"></a><p class="title"><b>&#34920;&nbsp;8.10.&nbsp;&#26085;&#26399;/&#26102;&#38388;&#23439;&#65306;</b></p><div class="table-contents"><table summary="&#26085;&#26399;/&#26102;&#38388;&#23439;&#65306;" border="1"><colgroup><col><col><col><col><col><col><col><col><col></colgroup><thead><tr><th>&#23439;&#21517;</th><th>&#26381;&#21153;&#26816;&#27979;</th><th>&#26381;&#21153;&#36890;&#30693;</th><th>&#20027;&#26426;&#26816;&#27979;</th><th>&#20027;&#26426;&#36890;&#30693;</th><th>&#26381;&#21153;&#20107;&#20214;&#22788;&#29702;&#19982;<a class="link" href="#ocsp_command" title="&#34920;&nbsp;5.84.&nbsp;Obsessive Compulsive Service Processor Command">OCSP</a></th><th>&#20027;&#26426;&#20107;&#20214;&#22788;&#29702;&#19982;<a class="link" href="#ochp_command" title="&#34920;&nbsp;5.86.&nbsp;Obsessive Compulsive Host Processor Command">OCHP</a></th><th>&#26381;&#21153;&#24615;&#33021;</th><th>&#20027;&#26426;&#24615;&#33021;</th></tr></thead><tbody><tr><td>$LONGDATETIME$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$SHORTDATETIME$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$DATE$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$TIME$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$TIMET$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$ISVALIDTIME:$<a class="link" href="#macrolist_note9"><sup>9</sup></a> </td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$NEXTVALIDTIME:$<a class="link" href="#macrolist_note9"><sup>9</sup></a> </td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr></tbody></table></div></div><br class="table-break"><div class="table"><a name="d0e18199"></a><p class="title"><b>&#34920;&nbsp;8.11.&nbsp;&#25991;&#20214;&#23439;&#65306;</b></p><div class="table-contents"><table summary="&#25991;&#20214;&#23439;&#65306;" border="1"><colgroup><col><col><col><col><col><col><col><col><col></colgroup><thead><tr><th>&#23439;&#21517;</th><th>&#26381;&#21153;&#26816;&#27979;</th><th>&#26381;&#21153;&#36890;&#30693;</th><th>&#20027;&#26426;&#26816;&#27979;</th><th>&#20027;&#26426;&#36890;&#30693;</th><th>&#26381;&#21153;&#20107;&#20214;&#22788;&#29702;&#19982;<a class="link" href="#ocsp_command" title="&#34920;&nbsp;5.84.&nbsp;Obsessive Compulsive Service Processor Command">OCSP</a></th><th>&#20027;&#26426;&#20107;&#20214;&#22788;&#29702;&#19982;<a class="link" href="#ochp_command" title="&#34920;&nbsp;5.86.&nbsp;Obsessive Compulsive Host Processor Command">OCHP</a></th><th>&#26381;&#21153;&#24615;&#33021;</th><th>&#20027;&#26426;&#24615;&#33021;</th></tr></thead><tbody><tr><td>$MAINCONFIGFILE$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$STATUSDATAFILE$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$COMMENTDATAFILE$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes&lt; <a class="link" href="#macrolist_note5"><sup>5</sup></a></td></tr><tr><td>$DOWNTIMEDATAFILE$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$RETENTIONDATAFILE$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$OBJECTCACHEFILE$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$TEMPFILE$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$TEMPPATH$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$LOGFILE$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$RESOURCEFILE$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$COMMANDFILE$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$HOSTPERFDATAFILE$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$SERVICEPERFDATAFILE$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr></tbody></table></div></div><br class="table-break"><div class="table"><a name="d0e18478"></a><p class="title"><b>&#34920;&nbsp;8.12.&nbsp;&#20854;&#20182;&#23439;&#65306;</b></p><div class="table-contents"><table summary="&#20854;&#20182;&#23439;&#65306;" border="1"><colgroup><col><col><col><col><col><col><col><col><col></colgroup><thead><tr><th>&#23439;&#21517;</th><th>&#26381;&#21153;&#26816;&#27979;</th><th>&#26381;&#21153;&#36890;&#30693;</th><th>&#20027;&#26426;&#26816;&#27979;</th><th>&#20027;&#26426;&#36890;&#30693;</th><th>&#26381;&#21153;&#20107;&#20214;&#22788;&#29702;&#19982;<a class="link" href="#ocsp_command" title="&#34920;&nbsp;5.84.&nbsp;Obsessive Compulsive Service Processor Command">OCSP</a></th><th>&#20027;&#26426;&#20107;&#20214;&#22788;&#29702;&#19982;<a class="link" href="#ochp_command" title="&#34920;&nbsp;5.86.&nbsp;Obsessive Compulsive Host Processor Command">OCHP</a></th><th>&#26381;&#21153;&#24615;&#33021;</th><th>&#20027;&#26426;&#24615;&#33021;</th></tr></thead><tbody><tr><td>$PROCESSSTARTTIME$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$EVENTSTARTTIME$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$ADMINEMAIL$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$ADMINPAGER$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$ARGn$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>$USERn$</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr></tbody></table></div></div><br class="table-break"></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e18621"></a>8.3.3.&nbsp;&#23439;&#30340;&#25551;&#36848;&#35828;&#26126;</h3></div></div></div><div class="table"><a name="d0e18624"></a><p class="title"><b>&#34920;&nbsp;8.13.&nbsp;&#20027;&#26426;&#23439;&#65306;<a class="link" href="#macrolist_note3"><sup>3</sup></a></b></p><div class="table-contents"><table summary="&#20027;&#26426;&#23439;&#65306;3" border="1"><colgroup><col><col></colgroup><tbody><tr><td><a name="macrolist_HOSTNAME"></a>$HOSTNAME$</td><td>&#20027;&#26426;&#31616;&#31216;(&#22914;"biglinuxbox")&#65292;&#21462;&#33258;&#20110;<a class="link" href="#objectdefinitions_host">&#20027;&#26426;&#23450;&#20041;</a>&#37324;&#30340;<span class="strong"><strong>host_name</strong></span>&#22495;&#12290;</td></tr><tr><td>$HOSTDISPLAYNAME$</td><td>&#21487;&#20379;&#26367;&#20195;&#26174;&#31034;&#30340;&#20027;&#26426;&#21517;&#65292;&#21462;&#33258;&#20110;<a class="link" href="#objectdefinitions_host">&#20027;&#26426;&#23450;&#20041;</a>&#37324;&#30340;<span class="strong"><strong>display_name</strong></span>&#22495;&#12290;</td></tr><tr><td>$HOSTALIAS$</td><td>&#20027;&#26426;&#20840;&#31216;&#12289;&#21311;&#21517;&#25110;&#26159;&#25551;&#36848;&#65292;&#21462;&#33258;&#20110;<a class="link" href="#objectdefinitions_host">&#20027;&#26426;&#23450;&#20041;</a>&#37324;&#30340;<span class="strong"><strong>alias</strong></span>&#22495;&#12290;</td></tr><tr><td>$HOSTADDRESS$</td><td>&#20027;&#26426;&#22320;&#22336;&#12290;&#21462;&#33258;&#20110;<a class="link" href="#objectdefinitions_host">&#20027;&#26426;&#23450;&#20041;</a>&#37324;&#30340;<span class="strong"><strong>address</strong></span>&#22495;&#12290;</td></tr><tr><td><a name="macrolist_HOSTSTATE"></a>$HOSTSTATE$</td><td>&#24403;&#21069;&#20027;&#26426;&#29366;&#24577;&#30340;&#35828;&#26126;&#23383;&#31526;&#20018;("&#36816;&#34892;"&#12289;"&#23445;&#26426;"&#25110;"&#19981;&#21487;&#36798;")&#12290;</td></tr><tr><td>$HOSTSTATEID$</td><td>&#24403;&#21069;&#20027;&#26426;&#29366;&#24577;&#30340;&#26631;&#35782;&#25968;&#23383;(0=&#36816;&#34892;&#12289;1=&#23445;&#26426;&#12289;2=&#19981;&#21487;&#36798;)&#12290;</td></tr><tr><td>$LASTHOSTSTATE$</td><td>&#26368;&#21518;&#20027;&#26426;&#29366;&#24577;&#30340;&#35828;&#26126;&#23383;&#31526;&#20018;("&#36816;&#34892;", "&#23445;&#26426;"&#25110;"&#19981;&#21487;&#36798;")&#12290;</td></tr><tr><td>$LASTHOSTSTATEID$</td><td>&#26368;&#21518;&#20027;&#26426;&#29366;&#24577;&#30340;&#26631;&#35782;&#25968;&#23383;(0=&#36816;&#34892;&#12289;1=&#23445;&#26426;&#12289;2=&#19981;&#21487;&#36798;)&#12290;</td></tr><tr><td><a name="macrolist_HOSTSTATETYPE"></a>$HOSTSTATETYPE$</td><td>&#20027;&#26426;&#26816;&#27979;&#26102;&#25351;&#31034;&#20027;&#26426;&#24403;&#21069;<a class="link" href="#statetypes" title="6.10.&nbsp;&#29366;&#24577;&#31867;&#22411;">&#29366;&#24577;&#31867;&#22411;</a>&#30340;&#23383;&#31526;&#20018;("&#30828;&#24577;"&#25110;"&#36719;&#24577;")&#12290;&#36719;&#24577;&#26159;&#25351;&#24403;&#20027;&#26426;&#26816;&#27979;&#36820;&#22238;&#19968;&#20010;&#38750;&#27491;&#24120;&#29366;&#24577;&#24182;&#19988;&#24320;&#22987;&#36827;&#34892;&#37325;&#35797;&#26102;&#25152;&#22788;&#29366;&#24577;&#30340;&#29366;&#24577;&#31867;&#22411;&#12290;&#30828;&#24577;&#26159;&#25351;&#24403;&#20027;&#26426;&#26816;&#27979;&#24050;&#32463;&#36798;&#21040;&#26368;&#22823;&#26816;&#27979;&#27425;&#25968;&#21518;&#25152;&#22788;&#30340;&#29366;&#24577;&#30340;&#29366;&#24577;&#31867;&#22411;&#12290;</td></tr><tr><td><a name="macrolist_HOSTATTEMPT"></a>$HOSTATTEMPT$</td><td>&#20027;&#26426;&#26816;&#27979;&#24403;&#21069;&#30340;&#37325;&#35797;&#27425;&#25968;&#12290;&#27604;&#22914;&#65292;&#22914;&#26524;&#31532;&#20108;&#27425;&#35201;&#36827;&#34892;&#37325;&#26816;&#27979;&#65292;&#35813;&#23439;&#30340;&#20540;&#26159;2&#12290;&#24403;&#21069;&#23581;&#35797;&#27425;&#25968;&#21482;&#26159;&#21453;&#24212;&#20986;&#24403;&#20027;&#26426;&#20107;&#20214;&#22788;&#29702;&#22788;&#20110;&#36719;&#24577;&#26102;&#22522;&#20110;&#37325;&#35797;&#27425;&#25968;&#20869;&#25191;&#34892;&#25351;&#23450;&#21160;&#20316;&#30340;&#37325;&#35797;&#27425;&#25968;&#12290;</td></tr><tr><td>$MAXHOSTATTEMPTS$</td><td>&#26368;&#22823;&#37325;&#35797;&#27425;&#25968;&#30001;&#24403;&#21069;&#20027;&#26426;&#23545;&#35937;&#23450;&#20041;&#32473;&#20986;&#12290;&#24403;&#20889;&#20837;&#36719;&#24577;&#26102;&#30340;&#20027;&#26426;&#20107;&#20214;&#22788;&#29702;&#20570;&#25351;&#23450;&#21160;&#20316;&#30340;&#37325;&#35797;&#26102;&#23558;&#20250;&#29992;&#21040;&#12290;</td></tr><tr><td>$HOSTEVENTID$</td><td>&#20840;&#23616;&#30340;&#21807;&#19968;ID&#20540;&#65292;&#25351;&#31034;&#24403;&#21069;&#20027;&#26426;&#29366;&#24577;&#65292;&#27599;&#27425;&#20027;&#26426;&#25110;&#26381;&#21153;&#32463;&#21382;&#19968;&#27425;&#29366;&#24577;&#21464;&#25442;&#65292;&#20840;&#23616;&#30340;&#20107;&#20214;ID&#35745;&#25968;&#22120;&#22686;1&#12290;&#22914;&#26524;&#20027;&#26426;&#27809;&#26377;&#32463;&#21382;&#29366;&#24577;&#21464;&#25442;&#65292;&#35813;&#20540;&#23558;&#32622;&#20026;0&#12290;</td></tr><tr><td>$LASTHOSTEVENTID$</td><td>&#32473;&#23450;&#20027;&#26426;&#30340;&#21069;&#19968;&#20010;(&#20840;&#23616;&#21807;&#19968;&#30340;)&#20107;&#20214;ID&#20540;&#12290;</td></tr><tr><td>$HOSTPROBLEMID$</td><td>&#20840;&#23616;&#20998;&#37197;&#30340;&#20027;&#26426;&#24403;&#21069;&#25925;&#38556;&#29366;&#24577;&#30340;&#21807;&#19968;&#26631;&#35782;&#20540;&#12290;&#27599;&#27425;&#20027;&#26426;(&#25110;&#26381;&#21153;)&#33258;&#19968;&#20010;&#36816;&#34892;(UP)&#25110;&#27491;&#24120;(OK)&#29366;&#24577;&#21464;&#25442;&#21040;&#25925;&#38556;&#29366;&#24577;&#26102;&#65292;&#20840;&#23616;&#25925;&#38556;ID&#20540;&#20250;&#22686;1&#12290;&#22914;&#26524;&#20027;&#26426;&#24403;&#21069;&#26159;&#38750;&#36816;&#34892;&#29366;&#24577;&#35813;&#23439;&#23558;&#26159;&#19968;&#20010;&#38750;&#38646;&#20540;&#12290;&#20027;&#26426;&#29366;&#24577;&#22312;&#20004;&#20010;&#38750;&#36816;&#34892;&#29366;&#24577;(&#22914;&#23445;&#26426;&#21040;&#19981;&#21487;&#36798;)&#20043;&#38388;&#21464;&#25442;&#26102;&#23558;&#19981;&#20250;&#23548;&#33268;&#20840;&#23616;&#25925;&#38556;ID&#20540;&#22686;1&#12290;&#22914;&#26524;&#20027;&#26426;&#24403;&#21069;&#22788;&#20110;&#36816;&#34892;&#29366;&#24577;&#65292;&#35813;&#23439;&#23558;&#34987;&#32622;0&#12290;&#19982;&#20107;&#20214;&#22788;&#29702;&#30456;&#32467;&#21512;&#65292;&#35813;&#23439;&#23558;&#21487;&#34987;&#29992;&#20110;&#24403;&#20027;&#26426;&#39318;&#27425;&#36827;&#20837;&#25925;&#38556;&#29366;&#24577;&#26102;&#31995;&#32479;&#33258;&#21160;&#22320;&#25171;&#24320;&#19968;&#20010;&#20107;&#25925;&#25805;&#20316;&#31080;&#12290;</td></tr><tr><td>$LASTHOSTPROBLEMID$</td><td>&#23545;&#25351;&#23450;&#20027;&#26426;&#30340;&#21069;&#19968;&#27425;&#20840;&#23616;&#21807;&#19968;&#25925;&#38556;ID&#20540;&#12290;&#19982;&#20107;&#20214;&#22788;&#29702;&#30456;&#32467;&#21512;&#65292;&#35813;&#23439;&#23558;&#29992;&#20110;&#24403;&#20027;&#26426;&#24674;&#22797;&#21040;&#36816;&#34892;&#29366;&#24577;&#26102;&#33258;&#21160;&#22320;&#20851;&#38381;&#19968;&#20010;&#20107;&#25925;&#25805;&#20316;&#31080;&#12290;</td></tr><tr><td>$HOSTLATENCY$</td><td>&#19968;&#20010;&#28014;&#28857;&#25968;&#20540;&#30340;&#31186;&#25968;&#65292;&#35813;&#20540;&#35760;&#24405;&#20102;<span class="strong"><strong>&#39044;&#26399;&#30340;&#20027;&#26426;&#26816;&#27979;</strong></span>&#36831;&#21518;&#20110;&#23427;&#35745;&#21010;&#26816;&#27979;&#26102;&#38388;&#30340;&#31186;&#25968;&#12290;&#27604;&#22914;&#65292;&#22914;&#26524;&#35745;&#21010;&#26816;&#27979;&#26102;&#38388;&#26159;03:14:15&#20294;&#30452;&#21040;&#21478;&#19968;&#26102;&#21051;03:14:17&#25165;&#25191;&#34892;&#26102;&#65292;&#36825;&#20010;&#25968;&#25454;&#23558;&#26159;2.0&#31186;&#12290;&#25353;&#38656;&#22320;&#20027;&#26426;&#26816;&#27979;&#22266;&#23450;&#21482;&#26377;&#19968;&#20010;0&#31186;&#30340;&#36831;&#21518;&#12290;</td></tr><tr><td><a name="macrolist_HOSTEXECUTIONTIME"></a>$HOSTEXECUTIONTIME$</td><td>&#19968;&#20010;&#28014;&#28857;&#25968;&#20540;&#30340;&#31186;&#25968;&#65292;&#35813;&#20540;&#35760;&#24405;&#20102;&#20027;&#26426;&#33457;&#20102;&#22810;&#23569;&#31186;&#26469;&#25191;&#34892;&#20027;&#26426;&#26816;&#27979;&#31243;&#24207;&#12290;</td></tr><tr><td>$HOSTDURATION$</td><td>&#23383;&#31526;&#20018;&#34920;&#31034;&#30340;&#20027;&#26426;&#24403;&#21069;&#29366;&#24577;&#20849;&#20445;&#25345;&#20102;&#22810;&#38271;&#26102;&#38388;&#65292;&#26684;&#24335;&#26159;"XXh YYm ZZs"&#25351;&#20986;&#20102;&#26102;&#12289;&#20998;&#21644;&#31186;&#12290;</td></tr><tr><td>$HOSTDURATIONSEC$</td><td>&#20027;&#26426;&#24403;&#21069;&#29366;&#24577;&#20849;&#20445;&#25345;&#20102;&#22810;&#23569;&#31186;&#30340;&#25968;&#20540;&#12290;</td></tr><tr><td>$HOSTDOWNTIME$</td><td>&#24403;&#21069;&#20027;&#26426;"&#20572;&#26426;&#26102;&#38388;"&#30340;&#31186;&#20540;&#12290;&#22914;&#26524;&#24403;&#21069;&#20027;&#26426;&#22788;&#20110;&#19968;&#20010;<a class="link" href="#downtime" title="6.5.&nbsp;&#35745;&#21010;&#20572;&#26426;&#26102;&#38388;">&#35745;&#21010;&#20572;&#26426;&#26102;&#38388;</a>&#20043;&#20869;&#65292;&#35813;&#20540;&#23558;&#22823;&#20110;0&#65292;&#22914;&#26524;&#20027;&#26426;&#19981;&#22788;&#20110;&#20572;&#26426;&#26102;&#38388;&#20869;&#65292;&#36825;&#20010;&#20540;&#26159;0&#12290;</td></tr><tr><td>$HOSTPERCENTCHANGE$</td><td>&#20027;&#26426;&#25152;&#32463;&#21382;&#30340;&#29366;&#24577;&#21464;&#21270;&#29575;(&#19968;&#20010;&#28014;&#28857;&#25968;&#20540;)&#12290;&#35813;&#20540;&#34987;&#29992;&#20110;<a class="link" href="#flapping" title="8.7.&nbsp;&#24863;&#30693;&#21644;&#22788;&#29702;&#29366;&#24577;&#25238;&#21160;">&#25238;&#21160;&#26816;&#27979;</a>&#31639;&#27861;&#12290;</td></tr><tr><td>$HOSTGROUPNAME$</td><td>&#20027;&#26426;&#25152;&#20174;&#23646;&#30340;&#20027;&#26426;&#32452;&#30340;&#30701;&#21517;&#31216;&#12290;&#36825;&#20010;&#20540;&#21462;&#33258;<a class="link" href="#objectdefinitions_hostgroup">&#20027;&#26426;&#32452;&#23545;&#35937;&#23450;&#20041;</a>&#37324;&#30340;<span class="strong"><strong>hostgroup_name</strong></span>&#22495;&#12290;&#22914;&#26524;&#35813;&#20027;&#26426;&#20174;&#23646;&#20110;&#19968;&#20010;&#25110;&#22810;&#20010;&#20027;&#26426;&#32452;&#26102;&#35813;&#23439;&#23558;&#21482;&#21253;&#21547;&#20854;&#20013;&#30340;&#19968;&#20010;(&#24212;&#35813;&#26159;&#25152;&#20174;&#23646;&#30340;&#31532;&#19968;&#20010;&#20027;&#26426;&#32452;&#30340;&#32452;&#21517;&#65292;&#25353;&#28304;&#31243;&#24207;&#26159;&#36825;&#26679;&#29702;&#35299;&#65293;&#65293;&#35793;&#32773;&#27880;)&#12290;</td></tr><tr><td>$HOSTGROUPNAMES$</td><td>&#20027;&#26426;&#25152;&#20174;&#23646;&#30340;&#20840;&#37096;&#20027;&#26426;&#32452;&#21517;&#30340;&#21015;&#34920;&#65292;&#22810;&#20010;&#20027;&#26426;&#32452;&#21517;&#26102;&#23427;&#26159;&#20010;&#29992;&#36887;&#21495;&#20998;&#38548;&#30340;&#21015;&#34920;&#12290;</td></tr><tr><td>$LASTHOSTCHECK$</td><td>&#19968;&#20010;time_t(UNIX&#31995;&#32479;&#30340;&#31186;&#35745;&#25968;&#22120;<a class="link" href="#macrolist_note11"><sup>11</sup></a>)&#26684;&#24335;&#30340;&#26102;&#38388;&#25139;&#25351;&#21521;&#20027;&#26426;&#26368;&#21518;&#19968;&#27425;&#26816;&#27979;&#30340;&#25191;&#34892;&#26102;&#38388;&#12290;</td></tr><tr><td>$LASTHOSTSTATECHANGE$</td><td>&#19968;&#20010;time_t(UNIX&#31995;&#32479;&#30340;&#31186;&#35745;&#25968;&#22120;<a class="link" href="#macrolist_note11"><sup>11</sup></a>)&#26684;&#24335;&#30340;&#26102;&#38388;&#25139;&#25351;&#21521;&#20027;&#26426;&#26368;&#21518;&#19968;&#27425;&#29366;&#24577;&#25913;&#21464;&#30340;&#26102;&#38388;&#12290;</td></tr><tr><td>$LASTHOSTUP$</td><td>&#19968;&#20010;time_t(UNIX&#31995;&#32479;&#30340;&#31186;&#35745;&#25968;&#22120;<a class="link" href="#macrolist_note11"><sup>11</sup></a>)&#26684;&#24335;&#30340;&#26102;&#38388;&#25139;&#25351;&#21521;&#20027;&#26426;&#26816;&#27979;&#20986;&#20173;&#22788;&#20110;&#36816;&#34892;(UP)&#29366;&#24577;&#30340;&#26368;&#21518;&#26102;&#38388;&#12290;</td></tr><tr><td>$LASTHOSTDOWN$</td><td>&#19968;&#20010;time_t(UNIX&#31995;&#32479;&#30340;&#31186;&#35745;&#25968;&#22120;<a class="link" href="#macrolist_note11"><sup>11</sup></a>)&#26684;&#24335;&#30340;&#26102;&#38388;&#25139;&#25351;&#21521;&#20027;&#26426;&#26816;&#27979;&#20986;&#20173;&#22788;&#20110;&#23445;&#26426;(DOWN)&#29366;&#24577;&#30340;&#26368;&#21518;&#26102;&#38388;&#12290;</td></tr><tr><td>$LASTHOSTUNREACHABLE$</td><td>&#19968;&#20010;time_t(UNIX&#31995;&#32479;&#30340;&#31186;&#35745;&#25968;&#22120;<a class="link" href="#macrolist_note11"><sup>11</sup></a>)&#26684;&#24335;&#30340;&#26102;&#38388;&#25139;&#25351;&#21521;&#20027;&#26426;&#20173;&#22788;&#20110;&#19981;&#21487;&#36798;(UNREACHABLE)&#29366;&#24577;&#30340;&#26368;&#21518;&#26102;&#38388;&#12290;</td></tr><tr><td>$HOSTOUTPUT$</td><td>&#26368;&#21518;&#19968;&#27425;&#20027;&#26426;&#26816;&#27979;&#36755;&#20986;&#30340;&#39318;&#34892;&#20869;&#23481;(&#22914;"Ping OK")&#12290;</td></tr><tr><td><a name="macrolist_LONGHOSTOUTPUT"></a>$LONGHOSTOUTPUT$</td><td>&#26368;&#21518;&#19968;&#27425;&#20027;&#26426;&#26816;&#27979;&#36755;&#20986;&#30340;&#38500;&#39318;&#34892;&#20043;&#22806;&#30340;&#20869;&#23481;&#12290;</td></tr><tr><td>$HOSTPERFDATA$</td><td>&#26368;&#21518;&#19968;&#27425;&#20027;&#26426;&#26816;&#27979;&#25152;&#36820;&#22238;&#30340;&#20840;&#37096;<a class="link" href="#perfdata" title="8.13.&nbsp;&#24615;&#33021;&#25968;&#25454;">&#24615;&#33021;&#25968;&#25454;</a>&#12290;</td></tr><tr><td>$HOSTCHECKCOMMAND$</td><td>&#29992;&#20110;&#20027;&#26426;&#26816;&#27979;&#30340;&#24102;&#26377;&#20840;&#37096;&#21442;&#25968;&#30340;&#21629;&#20196;&#20018;&#12290;</td></tr><tr><td>$HOSTACKAUTHOR$<a class="link" href="#macrolist_note8"> <sup>8</sup></a></td><td>&#29992;&#23383;&#31526;&#20018;&#34920;&#31034;&#30340;&#29992;&#25143;&#21517;&#65292;&#35813;&#29992;&#25143;&#26159;&#20027;&#26426;&#38382;&#39064;&#30340;&#30830;&#35748;&#32773;&#12290;&#35813;&#23439;&#21482;&#26159;&#22312;&#36890;&#30693;&#21160;&#20316;&#37324;&#30340;$NOTIFICATIONTYPE$&#23439;&#26159;"ACKNOWLEDGEMENT"&#26102;&#25165;&#26159;&#21512;&#27861;&#26377;&#25928;&#30340;&#12290;</td></tr><tr><td>$HOSTACKAUTHORNAME$<a class="link" href="#macrolist_note8"><sup>8</sup></a> </td><td>&#23383;&#31526;&#20018;&#34920;&#31034;&#30340;&#32852;&#31995;&#20154;(&#22914;&#26524;&#21018;&#22909;&#26377;&#30340;&#35805;)&#30701;&#21517;&#23383;&#65292;&#35813;&#32852;&#31995;&#20154;&#26159;&#20027;&#26426;&#38382;&#39064;&#30340;&#30830;&#35748;&#32773;&#12290;&#35813;&#23439;&#21482;&#26159;&#22312;&#36890;&#30693;&#21160;&#20316;&#37324;&#30340;$NOTIFICATIONTYPE$&#23439;&#26159;"ACKNOWLEDGEMENT"&#26102;&#25165;&#26159;&#21512;&#27861;&#26377;&#25928;&#30340;&#12290;</td></tr><tr><td>$HOSTACKAUTHORALIAS$<a class="link" href="#macrolist_note8"><sup>8</sup></a> </td><td>&#23383;&#31526;&#20018;&#34920;&#31034;&#30340;&#32852;&#31995;&#20154;(&#22914;&#26524;&#21018;&#22909;&#26377;&#30340;&#35805;)&#26165;&#31216;&#65292;&#35813;&#23439;&#21482;&#26159;&#22312;&#36890;&#30693;&#21160;&#20316;&#37324;&#30340;$NOTIFICATIONTYPE$&#23439;&#26159;"ACKNOWLEDGEMENT"&#26102;&#25165;&#26159;&#21512;&#27861;&#26377;&#25928;&#30340;&#12290;</td></tr><tr><td>$HOSTACKCOMMENT$<a class="link" href="#macrolist_note8"><sup>8</sup></a> </td><td>&#23383;&#31526;&#20018;&#34920;&#31034;&#30340;&#30830;&#35748;&#27880;&#37322;&#23383;&#31526;&#20018;&#65292;&#36825;&#26159;&#30001;&#29992;&#25143;&#23545;&#20027;&#26426;&#38382;&#39064;&#20570;&#20986;&#30830;&#35748;&#26102;&#24405;&#20837;&#30340;&#12290;&#35813;&#23439;&#21482;&#26159;&#22312;&#36890;&#30693;&#21160;&#20316;&#37324;&#30340;$NOTIFICATIONTYPE$&#23439;&#26159;"ACKNOWLEDGEMENT"&#26102;&#25165;&#26159;&#21512;&#27861;&#26377;&#25928;&#30340;&#12290;</td></tr><tr><td>$HOSTACTIONURL$</td><td>&#20027;&#26426;&#21160;&#20316;&#30340;URL&#20018;&#65292;&#35813;&#23439;&#21487;&#33021;&#21253;&#21547;&#21478;&#19968;&#20123;&#23439;(&#22914;$HOSTNAME$)&#65292;&#24403;&#38656;&#35201;&#21521;Web&#39029;&#20256;&#20837;&#20027;&#26426;&#21517;&#26102;&#36825;&#20010;&#23439;&#24456;&#26377;&#29992;&#12290;</td></tr><tr><td>$HOSTNOTESURL$</td><td>&#20027;&#26426;&#27880;&#37322;URL&#20018;&#65292;&#35813;&#23439;&#21487;&#33021;&#21253;&#21547;&#21478;&#19968;&#20123;&#23439;(&#22914;$HOSTNAME$)&#65292;&#24403;&#38656;&#35201;&#21521;Web&#39029;&#20256;&#20837;&#20027;&#26426;&#21517;&#26102;&#36825;&#20010;&#23439;&#24456;&#26377;&#29992;&#12290;</td></tr><tr><td>$HOSTNOTES$</td><td>&#20027;&#26426;&#30340;&#27880;&#37322;&#12290;&#35813;&#23439;&#21487;&#33021;&#21253;&#21547;&#21478;&#19968;&#20123;&#23439;(&#22914;$HOSTNAME$)&#65292;&#24403;&#38656;&#35201;&#32473;&#20027;&#26426;&#25351;&#23450;&#19968;&#20123;&#29305;&#23450;&#20449;&#24687;&#26102;&#24456;&#26377;&#29992;&#65292;&#22914;&#22312;&#20027;&#26426;&#30340;&#25551;&#36848;&#37324;&#12290;</td></tr><tr><td>$TOTALHOSTSERVICES$</td><td>&#20027;&#26426;&#34987;&#32465;&#23450;&#30340;&#26381;&#21153;&#24635;&#25968;&#12290;</td></tr><tr><td>$TOTALHOSTSERVICESOK$</td><td>&#20027;&#26426;&#34987;&#32465;&#23450;&#30340;&#26381;&#21153;&#22788;&#20110;&#27491;&#24120;(OK)&#29366;&#24577;&#30340;&#25968;&#37327;&#12290;</td></tr><tr><td>$TOTALHOSTSERVICESWARNING$</td><td>&#20027;&#26426;&#34987;&#32465;&#23450;&#30340;&#26381;&#21153;&#22788;&#20110;&#21578;&#35686;(WARNING)&#29366;&#24577;&#30340;&#25968;&#37327;&#12290;</td></tr><tr><td>$TOTALHOSTSERVICESUNKNOWN$</td><td>&#20027;&#26426;&#34987;&#32465;&#23450;&#30340;&#26381;&#21153;&#22788;&#20110;&#26410;&#30693;(UNKNOWN)&#29366;&#24577;&#30340;&#25968;&#37327;&#12290;</td></tr><tr><td>$TOTALHOSTSERVICESCRITICAL$</td><td>&#20027;&#26426;&#34987;&#32465;&#23450;&#30340;&#26381;&#21153;&#22788;&#20110;&#32039;&#24613;(CRITICAL)&#29366;&#24577;&#30340;&#25968;&#37327;&#12290;</td></tr></tbody></table></div></div><br class="table-break"><div class="table"><a name="d0e18933"></a><p class="title"><b>&#34920;&nbsp;8.14.&nbsp;&#20027;&#26426;&#32452;&#23439;&#65306;<a class="link" href="#macrolist_note5"><sup>5</sup></a></b></p><div class="table-contents"><table summary="&#20027;&#26426;&#32452;&#23439;&#65306;5" border="1"><colgroup><col><col></colgroup><tbody><tr><td>$HOSTGROUPALIAS$<a class="link" href="#macrolist_note5"><sup>5</sup></a></td><td>&#26377;&#20004;&#31181;&#24773;&#20917;&#65306;&#35201;&#20040;&#26159;&#20027;&#26426;&#32452;&#21517;&#34987;&#35748;&#20026;&#26159;&#32473;&#25353;&#38656;&#23439;&#21442;&#25968;&#30340;&#20027;&#26426;&#32452;&#30340;&#38271;&#21517;&#31216;&#25110;&#26165;&#31216;&#65292;&#35201;&#20040;&#26159;&#24403;&#21069;&#20027;&#26426;&#25152;&#20174;&#23646;&#30340;&#39318;&#35201;&#20027;&#26426;&#32452;(&#22914;&#26524;&#19978;&#19979;&#25991;&#37324;&#19981;&#26159;&#29992;&#20110;&#19968;&#20010;&#25353;&#38656;&#23439;&#30340;&#35805;)&#30340;&#38271;&#21517;&#31216;&#25110;&#26165;&#31216;&#12290;&#36825;&#20010;&#20540;&#21462;&#33258;<a class="link" href="#objectdefinitions_hostgroup">&#20027;&#26426;&#32452;&#23545;&#35937;&#23450;&#20041;</a>&#37324;&#30340;<span class="strong"><strong>alias</strong></span>&#22495;&#12290;</td></tr><tr><td>$HOSTGROUPMEMBERS$<a class="link" href="#macrolist_note5"><sup>5</sup></a> </td><td>&#19968;&#20010;&#29992;&#36887;&#21495;&#20998;&#38548;&#30340;&#20840;&#37096;&#20027;&#26426;&#21015;&#34920;&#65292;&#23427;&#26377;&#20004;&#31181;&#24773;&#20917;&#65306;&#35201;&#20040;&#26159;&#34987;&#35748;&#20026;&#26159;&#32473;&#25353;&#38656;&#23439;&#24403;&#21442;&#25968;&#30340;&#20027;&#26426;&#21015;&#34920;&#65292;&#35201;&#20040;&#26159;&#24403;&#21069;&#20027;&#26426;&#25152;&#20174;&#23646;&#30340;&#39318;&#35201;&#20027;&#26426;&#32452;(&#22914;&#26524;&#19978;&#19979;&#25991;&#37324;&#19981;&#26159;&#29992;&#20110;&#19968;&#20010;&#25353;&#38656;&#23439;&#30340;&#35805;)&#30340;&#20840;&#37096;&#20027;&#26426;&#21015;&#34920;&#12290;</td></tr><tr><td>$HOSTGROUPNOTES$<a class="link" href="#macrolist_note5"><sup>5</sup></a> </td><td>&#26159;&#19968;&#20010;&#27880;&#37322;&#65292;&#26377;&#20004;&#31181;&#24773;&#20917;&#65306;&#35201;&#20040;&#26159;&#32473;&#25353;&#38656;&#23439;&#24403;&#21442;&#25968;&#30340;&#20027;&#26426;&#32452;&#21517;&#65292;&#35201;&#20040;&#26159;&#24403;&#21069;&#20027;&#26426;&#25152;&#20174;&#23646;&#30340;&#39318;&#35201;&#20174;&#23646;&#30340;&#20027;&#26426;&#32452;(&#22914;&#26524;&#19978;&#19979;&#25991;&#37324;&#19981;&#26159;&#29992;&#20110;&#19968;&#20010;&#25353;&#38656;&#23439;&#30340;&#35805;)&#25152;&#21547;&#26377;&#30340;&#27880;&#37322;&#12290;&#23427;&#21462;&#33258;<a class="link" href="#objectdefinitions_hostgroup">&#20027;&#26426;&#32452;&#23545;&#35937;&#23450;&#20041;</a>&#37324;&#30340;<span class="strong"><strong>notes</strong></span>&#22495;&#12290;</td></tr><tr><td>$HOSTGROUPNOTESURL$<a class="link" href="#macrolist_note5"><sup>5</sup></a> </td><td>&#27880;&#37322;&#30340;URL&#32465;&#23450;&#20027;&#26426;&#32452;&#21517;&#65292;&#32452;&#21517;&#21462;&#20540;&#20250;&#26377;&#20004;&#31181;&#24773;&#20917;&#65292;&#35201;&#20040;&#26159;&#20570;&#20026;&#25353;&#38656;&#23439;&#21442;&#25968;&#37324;&#30340;&#20027;&#26426;&#32452;&#21517;&#65292;&#35201;&#20040;&#22312;&#19978;&#19979;&#25991;&#37324;&#19981;&#26159;&#25353;&#38656;&#23439;&#26102;&#26159;&#24403;&#21069;&#20027;&#26426;&#25152;&#23646;&#30340;&#39318;&#35201;&#20027;&#26426;&#32452;&#30340;&#32452;&#21517;&#12290;&#27880;&#37322;URL&#21462;&#33258;<a class="link" href="#objectdefinitions_hostgroup">&#20027;&#26426;&#32452;&#23545;&#35937;&#23450;&#20041;</a>&#37324;&#30340;<span class="strong"><strong>notes_url</strong></span>&#22495;&#12290;</td></tr><tr><td>$HOSTGROUPACTIONURL$<a class="link" href="#macrolist_note5"><sup>5</sup></a> </td><td>&#20027;&#26426;&#32452;&#21160;&#20316;URL&#65292;&#23427;&#32465;&#23450;&#20110;&#19968;&#20010;&#20027;&#26426;&#32452;&#65292;&#35201;&#20040;&#26159;&#25353;&#38656;&#23439;&#37324;&#20570;&#20026;&#21442;&#25968;&#30340;&#20027;&#26426;&#32452;&#21517;&#65292;&#35201;&#20040;&#22312;&#19978;&#19979;&#25991;&#37324;&#19981;&#26159;&#25353;&#38656;&#23439;&#26102;&#26159;&#24403;&#21069;&#20027;&#26426;&#25152;&#23646;&#30340;&#39318;&#35201;&#20027;&#26426;&#32452;&#30340;&#32452;&#21517;&#12290;&#20027;&#26426;&#32452;&#21160;&#20316;URL&#21462;&#33258;<a class="link" href="#objectdefinitions_hostgroup">&#20027;&#26426;&#32452;&#23545;&#35937;&#23450;&#20041;</a>&#37324;&#30340;<span class="strong"><strong>action_url</strong></span>&#22495;&#12290;</td></tr></tbody></table></div></div><br class="table-break"><div class="table"><a name="d0e19009"></a><p class="title"><b>&#34920;&nbsp;8.15.&nbsp;&#26381;&#21153;&#23439;&#65306;</b></p><div class="table-contents"><table summary="&#26381;&#21153;&#23439;&#65306;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>$SERVICEDESC$</td><td>&#26381;&#21153;&#30340;&#38271;&#21517;&#31216;&#25110;&#25551;&#36848;(&#22914;"Main Website"&#12289;"&#26680;&#24515;WEB&#31449;&#28857;")&#12290;&#35813;&#20540;&#21462;&#33258;&#20110;<a class="link" href="#objectdefinitions_service">&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;</a>&#37324;&#30340;<span class="strong"><strong>description</strong></span>&#22495;&#12290;</td></tr><tr><td>$SERVICEDISPLAYNAME$</td><td>&#35813;&#26381;&#21153;&#30340;&#19968;&#20010;&#29992;&#20110;&#26174;&#31034;&#30340;&#21517;&#23383;&#12290;&#36825;&#20010;&#20540;&#21462;&#33258;&#20110;<a class="link" href="#objectdefinitions_service">&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;</a>&#30340;<span class="strong"><strong>display_name</strong></span>&#22495;(&#24403;&#21069;&#29256;&#26412;&#37324;&#27809;&#26377;&#22312;CGI&#27169;&#22359;&#37324;&#29992;&#21040;&#36825;&#20010;&#20540;&#65292;&#20272;&#35745;&#26159;&#20026;&#22810;&#35821;&#35328;&#29256;&#26412;&#20570;&#20934;&#22791;&#30340;&#65293;&#65293;&#35793;&#32773;&#27880;)&#12290;</td></tr><tr><td><a name="macrolist_SERVICESTATE"></a>$SERVICESTATE$</td><td>&#19968;&#20010;&#29992;&#23383;&#31526;&#20018;&#34920;&#31034;&#30340;&#26381;&#21153;&#24403;&#21069;&#29366;&#24577;&#12290;&#21487;&#33021;&#30340;&#21462;&#20540;&#26159;"OK"(&#27491;&#24120;)&#12289;"WARNING"(&#21578;&#35686;)&#12289;"UNKNOWN"(&#26410;&#30693;)&#25110;"CRITICAL"(&#32039;&#24613;)&#12290;</td></tr><tr><td>$SERVICESTATEID$</td><td>&#19968;&#20010;&#29992;&#25968;&#23383;&#34920;&#31034;&#26381;&#21153;&#24403;&#21069;&#30340;&#29366;&#24577;&#12290;0=OK(&#27491;&#24120;)&#12289;1=WARNING(&#21578;&#35686;)&#12289;2=CRITICAL(&#32039;&#24613;)&#21644;3=UNKNOWN(&#26410;&#30693;)&#12290;</td></tr><tr><td>$LASTSERVICESTATE$</td><td>&#19968;&#20010;&#29992;&#23383;&#31526;&#20018;&#34920;&#31034;&#30340;&#26381;&#21153;&#26368;&#36817;&#26816;&#27979;&#21069;&#30340;&#29366;&#24577;&#12290;&#21487;&#33021;&#30340;&#21462;&#20540;&#26159;"OK"(&#27491;&#24120;)&#12289;"WARNING"(&#21578;&#35686;)&#12289;"UNKNOWN"(&#26410;&#30693;)&#25110;"CRITICAL"(&#32039;&#24613;)&#12290;</td></tr><tr><td>$LASTSERVICESTATEID$</td><td>&gt;&#19968;&#20010;&#29992;&#25968;&#23383;&#34920;&#31034;&#26368;&#36817;&#26816;&#27979;&#21069;&#30340;&#26381;&#21153;&#29366;&#24577;&#12290;0=OK(&#27491;&#24120;)&#12289;1=WARNING(&#21578;&#35686;)&#12289;2=CRITICAL(&#32039;&#24613;)&#21644;3=UNKNOWN(&#26410;&#30693;)&#12290;</td></tr><tr><td><a name="macrolist_SERVICESTATETYPE"></a>$SERVICESTATETYPE$</td><td>&#19968;&#20010;&#23383;&#31526;&#20018;&#29992;&#20110;&#34920;&#31034;&#24403;&#21069;&#26381;&#21153;&#26816;&#27979;&#30340;<a class="link" href="#statetypes" title="6.10.&nbsp;&#29366;&#24577;&#31867;&#22411;">&#29366;&#24577;&#31867;&#22411;</a>&#65292;&#21462;&#20540;&#21487;&#33021;&#26159;"HARD"(&#30828;&#24577;)&#25110;"SOFT"(&#36719;&#24577;)&#12290;&#24403;&#26381;&#21153;&#26816;&#27979;&#32467;&#26524;&#36820;&#22238;&#19968;&#20010;&#38750;&#27491;&#24120;&#29366;&#24577;&#32467;&#26524;&#24182;&#19988;&#24320;&#22987;&#36827;&#34892;&#37325;&#35797;&#26102;&#23558;&#21462;&#20540;"SOFT"&#65292;&#24403;&#26381;&#21153;&#26816;&#27979;&#36798;&#21040;&#25152;&#35774;&#32622;&#30340;&#26368;&#22823;&#26816;&#27979;&#27425;&#25968;&#38480;&#23450;&#26102;&#23558;&#21462;&#20540;"HARD"&#12290;</td></tr><tr><td><a name="macrolist_SERVICEATTEMPT"></a>$SERVICEATTEMPT$</td><td>&#24403;&#21069;&#26381;&#21153;&#30340;&#37325;&#26816;&#27979;&#27425;&#25968;&#12290;&#20363;&#22914;&#65292;&#22914;&#26524;&#36825;&#26102;&#26381;&#21153;&#27491;&#22788;&#20110;&#25925;&#38556;&#21518;&#30340;&#31532;&#20108;&#27425;&#37325;&#35797;&#38454;&#27573;&#65292;&#36825;&#20010;&#23439;&#30340;&#20540;&#26159;2&#12290;&#36825;&#20010;&#24403;&#21069;&#23581;&#35797;&#20540;&#30340;&#30495;&#27491;&#29992;&#36884;&#21482;&#26159;&#22312;&#26381;&#21153;&#20107;&#20214;&#22788;&#29702;&#20989;&#25968;&#22312;&#22788;&#29702;"&#36719;&#24577;"&#29366;&#24577;&#26102;&#21487;&#20197;&#25353;&#29031;&#24403;&#21069;&#30340;&#26381;&#21153;&#26816;&#27979;&#30340;&#37325;&#35797;&#27425;&#25968;&#37319;&#21462;&#19968;&#20123;&#29305;&#23450;&#30340;&#21160;&#20316;&#12290;</td></tr><tr><td>$MAXSERVICEATTEMPTS$</td><td>&#24403;&#21069;&#26381;&#21153;&#23450;&#20041;&#30340;&#26368;&#22823;&#37325;&#35797;&#27425;&#25968;&#12290;&#23427;&#22312;&#24403;&#32473;"&#36719;&#24577;"&#29366;&#24577;&#32534;&#20889;&#20107;&#20214;&#22788;&#29702;&#20989;&#25968;&#26102;&#21487;&#20197;&#22522;&#20110;&#26381;&#21153;&#30340;&#37325;&#35797;&#27425;&#25968;&#26469;&#37319;&#21462;&#29305;&#23450;&#21160;&#20316;&#26102;&#24456;&#26377;&#29992;&#12290;</td></tr><tr><td>$SERVICEISVOLATILE$</td><td>&#26412;&#23439;&#29992;&#20110;&#25351;&#31034;&#24403;&#21069;&#26381;&#21153;&#26159;&#21542;&#34987;&#26631;&#35760;&#25104;&#19968;&#20010;&#26131;&#21464;&#21270;&#30340;&#26381;&#21153;&#12290;0=&#19981;&#26159;&#26131;&#21464;&#21270;&#30340;&#65292;1=&#26131;&#21464;&#21270;&#23439;&#12290;</td></tr><tr><td>$SERVICEEVENTID$</td><td>&#26381;&#21153;&#24403;&#21069;&#29366;&#24577;&#20540;&#65292;&#36825;&#26159;&#20010;&#20840;&#23616;&#20998;&#37197;&#30340;&#25972;&#25968;&#20540;&#12290;&#27599;&#27425;&#26381;&#21153;&#25110;&#20027;&#26426;&#32463;&#21382;&#19968;&#27425;&#29366;&#24577;&#21464;&#21270;&#65292;&#19968;&#20010;&#20840;&#23616;&#30340;&#20107;&#20214;ID&#20540;&#23558;&#20250;&#33258;&#21160;&#22686;1&#12290;&#22914;&#26524;&#26381;&#21153;&#27809;&#26377;&#21457;&#29983;&#29366;&#24577;&#21464;&#21270;&#65292;&#36825;&#20010;&#23439;&#23558;&#34987;&#32622;&#20026;0&#12290;</td></tr><tr><td>$LASTSERVICEEVENTID$</td><td>&#32473;&#23450;&#26381;&#21153;&#30340;&#20808;&#21069;&#29366;&#24577;&#20540;&#65292;&#36825;&#20010;&#20540;&#20063;&#26159;&#20840;&#23616;&#24615;&#21807;&#19968;&#12290;</td></tr><tr><td>$SERVICEPROBLEMID$</td><td>&#24403;&#21069;&#26381;&#21153;&#25152;&#32465;&#23450;&#30340;&#25925;&#38556;&#29366;&#24577;&#30340;&#20540;&#65292;&#36825;&#26159;&#20010;&#20840;&#23616;&#20998;&#37197;&#30340;&#21807;&#19968;&#20540;&#12290;&#27599;&#27425;&#26381;&#21153;(&#25110;&#26159;&#20027;&#26426;)&#33258;OK&#27491;&#24120;(&#25110;UP&#36816;&#34892;)&#29366;&#24577;&#36716;&#20837;&#25925;&#38556;&#29366;&#24577;&#26102;&#65292;&#23558;&#20250;&#20998;&#37197;&#19968;&#20010;&#20840;&#23616;&#21807;&#19968;&#20540;&#65292;&#36825;&#20010;&#20840;&#23616;&#21807;&#19968;&#20540;&#20250;&#33258;&#21160;&#22686;1&#12290;&#22914;&#26524;&#24403;&#21069;&#26381;&#21153;&#22788;&#20110;&#38750;&#27491;&#24120;&#29366;&#24577;(&#35937;&#21578;&#35686;&#12289;&#32039;&#24613;&#31561;)&#26102;&#65292;&#36825;&#20010;&#23439;&#20540;&#23558;&#26159;&#38750;0&#20540;&#12290;&#22914;&#26524;&#33258;&#26381;&#21153;&#22312;&#38750;&#27491;&#24120;&#29366;&#24577;&#20043;&#38388;&#20999;&#25442;&#26102;&#65292;&#36825;&#20010;&#23439;&#30340;&#20540;&#23558;&#26159;0&#12290;&#19982;&#20107;&#20214;&#22788;&#29702;&#36807;&#31243;&#30456;&#37197;&#21512;&#65292;&#36825;&#20010;&#23439;&#21487;&#20197;&#29992;&#20110;&#22312;&#26381;&#21153;&#39318;&#27425;&#36827;&#20837;&#38750;&#27491;&#24120;&#29366;&#24577;&#26102;&#33258;&#21160;&#22320;&#25171;&#24320;&#25925;&#38556;&#25805;&#20316;&#31080;&#12290;</td></tr><tr><td>$LASTSERVICEPROBLEMID$</td><td>&#26381;&#21153;&#25152;&#32465;&#23450;&#30340;&#20808;&#21069;&#25925;&#38556;&#29366;&#24577;&#20540;&#12290;&#19982;&#20107;&#20214;&#22788;&#29702;&#36807;&#31243;&#30456;&#37197;&#21512;&#65292;&#36825;&#20010;&#23439;&#21487;&#29992;&#20110;&#22312;&#26381;&#21153;&#24674;&#22797;&#21040;&#27491;&#24120;&#29366;&#24577;&#26102;&#25226;&#26381;&#21153;&#25925;&#38556;&#25805;&#20316;&#31080;&#33258;&#21160;&#20851;&#38381;&#31561;&#36807;&#31243;&#20043;&#20013;&#12290;</td></tr><tr><td><a name="macrolist_SERVICELATENCY"></a>$SERVICELATENCY$</td><td>A (floating point) number indicating the number of seconds that a scheduled service check lagged behind its scheduled check time. For instance, if a check was scheduled for 03:14:15 and it didn't get executed until 03:14:17, there would be a check latency of 2.0 seconds.</td></tr><tr><td><a name="macrolist_SERVICEEXECUTIONTIME"></a>$SERVICEEXECUTIONTIME$</td><td>A (floating point) number indicating the number of seconds that the service check took to execute (i.e. the amount of time the check was executing).</td></tr><tr><td>$SERVICEDURATION$</td><td>A string indicating the amount of time that the service has spent in its current state. Format is "XXh YYm ZZs", indicating hours, minutes and seconds.</td></tr><tr><td>$SERVICEDURATIONSEC$</td><td>A number indicating the number of seconds that the service has spent in its current state.</td></tr><tr><td>$SERVICEDOWNTIME$</td><td>A number indicating the current "downtime depth" for the service. If this service is currently in a period of <a class="link" href="#downtime" title="6.5.&nbsp;&#35745;&#21010;&#20572;&#26426;&#26102;&#38388;">scheduled downtime</a>, the value will be greater than zero. If the service is not currently in a period of downtime, this value will be zero.</td></tr><tr><td>$SERVICEPERCENTCHANGE$</td><td>A (floating point) number indicating the percent state change the service has undergone. Percent state change is used by the <a class="link" href="#flapping" title="8.7.&nbsp;&#24863;&#30693;&#21644;&#22788;&#29702;&#29366;&#24577;&#25238;&#21160;">flap detection</a> algorithm.</td></tr><tr><td>$SERVICEGROUPNAME$</td><td>The short name of the servicegroup that this service belongs to. This value is taken from the <span class="strong"><strong>servicegroup_name</strong></span> directive in the <a class="link" href="#objectdefinitions_servicegroup">servicegroup</a> definition. If the service belongs to more than one servicegroup this macro will contain the name of just one of them.</td></tr><tr><td>$SERVICEGROUPNAMES$</td><td>A comma separated list of the short names of all the servicegroups that this service belongs to.</td></tr><tr><td>$LASTSERVICECHECK$</td><td>This is a timestamp in time_t format (UNIX&#31995;&#32479;&#30340;&#31186;&#35745;&#25968;&#22120;<a class="link" href="#macrolist_note11"><sup>11</sup></a>) indicating the time at which a check of the service was last performed.</td></tr><tr><td>$LASTSERVICESTATECHANGE$</td><td>This is a timestamp in time_t format (UNIX&#31995;&#32479;&#30340;&#31186;&#35745;&#25968;&#22120;<a class="link" href="#macrolist_note11"><sup>11</sup></a>) indicating the time the service last changed state.</td></tr><tr><td>$LASTSERVICEOK$</td><td>This is a timestamp in time_t format (UNIX&#31995;&#32479;&#30340;&#31186;&#35745;&#25968;&#22120;<a class="link" href="#macrolist_note11"><sup>11</sup></a>) indicating the time at which the service was last detected as being in an OK state.</td></tr><tr><td>$LASTSERVICEWARNING$</td><td>This is a timestamp in time_t format (UNIX&#31995;&#32479;&#30340;&#31186;&#35745;&#25968;&#22120;<a class="link" href="#macrolist_note11"><sup>11</sup></a>) indicating the time at which the service was last detected as being in a WARNING state.</td></tr><tr><td>$LASTSERVICEUNKNOWN$</td><td>This is a timestamp in time_t format (UNIX&#31995;&#32479;&#30340;&#31186;&#35745;&#25968;&#22120;<a class="link" href="#macrolist_note11"><sup>11</sup></a>) indicating the time at which the service was last detected as being in an UNKNOWN state.</td></tr><tr><td>$LASTSERVICECRITICAL$</td><td>This is a timestamp in time_t format (UNIX&#31995;&#32479;&#30340;&#31186;&#35745;&#25968;&#22120;<a class="link" href="#macrolist_note11"><sup>11</sup></a>) indicating the time at which the service was last detected as being in a CRITICAL state.</td></tr><tr><td>$SERVICEOUTPUT$</td><td>The first line of text output from the last service check (i.e. "Ping OK").</td></tr><tr><td><a name="macrolist_LONGSERCIEOUTPUT"></a>$LONGSERVICEOUTPUT$</td><td>The full text output (aside from the first line) from the last service check.</td></tr><tr><td>$SERVICEPERFDATA$</td><td>This macro contains any <a class="link" href="#perfdata" title="8.13.&nbsp;&#24615;&#33021;&#25968;&#25454;">performance data</a> that may have been returned by the last service check.</td></tr><tr><td>$SERVICECHECKCOMMAND$</td><td>This macro contains the name of the command (along with any arguments passed to it) used to perform the service check.</td></tr><tr><td>$SERVICEACKAUTHOR$<a class="link" href="#macrolist_note8"><sup>8</sup></a> </td><td>A string containing the name of the user who acknowledged the service problem. This macro is only valid in notifications where the $NOTIFICATIONTYPE$ macro is set to "ACKNOWLEDGEMENT".</td></tr><tr><td>$SERVICEACKAUTHORNAME$<a class="link" href="#macrolist_note8"><sup>8</sup></a> </td><td>A string containing the short name of the contact (if applicable) who acknowledged the service problem. This macro is only valid in notifications where the $NOTIFICATIONTYPE$ macro is set to "ACKNOWLEDGEMENT".</td></tr><tr><td>$SERVICEACKAUTHORALIAS$<a class="link" href="#macrolist_note8"><sup>8</sup></a> </td><td>A string containing the alias of the contact (if applicable) who acknowledged the service problem. This macro is only valid in notifications where the $NOTIFICATIONTYPE$ macro is set to "ACKNOWLEDGEMENT".</td></tr><tr><td>$SERVICEACKCOMMENT$<a class="link" href="#macrolist_note8"><sup>8</sup></a> </td><td>A string containing the acknowledgement comment that was entered by the user who acknowledged the service problem. This macro is only valid in notifications where the $NOTIFICATIONTYPE$ macro is set to "ACKNOWLEDGEMENT".</td></tr><tr><td>$SERVICEACTIONURL$</td><td>Action URL for the service. This macro may contain other macros (e.g. $HOSTNAME$ or $SERVICEDESC$), which can be useful when you want to pass the service name to a web page.</td></tr><tr><td>$SERVICENOTESURL$</td><td>Notes URL for the service. This macro may contain other macros (e.g. $HOSTNAME$ or $SERVICEDESC$), which can be useful when you want to pass the service name to a web page.</td></tr><tr><td>$SERVICENOTES$</td><td>Notes for the service. This macro may contain other macros (e.g. $HOSTNAME$ or $SERVICESTATE$), which can be useful when you want to service-specific status information, etc. in the description</td></tr></tbody></table></div></div><br class="table-break"><div class="table"><a name="d0e19279"></a><p class="title"><b>&#34920;&nbsp;8.16.&nbsp;&#26381;&#21153;&#32452;&#23439;&#65306;<a class="link" href="#macrolist_note6"><sup>6</sup></a></b></p><div class="table-contents"><table summary="&#26381;&#21153;&#32452;&#23439;&#65306;6" border="1"><colgroup><col><col></colgroup><tbody><tr><td>$SERVICEGROUPALIAS$<a class="link" href="#macrolist_note6"><sup>6</sup></a> </td><td>The long name / alias of either 1) the servicegroup name passed as an on-demand macro argument or 2) the primary servicegroup associated with the current service (if not used in the context of an on-demand macro). This value is taken from the <span class="strong"><strong>alias</strong></span> directive in the <a class="link" href="#objectdefinitions_servicegroup">servicegroup definition</a>.</td></tr><tr><td>$SERVICEGROUPMEMBERS$<a class="link" href="#macrolist_note6"><sup>6</sup></a> </td><td>A comma-separated list of all services that belong to either 1) the servicegroup name passed as an on-demand macro argument or 2) the primary servicegroup associated with the current service (if not used in the context of an on-demand macro).</td></tr><tr><td>$SERVICEGROUPNOTES$<a class="link" href="#macrolist_note6"><sup>6</sup></a> </td><td>The notes associated with either 1) the servicegroup name passed as an on-demand macro argument or 2) the primary servicegroup associated with the current service (if not used in the context of an on-demand macro). This value is taken from the <span class="strong"><strong>notes</strong></span> directive in the <a class="link" href="#objectdefinitions_servicegroup">servicegroup definition</a>.</td></tr><tr><td>$SERVICEGROUPNOTESURL$<a class="link" href="#macrolist_note6"><sup>6</sup></a> </td><td>The notes URL associated with either 1) the servicegroup name passed as an on-demand macro argument or 2) the primary servicegroup associated with the current service (if not used in the context of an on-demand macro). This value is taken from the <span class="strong"><strong>notes_url</strong></span> directive in the <a class="link" href="#objectdefinitions_servicegroup">servicegroup definition</a>.</td></tr><tr><td>$SERVICEGROUPNOTES$<a class="link" href="#macrolist_note6"><sup>6</sup></a> </td><td>The action URL associated with either 1) the servicegroup name passed as an on-demand macro argument or 2) the primary servicegroup associated with the current service (if not used in the context of an on-demand macro). This value is taken from the <span class="strong"><strong>action_url</strong></span> directive in the <a class="link" href="#objectdefinitions_servicegroup">servicegroup definition</a>.</td></tr></tbody></table></div></div><br class="table-break"><div class="table"><a name="d0e19356"></a><p class="title"><b>&#34920;&nbsp;8.17.&nbsp;&#32852;&#31995;&#20154;&#23439;&#65306;</b></p><div class="table-contents"><table summary="&#32852;&#31995;&#20154;&#23439;&#65306;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>$CONTACTNAME$</td><td>Short name for the contact (i.e. "jdoe") that is being notified of a host or service problem. This value is taken from the <span class="strong"><strong>contact_name</strong></span> directive in the <a class="link" href="#objectdefinitions_contact">contact definition</a>.</td></tr><tr><td>$CONTACTALIAS$</td><td>Long name/description for the contact (i.e. "John Doe") being notified. This value is taken from the <span class="strong"><strong>alias</strong></span> directive in the <a class="link" href="#objectdefinitions_contact">contact definition</a>.</td></tr><tr><td>$CONTACTEMAIL$</td><td>Email address of the contact being notified. This value is taken from the <span class="strong"><strong>email</strong></span> directive in the <a class="link" href="#objectdefinitions_contact">contact definition</a>.</td></tr><tr><td>$CONTACTPAGER$</td><td>Pager number/address of the contact being notified. This value is taken from the <span class="strong"><strong>pager</strong></span> directive in the <a class="link" href="#objectdefinitions_contact">contact definition</a>.</td></tr><tr><td>$CONTACTADDRESSn$</td><td>Address of the contact being notified. Each contact can have six different addresses (in addition to email address and pager number). The macros for these addresses are $CONTACTADDRESS1$ - $CONTACTADDRESS6$. This value is taken from the <span class="strong"><strong>addressx</strong></span> directive in the <a class="link" href="#objectdefinitions_contact">contact definition</a>.</td></tr><tr><td>$CONTACTGROUPNAME$</td><td>The short name of the contactgroup that this contact is a member of. This value is taken from the <span class="strong"><strong>contactgroup_name</strong></span> directive in the <a class="link" href="#objectdefinitions_contactgroup">contactgroup</a> definition. If the contact belongs to more than one contactgroup this macro will contain the name of just one of them.</td></tr><tr><td>$CONTACTGROUPNAMES$</td><td>A comma separated list of the short names of all the contactgroups that this contact is a member of.</td></tr></tbody></table></div></div><br class="table-break"><div class="table"><a name="d0e19432"></a><p class="title"><b>&#34920;&nbsp;8.18.&nbsp;&#32852;&#31995;&#20154;&#32452;&#23439;&#65306;<a class="link" href="#macrolist_note5"><sup>5</sup></a></b></p><div class="table-contents"><table summary="&#32852;&#31995;&#20154;&#32452;&#23439;&#65306;5" border="1"><colgroup><col><col></colgroup><tbody><tr><td>$CONTACTGROUPALIAS$<a class="link" href="#macrolist_note7"><sup>7</sup></a> </td><td>The long name / alias of either 1) the contactgroup name passed as an on-demand macro argument or 2) the primary contactgroup associated with the current contact (if not used in the context of an on-demand macro). This value is taken from the <span class="strong"><strong>alias</strong></span> directive in the <a class="link" href="#objectdefinitions_contactgroup">contactgroup definition</a>.</td></tr><tr><td>$CONTACTGROUPMEMBERS$<a class="link" href="#macrolist_note7"><sup>7</sup></a> </td><td>A comma-separated list of all contacts that belong to either 1) the contactgroup name passed as an on-demand macro argument or 2) the primary contactgroup associated with the current contact (if not used in the context of an on-demand macro).</td></tr></tbody></table></div></div><br class="table-break"><div class="table"><a name="d0e19464"></a><p class="title"><b>&#34920;&nbsp;8.19.&nbsp;&#27719;&#24635;&#32479;&#35745;&#23439;&#65306;</b></p><div class="table-contents"><table summary="&#27719;&#24635;&#32479;&#35745;&#23439;&#65306;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>$TOTALHOSTSUP$</td><td>This macro reflects the total number of hosts that are currently in an UP state.</td></tr><tr><td>$TOTALHOSTSDOWN$</td><td>This macro reflects the total number of hosts that are currently in a DOWN state.</td></tr><tr><td>$TOTALHOSTSUNREACHABLE$</td><td>This macro reflects the total number of hosts that are currently in an UNREACHABLE state.</td></tr><tr><td>$TOTALHOSTSDOWNUNHANDLED$</td><td>This macro reflects the total number of hosts that are currently in a DOWN state that are not currently being "handled". Unhandled host problems are those that are not acknowledged, are not currently in scheduled downtime, and for which checks are currently enabled.</td></tr><tr><td>$TOTALHOSTSUNREACHABLEUNHANDLED$</td><td>This macro reflects the total number of hosts that are currently in an UNREACHABLE state that are not currently being "handled". Unhandled host problems are those that are not acknowledged, are not currently in scheduled downtime, and for which checks are currently enabled.</td></tr><tr><td>$TOTALHOSTPROBLEMS$</td><td>This macro reflects the total number of hosts that are currently either in a DOWN or an UNREACHABLE state.</td></tr><tr><td>$TOTALHOSTPROBLEMSUNHANDLED$</td><td>This macro reflects the total number of hosts that are currently either in a DOWN or an UNREACHABLE state that are not currently being "handled". Unhandled host problems are those that are not acknowledged, are not currently in scheduled downtime, and for which checks are currently enabled.</td></tr><tr><td>$TOTALSERVICESOK$</td><td>This macro reflects the total number of services that are currently in an OK state.</td></tr><tr><td>$TOTALSERVICESWARNING$</td><td>This macro reflects the total number of services that are currently in a WARNING state.</td></tr><tr><td>$TOTALSERVICESCRITICAL$</td><td>This macro reflects the total number of services that are currently in a CRITICAL state.</td></tr><tr><td>$TOTALSERVICESUNKNOWN$</td><td>This macro reflects the total number of services that are currently in an UNKNOWN state.</td></tr><tr><td>$TOTALSERVICESWARNINGUNHANDLED$</td><td>This macro reflects the total number of services that are currently in a WARNING state that are not currently being "handled". Unhandled services problems are those that are not acknowledged, are not currently in scheduled downtime, and for which checks are currently enabled.</td></tr><tr><td>$TOTALSERVICESCRITICALUNHANDLED$</td><td>This macro reflects the total number of services that are currently in a CRITICAL state that are not currently being "handled". Unhandled services problems are those that are not acknowledged, are not currently in scheduled downtime, and for which checks are currently enabled.</td></tr><tr><td>$TOTALSERVICESUNKNOWNUNHANDLED$</td><td>This macro reflects the total number of services that are currently in an UNKNOWN state that are not currently being "handled". Unhandled services problems are those that are not acknowledged, are not currently in scheduled downtime, and for which checks are currently enabled.</td></tr><tr><td>$TOTALSERVICEPROBLEMS$</td><td>This macro reflects the total number of services that are currently either in a WARNING, CRITICAL, or UNKNOWN state.</td></tr><tr><td>$TOTALSERVICEPROBLEMSUNHANDLED$</td><td>This macro reflects the total number of services that are currently either in a WARNING, CRITICAL, or UNKNOWN state that are not currently being "handled". Unhandled services problems are those that are not acknowledged, are not currently in scheduled downtime, and for which checks are currently enabled.</td></tr></tbody></table></div></div><br class="table-break"><div class="table"><a name="d0e19549"></a><p class="title"><b>&#34920;&nbsp;8.20.&nbsp;&#36890;&#30693;&#23439;&#65306; </b></p><div class="table-contents"><table summary="&#36890;&#30693;&#23439;&#65306; " border="1"><colgroup><col><col></colgroup><tbody><tr><td><a name="macrolist_NOTIFICATIONTYPE"></a>$NOTIFICATIONTYPE$</td><td>A string identifying the type of notification that is being sent ("PROBLEM", "RECOVERY", "ACKNOWLEDGEMENT", "FLAPPINGSTART", "FLAPPINGSTOP", "FLAPPINGDISABLED", "DOWNTIMESTART", "DOWNTIMEEND", or "DOWNTIMECANCELLED").</td></tr><tr><td>$NOTIFICATIONRECIPIENTS$</td><td>A comma-separated list of the short names of all contacts that are being notified about the host or service.</td></tr><tr><td>$NOTIFICATIONISESCALATED$</td><td>An integer indicating whether this was sent to normal contacts for the host or service or if it was escalated. 0 = Normal (non-escalated) notification , 1 = Escalated notification.</td></tr><tr><td>$NOTIFICATIONAUTHOR$</td><td>A string containing the name of the user who authored the notification. If the $NOTIFICATIONTYPE$ macro is set to "DOWNTIMESTART" or "DOWNTIMEEND", this will be the name of the user who scheduled downtime for the host or service. If the $NOTIFICATIONTYPE$ macro is "ACKNOWLEDGEMENT", this will be the name of the user who acknowledged the host or service problem. If the $NOTIFICATIONTYPE$ macro is "CUSTOM", this will be name of the user who initated the custom host or service notification. </td></tr><tr><td>$NOTIFICATIONAUTHORNAME$</td><td>A string containing the short name of the contact (if applicable) specified in the $NOTIFICATIONAUTHOR$ macro.</td></tr><tr><td>$NOTIFICATIONAUTHORALIAS$</td><td>A string containing the alias of the contact (if applicable) specified in the $NOTIFICATIONAUTHOR$ macro.</td></tr><tr><td>$NOTIFICATIONCOMMENT$</td><td>A string containing the comment that was entered by the notification author. If the $NOTIFICATIONTYPE$ macro is set to "DOWNTIMESTART" or "DOWNTIMEEND", this will be the comment entered by the user who scheduled downtime for the host or service. If the $NOTIFICATIONTYPE$ macro is "ACKNOWLEDGEMENT", this will be the comment entered by the user who acknowledged the host or service problem. If the $NOTIFICATIONTYPE$ macro is "CUSTOM", this will be comment entered by the user who initated the custom host or service notification.</td></tr><tr><td><a name="macrolist_HOSTNOTIFICATIONNUMBER"></a>$HOSTNOTIFICATIONNUMBER$</td><td>The current notification number for the host. The notification number increases by one (1) each time a new notification is sent out for the host (except for acknowledgements). The notification number is reset to 0 when the host recovers (<span class="strong"><strong>after</strong></span> the recovery notification has gone out). Acknowledgements do not cause the notification number to increase, nor do notifications dealing with flap detection or scheduled downtime.</td></tr><tr><td>$HOSTNOTIFICATIONID$</td><td>A unique number identifying a host notification. Notification ID numbers are unique across both hosts and service notifications, so you could potentially use this unique number as a primary key in a notification database. Notification ID numbers should remain unique across restarts of the Nagios process, so long as you have state retention enabled. The notification ID number is incremented by one (1) each time a new host notification is sent out, and regardless of how many contacts are notified.</td></tr><tr><td><a name="macrolist_SERVICENOTIFICATIONNUMBER"></a>$SERVICENOTIFICATIONNUMBER$</td><td>The current notification number for the service. The notification number increases by one (1) each time a new notification is sent out for the service (except for acknowledgements). The notification number is reset to 0 when the service recovers (<span class="strong"><strong>after</strong></span> the recovery notification has gone out). Acknowledgements do not cause the notification number to increase, nor do notifications dealing with flap detection or scheduled downtime.</td></tr><tr><td>$SERVICENOTIFICATIONID$</td><td>A unique number identifying a service notification. Notification ID numbers are unique across both hosts and service notifications, so you could potentially use this unique number as a primary key in a notification database. Notification ID numbers should remain unique across restarts of the Nagios process, so long as you have state retention enabled. The notification ID number is incremented by one (1) each time a new service notification is sent out, and regardless of how many contacts are notified.</td></tr></tbody></table></div></div><br class="table-break"><div class="table"><a name="d0e19615"></a><p class="title"><b>&#34920;&nbsp;8.21.&nbsp;&#26085;&#26399;/&#26102;&#38388;&#23439;&#65306;</b></p><div class="table-contents"><table summary="&#26085;&#26399;/&#26102;&#38388;&#23439;&#65306;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>$LONGDATETIME$</td><td>&#24403;&#21069;&#30340;&#26085;&#26399;/&#26102;&#38388;&#25139;(&#22914;<span class="strong"><strong>Fri Oct 13 00:30:28 CDT 2000</strong></span>)&#12290;&#26085;&#26399;&#30340;&#26684;&#24335;&#31526;&#21512;<a class="link" href="#date_format" title="&#34920;&nbsp;5.109.&nbsp;Date Format">date_format</a>&#22495;&#35774;&#32622;&#12290;</td></tr><tr><td>$SHORTDATETIME$</td><td>&#24403;&#21069;&#30340;&#26085;&#26399;/&#26102;&#38388;&#25139;(&#22914;<span class="strong"><strong>10-13-2000 00:30:28</strong></span>).&#12290;&#26085;&#26399;&#30340;&#26684;&#24335;&#31526;&#21512;<a class="link" href="#date_format" title="&#34920;&nbsp;5.109.&nbsp;Date Format">date_format</a>&#22495;&#35774;&#32622;&#12290;</td></tr><tr><td>$DATE$</td><td>&#26085;&#26399;&#25139;(&#22914;<span class="strong"><strong>10-13-2000</strong></span>)&#12290;&#26085;&#26399;&#26684;&#24335;&#31526;&#21512;<a class="link" href="#date_format" title="&#34920;&nbsp;5.109.&nbsp;Date Format">date_format</a>&#22495;&#35774;&#32622;&#12290;</td></tr><tr><td>$TIME$</td><td>&#24403;&#21069;&#26102;&#38388;&#25139;(&#22914;<span class="strong"><strong>00:30:28</strong></span>)&#12290;</td></tr><tr><td>$TIMET$</td><td>&#20197;time_t&#26684;&#24335;&#34920;&#31034;&#30340;&#24403;&#21069;&#26102;&#38388;&#25139;(UNIX&#31995;&#32479;&#30340;&#31186;&#35745;&#25968;&#22120;<a class="link" href="#macrolist_note11"><sup>11</sup></a>)&#12290;</td></tr><tr><td>$ISVALIDTIME:$<a class="link" href="#macrolist_note9"><sup>9</sup></a></td><td>&#36825;&#26159;&#25353;&#38656;&#23439;&#25152;&#29305;&#26377;&#30340;&#65292;&#36820;&#22238;1&#25110;0&#65292;&#29992;&#20197;&#25351;&#31034;&#19968;&#20010;&#25351;&#23450;&#26102;&#21051;&#22312;&#25351;&#23450;&#26102;&#38388;&#21608;&#26399;&#23545;&#35937;&#23450;&#20041;&#19979;&#26159;&#21542;&#21512;&#27861;&#12290;&#26377;&#20004;&#31181;&#26041;&#24335;&#26469;&#20351;&#29992;&#36825;&#20010;&#23439;&#65306;<div class="orderedlist"><ol type="1"><li><span class="bold"><strong>$ISVALIDTIME:24x7$</strong></span>&#65293;&#65293;&#22914;&#26524;&#24403;&#21069;&#26102;&#38388;&#28857;&#22312;"24x7"&#36825;&#20010;&#26102;&#38388;&#21608;&#26399;&#23450;&#20041;&#37324;&#26159;&#20010;&#21512;&#27861;&#26102;&#38388;&#21017;&#36820;&#22238;"1"&#65292;&#22914;&#26524;&#19981;&#26159;&#21512;&#27861;&#26102;&#38388;&#21017;&#36820;&#22238;"0"&#65307;</li><li><span class="bold"><strong>$ISVALIDTIME:24x7:<span class="strong"><strong>timestamp</strong></span>$</strong></span>&#65293;&#65293;&#22914;&#26524;&#30001;"timestamp"(&#24517;&#39035;&#26159;time_t&#26684;&#24335;)&#25152;&#25351;&#23450;&#30340;&#26102;&#21051;&#22312;"24x7"&#36825;&#20010;&#26102;&#38388;&#21608;&#26399;&#23450;&#20041;&#37324;&#26159;&#20010;&#21512;&#27861;&#26102;&#38388;&#21017;&#36820;&#22238;"1"&#65292;&#21542;&#21017;&#36820;&#22238;"0".</li></ol></div> </td></tr><tr><td>$NEXTVALIDTIME:$<a class="link" href="#macrolist_note9"><sup>9</sup></a> </td><td>&#36825;&#26159;&#25353;&#38656;&#23439;&#25152;&#29305;&#26377;&#30340;&#65292;&#36820;&#22238;&#22312;&#25351;&#23450;&#30340;&#26102;&#38388;&#21608;&#26399;&#23545;&#35937;&#23450;&#20041;&#19979;&#30340;&#19979;&#19968;&#20010;&#21512;&#27861;&#30340;&#26102;&#38388;&#20540;(&#26159;time_t&#26684;&#24335;&#30340;)&#65292;&#26377;&#20004;&#31181;&#26041;&#24335;&#26469;&#20351;&#29992;&#35813;&#23439;&#65306;<div class="orderedlist"><ol type="1"><li><span class="bold"><strong>$NEXTVALIDTIME:24x7$</strong></span>&#65293;&#65293;&#23558;&#36820;&#22238;&#22312;"24x7"&#36825;&#20010;&#26102;&#38388;&#21608;&#26399;&#23545;&#35937;&#23450;&#20041;&#25152;&#38480;&#23450;&#26102;&#38388;&#27573;&#20869;&#30340;&#33258;&#24403;&#21069;&#26102;&#38388;&#21518;&#30340;&#19979;&#19968;&#20010;&#21512;&#27861;&#26102;&#38388;&#28857;&#12290;</li><li><span class="bold"><strong>$NEXTVALIDTIME:24x7:<span class="strong"><strong>timestamp</strong></span>$</strong></span>&#65293;&#65293;&#23558;&#36820;&#22238;&#22312;"24x7"&#36825;&#20010;&#26102;&#38388;&#21608;&#26399;&#23545;&#35937;&#23450;&#20041;&#25152;&#38480;&#23450;&#26102;&#38388;&#27573;&#20869;&#30340;&#20174;"timestamp"(&#26159;&#20010;time_t&#26684;&#24335;&#30340;)&#25152;&#26631;&#26102;&#38388;&#21518;&#30340;&#19979;&#19968;&#20010;&#21512;&#27861;&#26102;&#38388;&#28857;&#12290;</li></ol></div>&#22914;&#26524;&#22312;&#25351;&#23450;&#30340;&#26102;&#38388;&#21608;&#26399;&#23545;&#35937;&#23450;&#20041;&#37324;&#27809;&#33021;&#25214;&#21040;&#19979;&#19968;&#20010;&#21512;&#27861;&#26102;&#38388;&#65292;&#23439;&#23558;&#34987;&#32622;&#20026;"0"&#12290;</td></tr></tbody></table></div></div><br class="table-break"><div class="table"><a name="d0e19713"></a><p class="title"><b>&#34920;&nbsp;8.22.&nbsp;&#25991;&#20214;&#23439;&#65306;</b></p><div class="table-contents"><table summary="&#25991;&#20214;&#23439;&#65306;" border="1"><colgroup><col><col></colgroup><tbody><tr><td>$MAINCONFIGFILE$</td><td><a class="link" href="#configmain" title="5.2.&nbsp;&#20027;&#37197;&#32622;&#25991;&#20214;&#36873;&#39033;">&#20027;&#37197;&#32622;&#25991;&#20214;</a>&#30340;&#20445;&#23384;&#20301;&#32622;&#12290;</td></tr><tr><td>$STATUSDATAFILE$</td><td><a class="link" href="#status_file" title="&#34920;&nbsp;5.9.&nbsp;&#29366;&#24577;&#25991;&#20214;">&#29366;&#24577;&#25968;&#25454;&#25991;&#20214;</a>&#30340;&#20445;&#23384;&#20301;&#32622;&#12290;</td></tr><tr><td>$COMMENTDATAFILE$</td><td>&#27880;&#37322;&#25968;&#25454;&#25991;&#20214;&#30340;&#20445;&#23384;&#20301;&#32622;&#12290;</td></tr><tr><td>$DOWNTIMEDATAFILE$</td><td>&#20572;&#26426;&#26102;&#38388;&#25968;&#25454;&#25991;&#20214;&#30340;&#20445;&#23384;&#20301;&#32622;&#12290;</td></tr><tr><td>$RETENTIONDATAFILE$</td><td><a class="link" href="#state_retention_file" title="&#34920;&nbsp;5.27.&nbsp;&#29366;&#24577;&#20445;&#25345;&#25991;&#20214;">&#29366;&#24577;&#20445;&#25345;&#25968;&#25454;&#25991;&#20214;</a>&#30340;&#20445;&#23384;&#20301;&#32622;&#12290;</td></tr><tr><td>$OBJECTCACHEFILE$</td><td><a class="link" href="#object_cache_file" title="&#34920;&nbsp;5.4.&nbsp;&#23545;&#35937;&#32531;&#20914;&#25991;&#20214;">&#23545;&#35937;&#32531;&#23384;&#25991;&#20214;</a>&#30340;&#20445;&#23384;&#20301;&#32622;&#12290;</td></tr><tr><td>$TEMPFILE$</td><td>The location of the <a class="link" href="#temp_file" title="&#34920;&nbsp;5.7.&nbsp;&#20020;&#26102;&#25991;&#20214;">&#20020;&#26102;&#25991;&#20214;</a>&#30340;&#20445;&#23384;&#20301;&#32622;&#12290;</td></tr><tr><td>$TEMPPATH$</td><td><a class="link" href="#temp_path" title="&#34920;&nbsp;5.8.&nbsp;&#20020;&#26102;&#36335;&#24452;">&#20020;&#26102;&#30446;&#24405;</a>&#21464;&#37327;&#25152;&#25351;&#21521;&#30340;&#30446;&#24405;&#12290;</td></tr><tr><td>$LOGFILE$</td><td><a class="link" href="#log_file" title="&#34920;&nbsp;5.1.&nbsp;&#26085;&#24535;&#25991;&#20214;">&#26085;&#24535;&#25991;&#20214;</a>&#30340;&#20445;&#23384;&#20301;&#32622;&#12290;</td></tr><tr><td>$RESOURCEFILE$</td><td><a class="link" href="#resource_file" title="&#34920;&nbsp;5.6.&nbsp;&#36164;&#28304;&#25991;&#20214;">&#36164;&#28304;&#25991;&#20214;</a>&#30340;&#20445;&#23384;&#20301;&#32622;&#12290;</td></tr><tr><td>$COMMANDFILE$</td><td><a class="link" href="#command_file" title="&#34920;&nbsp;5.23.&nbsp;&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;">&#21629;&#20196;&#25991;&#20214;</a>&#30340;&#20445;&#23384;&#20301;&#32622;&#12290;</td></tr><tr><td>$HOSTPERFDATAFILE$</td><td>(&#22914;&#26524;&#23450;&#20041;&#36807;&#30340;)&#20027;&#26426;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;&#30340;&#20445;&#23384;&#20301;&#32622;&#12290;</td></tr><tr><td>$SERVICEPERFDATAFILE$</td><td>(&#22914;&#26524;&#23450;&#20041;&#36807;&#30340;)&#26381;&#21153;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;&#30340;&#20445;&#23384;&#20301;&#32622;&#12290;</td></tr></tbody></table></div></div><br class="table-break"><div class="table"><a name="d0e19802"></a><p class="title"><b>&#34920;&nbsp;8.23.&nbsp;&#20854;&#20182;&#23439;&#65306; </b></p><div class="table-contents"><table summary="&#20854;&#20182;&#23439;&#65306; " border="1"><colgroup><col><col></colgroup><tbody><tr><td>$PROCESSSTARTTIME$</td><td>&#20197;time_t(UNIX&#31995;&#32479;&#30340;&#31186;&#35745;&#25968;&#22120;<a class="link" href="#macrolist_note11"><sup>11</sup></a>)&#26684;&#24335;&#30340;&#26102;&#38388;&#25139;&#25351;&#21521;&#20102;Nagios&#36827;&#31243;&#21551;&#21160;&#25110;&#37325;&#21551;&#30340;&#26102;&#21051;&#12290;&#21487;&#20197;&#29992;$TIMET$&#20943;&#21435;$PROCESSSTARTTIME$&#26469;&#35745;&#31639;&#20986;Nagios&#33258;&#26368;&#21518;&#19968;&#27425;&#21551;&#21160;&#33267;&#20170;&#20849;&#36816;&#34892;&#20102;&#22810;&#23569;&#31186;&#12290;</td></tr><tr><td>$EVENTSTARTTIME$</td><td>&#20197;time_t&#26684;&#24335;&#30340;&#26102;&#38388;&#25139;&#65292;&#25351;&#31034;&#20102;Nagios&#24320;&#22987;&#22788;&#29702;&#20107;&#20214;(&#26816;&#27979;&#31561;)&#30340;&#26102;&#21051;&#12290;&#21487;&#20197;&#29992;$EVENTSTARTTIME$&#20943;&#21435;$PROCESSSTARTTIME$&#26469;&#35745;&#31639;&#20986;Nagios&#33457;&#20102;&#22810;&#23569;&#31186;&#26469;&#21551;&#21160;&#23601;&#32490;&#12290;</td></tr><tr><td>$ADMINEMAIL$</td><td>&#20840;&#23616;&#30340;&#31649;&#29702;&#21592;EMail&#22320;&#22336;&#65292;&#36825;&#20010;&#20540;&#26159;&#20174;&#37197;&#32622;&#25991;&#20214;&#37324;&#30340;<a class="link" href="#admin_email" title="&#34920;&nbsp;5.116.&nbsp;&#31649;&#29702;&#21592;EMail&#24080;&#21495;">admin_email</a>&#22495;&#37324;&#21462;&#24471;&#30340;&#12290;</td></tr><tr><td>$ADMINPAGER$</td><td>&#20840;&#23616;&#31649;&#29702;&#21592;&#30340;BP&#26426;&#21495;&#25110;&#22320;&#22336;&#65292;&#36825;&#20010;&#26159;&#20174;<a class="link" href="#admin_pager" title="&#34920;&nbsp;5.117.&nbsp;&#31649;&#29702;&#21592;BP&#26426;&#24080;&#21495;">admin_pager</a>&#22495;&#37324;&#21462;&#24471;&#30340;&#20540;&#12290;</td></tr><tr><td><a name="macrolist_ARG"></a>$ARGn$</td><td>&#25351;&#21521;&#31532;<span class="strong"><strong>n</strong></span>&#20010;&#21629;&#20196;&#20256;&#36882;&#21442;&#25968;(&#36890;&#30693;&#12289;&#20107;&#20214;&#22788;&#29702;&#12289;&#26381;&#21153;&#26816;&#27979;&#31561;)&#12290;Nagios&#25903;&#25345;&#26368;&#22810;32&#20010;&#21442;&#25968;&#23439;(&#20174;$ARG1$&#21040;$ARG32$)&#12290;</td></tr><tr><td><a name="macrolist_USER"></a>$USERn$</td><td>&#25351;&#21521;&#31532;<span class="strong"><strong>n</strong></span>&#20010;&#29992;&#25143;&#30340;&#23439;&#12290;&#29992;&#25143;&#23439;&#21487;&#20197;&#22312;<a class="link" href="#resource_file" title="&#34920;&nbsp;5.6.&nbsp;&#36164;&#28304;&#25991;&#20214;">&#36164;&#28304;&#25991;&#20214;</a>&#37324;&#23450;&#20041;&#19968;&#20010;&#25110;&#22810;&#20010;&#12290;Nagios&#25903;&#25345;&#26368;&#22810;32&#20010;&#29992;&#25143;&#23439;(&#20174;$USER1$&#21040;$USER32$)&#12290;</td></tr></tbody></table></div></div><br class="table-break"></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e19856"></a>8.3.4.&nbsp;&#27880;&#24847;</h3></div></div></div><p><a name="macrolist_note1"></a><sup>1</sup>&#24403;&#20027;&#26426;&#22788;&#20110;&#26816;&#27979;&#29366;&#24577;&#26102;&#19982;&#20043;&#30456;&#20851;&#30340;&#23439;&#26159;&#26080;&#25928;&#30340;(&#22914;&#20182;&#20204;&#27809;&#26377;&#34987;&#26816;&#27979;&#20063;&#23601;&#36824;&#27809;&#26377;&#23450;&#24615;&#29366;&#24577;&#26102;)&#65307;</p><p><a name="macrolist_note2"></a><sup>2</sup>&#24403;&#26381;&#21153;&#22788;&#20110;&#26816;&#27979;&#29366;&#24577;&#26102;&#19982;&#20043;&#30456;&#20851;&#30340;&#23439;&#26159;&#26080;&#25928;&#30340;(&#22914;&#20182;&#20204;&#27809;&#26377;&#34987;&#26816;&#27979;&#20063;&#23601;&#36824;&#27809;&#26377;&#23450;&#24615;&#29366;&#24577;&#26102;)&#65307;</p><p><a name="macrolist_note3"></a><sup>3</sup>&#24403;&#20027;&#26426;&#23439;&#34987;&#29992;&#20110;&#26381;&#21153;&#30456;&#20851;&#21629;&#20196;&#26102;(&#22914;&#26381;&#21153;&#36890;&#30693;&#12289;&#20107;&#20214;&#22788;&#29702;&#31561;)&#20027;&#26426;&#23439;&#34987;&#25351;&#21521;&#20102;&#19982;&#26381;&#21153;&#30456;&#20851;&#30340;&#20027;&#26426;&#65307;</p><p><a name="macrolist_note4"></a><sup>4</sup>&#24403;&#20027;&#26426;&#19982;&#26381;&#21153;&#27719;&#24635;&#32479;&#35745;&#23439;&#34987;&#29992;&#20110;&#36890;&#30693;&#21629;&#20196;&#26102;&#65292;&#21482;&#26159;&#24403;&#32852;&#31995;&#20154;&#34987;&#25480;&#26435;&#30340;&#20027;&#26426;&#25110;&#26381;&#21153;&#34987;&#32479;&#35745;&#21040;&#27719;&#24635;&#32467;&#26524;&#20043;&#20013;(&#22914;&#20027;&#26426;&#21644;&#26381;&#21153;&#37197;&#32622;&#20197;&#35813;&#32852;&#31995;&#20154;&#20026;&#36890;&#30693;&#25509;&#25910;&#20154;&#30340;&#24773;&#20917;)&#65307;</p><p><a name="macrolist_note5"></a><sup>5</sup>&#36825;&#20123;&#23439;&#36890;&#24120;&#26159;&#25351;&#21521;&#24403;&#21069;&#20027;&#26426;&#25152;&#23646;&#30340;&#31532;&#19968;&#20010;(&#39318;&#35201;)&#20027;&#26426;&#32452;&#12290;&#24456;&#22810;&#24773;&#20917;&#19979;&#21487;&#34987;&#35748;&#20026;&#26159;&#19968;&#31181;&#20027;&#26426;&#23439;&#12290;&#28982;&#32780;&#36825;&#20123;&#23439;&#19981;&#33021;&#20570;&#20026;&#25353;&#38656;&#23439;&#37324;&#30340;&#20027;&#26426;&#23439;&#65292;&#24403;&#20320;&#29992;&#36825;&#20123;&#23439;&#20256;&#20027;&#26426;&#32452;&#21517;&#26102;&#36825;&#20123;&#23439;&#21487;&#34987;&#29992;&#20570;&#25353;&#38656;&#23439;&#30340;&#20027;&#26426;&#32452;&#23439;&#12290;&#22914;&#65306;$HOSTGROUPMEMBERS:hg1$&#23558;&#36820;&#22238;&#20027;&#26426;&#32452;<span class="strong"><strong>hg1</strong></span>&#37324;&#30340;&#20840;&#37096;&#25104;&#21592;&#20027;&#26426;&#65292;&#26159;&#20010;&#20197;&#36887;&#21495;&#20998;&#24320;&#30340;&#21015;&#34920;&#12290;</p><p><a name="macrolist_note6"></a><sup>6</sup>&#36825;&#20123;&#23439;&#36890;&#24120;&#26159;&#25351;&#21521;&#24403;&#21069;&#26381;&#21153;&#25152;&#23646;&#30340;&#31532;&#19968;&#20010;(&#39318;&#35201;)&#26381;&#21153;&#32452;&#12290;&#24456;&#22810;&#24773;&#20917;&#19979;&#21487;&#34987;&#35748;&#20026;&#26159;&#19968;&#31181;&#26381;&#21153;&#23439;&#12290;&#28982;&#32780;&#36825;&#20123;&#23439;&#19981;&#33021;&#20570;&#20026;&#25353;&#38656;&#23439;&#37324;&#30340;&#26381;&#21153;&#23439;&#65292;&#24403;&#20320;&#29992;&#36825;&#20123;&#23439;&#20256;&#26381;&#21153;&#32452;&#21517;&#26102;&#36825;&#20123;&#23439;&#21487;&#34987;&#29992;&#20570;&#25353;&#38656;&#23439;&#30340;&#26381;&#21153;&#32452;&#23439;&#12290;&#22914;&#65306;$SERVICEGROUPMEMBERS:sg1$&#23558;&#36820;&#22238;&#26381;&#21153;&#32452;<span class="strong"><strong>sg1</strong></span>&#37324;&#30340;&#20840;&#37096;&#25104;&#21592;&#26381;&#21153;&#65292;&#26159;&#20010;&#20197;&#36887;&#21495;&#20998;&#24320;&#30340;&#21015;&#34920;&#12290;</p><p><a name="macrolist_note7"></a><sup>7</sup>&#36825;&#20123;&#23439;&#36890;&#24120;&#26159;&#25351;&#21521;&#24403;&#21069;&#32852;&#31995;&#20154;&#25152;&#23646;&#30340;&#31532;&#19968;&#20010;(&#39318;&#35201;)&#32852;&#31995;&#20154;&#32452;&#12290;&#24456;&#22810;&#24773;&#20917;&#19979;&#21487;&#34987;&#35748;&#20026;&#26159;&#19968;&#31181;&#32852;&#31995;&#20154;&#23439;&#12290;&#28982;&#32780;&#36825;&#20123;&#23439;&#19981;&#33021;&#20570;&#20026;&#25353;&#38656;&#23439;&#37324;&#30340;&#32852;&#31995;&#20154;&#23439;&#65292;&#24403;&#20320;&#29992;&#36825;&#20123;&#23439;&#20256;&#32852;&#31995;&#20154;&#21517;&#26102;&#36825;&#20123;&#23439;&#21487;&#34987;&#29992;&#20570;&#25353;&#38656;&#23439;&#30340;&#32852;&#31995;&#20154;&#23439;&#12290;&#22914;&#65306;$CONTACTGROUPMEMBERS:cg1$&#23558;&#36820;&#22238;&#32852;&#31995;&#20154;&#32452;<span class="strong"><strong>cg1</strong></span>&#37324;&#30340;&#20840;&#37096;&#25104;&#21592;&#32852;&#31995;&#20154;&#65292;&#26159;&#20010;&#20197;&#36887;&#21495;&#20998;&#24320;&#30340;&#21015;&#34920;&#12290;</p><p><a name="macrolist_note8"></a><sup>8</sup>&#23613;&#37327;&#19981;&#20351;&#29992;&#36825;&#20123;&#23439;&#12290;&#29992;&#26356;&#36890;&#29992;&#30340;&#23439;$NOTIFICATIONAUTHOR$&#12289;$NOTIFICATIONAUTHORNAME$&#12289;$NOTIFICATIONAUTHORALIAS$&#25110;$NOTIFICATIONAUTHORCOMMENT$&#31561;&#23439;&#26367;&#25442;&#12290;</p><p><a name="macrolist_note9"></a><sup>9</sup>&#36825;&#20123;&#23439;&#21482;&#29992;&#20110;&#25353;&#38656;&#23439; &#65293; &#20063;&#23601;&#26159;&#35828;&#20026;&#20102;&#20351;&#29992;&#23427;&#20204;&#24517;&#39035;&#35201;&#25552;&#20379;&#39069;&#22806;&#30340;&#21442;&#25968;&#12290;&#36825;&#20123;&#23439;&#22312;&#29615;&#22659;&#21464;&#37327;&#20013;&#19981;&#21487;&#29992;&#12290;</p><p><a name="macrolist_note10"></a><sup>10</sup>&#27719;&#24635;&#32479;&#35745;&#23439;&#22312;&#24403;&#35774;&#32622;<a class="link" href="#use_large_installation_tweaks" title="&#34920;&nbsp;5.66.&nbsp;Large Installation Tweaks Option">use_large_installation_tweaks</a>&#36873;&#39033;&#20351;&#33021;&#26102;&#22312;&#29615;&#22659;&#21464;&#37327;&#20013;&#19981;&#21487;&#29992;&#65292;&#22240;&#20026;&#36825;&#23558;&#38750;&#24120;&#23494;&#38598;&#20351;&#29992;CPU&#26469;&#35745;&#31639;&#65307;</p><p><a name="macrolist_note11"></a><sup>11</sup>&#35793;&#32773;&#21152;&#27880;&#65293;&#65293;UNIX&#31995;&#32479;&#30340;&#31186;&#35745;&#25968;&#22120;&#30340;&#35745;&#26102;&#36215;&#28857;&#26159;&#26684;&#26519;&#23612;&#27835;&#26102;&#38388;&#30340;1970-01-01 00:00:00&#36215;&#35745;&#26102;&#30340;&#31186;&#25968;&#65292;&#27880;&#24847;&#65292;&#19968;&#33324;&#20351;&#29992;&#26102;&#20250;&#26377;&#26102;&#21306;&#30340;&#21464;&#21270;&#65292;&#27604;&#22914;&#24403;&#20027;&#26426;&#20351;&#29992;&#30340;&#26159;&#21271;&#20140;&#26102;&#38388;(+8:00)&#20570;&#20026;&#26412;&#22320;&#26102;&#38047;&#30340;&#24773;&#20917;&#19979;&#65292;&#36825;&#20010;&#26102;&#38388;&#36716;&#25442;&#20250;&#26377;8&#23567;&#26102;&#30340;&#26102;&#21306;&#20559;&#24046;&#65292;&#22788;&#29702;&#19981;&#24910;&#20250;&#23548;&#33268;&#23439;&#24341;&#29992;&#20986;&#38169;&#65281;&#65293;&#65293;&#35793;&#32773;&#27880;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="networkreachability"></a>8.4.&nbsp;&#22914;&#20309;&#30830;&#35748;&#32593;&#32476;&#20013;&#20027;&#26426;&#30340;&#29366;&#24577;&#19982;&#21487;&#36798;&#24615;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e19918"></a>8.4.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>&#22914;&#26524;&#20570;&#36807;&#25216;&#26415;&#25903;&#25345;&#23601;&#20250;&#26377;&#36807;&#36825;&#31181;&#22256;&#24785;&#65292;&#29992;&#25143;&#25265;&#24616;&#35828;&#8220;&#22240;&#29305;&#32593;&#19981;&#36890;&#20102;&#8221;&#32780;&#20320;&#21364;&#24456;&#25235;&#29378;&#12290;&#20570;&#20026;&#19968;&#20010;&#36127;&#36131;&#20219;&#30340;&#20154;&#65292;&#21487;&#20197;&#32943;&#23450;&#30340;&#26159;&#27809;&#26377;&#20154;&#20250;&#25289;&#25481;&#32593;&#32476;&#20379;&#30005;&#30005;&#28304;&#65292;&#20294;&#26159;&#65292;&#30001;&#20110;&#29992;&#25143;&#22312;&#21150;&#20844;&#23460;&#19978;&#19981;&#20102;&#32593;&#21364;&#30830;&#23454;&#22320;&#23384;&#22312;&#12290;</p><p>&#22914;&#26524;&#26159;&#20010;&#25216;&#26415;&#24615;&#25925;&#38556;&#65292;&#21487;&#33021;&#20250;&#25214;&#23547;&#25925;&#38556;&#38382;&#39064;&#25152;&#22312;&#12290;&#21487;&#33021;&#20250;&#37325;&#21551;&#21160;&#29992;&#25143;&#35745;&#31639;&#26426;&#65292;&#21487;&#33021;&#26159;&#29992;&#25143;&#30340;&#32593;&#32447;&#22836;&#27809;&#25554;&#22909;&#65292;&#20063;&#21487;&#33021;&#26159;&#26680;&#24515;&#36335;&#30001;&#22120;&#26377;&#28857;&#8220;&#25277;&#39118;&#8221;&#12290;&#26080;&#35770;&#21738;&#20010;&#38382;&#39064;&#65292;&#21482;&#26377;&#19968;&#20010;&#26159;&#32943;&#23450;&#23384;&#22312;&#30340; &#65293; &#22240;&#29305;&#32593;&#19981;&#36890;&#12290;&#21482;&#26159;&#23545;&#37027;&#20010;&#29992;&#25143;&#32780;&#35328;&#22240;&#29305;&#32593;&#26159;&#19981;&#21487;&#36798;&#30340;&#12290;</p><p>Nagios&#20855;&#22791;&#21028;&#26029;&#25152;&#30417;&#25511;&#20027;&#26426;&#26159;&#21542;&#22788;&#20110;&#23445;&#26426;&#36824;&#26159;&#19981;&#21487;&#36798;&#29366;&#24577;&#30340;&#33021;&#21147;&#12290;&#20004;&#20010;&#26159;&#24456;&#19981;&#21516;&#30340;&#29366;&#24577;(&#34429;&#28982;&#23427;&#20204;&#26159;&#30456;&#20851;&#32852;&#30340;)&#24182;&#19988;&#21487;&#20197;&#24110;&#21161;&#20320;&#24555;&#36895;&#22320;&#25214;&#21040;&#25925;&#38556;&#26681;&#28304;&#12290;&#19979;&#38754;&#26159;&#32593;&#32476;&#21487;&#36798;&#24615;&#36923;&#36753;&#22914;&#20309;&#26469;&#20998;&#36776;&#20004;&#31181;&#29366;&#24577;&#30340;&#35828;&#26126;...</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e19927"></a>8.4.2.&nbsp;&#26679;&#26495;&#32593;&#32476;</h3></div></div></div><p>&#19979;&#38754;&#26159;&#19968;&#20010;&#31616;&#26131;&#30340;&#32593;&#32476;&#22270;&#12290;&#22312;&#36825;&#20010;&#20363;&#23376;&#20013;&#65292;&#20551;&#23450;&#30417;&#25511;&#20102;&#22270;&#20013;&#20840;&#37096;&#30340;&#20027;&#26426;(&#26381;&#21153;&#22120;&#12289;&#36335;&#30001;&#22120;&#21644;&#20132;&#25442;&#26426;&#31561;)&#12290;Nagios&#23433;&#35013;&#24182;&#36816;&#34892;&#22312;&#22270;&#20013;&#21517;&#20026;<span class="strong"><strong>Nagios</strong></span>&#20027;&#26426;&#19978;&#12290;</p><div><img src="../pub/images/reachability1.png"></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e19936"></a>8.4.3.&nbsp;&#23450;&#20041;&#32593;&#32476;&#20027;&#26426;&#30340;&#29238;&#23376;&#20851;&#31995;</h3></div></div></div><p>&#20026;&#20351;Nagios&#20998;&#36776;&#20986;&#25152;&#30417;&#25511;&#20027;&#26426;&#25152;&#22788;&#20110;&#23445;&#26426;&#36824;&#26159;&#19981;&#21487;&#36798;&#29366;&#24577;&#65292;&#24517;&#39035;&#35201;&#32473;&#20986;&#20027;&#26426;&#38388;&#30340;&#32852;&#25509;&#20851;&#31995;&#65293;&#32852;&#25509;&#20851;&#31995;&#35201;&#22522;&#20110;Nagios&#20027;&#23432;&#25252;&#31243;&#24207;&#25152;&#22312;&#28857;&#20026;&#26681;&#28857;&#12290;&#36861;&#36394;&#27599;&#20010;&#20174;Nagios&#20027;&#23432;&#25252;&#31243;&#24207;&#21040;&#21508;&#33258;&#33410;&#28857;&#30340;&#25968;&#25454;&#21253;&#23558;&#21487;&#20197;&#24471;&#21040;&#36825;&#31181;&#20851;&#31995;&#12290;&#27599;&#20010;&#20132;&#25442;&#26426;&#12289;&#36335;&#30001;&#22120;&#21644;&#26381;&#21153;&#22120;&#19978;&#30340;&#25968;&#25454;&#21253;&#30896;&#25758;&#25110;&#36890;&#36807;&#37117;&#35748;&#20026;&#26159;&#32593;&#32476;&#25299;&#25169;&#20013;&#30340;&#19968;&#36339;"hop"&#65292;&#38656;&#35201;&#22312;Nagios&#37324;&#23450;&#20041;&#20986;&#20027;&#26426;&#38388;&#30340;&#29238;/&#23376;&#33410;&#28857;&#20851;&#31995;&#65292;&#19979;&#38754;&#32473;&#20986;&#20363;&#23376;&#20013;&#30340;&#32593;&#32476;&#22312;Nagios&#20013;&#30340;&#29238;/&#23376;&#20851;&#31995;&#35270;&#22270;&#65306;</p><div><img src="../pub/images/reachability2.png"></div><p>&#30475;&#22270;&#21487;&#20197;&#30693;&#36947;&#21508;&#20010;&#34987;&#30417;&#25511;&#20027;&#26426;&#30340;&#29238;/&#23376;&#33410;&#28857;&#20851;&#31995;&#20102;&#65292;&#20294;&#22312;Nagios&#30340;&#37197;&#32622;&#37324;&#22914;&#20309;&#26469;&#34920;&#36798;&#21602;&#65311;&#21487;&#20197;&#29992;<a class="link" href="#objectdefinitions_host">&#20027;&#26426;&#23545;&#35937;&#23450;&#20041;</a>&#37324;&#38754;&#30340;<span class="strong"><strong>parents</strong></span>&#22495;&#26469;&#23454;&#29616;&#12290;&#19979;&#38754;&#26159;&#20363;&#23376;&#20013;&#30340;&#23545;&#35937;&#23450;&#20041;&#30340;&#20851;&#20110;&#29238;/&#23376;&#33410;&#28857;&#20851;&#31995;&#30340;&#29255;&#27573;&#65306;</p><pre class="programlisting">
<p>define host{
	host_name		Nagios   ; &lt;-- The local host has no parent - it is the topmost host
	}
define host{
	host_name		Switch1
	parents		Nagios
	}
define host{
	host_name		Web
	parents		Switch1
	}
define host{
	host_name		FTP
	parents		Switch1
	}
define host{
	host_name		Router1
	parents		Switch1
	}
define host{
	host_name		Switch2
	parents		Router1
	}
define host{
	host_name		Wkstn1
	parents		Switch2
	}
define host{
	host_name		HPLJ2605
	parents		Switch2
	}
define host{
	host_name		Router2
	parents		Router1
	}
define host{
	host_name		somewebsite.com
	parents		Router2
	}
</p></pre></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e19954"></a>8.4.4.&nbsp;&#21487;&#36798;&#24615;&#36923;&#36753;&#30340;&#36816;&#36716;</h3></div></div></div><p>&#29616;&#22312;&#24050;&#32463;&#23558;&#20027;&#26426;&#30340;&#29238;/&#23376;&#36923;&#36753;&#20851;&#31995;&#27491;&#30830;&#22320;&#37197;&#32622;&#21040;&#20102;Nagios&#37324;&#65292;&#19979;&#38754;&#30475;&#19968;&#19979;&#24403;&#25925;&#38556;&#20135;&#29983;&#26102;&#20250;&#21457;&#29983;&#20160;&#20040;&#20107;&#12290;&#20551;&#23450;&#20004;&#20010;&#20027;&#26426;&#65293;<span class="strong"><strong>Web</strong></span>&#19982;<span class="strong"><strong>Router1</strong></span>&#65293;&#25481;&#32447;&#20102;...</p><div><img src="../pub/images/reachability3.png"></div><p>&#24403;&#20027;&#26426;&#29366;&#24577;&#25913;&#21464;(&#22914;&#20174;&#36816;&#34892;&#21040;&#23445;&#26426;)&#65292;Nagios&#21796;&#36215;&#20102;&#32593;&#32476;&#21487;&#36798;&#24615;&#36923;&#36753;&#12290;&#21487;&#36798;&#24615;&#36923;&#36753;&#23558;&#21021;&#22987;&#21270;&#19968;&#20010;&#24182;&#21457;&#26816;&#27979;&#65292;&#21482;&#35201;&#26159;&#29366;&#24577;&#25913;&#21464;&#30340;&#20027;&#26426;&#30340;&#29238;/&#23376;&#33410;&#28857;&#37117;&#20250;&#34987;&#26816;&#27979;&#12290;&#22312;&#32593;&#32476;&#26694;&#26550;&#37324;&#21464;&#21270;&#21457;&#29983;&#26102;&#65292;&#36825;&#23558;&#20351;&#24471;Nagios&#36805;&#36895;&#22320;&#23545;&#24403;&#21069;&#32593;&#32476;&#29366;&#24577;&#36827;&#34892;&#20998;&#26512;&#21028;&#23450;&#12290;</p><div><img src="../pub/images/reachability4.png"></div><p>&#22312;&#26412;&#20363;&#20013;&#65292;Nagios&#23558;&#21028;&#23450;<span class="strong"><strong>Web</strong></span>&#21644;<span class="strong"><strong>Router1</strong></span>&#37117;&#22788;&#20110;&#23445;&#26426;&#29366;&#24577;&#22240;&#20026;&#21040;&#36798;&#36825;&#20004;&#21488;&#20027;&#26426;&#30340;&#8220;&#36335;&#24452;&#8221;&#24182;&#27809;&#26377;&#38459;&#22622;&#12290;</p><p>Nagios&#23558;&#21028;&#23450;&#20986;&#22312;&#25299;&#25169;&#36923;&#36753;&#19978;<span class="strong"><strong>Router1</strong></span>&#20043;&#19979;&#30340;&#25152;&#26377;&#20027;&#26426;&#22788;&#20110;&#19981;&#21487;&#36798;&#29366;&#24577;&#65292;&#22240;&#20026;Nagios&#26080;&#27861;&#25214;&#21040;&#23427;&#20204;&#12290;<span class="strong"><strong>Router1</strong></span>&#30340;&#23445;&#26426;&#23558;&#38459;&#22622;&#20102;&#21040;&#36798;&#36825;&#20123;&#20027;&#26426;&#30340;&#36335;&#24452;&#12290;&#36825;&#20123;&#20027;&#26426;&#21487;&#33021;&#36816;&#34892;&#24471;&#22909;&#30528;&#21602;&#65292;&#20063;&#25110;&#26159;&#24050;&#32463;&#25481;&#32447;&#65293;Nagios&#26080;&#27861;&#24471;&#30693;&#22240;&#20026;&#26080;&#27861;&#25226;&#27979;&#35797;&#21253;&#36865;&#36798;&#37027;&#37324;&#65292;&#22240;&#32780;Nagios&#35748;&#20026;&#37027;&#20123;&#20027;&#26426;&#26159;&#19981;&#21487;&#36798;&#32780;&#19981;&#26159;&#23445;&#26426;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e19985"></a>8.4.5.&nbsp;&#19981;&#21487;&#36798;&#29366;&#24577;&#19982;&#36890;&#30693;</h3></div></div></div><p>&#40664;&#35748;&#24773;&#20917;&#19979;Nagios&#23558;&#20250;&#23545;&#20027;&#26426;&#22788;&#20110;&#23445;&#26426;&#21644;&#19981;&#21487;&#36798;&#29366;&#24577;&#26102;&#37117;&#20250;&#36865;&#20986;&#36890;&#30693;&#32473;&#23545;&#24212;&#30340;&#32852;&#31995;&#20154;&#12290;&#22914;&#26524;&#26159;&#31649;&#29702;&#21592;&#25110;&#25216;&#26415;&#25903;&#25345;&#20154;&#21592;&#65292;&#20154;&#21487;&#33021;&#19981;&#24819;&#25509;&#21040;&#19981;&#21487;&#36798;&#29366;&#24577;&#20027;&#26426;&#30340;&#36890;&#30693;&#12290;&#20320;&#20102;&#35299;&#25152;&#22788;&#32593;&#32476;&#30340;&#25299;&#25169;&#32467;&#26500;&#65292;&#24403;Nagios&#36890;&#30693;&#36335;&#30001;&#22120;&#25110;&#38450;&#28779;&#22681;&#23445;&#26426;&#26102;&#65292;&#32943;&#23450;&#30340;&#26159;&#22312;&#20043;&#21518;&#30340;&#20027;&#26426;&#37117;&#20250;&#19981;&#21487;&#36798;&#12290;</p><p>&#22914;&#26524;&#20320;&#24819;&#36991;&#24320;&#30001;&#20110;&#32593;&#32476;&#29366;&#24577;&#25913;&#21464;&#32780;&#23548;&#33268;&#30340;&#20027;&#26426;&#19981;&#21487;&#36798;&#30340;&#20107;&#20214;&#39118;&#26292;&#65292;&#21487;&#20197;&#22312;<a class="link" href="#objectdefinitions_host">&#20027;&#26426;&#23545;&#35937;&#23450;&#20041;</a>&#37324;&#30340;<span class="strong"><strong>notification_options</strong></span>&#22495;&#20013;&#25490;&#38500;&#8220;&#19981;&#21487;&#36798;&#8221;&#29366;&#24577;(u)&#65292;&#21516;&#26102;&#65292;&#25110;&#32773;&#26159;&#20063;&#21487;&#20197;&#23558;<a class="link" href="#objectdefinitions_contact">&#32852;&#31995;&#20154;&#23545;&#35937;&#23450;&#20041;</a>&#37324;&#30340;<span class="strong"><strong>host_notification_options</strong></span>&#22495;&#37324;&#25490;&#38500;&#8220;&#19981;&#21487;&#36798;&#8221;&#29366;&#24577;(u)&#12290;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="volatileservices"></a>8.5.&nbsp;&#21487;&#21464;&#26381;&#21153;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20007"></a>8.5.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>Nagios&#20855;&#22791;&#20998;&#36776;"&#36890;&#24120;&#26381;&#21153;"&#19982;"&#21487;&#21464;&#26381;&#21153;"&#30340;&#33021;&#21147;&#12290;&#22312;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#37324;&#30340;<span class="strong"><strong>is_volatile</strong></span>&#22495;&#21487;&#20197;&#25351;&#23450;&#35813;&#26381;&#21153;&#26159;&#21542;&#26159;&#19968;&#20010;&#21487;&#21464;&#26381;&#21153;&#12290;&#24456;&#22810;&#24773;&#20917;&#19979;&#65292;&#32477;&#22823;&#22810;&#25968;&#30340;&#34987;&#30417;&#25511;&#26381;&#21153;&#37117;&#19981;&#26159;"&#21487;&#21464;&#26381;&#21153;"(&#20063;&#23601;&#26159;"&#36890;&#24120;&#26381;&#21153;")&#65292;&#32780;&#21487;&#21464;&#26381;&#21153;&#21487;&#22312;&#20960;&#31181;&#24773;&#24418;&#19979;&#20351;&#29992;...</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20015"></a>8.5.2.&nbsp;&#21487;&#29992;&#20110;&#20160;&#20040;&#24773;&#20917;&#65311;</h3></div></div></div><p>&#21487;&#21464;&#26381;&#21153;&#21487;&#29992;&#20110;&#30417;&#25511;...</p><div class="orderedlist"><ol type="1"><li>&#27599;&#27425;&#26816;&#27979;&#26102;&#29366;&#24577;&#26102;&#37117;&#20250;&#34987;&#33258;&#21160;&#22320;&#22797;&#20301;&#21040;"&#27491;&#24120;"&#29366;&#24577;&#65307;</li><li>&#27599;&#27425;&#24517;&#39035;&#35201;&#32473;&#20986;&#20851;&#27880;&#30340;&#26576;&#20010;&#25925;&#38556;&#20107;&#20214;&#35937;&#23433;&#20840;&#24615;&#20107;&#20214;(&#19981;&#20165;&#20165;&#26159;&#31532;&#19968;&#27425;&#25165;&#38656;&#35201;&#27880;&#24847;)</li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20025"></a>8.5.3.&nbsp;&#21487;&#21464;&#26381;&#21153;&#26377;&#20309;&#29305;&#21035;&#20043;&#22788;&#65311;</h3></div></div></div><p>&#22312;<span class="strong"><strong>&#27599;&#27425;</strong></span>&#22788;&#20110;<a class="link" href="#statetypes" title="6.10.&nbsp;&#29366;&#24577;&#31867;&#22411;">&#30828;&#24577;</a>&#38750;&#27491;&#24120;&#29366;&#24577;&#24773;&#20917;&#19979;&#20570;&#26816;&#27979;&#32780;&#26816;&#27979;&#23558;&#36820;&#22238;&#19968;&#20010;&#38750;&#27491;&#24120;&#29366;&#24577;(&#22914;&#27809;&#26377;&#21457;&#29983;&#29366;&#24577;&#21464;&#25442;)&#30340;&#24773;&#20917;&#19979;&#65292;&#21487;&#21464;&#26381;&#21153;&#19982;&#36890;&#24120;&#26381;&#21153;&#23558;&#20250;&#26377;&#19977;&#20010;&#26126;&#26174;&#24046;&#24322;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#38750;&#27491;&#24120;&#26381;&#21153;&#29366;&#24577;&#34987;&#35760;&#24405;&#19979;&#26469;(&#20135;&#29983;&#26085;&#24535;)&#65307;</li><li>&#26381;&#21153;&#25925;&#38556;&#23558;&#20250;&#36865;&#32473;&#32852;&#31995;&#20154;(&#22914;&#26524;<a class="link" href="#notifications" title="6.7.&nbsp;&#36890;&#30693;">&#35813;&#25925;&#38556;&#38656;&#35201;&#20570;&#36890;&#30693;&#30340;&#35805;</a>)&#12290;&#27880;&#24847;&#65306;&#22312;&#21487;&#21464;&#26381;&#21153;&#23545;&#35937;&#30340;&#35774;&#32622;&#37324;&#30340;&#36890;&#30693;&#38388;&#38548;&#23558;&#34987;&#24573;&#30053;&#65307;</li><li>&#38024;&#23545;&#35813;&#26381;&#21153;&#30340;<a class="link" href="#eventhandlers" title="6.8.&nbsp;&#20107;&#20214;&#22788;&#29702;">&#20107;&#20214;&#22788;&#29702;</a>&#23558;&#20250;&#34987;&#25191;&#34892;(&#22914;&#26524;&#23545;&#35937;&#37324;&#23450;&#20041;&#36807;&#30340;&#35805;)&#12290;</li></ol></div><p>&#24403;&#25351;&#23450;&#30340;&#26381;&#21153;&#22788;&#20110;&#38750;&#27491;&#24120;&#29366;&#24577;&#24182;&#19988;&#19968;&#20010;&#30828;&#24577;&#29366;&#24577;&#21464;&#25442;&#21018;&#21018;&#21457;&#29983;&#30340;&#26102;&#20505;&#65292;&#20197;&#19978;&#25805;&#20316;&#25165;&#20250;&#21457;&#29983;&#12290;&#20063;&#23601;&#26159;&#35828;&#65292;&#21482;&#26159;&#35813;&#26381;&#21153;&#39318;&#27425;&#36716;&#20837;&#30456;&#21516;&#30340;&#38750;&#27491;&#24120;&#29366;&#24577;&#26102;&#25165;&#20250;&#20570;&#12290;&#22914;&#26524;&#20043;&#21518;&#30340;&#26381;&#21153;&#26816;&#27979;&#32467;&#26524;&#21516;&#26679;&#26159;&#38750;&#27491;&#24120;&#29366;&#24577;&#65292;&#27809;&#26377;&#30828;&#24577;&#29366;&#24577;&#21464;&#25442;&#21457;&#29983;&#65292;&#37027;&#20040;&#23601;&#19981;&#20250;&#20877;&#26377;&#20197;&#19978;&#25805;&#20316;&#12290;</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#25552;&#31034;</h3><div><img src="../pub/images/tip.gif"></div>&#22914;&#26524;&#21482;&#26159;&#24076;&#26395;&#20135;&#29983;&#26085;&#24535;&#65292;&#35831;&#32771;&#34385;&#25442;&#29992;<a class="link" href="#stalking" title="9.6.&nbsp;&#29366;&#24577;&#36861;&#36394;">&#29366;&#24577;&#36861;&#36394;</a>&#30340;&#21151;&#33021;&#36873;&#39033;&#12290;</div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20058"></a>8.5.4.&nbsp;The Power Of Two</h3></div></div></div><p>&#22914;&#26524;&#23558;&#21487;&#21464;&#26381;&#21153;&#19982;<a class="link" href="#passivechecks" title="6.14.&nbsp;&#24378;&#21046;&#26816;&#27979;">&#24378;&#21046;&#26381;&#21153;&#26816;&#27979;</a>&#20004;&#20010;&#21151;&#33021;&#29305;&#24615;&#32452;&#21512;&#20351;&#29992;&#65292;&#21487;&#20197;&#23454;&#29616;&#24456;&#26377;&#29992;&#30340;&#21151;&#33021;&#12290;&#19979;&#38754;&#30340;&#20363;&#23376;&#20013;&#21253;&#25324;&#22788;&#29702;SNMP Trap&#21578;&#35686;&#12289;&#23433;&#20840;&#35686;&#25253;&#31561;&#12290;</p><p>&#32473;&#20010;&#20363;&#23376;...&#20551;&#23450;&#20320;&#36816;&#34892;&#20102;<a class="ulink" href="http://sourceforge.net/projects/sentrytools/" target="_top">PortSentry(&#31471;&#21475;&#21736;&#20853;)</a>&#26469;&#26816;&#27979;&#23545;&#20320;&#26426;&#22120;&#30340;&#31471;&#21475;&#25195;&#25551;&#21644;&#38450;&#28779;&#22681;&#30340;&#20837;&#20405;&#20225;&#22270;&#12290;&#22914;&#26524;&#35201;Nagios&#26469;&#26174;&#31034;&#31471;&#21475;&#25195;&#25551;&#65292;&#21487;&#20197;&#29031;&#19979;&#38754;&#30340;&#26469;&#20570;...</p><p>Nagios&#37197;&#32622;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#21019;&#24314;&#19968;&#20010;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#65292;&#21629;&#21517;&#20026;<span class="strong"><strong>Port Scans</strong></span>&#24182;&#19988;&#19982;&#37027;&#20010;&#36816;&#34892;PortSentry&#30340;&#20027;&#26426;&#32465;&#23450;&#22312;&#19968;&#36215;&#65307;</li><li>&#35774;&#23450;&#26381;&#21153;&#23545;&#35937;&#37324;&#30340;<span class="strong"><strong>max_check_attempts</strong></span>&#22495;&#20540;&#20026;1&#12290;&#36825;&#23558;&#36890;&#30693;Nagios&#24403;&#19968;&#20010;&#38750;&#27491;&#24120;&#29366;&#24577;&#25253;&#21578;&#26102;&#26381;&#21153;&#29366;&#24577;&#23558;&#21363;&#21051;&#36716;&#20837;<a class="link" href="#statetypes" title="6.10.&nbsp;&#29366;&#24577;&#31867;&#22411;">&#30828;&#24577;</a>&#29366;&#24577;(&#19981;&#24517;&#20877;&#37325;&#35797;)&#65307;</li><li>&#35774;&#23450;&#26381;&#21153;&#23545;&#35937;&#37324;&#30340;<span class="strong"><strong>active_checks_enabled</strong></span>&#22495;&#20540;&#20026;0&#12290;&#36825;&#20250;&#38459;&#27490;Nagios&#19981;&#24517;&#20877;&#21551;&#21160;&#38024;&#23545;&#26381;&#21153;&#30340;&#33258;&#20027;&#26816;&#27979;&#65307;</li><li>&#35774;&#23450;&#26381;&#21153;&#23545;&#35937;&#37324;&#30340;<span class="strong"><strong>passive_checks_enabled</strong></span>&#22495;&#20540;&#20026;1&#12290;&#36825;&#23558;&#20250;&#21551;&#21160;&#38024;&#23545;&#35813;&#26381;&#21153;&#30340;&#24378;&#21046;&#26816;&#27979;&#65307;</li><li>&#35774;&#32622;&#26381;&#21153;&#23545;&#35937;&#37324;&#30340;<span class="strong"><strong>is_volatile</strong></span>&#22495;&#20540;&#20026;1&#12290;</li></ol></div><p>PortSentry&#37197;&#32622;&#65306;</p><p>&#32534;&#36753;PortSentry&#37197;&#32622;&#25991;&#20214;(portsentry.conf)&#24182;&#19988;&#23450;&#20041;&#19968;&#20010;<span class="strong"><strong>KILL_RUN_CMD</strong></span>&#21629;&#20196;&#65292;&#35937;&#36825;&#26679;&#65306;</p><pre class="programlisting"><p>KILL_RUN_CMD="/usr/local/Nagios/libexec/eventhandlers/submit_check_result host_name 'Port Scans' 2 'Port scan from host $TARGET$ on port $PORT$.  Host has been firewalled.'"</p></pre><p>&#35201;&#30830;&#20445;&#25226;&#37324;&#38754;&#30340;<span class="strong"><strong>host_name</strong></span>&#26367;&#25442;&#20026;&#26381;&#21153;&#32465;&#23450;&#30340;&#20027;&#26426;&#23545;&#35937;&#30340;&#30701;&#21517;&#31216;&#12290;</p><p>&#31471;&#21475;&#25195;&#25551;&#33050;&#26412;&#65306;</p><p>&#21019;&#24314;&#19968;&#20010;SHELL&#33050;&#26412;&#65292;&#25918;&#22312;<span class="strong"><strong>/usr/local/nagios/libexec/eventhandlers</strong></span>&#30446;&#24405;&#19979;&#24182;&#21629;&#21517;&#20026;<span class="strong"><strong>submit_check_result</strong></span>&#12290;&#36825;&#20010;&#33050;&#26412;&#30340;&#20869;&#23481;&#21487;&#33021;&#20250;&#26159;&#36825;&#26679;&#30340;...</p><pre class="programlisting"><p>#!/bin/sh
	# Write a command to the Nagios command file to cause
	# it to process a service check result
	echocmd="/bin/echo"
	CommandFile="/usr/local/nagios/var/rw/nagios.cmd"
	# get the current date/time in seconds since UNIX epoch
	datetime=`date +%s`
	# create the command line to add to the command file
	cmdline="[$datetime] PROCESS_SERVICE_CHECK_RESULT;$1;$2;$3;$4"
	# append the command to the end of the command file
	`$echocmd $cmdline &gt;&gt; $CommandFile`</p></pre><p>&#37027;&#20040;&#24403;PortSentry&#26816;&#27979;&#21040;&#20102;&#19968;&#20010;&#38024;&#23545;&#26426;&#22120;&#30340;&#31471;&#21475;&#25195;&#25551;&#26102;&#23558;&#20250;&#20570;&#20123;&#20160;&#20040;&#21602;&#65311;</p><div class="orderedlist"><ol type="1"><li>PortSentry&#23558;&#20250;&#38450;&#25252;&#35813;&#20027;&#26426;(&#36825;&#26159;PortSentry&#36719;&#20214;&#30340;&#21151;&#33021;)&#65307;</li><li>PortSentry&#23558;&#25191;&#34892;<span class="strong"><strong>submit_check_result</strong></span>SHELL&#33050;&#26412;&#24182;&#36865;&#32473;Nagios&#19968;&#20010;&#24378;&#21046;&#26816;&#27979;&#30340;&#32467;&#26524;&#65307;</li><li>Nagios&#23558;&#20174;&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;&#20013;&#35835;&#21462;&#24182;&#30830;&#35748;&#30001;PortSentry&#25552;&#20132;&#30340;&#20869;&#23481;&#65307;</li><li>Nagios&#23558;&#25226;<span class="strong"><strong>Port Scans</strong></span>&#26381;&#21153;&#29366;&#24577;&#32622;&#25104;"&#30828;&#24577;&#32039;&#24613;&#29366;&#24577;"&#24182;&#32473;&#32852;&#31995;&#20154;&#36865;&#20986;&#36890;&#30693;&#12290;</li></ol></div><p>&#24456;&#26834;&#21543;&#65311;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="freshness"></a>8.6.&nbsp;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#21047;&#26032;&#26816;&#27979;</h2></div></div></div><div><img src="../pub/images/freshness.png"></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20153"></a>8.6.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>Nagios&#26377;&#23545;&#20027;&#26426;&#21644;&#26381;&#21153;&#26816;&#27979;&#30340;&#32467;&#26524;&#20570;"&#21047;&#26032;&#26816;&#27979;"&#30340;&#29305;&#24615;&#12290;&#21047;&#26032;&#26816;&#27979;&#30340;&#30446;&#30340;&#26159;&#20026;&#20445;&#35777;&#30001;&#22806;&#37096;&#24212;&#29992;&#32780;&#20570;&#30340;&#20027;&#26426;&#19982;&#26381;&#21153;&#24378;&#21046;&#26816;&#27979;&#21487;&#20197;&#27491;&#24120;&#25552;&#20379;&#32467;&#26524;&#25968;&#25454;&#12290;</p><p>&#21047;&#26032;&#26816;&#27979;&#22312;&#30830;&#20445;&#39057;&#32321;&#22320;&#25509;&#25910;<a class="link" href="#passivechecks" title="6.14.&nbsp;&#24378;&#21046;&#26816;&#27979;">&#24378;&#21046;&#26816;&#27979;</a>&#32467;&#26524;&#26102;&#24456;&#26377;&#29992;&#12290;&#23427;&#22312;<a class="link" href="#distributed" title="9.2.&nbsp;&#20998;&#24067;&#24335;&#30417;&#25511;">&#20998;&#24067;&#24335;</a>&#21644;<a class="link" href="#redundancy" title="9.3.&nbsp;&#20887;&#20313;&#24335;&#19982;&#22833;&#25928;&#24335;&#32593;&#32476;&#30417;&#25511;">&#20887;&#20313;&#24335;&#22833;&#25928;&#24615;</a>&#30417;&#25511;&#29615;&#22659;&#19979;&#38750;&#24120;&#26377;&#29992;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20169"></a>8.6.2.&nbsp;&#21047;&#26032;&#26816;&#27979;&#22914;&#20309;&#24037;&#20316;&#65311;</h3></div></div></div><p>Nagios&#23450;&#26399;&#22320;&#21047;&#26032;&#20840;&#37096;&#30340;&#25171;&#24320;&#26816;&#27979;&#21151;&#33021;&#30340;&#20027;&#26426;&#19982;&#26381;&#21153;&#26816;&#27979;&#29366;&#24577;&#12290;</p><div class="orderedlist"><ol type="1"><li>&#30001;&#27599;&#20010;&#20027;&#26426;&#25110;&#26381;&#21153;&#35745;&#31639;&#20986;&#19968;&#20010;&#21047;&#26032;&#38376;&#38480;&#65307;</li><li>&#23545;&#20110;&#27599;&#20010;&#20027;&#26426;&#19982;&#26381;&#21153;&#65292;&#26368;&#21518;&#19968;&#27425;&#26816;&#27979;&#32467;&#26524;&#30340;&#26102;&#38388;&#38271;&#30701;&#20250;&#19982;&#21047;&#26032;&#38376;&#38480;&#30456;&#27604;&#23545;&#65307;</li><li>&#22914;&#26524;&#26368;&#21518;&#19968;&#27425;&#26816;&#27979;&#32467;&#26524;&#30340;&#26102;&#38388;&#22823;&#20110;&#21047;&#26032;&#26816;&#27979;&#38376;&#38480;&#65292;&#26816;&#27979;&#32467;&#26524;&#20250;&#34987;&#35748;&#20026;&#26159;"&#38472;&#26087;"&#30340;&#65307;</li><li>&#22914;&#26524;&#26816;&#27979;&#32467;&#26524;&#34987;&#35748;&#20026;&#26159;"&#38472;&#26087;&#30340;"&#65292;Nagios&#23558;&#24378;&#21046;&#22320;&#38024;&#23545;&#35813;&#20027;&#26426;&#25110;&#26381;&#21153;&#29992;&#20027;&#26426;&#19982;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#37324;&#25351;&#23450;&#30340;&#21629;&#20196;&#26469;&#25191;&#34892;&#19968;&#27425;<a class="link" href="#activechecks" title="6.13.&nbsp;&#33258;&#20027;&#26816;&#27979;">&#33258;&#20027;&#26816;&#27979;</a>&#12290;</li></ol></div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#25552;&#31034;</h3><div><img src="../pub/images/tip.gif"></div>&#19968;&#27425;&#33258;&#20027;&#26816;&#27979;&#24635;&#26159;&#34987;&#25191;&#34892;&#65292;&#21363;&#20415;&#26159;&#33258;&#20027;&#26816;&#27979;&#22312;&#31243;&#24207;&#23618;&#38754;&#25110;&#26159;&#20027;&#26426;&#30340;&#19982;&#26381;&#21153;&#30340;&#25351;&#23450;&#33258;&#20027;&#26816;&#27979;&#36873;&#39033;&#34987;&#20851;&#38381;&#65307;</div><p>&#20363;&#22914;&#65292;&#22914;&#26524;&#19968;&#20010;&#26381;&#21153;&#30340;&#21047;&#26032;&#38376;&#38480;&#35774;&#23450;&#20026;60&#31186;&#65292;Nagios&#23558;&#35748;&#20026;&#22914;&#26524;&#26368;&#21518;&#19968;&#27425;&#26816;&#27979;&#32467;&#26524;&#22914;&#26524;&#23384;&#22312;&#26102;&#38388;&#36229;&#36807;60&#31186;&#23558;&#20250;&#35748;&#20026;&#35813;&#32467;&#26524;&#26159;"&#38472;&#26087;"&#30340;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20192"></a>8.6.3.&nbsp;&#20351;&#33021;&#21047;&#26032;&#26816;&#27979;</h3></div></div></div><p>&#22914;&#26524;&#35201;&#25171;&#24320;&#21047;&#26032;&#26816;&#27979;&#38656;&#35201;&#20570;&#22914;&#19979;&#20107;&#24773;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#22312;&#31243;&#24207;&#23618;&#38754;&#20351;&#33021;&#21047;&#26032;&#26816;&#27979;&#35201;&#29992;<a class="link" href="#check_service_freshness" title="&#34920;&nbsp;5.102.&nbsp;&#26381;&#21153;&#26356;&#26032;&#26816;&#27979;&#36873;&#39033;">check_service_freshness</a>&#21644;<a class="link" href="#check_host_freshness" title="&#34920;&nbsp;5.104.&nbsp;&#20027;&#26426;&#26356;&#26032;&#26816;&#27979;&#36873;&#39033;">check_host_freshness</a>&#22495;&#26469;&#25511;&#21046;&#65307;</li><li>&#29992;<a class="link" href="#service_freshness_check_interval" title="&#34920;&nbsp;5.103.&nbsp;&#26381;&#21153;&#26356;&#26032;&#26816;&#27979;&#38388;&#38548;">service_freshness_check_interval</a>&#21644;<a class="link" href="#host_freshness_check_interval" title="&#34920;&nbsp;5.105.&nbsp;&#20027;&#26426;&#26356;&#26032;&#26816;&#27979;&#38388;&#38548;">host_freshness_check_interval</a>&#36873;&#39033;&#26469;&#35774;&#32622;Nagios&#20197;&#20309;&#39057;&#24230;&#26469;&#21047;&#26032;&#20027;&#26426;&#21644;&#26381;&#21153;&#26816;&#27979;&#32467;&#26524;&#65307;</li><li>&#22312;&#20027;&#26426;&#19982;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#37324;&#25171;&#24320;&#20027;&#26426;&#30340;&#21644;&#26381;&#21153;&#30340;&#21047;&#26032;&#26816;&#27979;&#24320;&#20851;&#65292;&#26159;&#35774;&#32622;&#23545;&#35937;&#37324;&#30340;<span class="strong"><strong>check_freshness</strong></span>&#36873;&#39033;&#20540;&#20026;1&#65307;</li><li>&#37197;&#32622;&#20027;&#26426;&#21644;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#37324;&#30340;&#21047;&#26032;&#26816;&#27979;&#38376;&#38480;&#65292;&#21363;&#35774;&#32622;&#23545;&#35937;&#37324;&#30340;<span class="strong"><strong>freshness_threshold</strong></span>&#36873;&#39033;&#65307;</li><li>&#37197;&#32622;&#20027;&#26426;&#19982;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#37324;&#30340;<span class="strong"><strong>check_command</strong></span>&#36873;&#39033;&#25351;&#21521;&#19968;&#20010;&#21512;&#27861;&#30340;&#21487;&#34987;&#29992;&#20110;&#33258;&#20027;&#26816;&#27979;&#30340;&#21629;&#20196;&#65292;&#24403;&#21457;&#29616;&#32467;&#26524;"&#38472;&#26087;"&#26102;&#21487;&#20197;&#20351;&#29992;&#35813;&#21629;&#20196;&#65307;</li><li>&#22312;&#20027;&#26426;&#19982;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#37324;&#30340;<span class="strong"><strong>check_period</strong></span>&#36873;&#39033;&#21487;&#29992;&#20110;&#24403;Nagios&#35748;&#20026;&#38656;&#35201;&#36827;&#34892;&#19968;&#27425;&#21047;&#26032;&#26102;&#21487;&#29992;&#26102;&#38388;&#21608;&#26399;&#65292;&#22240;&#32780;&#35201;&#20445;&#35777;&#23427;&#26159;&#19968;&#20010;&#21512;&#27861;&#30340;&#26102;&#38388;&#21608;&#26399;(&#35793;&#32773;&#27880;&#65293;&#22312;&#38656;&#35201;&#33258;&#20027;&#26816;&#27979;&#26102;&#21051;&#21487;&#33853;&#20837;&#35813;&#26102;&#38388;&#21608;&#26399;&#23450;&#20041;)&#65307;</li></ol></div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#25552;&#31034;</h3><div><img src="../pub/images/tip.gif"></div>&#22914;&#26524;&#27809;&#26377;&#25351;&#23450;&#19968;&#20010;&#20027;&#26426;&#30340;&#25110;&#26381;&#21153;&#30340;&#21047;&#26032;&#38376;&#38480;<span class="strong"><strong>freshness_threshold</strong></span>&#20540;(&#25110;&#26159;&#25226;&#23427;&#35774;&#32622;&#20026;0)&#65292;Nagios&#23558;&#33258;&#21160;&#22320;&#35745;&#31639;&#38376;&#38480;&#65292;&#23427;&#26159;&#22522;&#20110;&#20197;&#20309;&#39057;&#24230;&#26469;&#30417;&#25511;&#29305;&#23450;&#30340;&#20027;&#26426;&#25110;&#26381;&#21153;&#12290;&#25512;&#33616;&#26159;&#28165;&#26970;&#22320;&#23450;&#20041;&#20986;&#21047;&#26032;&#38376;&#38480;&#65292;&#32780;&#19981;&#26159;&#35753;Nagios&#26469;&#33258;&#20027;&#20915;&#23450;&#23427;&#12290;</div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20241"></a>8.6.4.&nbsp;&#26679;&#20363;</h3></div></div></div><p>&#19979;&#38754;&#26159;&#19968;&#20010;&#21487;&#33021;&#38656;&#35201;&#21047;&#26032;&#26816;&#27979;&#30340;&#26381;&#21153;&#26679;&#20363;&#65292;&#23427;&#26159;&#27599;&#22825;&#22812;&#38388;&#20570;&#22791;&#20221;&#20316;&#19994;&#30340;&#26381;&#21153;&#12290;&#21487;&#33021;&#24050;&#32463;&#26377;&#19968;&#20010;&#22806;&#37096;&#33050;&#22312;&#20316;&#19994;&#23436;&#25104;&#26102;&#21521;Nagios&#25552;&#20132;&#22791;&#20221;&#20316;&#19994;&#30340;&#32467;&#26524;&#12290;&#22312;&#36825;&#31181;&#24773;&#24418;&#19979;&#65292;&#20840;&#37096;&#30340;&#38024;&#23545;&#35813;&#26381;&#21153;&#30340;&#26816;&#27979;&#19982;&#32467;&#26524;&#23558;&#26159;&#30001;&#24378;&#21046;&#26816;&#27979;&#30340;&#22806;&#37096;&#24212;&#29992;&#26469;&#23436;&#25104;&#30340;&#12290;&#20026;&#20445;&#35777;&#27599;&#22825;&#30340;&#22791;&#20221;&#20316;&#19994;&#30340;&#29366;&#24577;&#37117;&#20250;&#34987;Nagios&#25152;&#25910;&#38598;&#25253;&#21578;&#65292;&#38656;&#35201;&#25171;&#24320;&#38024;&#23545;&#35813;&#26381;&#21153;&#30340;&#21047;&#26032;&#26816;&#27979;&#12290;&#22914;&#26524;&#22806;&#37096;&#23545;&#22791;&#20221;&#20316;&#19994;&#30340;&#33050;&#26412;&#27809;&#26377;&#25552;&#20132;&#26816;&#27979;&#32467;&#26524;&#65292;&#21487;&#20197;&#35753;Nagios&#21462;&#24471;&#19968;&#20010;&#32039;&#24613;&#22788;&#32622;&#32467;&#26524;&#65292;&#35937;&#36825;&#26679;...</p><p>&#19979;&#38754;&#26159;&#35813;&#26381;&#21153;&#23450;&#20041;&#30340;&#26679;&#26412;(&#26377;&#20123;&#19996;&#35199;&#34987;&#30465;&#30053;&#20102;)...</p><pre class="programlisting"><p>define service{
	host_name		backup-server
	service_description	ArcServe Backup Job
	active_checks_enabled	0		; active checks are NOT enabled
	passive_checks_enabled	1		; passive checks are enabled (this is how results are reported)
	check_freshness		1
	freshness_threshold	93600		; 26 hour threshold, since backups may not always finish at the same time
	check_command		no-backup-report	; this command is run only if the service results are "stale"
	...other options...
	}</p></pre><p>&#24212;&#35813;&#27880;&#24847;&#65292;&#35813;&#26381;&#21153;&#30340;&#33258;&#20027;&#26816;&#27979;&#26159;&#20851;&#38381;&#30340;&#65292;&#36825;&#26159;&#22240;&#20026;&#35813;&#26381;&#21153;&#30340;&#26816;&#27979;&#26159;&#30001;&#22806;&#37096;&#24212;&#29992;&#20351;&#29992;&#24378;&#21046;&#26816;&#27979;&#26426;&#21046;&#36865;&#36798;Nagios&#12290;&#21047;&#26032;&#26816;&#27979;&#25171;&#24320;&#20102;&#32780;&#19988;&#21047;&#26032;&#38376;&#38480;&#35774;&#32622;&#20026;26&#23567;&#26102;&#12290;&#36825;&#20010;&#35774;&#32622;&#30053;&#38271;&#20110;&#22791;&#20221;&#20316;&#19994;&#27599;&#22825;&#25152;&#38656;&#35201;&#30340;24&#23567;&#26102;&#65292;&#22240;&#20026;&#22791;&#20221;&#20316;&#19994;&#27599;&#22825;&#26102;&#38388;&#38271;&#30701;&#19981;&#21516;(&#23427;&#26159;&#30001;&#22810;&#23569;&#25968;&#25454;&#37327;&#35201;&#20570;&#22791;&#20221;&#21644;&#24403;&#26102;&#30340;&#32593;&#32476;&#25317;&#22622;&#31561;&#31561;&#24773;&#20917;&#25152;&#20915;&#23450;)&#12290;&#35774;&#23450;&#30340;<span class="strong"><strong>no-backup-report</strong></span>&#21629;&#20196;&#21482;&#26159;&#24403;&#26381;&#21153;&#26816;&#27979;&#32467;&#26524;&#34987;&#35748;&#20026;&#26159;"&#38472;&#26087;"&#30340;&#26102;&#20505;&#25165;&#25191;&#34892;&#30340;&#65292;&#36825;&#20010;<span class="strong"><strong>no-backup-report</strong></span>&#21629;&#20196;&#30340;&#23450;&#20041;&#30475;&#36215;&#26469;&#35937;&#26159;&#36825;&#26679;&#65306;</p><pre class="programlisting">
<p>define command{
	command_name	no-backup-report
	command_line	/usr/local/nagios/libexec/nobackupreport.sh
	}</p>
</pre><p>&#36825;&#20010;<span class="strong"><strong>nobackupreport.sh</strong></span>&#33050;&#26412;&#25918;&#22312;<span class="strong"><strong>/usr/local/nagios/libexec</strong></span>&#30446;&#24405;&#37324;&#65292;&#20869;&#23481;&#21487;&#33021;&#26159;&#36825;&#26679;&#30340;&#65306;</p><pre class="programlisting"><p>#!/bin/sh
/bin/echo "CRITICAL: Results of backup job were not reported!"
exit 2</p></pre><p>&#22914;&#26524;Nagios&#26816;&#27979;&#21040;&#26381;&#21153;&#32467;&#26524;&#26159;"&#38472;&#26087;"&#30340;&#65292;&#23427;&#20250;&#20197;&#33258;&#20027;&#26816;&#27979;&#30340;&#26041;&#24335;&#26469;&#36816;&#34892;<span class="strong"><strong>no-backup-report</strong></span>&#21629;&#20196;&#65292;&#20063;&#23601;&#26159;&#25191;&#34892;<span class="strong"><strong>/usr/local/nagios/libexec/nobackupreport.sh</strong></span>&#33050;&#26412;&#65292;&#23427;&#23558;&#32473;Nagios&#36820;&#22238;&#19968;&#20010;&#32039;&#24613;&#29366;&#24577;&#12290;&#37027;&#20040;&#36825;&#20010;&#22791;&#20221;&#20316;&#19994;&#30340;&#26381;&#21153;&#23601;&#23558;&#22788;&#20110;&#32039;&#24613;&#29366;&#24577;(&#22914;&#26524;&#23427;&#36824;&#19981;&#26159;&#32039;&#24613;&#29366;&#24577;&#30340;&#35805;)&#21516;&#26102;&#30456;&#20851;&#20154;&#21592;&#21487;&#33021;&#20250;&#25910;&#21040;&#19968;&#20010;&#25925;&#38556;&#36890;&#30693;&#12290;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="flapping"></a>8.7.&nbsp;&#24863;&#30693;&#21644;&#22788;&#29702;&#29366;&#24577;&#25238;&#21160;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20286"></a>8.7.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>Nagios&#25903;&#25345;&#21487;&#36873;&#30340;&#21457;&#29616;&#20027;&#26426;&#19982;&#26381;&#21153;&#25238;&#21160;&#30340;&#21151;&#33021;&#12290;&#24403;&#26381;&#21153;&#19982;&#20027;&#26426;&#29366;&#24577;&#25913;&#21464;&#36807;&#20110;&#39057;&#32321;&#26102;&#20250;&#20135;&#29983;&#25238;&#21160;&#65292;&#20854;&#32467;&#26524;&#20135;&#29983;&#20102;&#25925;&#38556;&#19982;&#24674;&#22797;&#30340;&#36890;&#30693;&#39118;&#26292;&#12290;&#25238;&#21160;&#21487;&#33021;&#26159;&#30001;&#20110;&#37197;&#32622;&#30340;&#38382;&#39064;(&#22914;&#38376;&#38480;&#36807;&#20302;)&#12289;&#26377;&#27611;&#30149;&#30340;&#26381;&#21153;&#25110;&#26159;&#30495;&#23454;&#30340;&#32593;&#32476;&#38382;&#39064;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20291"></a>8.7.2.&nbsp;&#24863;&#30693;&#25238;&#21160;&#26159;&#22914;&#20309;&#24037;&#20316;&#30340;&#65311;</h3></div></div></div><p>&#22312;&#27492;&#20043;&#21069;&#65292;&#25105;&#24819;&#35828;&#30340;&#26159;&#25238;&#21160;&#30340;&#24863;&#30693;&#26377;&#28857;&#38590;&#23454;&#29616;&#12290;&#22914;&#20309;&#31934;&#30830;&#22320;&#30830;&#23450;&#32593;&#32476;&#19982;&#20027;&#26426;&#30340;&#20160;&#20040;&#21483;&#20570;&#8220;&#36807;&#20998;&#39057;&#32321;&#8221;&#65311;&#24403;&#25105;&#31532;&#19968;&#27425;&#32771;&#34385;&#23545;&#24863;&#30693;&#25238;&#21160;&#30340;&#23454;&#29616;&#26102;&#65292;&#25105;&#35797;&#22270;&#25214;&#21040;&#21457;&#29616;&#25238;&#21160;&#26412;&#35813;&#25110;&#24212;&#35813;&#25110;&#26159;&#22914;&#20309;&#20570;&#30340;&#20449;&#24687;&#65292;&#20294;&#26159;&#19968;&#26080;&#25152;&#33719;&#65292;&#25152;&#20197;&#20915;&#23450;&#29992;&#19968;&#31181;&#23545;&#25105;&#35328;&#26159;&#19968;&#31181;&#21512;&#29702;&#30340;&#26041;&#24335;&#26469;&#35299;&#20915;&#23427;...</p><p>&#27599;&#24403;Nagios&#23545;&#20027;&#26426;&#19982;&#26381;&#21153;&#36827;&#34892;&#26816;&#27979;&#65292;&#23427;&#23558;&#26597;&#30475;&#35813;&#20027;&#26426;&#25110;&#26381;&#21153;&#26159;&#21542;&#24050;&#24320;&#22987;&#25110;&#20572;&#27490;&#25238;&#21160;&#65292;&#26465;&#20214;&#26377;&#20960;&#26465;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#20445;&#23384;&#22909;&#30340;&#23545;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#26816;&#27979;&#32467;&#26524;&#33267;&#23569;21&#20010;&#65307;</li><li>&#20998;&#26512;&#21382;&#21490;&#26816;&#27979;&#32467;&#26524;&#30830;&#23450;&#29366;&#24577;&#21464;&#25442;&#21457;&#29983;&#20102;&#65307;</li><li>&#29992;&#29366;&#24577;&#36716;&#25442;&#21028;&#23450;&#20027;&#26426;&#19982;&#26381;&#21153;&#29366;&#24577;&#20540;&#25913;&#21464;&#30340;&#30334;&#20998;&#27604;&#65307;</li><li>&#27604;&#36739;&#36825;&#20010;&#30334;&#20998;&#27604;&#26159;&#21542;&#36234;&#36807;&#20102;&#35774;&#23450;&#30340;&#25238;&#21160;&#38376;&#38480;&#30340;&#26368;&#20302;&#20540;&#19982;&#26368;&#39640;&#20540;&#65307;</li></ol></div><p>&#35748;&#23450;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;<span class="strong"><strong>&#25238;&#21160;&#24320;&#22987;</strong></span>&#26159;&#23427;&#30340;&#29366;&#24577;&#25913;&#21464;&#29575;&#39318;&#27425;<span class="strong"><strong>&#39640;&#20110;&#25238;&#21160;&#38376;&#38480;&#30340;&#39640;&#38480;</strong></span>&#12290;</p><p>&#35748;&#23450;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;<span class="strong"><strong>&#25238;&#21160;&#32467;&#26463;</strong></span>&#26159;&#23427;&#30340;&#29366;&#24577;&#25913;&#21464;&#29575;<span class="strong"><strong>&#20302;&#20110;&#25238;&#21160;&#38376;&#38480;&#20302;&#38480;</strong></span>(&#21069;&#25552;&#26159;&#23427;&#24050;&#32463;&#22788;&#20110;&#25238;&#21160;&#29366;&#24577;)&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20323"></a>8.7.3.&nbsp;&#20363;&#23376;</h3></div></div></div><p>&#19979;&#38754;&#29992;&#20010;&#26381;&#21153;&#26469;&#26356;&#35814;&#32454;&#22320;&#35828;&#26126;&#22914;&#20309;&#24863;&#30693;&#25238;&#21160;&#30340;... </p><p>&#19979;&#22270;&#32473;&#20986;&#20102;&#26368;&#36817;21&#27425;&#26816;&#27979;&#32467;&#26524;&#30340;&#25353;&#26102;&#24207;&#30340;&#21382;&#21490;&#29366;&#24577;&#12290;&#27491;&#24120;(OK)&#24577;&#26631;&#35760;&#20026;&#32511;&#33394;&#65292;&#21578;&#35686;(WARNING)&#24577;&#20026;&#40644;&#33394;&#65292;&#32039;&#24613;(CRITICAL)&#20026;&#32418;&#33394;&#65292;&#26410;&#30693;(UNKOWN)&#24577;&#20026;&#27225;&#33394;&#12290;</p><div><img src="../pub/images/statetransitions.png"></div><p>&#23545;&#21382;&#21490;&#26816;&#27979;&#32467;&#26524;&#30340;&#26816;&#26597;&#20915;&#23450;&#20102;&#21738;&#20010;&#26102;&#38388;&#37324;&#26377;&#29366;&#24577;&#21464;&#25442;&#21457;&#29983;&#65292;&#29366;&#24577;&#21464;&#25442;&#21457;&#29983;&#20110;&#23384;&#26723;&#29366;&#24577;&#19982;&#20854;&#21069;&#19968;&#27425;&#29366;&#24577;&#19981;&#21516;&#30340;&#26102;&#21051;&#12290;&#30001;&#20110;&#29992;&#25968;&#32452;&#20445;&#23384;&#20102;&#26368;&#36817;21&#27425;&#26816;&#27979;&#32467;&#26524;&#65292;&#22240;&#32780;&#21487;&#20197;&#30693;&#36947;&#26368;&#22810;&#21487;&#33021;&#20250;&#20135;&#29983;20&#27425;&#21464;&#21270;&#12290;&#22312;&#26412;&#20363;&#20013;&#26377;7&#27425;&#29366;&#24577;&#21464;&#21270;&#65292;&#22312;&#22270;&#20013;&#19978;&#26041;&#29992;&#34013;&#33394;&#31661;&#22836;&#31034;&#24847;&#20986;&#26469;&#12290;</p><p>&#24863;&#30693;&#29366;&#24577;&#25238;&#21160;&#36923;&#36753;&#20351;&#29992;&#29366;&#24577;&#21464;&#25442;&#26469;&#21028;&#23450;&#25972;&#20307;&#26381;&#21153;&#30340;&#29366;&#24577;&#21464;&#21270;&#29575;&#65292;&#29992;&#20110;&#24230;&#37327;&#26381;&#21153;&#21464;&#21270;&#25110;&#26356;&#25913;&#30340;&#39057;&#24230;&#12290;&#27809;&#26377;&#21457;&#29983;&#36807;&#29366;&#24577;&#21464;&#21270;&#30340;&#21464;&#21270;&#29575;&#20026;0%&#65292;&#32780;&#27599;&#27425;&#37117;&#21464;&#21270;&#30340;&#29366;&#24577;&#21464;&#21270;&#29575;&#26159;100%&#12290;&#26381;&#21153;&#30340;&#29366;&#24577;&#21464;&#21270;&#24212;&#35813;&#22312;&#27492;&#20043;&#38388;&#21464;&#21270;&#12290;</p><p>&#24403;&#35745;&#31639;&#26381;&#21153;&#30340;&#29366;&#24577;&#21464;&#21270;&#29575;&#26102;&#65292;&#24863;&#30693;&#25238;&#21160;&#30340;&#31639;&#27861;&#23558;&#20250;&#32473;&#23545;&#36817;&#26399;&#21464;&#21270;&#26356;&#22810;&#26435;&#37325;&#65292;&#26087;&#30340;&#21464;&#21270;&#26435;&#37325;&#20302;&#12290;&#29305;&#21035;&#22320;&#65292;&#23558;&#36817;&#26399;&#21464;&#21270;&#32473;&#20986;50%&#30340;&#26435;&#37325;&#12290;&#22270;&#20013;&#31034;&#20986;&#23545;&#25351;&#23450;&#26381;&#21153;&#20351;&#29992;&#20102;&#36817;&#26399;&#21464;&#21270;&#26377;&#26356;&#22810;&#26435;&#37325;&#26469;&#35745;&#31639;&#25972;&#20307;&#21464;&#21270;&#29575;&#30340;&#24773;&#20917;&#12290;</p><div><img src="../pub/images/statetransitions2.png"></div><p>&#21033;&#29992;&#22270;&#31034;&#32467;&#26524;&#65292;&#35745;&#31639;&#19968;&#19979;&#26381;&#21153;&#30340;&#29366;&#24577;&#21464;&#21270;&#29575;&#12290;&#20849;&#26377;7&#27425;&#29366;&#24577;&#21464;&#21270;(&#20998;&#21035;&#20301;&#20110;t<sub>3</sub>&#12289;t<sub>4</sub>&#12289;t<sub>5</sub>&#12289;t<sub>9</sub>&#12289;t<sub>12</sub>&#12289;t<sub>16</sub>&#21644;t<sub>19</sub>)&#12290;&#27809;&#26377;&#20219;&#20309;&#29366;&#24577;&#21464;&#21270;&#26435;&#37325;&#26102;&#32467;&#26524;&#23558;&#20250;&#26159;35%&#65306;</p><p>(7&#27425;&#26597;&#20986;&#30340;&#29366;&#24577;&#21464;&#21270;/20&#27425;&#26368;&#22823;&#29366;&#24577;&#21464;&#21270;&#27425;&#25968;)*100%=35%</p><p>&#22240;&#20026;&#24863;&#30693;&#25238;&#21160;&#30340;&#26816;&#27979;&#36923;&#36753;&#20351;&#29992;&#36817;&#26399;&#21464;&#21270;&#26356;&#22823;&#30340;&#26435;&#37325;&#65292;&#25152;&#20197;&#35813;&#20363;&#20013;&#23454;&#38469;&#35745;&#31639;&#26102;&#21464;&#21270;&#29575;&#20250;&#20302;&#20110;35%&#12290;&#20551;&#23450;&#36825;&#20010;&#21152;&#26435;&#21518;&#30340;&#21464;&#21270;&#29575;&#26159;31%...</p><p>&#20351;&#29992;&#35745;&#31639;&#21518;&#30340;&#26381;&#21153;&#30340;&#29366;&#24577;&#21464;&#21270;&#29575;(31%)&#26469;&#27604;&#23545;&#25238;&#21160;&#38376;&#38480;&#23558;&#20250;&#21457;&#29983;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#22914;&#26524;&#20808;&#21069;<span class="strong"><strong>&#27809;&#26377;</strong></span>&#21457;&#29983;&#25238;&#21160;&#19988;31%<span class="strong"><strong>&#31561;&#20110;&#25110;&#36229;&#20986;&#20102;</strong></span>&#25238;&#21160;&#38376;&#38480;&#30340;&#39640;&#38480;&#65292;Nagios&#23558;&#21028;&#23450;&#26381;&#21153;&#24320;&#22987;&#25238;&#21160;&#65307;</li><li>&#22914;&#26524;&#26381;&#21153;&#20808;&#21069;<span class="strong"><strong>&#22788;&#20110;</strong></span>&#25238;&#21160;&#32780;&#19988;31%<span class="strong"><strong>&#20302;&#20110;</strong></span>&#25238;&#21160;&#38376;&#38480;&#30340;&#20302;&#38480;&#65292;Nagios&#23558;&#21028;&#23450;&#26381;&#21153;&#20572;&#27490;&#25238;&#21160;&#65307;</li></ol></div><p>&#22914;&#26524;&#20004;&#20010;&#37117;&#27809;&#26377;&#21457;&#29983;&#65292;&#24863;&#30693;&#25238;&#21160;&#36923;&#36753;&#23558;&#19981;&#20250;&#23545;&#26381;&#21153;&#20570;&#20219;&#20309;&#21160;&#20316;&#65292;&#22240;&#20026;&#23427;&#26082;&#27809;&#26377;&#21464;&#20026;&#25238;&#21160;&#20063;&#25110;&#35768;&#27491;&#22312;&#25238;&#21160;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20386"></a>8.7.4.&nbsp;&#26381;&#21153;&#30340;&#25238;&#21160;&#24863;&#30693;</h3></div></div></div><p>&#27599;&#24403;Nagios&#23545;&#26381;&#21153;&#36827;&#34892;&#26816;&#27979;&#26102;&#23601;&#20250;&#26469;&#20570;&#26816;&#26597;&#30475;&#23427;&#26159;&#21542;&#25238;&#21160;(&#19981;&#31649;&#26159;&#33258;&#20027;&#26816;&#27979;&#36824;&#26159;&#24378;&#21046;&#26816;&#27979;)&#12290;</p><p>&#26381;&#21153;&#30340;&#25238;&#21160;&#24863;&#30693;&#26426;&#21046;&#35265;&#19978;&#38754;&#20363;&#23376;&#20013;&#30340;&#25551;&#36848;&#35828;&#26126;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20393"></a>8.7.5.&nbsp;&#20027;&#26426;&#30340;&#25238;&#21160;&#24863;&#30693;</h3></div></div></div><p>&#20027;&#26426;&#30340;&#25238;&#21160;&#24863;&#30693;&#19982;&#26381;&#21153;&#30340;&#30456;&#20284;&#65292;&#21482;&#26159;&#19968;&#20010;&#37325;&#35201;&#30340;&#19981;&#21516;&#65306;Nagios&#23558;&#22312;&#22914;&#19979;&#24773;&#24418;&#26102;&#23581;&#35797;&#23545;&#20854;&#36827;&#34892;&#25238;&#21160;&#20013;&#30340;&#26816;&#27979;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#20027;&#26426;&#26816;&#27979;&#26102;(&#33258;&#20027;&#26816;&#27979;&#25110;&#24378;&#21046;&#26816;&#27979;&#26102;&#37117;&#20250;&#20570;)</li><li>&#26377;&#26102;&#19982;&#20027;&#26426;&#32465;&#23450;&#30340;&#26381;&#21153;&#34987;&#26816;&#27979;&#26102;&#12290;&#26356;&#29305;&#27530;&#22320;&#65292;&#24403;&#33267;&#23569;<span class="strong"><strong>x</strong></span>&#27425;&#30340;&#25238;&#21160;&#24863;&#30693;&#20570;&#36807;&#26102;&#65292;&#27492;&#22788;&#30340;<span class="strong"><strong>x</strong></span>&#31561;&#20110;&#20840;&#37096;&#19982;&#20027;&#26426;&#32465;&#23450;&#26381;&#21153;&#30340;&#24179;&#22343;&#26816;&#27979;&#38388;&#38548;&#26102;&#38388;&#12290;</li></ol></div><p>&#20026;&#20309;&#35201;&#36825;&#26679;&#65311;&#30001;&#20110;&#26368;&#23569;&#30340;&#20004;&#27425;&#25238;&#21160;&#26816;&#26597;&#27425;&#25968;&#38388;&#30340;&#26102;&#38388;&#26368;&#23569;&#26159;&#31561;&#20110;&#26381;&#21153;&#26816;&#27979;&#38388;&#38548;&#26102;&#38388;&#12290;&#28982;&#32780;&#21487;&#33021;&#23545;&#20027;&#26426;&#30340;&#30417;&#25511;&#24182;&#38750;&#22522;&#20110;&#35268;&#26684;&#21270;&#30340;&#38388;&#38548;&#65292;&#25152;&#20197;&#23545;&#20027;&#26426;&#30340;&#25238;&#21160;&#26816;&#27979;&#21487;&#33021;&#23545;&#23427;&#30340;&#25238;&#21160;&#24863;&#30693;&#30340;&#26816;&#26597;&#19981;&#26159;&#20027;&#26426;&#26816;&#27979;&#30340;&#38388;&#38548;&#26102;&#38388;&#12290;&#21516;&#26679;&#22320;&#65292;&#35201;&#30693;&#36947;&#23545;&#26381;&#21153;&#30340;&#26816;&#26597;&#20250;&#21472;&#21152;&#21040;&#20027;&#26426;&#30340;&#25238;&#21160;&#24863;&#30693;&#26816;&#27979;&#19978;&#12290;&#27605;&#31455;&#26381;&#21153;&#26159;&#20027;&#26426;&#19978;&#30340;&#23646;&#24615;&#32780;&#19981;&#26159;&#21035;&#30340;...&#22312;&#31181;&#31181;&#26816;&#26597;&#36895;&#29575;&#30456;&#27604;&#20043;&#19979;&#65292;&#36825;&#20010;&#26159;&#26368;&#22909;&#30340;&#26041;&#24335;&#26469;&#22810;&#27425;&#22320;&#23545;&#20027;&#26426;&#36827;&#34892;&#25238;&#21160;&#26816;&#26597;&#65292;&#25152;&#20197;&#20320;&#20063;&#24471;&#22914;&#27492;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20411"></a>8.7.6.&nbsp;&#25238;&#21160;&#26816;&#27979;&#38376;&#38480;</h3></div></div></div><p>Nagios&#22312;&#25238;&#21160;&#24863;&#30693;&#36923;&#36753;&#20013;&#29992;&#33509;&#24178;&#20010;&#20540;&#26469;&#21028;&#23450;&#29366;&#24577;&#21464;&#21270;&#29575;&#12290;&#26082;&#26377;&#20027;&#26426;&#30340;&#20063;&#26377;&#26381;&#21153;&#30340;&#65292;&#37197;&#32622;&#37324;&#38754;&#26377;<span class="strong"><strong>&#20840;&#23616;&#30340;</strong></span>&#38376;&#38480;&#39640;&#38480;&#21644;&#20302;&#38480;&#20063;&#26377;&#19987;&#38376;&#38024;&#23545;<span class="strong"><strong>&#20027;&#26426;&#30340;</strong></span>&#25110;&#26159;<span class="strong"><strong>&#26381;&#21153;&#30340;</strong></span>&#38376;&#38480;&#12290;Nagios&#23558;&#22312;&#27809;&#26377;&#25351;&#23450;&#19987;&#38376;&#20027;&#26426;&#30340;&#25110;&#26381;&#21153;&#30340;&#38376;&#38480;&#26102;&#20351;&#29992;&#20840;&#23616;&#30340;&#38376;&#38480;&#20540;&#12290;</p><p>&#19979;&#34920;&#32473;&#20986;&#20102;&#20840;&#23616;&#30340;&#12289;&#19987;&#32473;&#20027;&#26426;&#30340;&#21644;&#19987;&#32473;&#26381;&#21153;&#30340;&#30340;&#38376;&#38480;&#20540;&#30340;&#25511;&#21046;&#21464;&#37327;&#12290;</p><div class="table"><a name="d0e20427"></a><p class="title"><b>&#34920;&nbsp;8.24.&nbsp;</b></p><div class="table-contents"><table border="1"><colgroup><col><col><col></colgroup><thead><tr><th>&#23545;&#35937;&#31867;&#22411;</th><th>&#20840;&#23616;&#21464;&#37327;</th><th>&#23545;&#35937;&#19987;&#23646;&#30340;&#21464;&#37327;</th></tr></thead><tbody><tr><td>&#20027;&#26426;</td><td><a class="link" href="#low_host_flap_threshold" title="&#34920;&nbsp;5.73.&nbsp;Low Host Flap Threshold">low_host_flap_threshold</a>   <a class="link" href="#high_host_flap_threshold" title="&#34920;&nbsp;5.74.&nbsp;High Host Flap Threshold">high_host_flap_threshold</a>   </td><td><a class="link" href="#objectdefinitions_host">low_flap_threshold</a>   <a class="link" href="#objectdefinitions_host">high_flap_threshold</a>   </td></tr><tr><td>&#26381;&#21153;</td><td><a class="link" href="#low_service_flap_threshold" title="&#34920;&nbsp;5.71.&nbsp;Low Service Flap Threshold">low_service_flap_threshold</a>   <a class="link" href="#high_service_flap_threshold" title="&#34920;&nbsp;5.72.&nbsp;High Service Flap Threshold">high_service_flap_threshold</a>   </td><td><a class="link" href="#objectdefinitions_service">low_flap_threshold</a>   <a class="link" href="#objectdefinitions_service">high_flap_threshold</a>   </td></tr></tbody></table></div></div><br class="table-break"></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20472"></a>8.7.7.&nbsp;&#32473;&#25238;&#21160;&#26816;&#27979;&#25152;&#29992;&#30340;&#29366;&#24577;</h3></div></div></div><p>&#36890;&#24120;Nagios&#23558;&#35760;&#24405;&#19979;&#38024;&#23545;&#20027;&#26426;&#21644;&#26381;&#21153;&#30340;&#26368;&#21518;21&#27425;&#26816;&#27979;&#32467;&#26524;&#29992;&#20110;&#25238;&#21160;&#24863;&#30693;&#36923;&#36753;&#65292;&#32780;&#19981;&#31649;&#20840;&#37096;&#30340;&#26816;&#26597;&#32467;&#26524;&#12290;</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#25552;&#31034;</h3><div><img src="../pub/images/tip.gif"></div>&#22312;&#25238;&#21160;&#24863;&#30693;&#36923;&#36753;&#20013;&#21487;&#20197;&#25490;&#38500;&#20027;&#26426;&#25110;&#26381;&#21153;&#30340;&#26576;&#31181;&#29366;&#24577;&#65292;&#22312;&#20027;&#26426;&#25110;&#26381;&#21153;&#23450;&#20041;&#20013;&#20351;&#29992;<span class="strong"><strong>flap_detection_options</strong></span>&#22495;&#26469;&#25351;&#26126;&#21738;&#20123;&#29366;&#24577;(&#22914;&#36816;&#34892;(UP)&#12289;&#23445;&#26426;(DOWN)&#12289;&#27491;&#24120;(OK)&#12289;&#32039;&#24613;(CRITICAL)&#31561;)&#35201;&#36827;&#20837;&#25238;&#21160;&#26816;&#26597;&#12290;&#22914;&#26524;&#27809;&#26377;&#35774;&#32622;&#23427;&#65292;&#20840;&#37096;&#30340;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#29366;&#24577;&#37117;&#20250;&#34987;&#29992;&#20110;&#25238;&#21160;&#24863;&#30693;&#36923;&#36753;&#20043;&#20013;&#12290;</div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20484"></a>8.7.8.&nbsp;&#25238;&#21160;&#22788;&#29702;</h3></div></div></div><p>&#24403;&#26381;&#21153;&#25110;&#20027;&#26426;&#39318;&#27425;&#21457;&#29616;&#22788;&#20110;&#25238;&#21160;&#26102;&#65292;Nagios&#23558;&#20250;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#35760;&#24405;&#19979;&#26381;&#21153;&#19982;&#20027;&#26426;&#27491;&#22312;&#25238;&#21160;&#30340;&#20449;&#24687;&#65307;</li><li>&#32473;&#20027;&#26426;&#19982;&#26381;&#21153;&#22686;&#21152;&#19968;&#20010;&#38750;&#25345;&#32493;&#24615;&#30340;&#27880;&#37322;&#20197;&#35828;&#26126;&#23427;&#27491;&#22312;&#25238;&#21160;&#65307;</li><li>&#32473;&#26381;&#21153;&#19982;&#20027;&#26426;&#30456;&#20851;&#30340;&#32852;&#31995;&#20154;&#21457;&#36865;&#19968;&#20010;"&#24320;&#22987;&#25238;&#21160;"&#30340;&#36890;&#30693;&#65307;</li><li>&#21387;&#21046;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#20854;&#20182;&#36890;&#30693;(&#36825;&#20010;&#22312;<a class="link" href="#notifications" title="6.7.&nbsp;&#36890;&#30693;">&#36890;&#30693;&#36923;&#36753;</a>&#20013;&#26377;&#19968;&#20010;&#36807;&#28388;)&#65307;</li></ol></div><p>&#24403;&#26381;&#21153;&#25110;&#20027;&#26426;&#20572;&#27490;&#25238;&#21160;&#26102;&#65292;Nagios&#23558;&#20250;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#35760;&#24405;&#19979;&#20027;&#26426;&#19982;&#26381;&#21153;&#20572;&#27490;&#20102;&#25238;&#21160;&#65307;</li><li>&#21024;&#38500;&#26368;&#21021;&#30340;&#32473;&#20027;&#26426;&#19982;&#26381;&#21153;&#22686;&#21152;&#30340;&#24320;&#22987;&#25238;&#21160;&#30340;&#27880;&#37322;&#65307;</li><li>&#32473;&#20027;&#26426;&#19982;&#26381;&#21153;&#30456;&#20851;&#30340;&#32852;&#31995;&#20154;&#36865;&#20986;&#19968;&#20010;"&#25238;&#21160;&#20572;&#27490;"&#30340;&#36890;&#30693;&#65307;</li><li>&#20572;&#27490;&#38459;&#22622;&#35813;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#36890;&#30693;(&#36890;&#30693;&#36716;&#22238;&#21040;&#27491;&#24120;&#30340;<a class="link" href="#notifications" title="6.7.&nbsp;&#36890;&#30693;">&#36890;&#30693;&#36923;&#36753;</a>)&#12290;</li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20515"></a>8.7.9.&nbsp;&#20351;&#33021;&#25238;&#21160;&#24863;&#30693;&#21151;&#33021;</h3></div></div></div><p>&#22312;Nagios&#25171;&#24320;&#25238;&#21160;&#24863;&#30693;&#21151;&#33021;&#65292;&#38656;&#35201;&#22914;&#19979;&#35774;&#32622;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#23558;<a class="link" href="#enable_flap_detection" title="&#34920;&nbsp;5.70.&nbsp;Flap Detection Option">enable_flap_detection</a>&#22495;&#35774;&#32622;&#20026;1&#65307;</li><li>&#22312;&#20027;&#26426;&#19982;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#20013;&#30340;<span class="strong"><strong>flap_detection_enabled</strong></span>&#22495;&#35774;&#32622;&#20026;1&#65307;</li></ol></div><p>&#22914;&#26524;&#24819;&#20851;&#38381;&#20840;&#23616;&#30340;&#25238;&#21160;&#24863;&#30693;&#21151;&#33021;&#65292;&#23558;<a class="link" href="#enable_flap_detection" title="&#34920;&nbsp;5.70.&nbsp;Flap Detection Option">enable_flap_detection</a>&#22495;&#35774;&#32622;&#20026;0&#65307;</p><p>&#22914;&#26524;&#21482;&#24819;&#20851;&#38381;&#19968;&#37096;&#20998;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#25238;&#21160;&#26816;&#26597;&#65292;&#20351;&#29992;&#22312;&#20027;&#26426;&#19982;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#37324;<span class="strong"><strong>flap_detection_enabled</strong></span>&#22495;&#26469;&#25511;&#21046;&#23427;&#65307;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="checkscheduling"></a>8.8.&nbsp;&#26381;&#21153;&#21644;&#20027;&#26426;&#30340;&#23450;&#26399;&#26816;&#27979;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20544"></a>8.8.1.&nbsp;&#26410;&#23436;&#25104;</h3></div></div></div><p>&#26412;&#25991;&#26723;&#22240;Nagios3.x&#29256;&#26412;&#35201;&#37325;&#20889;&#65292;&#31561;&#21518;&#32493;&#29256;&#26412;&#20877;&#34917;&#20805;&#23436;&#21892;&#26412;&#25991;&#26723;...</p><p><a name="checkscheduling_service_inter_check_delay"></a>service_inter_check_delay</p><p><a name="checkscheduling_service_interleaving"></a>service_interleaving</p><p><a name="checkscheduling_max_concurrent_checks"></a>max_concurrent_checks</p><p><a name="checkscheduling_host_inter_check_delay"></a>host_inter_check_delay</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="escalations"></a>8.9.&nbsp;&#26377;&#20851;&#36890;&#30693;&#30340;&#23545;&#35937;&#25193;&#23637;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20560"></a>8.9.1.&nbsp;&#20171;&#32461;</h3></div></div></div><div><img src="../pub/images/objects-contacts.png"></div><p>Nagios&#25903;&#25345;&#23545;&#20027;&#26426;&#19982;&#26381;&#21153;&#25152;&#23545;&#24212;&#32852;&#31995;&#20154;&#36890;&#30693;&#30340;&#23545;&#35937;&#25193;&#23637;&#12290;&#20027;&#26426;&#19982;&#26381;&#21153;&#20013;&#26377;&#20851;&#36890;&#30693;&#30340;&#23545;&#35937;&#25193;&#23637;&#26159;&#30001;<a class="link" href="#configobject" title="5.3.&nbsp;&#23545;&#35937;&#37197;&#32622;&#27010;&#35272;">&#23545;&#35937;&#23450;&#20041;&#25991;&#20214;</a>&#37324;&#30340;<a class="link" href="#objectdefinitions_hostescalation">&#20027;&#26426;&#25193;&#23637;&#23545;&#35937;</a>&#21644;<a class="link" href="#objectdefinitions_serviceescalation">&#26381;&#21153;&#25193;&#23637;&#23545;&#35937;</a>&#26469;&#22768;&#26126;&#30340;&#12290;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><div><img src="../pub/images/note.gif"></div>&#19979;&#38754;&#20363;&#23376;&#37324;&#21482;&#32473;&#20986;&#20102;&#26381;&#21153;&#25193;&#23637;&#23545;&#35937;&#23450;&#20041;&#65292;&#20854;&#23454;&#20027;&#26426;&#25193;&#23637;&#23545;&#35937;&#23450;&#20041;&#20063;&#26159;&#19968;&#26679;&#30340;&#65292;&#24403;&#28982;&#65292;&#20027;&#26426;&#25193;&#23637;&#26159;&#32473;&#20027;&#26426;&#23545;&#35937;&#30340;&#65292;&#32780;&#26381;&#21153;&#25193;&#23637;&#21482;&#32473;&#26381;&#21153;&#23545;&#35937;&#12290; :-) </div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20579"></a>8.9.2.&nbsp;&#20160;&#20040;&#26102;&#20505;&#20570;&#36890;&#30693;&#25193;&#23637;&#65311;</h3></div></div></div><p>&#36890;&#30693;&#25193;&#23637;&#23558;<span class="strong"><strong>&#20250;&#19988;&#20165;&#20250;</strong></span>&#22312;&#19968;&#20010;&#25110;&#22810;&#20010;&#25193;&#23637;&#23545;&#35937;&#19982;&#24403;&#21069;&#35201;&#36865;&#20986;&#30340;&#36890;&#30693;<span class="emphasis"><em>&#30456;&#21305;&#37197;</em></span>&#26102;&#25165;&#20570;&#12290;&#22914;&#26524;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#36890;&#30693;&#19982;&#23545;&#35937;&#25193;&#23637;<span class="strong"><strong>&#19981;&#21305;&#37197;</strong></span>&#20219;&#20309;&#19968;&#20010;&#21512;&#27861;&#30340;&#23545;&#35937;&#25193;&#23637;&#65292;&#19981;&#20250;&#26377;&#20027;&#26426;&#25110;&#26381;&#21153;&#30340;&#23545;&#35937;&#25193;&#23637;&#34987;&#24212;&#29992;&#20110;&#24403;&#21069;&#30340;&#36890;&#30693;&#36807;&#31243;&#20013;&#12290;&#35265;&#19979;&#38754;&#30340;&#20363;&#23376;&#65306;</p><pre class="programlisting"><p>define serviceescalation{
	host_name		webserver
	service_description	HTTP
	first_notification	3
	last_notification	5
	notification_interval	90
	contact_groups		nt-admins,managers
}
define serviceescalation{
	host_name		webserver
	service_description	HTTP
	first_notification	6
	last_notification	10
	notification_interval	60
	contact_groups		nt-admins,managers,everyone
}</p></pre><p>&#35201;&#27880;&#24847;&#26377;&#19968;&#20010;&#36890;&#30693;&#30340;&#23545;&#35937;&#25193;&#23637;&#23450;&#20041;&#30340;&#8220;&#23380;&#27934;&#8221;(&#31354;&#30333;&#21306;&#38388;)&#12290;&#20063;&#23601;&#26159;&#31532;1&#19982;&#31532;2&#20010;&#36890;&#30693;&#19981;&#20250;&#34987;&#25193;&#23637;&#23545;&#35937;&#22788;&#29702;&#65292;&#23545;&#20110;&#36229;&#20986;10&#30340;&#36890;&#30693;&#20063;&#19981;&#20250;&#22788;&#29702;&#12290;&#23545;&#20110;&#31532;1&#21644;&#31532;2&#27425;&#36890;&#30693;&#65292;&#19982;&#20840;&#37096;&#30340;&#36890;&#30693;&#19968;&#26679;&#23558;&#20351;&#29992;&#26381;&#21153;&#23545;&#35937;&#37324;&#30340;<span class="strong"><strong>&#40664;&#35748;</strong></span>&#32852;&#31995;&#20154;&#32452;&#37324;&#30340;&#32852;&#31995;&#20154;&#20570;&#23545;&#35937;&#36890;&#30693;&#12290;&#22312;&#20363;&#23376;&#20013;&#65292;&#20551;&#23450;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#37324;&#30340;&#40664;&#35748;&#30340;&#32852;&#31995;&#20154;&#32452;&#26159;&#21517;&#20026;<span class="strong"><strong>nt-admins</strong></span>&#30340;&#32852;&#31995;&#20154;&#32452;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20604"></a>8.9.3.&nbsp;&#32852;&#31995;&#20154;&#32452;</h3></div></div></div><p>&#24403;&#23450;&#20041;&#20102;&#36890;&#30693;&#30456;&#20851;&#30340;&#23545;&#35937;&#25193;&#23637;&#65292;&#24456;&#37325;&#35201;&#30340;&#19968;&#28857;&#26159;&#35201;&#35760;&#24471;&#8220;&#20302;&#32423;&#21035;&#8221;&#23545;&#35937;&#25193;&#23637;&#37324;&#30340;&#32852;&#31995;&#20154;&#32452;&#19968;&#23450;&#35201;&#20986;&#29616;&#22312;&#8220;&#39640;&#32423;&#21035;&#8221;&#23545;&#35937;&#25193;&#23637;&#37324;&#30340;&#32852;&#31995;&#20154;&#32452;&#12290;&#36825;&#26679;&#25165;&#20250;&#30830;&#20445;&#27599;&#19968;&#20010;&#23558;&#35201;&#25910;&#21040;&#25925;&#38556;&#36890;&#30693;&#30340;&#20154;&#22312;&#25925;&#38556;&#19981;&#26029;&#25193;&#24352;&#30340;&#24773;&#20917;&#19979;&#20250;<span class="strong"><strong>&#25345;&#32493;&#22320;</strong></span>&#25910;&#21040;&#36890;&#30693;&#12290;&#20363;&#22914;&#65306;</p><pre class="programlisting"><p>define serviceescalation{
	host_name		webserver
	service_description	HTTP
	first_notification	3
	last_notification	5
	notification_interval	90
	contact_groups		nt-admins,managers
}
define serviceescalation{
	host_name		webserver
	service_description	HTTP
	first_notification	6
	last_notification	0
	notification_interval	60
	contact_groups		nt-admins,managers,everyone
}</p></pre><p>&#31532;&#19968;&#20010;("&#20302;&#32423;&#21035;")&#26723;&#27425;&#30340;&#25193;&#23637;&#21253;&#25324;&#20102;<span class="strong"><strong>nt-admins</strong></span>&#21644;<span class="strong"><strong>managers</strong></span>&#20004;&#20010;&#32852;&#31995;&#20154;&#32452;&#12290;&#21518;&#19968;&#20010;("&#39640;&#32423;&#21035;")&#26723;&#27425;&#30340;&#25193;&#23637;&#21253;&#25324;&#20102;<span class="strong"><strong>nt-admins</strong></span>&#12289;<span class="strong"><strong>managers</strong></span>&#21644;<span class="strong"><strong>everyone</strong></span>&#31561;&#19977;&#20010;&#32852;&#31995;&#20154;&#32452;&#12290;&#27880;&#24847;&#65292;<span class="strong"><strong>nt-admins</strong></span>&#36825;&#20010;&#32852;&#31995;&#20154;&#32452;&#34987;&#21253;&#21547;&#22312;&#20004;&#20010;&#26723;&#27425;&#30340;&#25193;&#23637;&#37324;&#65292;&#36825;&#26679;&#20570;&#21487;&#20197;&#20351;&#36825;&#20010;&#32852;&#31995;&#20154;&#32452;&#30340;&#25104;&#21592;&#21487;&#20197;&#22312;&#21069;&#20004;&#20010;&#36890;&#30693;&#36865;&#36798;&#21518;&#20173;&#26087;&#21487;&#20197;&#25509;&#21040;&#21518;&#24207;&#30340;&#36890;&#30693;&#12290;<span class="strong"><strong>managers</strong></span>&#32852;&#31995;&#20154;&#32452;&#26368;&#21021;&#26159;&#22312;&#31532;&#19968;&#20010;&#26723;&#27425;("&#20302;&#32423;&#21035;")&#30340;&#25193;&#23637;&#37324;&#20986;&#29616;&#65293;&#37324;&#38754;&#30340;&#25104;&#21592;&#20250;&#22312;&#31532;&#19977;&#20010;&#36890;&#30693;&#24320;&#22987;&#36865;&#20986;&#26102;&#25910;&#21040;&#36890;&#30693;&#12290;&#32943;&#23450;&#26159;&#24076;&#26395;<span class="strong"><strong>managers</strong></span>&#32452;&#37324;&#30340;&#32852;&#31995;&#20154;&#21487;&#25345;&#32493;&#22320;&#25910;&#21040;&#20043;&#21518;&#30340;&#36890;&#30693;(&#22914;&#26524;&#31532;5&#27425;&#25925;&#38556;&#36890;&#30693;&#36824;&#22312;&#30340;&#35805;)&#65292;&#22240;&#32780;&#36825;&#20010;&#32452;&#20063;&#21152;&#21040;&#20102;&#31532;2("&#39640;&#32423;&#21035;")&#26723;&#27425;&#30340;&#25193;&#23637;&#23450;&#20041;&#37324;&#20102;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20641"></a>8.9.4.&nbsp;&#25193;&#23637;&#33539;&#22260;&#30340;&#35206;&#30422;</h3></div></div></div><p>&#20851;&#20110;&#36890;&#30693;&#30340;&#23545;&#35937;&#25193;&#23637;&#21487;&#20197;&#34987;&#35206;&#30422;&#65292;&#35265;&#19979;&#38754;&#30340;&#20363;&#23376;&#65306;</p><pre class="programlisting"><p>define serviceescalation{
	host_name		webserver
	service_description	HTTP
	first_notification	3
	last_notification	5
	notification_interval	20
	contact_groups		nt-admins,managers
}
define serviceescalation{
	host_name		webserver
	service_description	HTTP
	first_notification	4
	last_notification	0
	notification_interval	30
	contact_groups		on-call-support
}</p></pre><p>&#22312;&#19978;&#20363;&#20013;&#65292;</p><div class="orderedlist"><ol type="1"><li><span class="strong"><strong>nt-admins</strong></span>&#21644;<span class="strong"><strong>managers</strong></span>&#20004;&#20010;&#32852;&#31995;&#20154;&#32452;&#23558;&#22312;&#31532;3&#27425;&#36890;&#30693;&#24320;&#22987;&#26102;&#25910;&#21040;&#36890;&#30693;&#65307;</li><li>&#20840;&#37096;&#30340;&#19977;&#20010;&#32852;&#31995;&#20154;&#32452;&#23558;&#22312;&#31532;4&#21644;&#31532;5&#27425;&#36890;&#30693;&#26102;&#25910;&#21040;&#36890;&#30693;&#65307;</li><li>&#20165;&#20165;&#26159;<span class="strong"><strong>on-call-support</strong></span>&#32852;&#31995;&#20154;&#32452;&#20250;&#22312;&#31532;6&#27425;&#21450;&#20043;&#21518;&#30340;&#36890;&#30693;&#36865;&#20986;&#26102;&#25910;&#21040;&#36890;&#30693;&#12290;</li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20666"></a>8.9.5.&nbsp;&#24674;&#22797;&#30340;&#36890;&#30693;</h3></div></div></div><p>&#24403;&#36890;&#30693;&#34987;&#25193;&#23637;&#30340;&#26102;&#20505;&#65292;&#24674;&#22797;&#36890;&#30693;&#20250;&#22240;&#25925;&#38556;&#36890;&#30693;&#29366;&#24577;&#19981;&#21516;&#32780;&#31245;&#26377;&#19981;&#21516;&#65292;&#35265;&#19979;&#20363;&#65306;</p><pre class="programlisting"><p>define serviceescalation{
	host_name		webserver
	service_description	HTTP
	first_notification	3
	last_notification	5
	notification_interval	20
	contact_groups		nt-admins,managers
}
define serviceescalation{
	host_name		webserver
	service_description	HTTP
	first_notification	4
	last_notification	0
	notification_interval	30
	contact_groups		on-call-support
}</p></pre><p>&#22914;&#26524;&#22312;&#31532;3&#27425;&#25925;&#38556;&#36890;&#30693;&#20043;&#21518;&#26381;&#21153;&#26816;&#27979;&#21518;&#35201;&#36865;&#20986;&#19968;&#20010;&#24674;&#22797;&#36890;&#30693;&#65292;&#37027;&#20040;&#35841;&#20250;&#25910;&#21040;&#36890;&#30693;&#65311;&#20107;&#23454;&#19978;&#65292;&#36825;&#20010;&#24674;&#22797;&#36890;&#30693;&#24212;&#35813;&#31639;&#26159;&#31532;4&#20010;&#36890;&#30693;&#65292;&#28982;&#32780;Nagios&#30340;&#36890;&#30693;&#25193;&#23637;&#20195;&#30721;&#20250;&#8220;&#32874;&#26126;&#22320;&#21028;&#26029;&#20986;&#8221;&#20854;&#23454;&#21482;&#26377;&#25910;&#21040;&#31532;3&#27425;&#36890;&#30693;&#30340;&#32852;&#31995;&#20154;&#32452;&#25165;&#24212;&#35813;&#25910;&#21040;&#36825;&#20010;&#24674;&#22797;&#36890;&#30693;&#12290;&#36825;&#26102;&#65292;<span class="strong"><strong>nt-admins</strong></span>&#21644;<span class="strong"><strong>managers</strong></span>&#32852;&#31995;&#20154;&#32452;&#23558;&#25910;&#21040;&#36825;&#20010;&#24674;&#22797;&#36890;&#30693;&#12290;(&#35793;&#32773;&#27880;&#65306;&#37027;&#20010;on-call-support&#32452;&#37324;&#30340;&#32852;&#31995;&#20154;&#19981;&#20250;&#25910;&#21040;&#65281;)</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20682"></a>8.9.6.&nbsp;&#36890;&#30693;&#38388;&#38548;</h3></div></div></div><p>&#36824;&#21487;&#20197;&#20462;&#25913;&#23545;&#25351;&#23450;&#20027;&#26426;&#19982;&#26381;&#21153;&#36890;&#30693;&#30340;&#36865;&#20986;&#39057;&#24230;&#65292;&#29992;&#20027;&#26426;&#25193;&#23637;&#19982;&#26381;&#21153;&#25193;&#23637;&#23545;&#35937;&#23450;&#20041;&#37324;&#30340;<span class="strong"><strong>notification_interval</strong></span>&#22495;&#26469;&#25351;&#23450;&#19981;&#21516;&#30340;&#39057;&#24230;&#12290;&#22914;&#19979;&#20363;&#65306;</p><pre class="programlisting"><p>define serviceescalation{
	host_name		webserver
	service_description	HTTP
	first_notification	3
	last_notification	5
	notification_interval	45
	contact_groups		nt-admins,managers
}
define serviceescalation{
	host_name		webserver
	service_description	HTTP
	first_notification	6
	last_notification	0
	notification_interval	60
	contact_groups		nt-admins,managers,everyone
}</p></pre><p>&#36825;&#20010;&#20363;&#23376;&#20013;&#65292;&#36825;&#20010;&#26381;&#21153;&#30340;&#40664;&#35748;&#36890;&#30693;&#36865;&#20986;&#38388;&#38548;&#26159;240&#20998;&#38047;(&#35813;&#20540;&#26159;&#22312;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#37324;&#35774;&#32622;&#30340;)&#12290;&#24403;&#35813;&#26381;&#21153;&#30340;&#36890;&#30693;&#34987;&#25193;&#23637;&#21040;&#31532;3&#12289;&#31532;4&#21644;&#31532;5&#27425;&#26102;&#65292;&#27599;&#27425;&#36890;&#30693;&#30340;&#38388;&#38548;&#23558;&#26159;45&#20998;&#38047;&#12290;&#22312;&#31532;6&#27425;&#21450;&#20043;&#21518;&#65292;&#36890;&#30693;&#38388;&#38548;&#23558;&#21464;&#25104;60&#20998;&#38047;&#65292;&#36825;&#20010;&#26159;&#22312;&#31532;2&#20010;&#30340;&#26381;&#21153;&#25193;&#23637;&#23545;&#35937;&#37324;&#23450;&#20041;&#30340;&#12290;</p><p>&#26082;&#28982;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#23545;&#35937;&#25193;&#23637;&#26377;&#21487;&#33021;&#35206;&#30422;&#65292;&#32780;&#19988;&#26576;&#20010;&#20027;&#26426;&#20107;&#23454;&#19978;&#26377;&#21487;&#33021;&#20174;&#23646;&#20110;&#22810;&#20010;&#20027;&#26426;&#32452;&#65292;&#37027;&#20040;Nagios&#23601;&#19981;&#24471;&#19981;&#23601;&#22312;&#36890;&#30693;&#38388;&#38548;&#26377;&#35206;&#30422;&#30340;&#24773;&#20917;&#19979;&#21462;&#21738;&#20010;&#36890;&#30693;&#38388;&#38548;&#20570;&#20010;&#20915;&#23450;&#12290;&#24403;&#23545;&#20110;&#19968;&#20010;&#26381;&#21153;&#36890;&#30693;&#23384;&#22312;&#26377;&#22810;&#20010;&#21512;&#27861;&#26377;&#25928;&#30340;&#23545;&#35937;&#25193;&#23637;&#23450;&#20041;&#26102;&#65292;Nagios&#23558;&#20250;&#21462;&#20854;&#20013;&#26368;&#23567;&#30340;&#36890;&#30693;&#38388;&#38548;&#26469;&#20570;&#20026;&#38388;&#38548;&#12290;&#35265;&#19979;&#20363;&#65306;</p><pre class="programlisting"><p>define serviceescalation{
	host_name		webserver
	service_description	HTTP
	first_notification	3
	last_notification	5
	notification_interval	45
	contact_groups		nt-admins,managers
}
define serviceescalation{
	host_name		webserver
	service_description	HTTP
	first_notification	4
	last_notification	0
	notification_interval	60
	contact_groups		nt-admins,managers,everyone
}</p></pre><p>&#35813;&#20363;&#20013;&#26377;&#38024;&#23545;&#31532;4&#21644;&#31532;5&#27425;&#36890;&#30693;&#65292;&#26377;&#20004;&#20010;&#23545;&#35937;&#25193;&#23637;&#30456;&#20114;&#35206;&#30422;&#12290;&#36825;&#20004;&#27425;&#36890;&#30693;&#38388;&#38548;&#37324;&#65292;Nagios&#30340;&#36890;&#30693;&#38388;&#38548;&#23558;&#26159;45&#20998;&#38047;&#65292;&#22240;&#20026;&#24403;&#36825;&#20960;&#27425;&#36890;&#30693;&#35201;&#36865;&#20986;&#26102;&#22312;&#29616;&#26377;&#30340;&#21512;&#27861;&#26377;&#25928;&#30340;&#26381;&#21153;&#23545;&#35937;&#25193;&#23637;&#37324;&#36825;&#20010;&#20540;&#26368;&#23567;&#12290;</p><pre class="programlisting"><p>define serviceescalation{
	host_name		webserver
	service_description	HTTP
	first_notification	3
	last_notification	5
	notification_interval	45
	contact_groups		nt-admins,managers
}
define serviceescalation{
	host_name		webserver
	service_description	HTTP
	first_notification	4
	last_notification	6
	notification_interval	0
	contact_groups		nt-admins,managers,everyone
}
define serviceescalation{
	host_name		webserver
	service_description	HTTP
	first_notification	7
	last_notification	0
	notification_interval	30
	contact_groups		nt-admins,managers
}</p></pre><p>&#22312;&#19978;&#20363;&#20013;&#65292;&#25925;&#38556;&#36890;&#30693;&#30340;&#26368;&#22823;&#27425;&#25968;&#26159;&#22312;4&#12290;&#36825;&#26159;&#22240;&#20026;&#31532;&#20108;&#26723;&#27425;&#30340;&#26381;&#21153;&#23545;&#35937;&#25193;&#23637;&#37324;&#30340;&#36890;&#30693;&#38388;&#38548;&#20540;&#26159;0&#65292;&#22240;&#32780;(&#24403;&#31532;4&#27425;&#36890;&#30693;&#23558;&#35201;&#34987;&#36865;&#20986;&#26102;)&#21482;&#20250;&#36865;&#20986;&#19968;&#20010;&#36890;&#30693;&#32780;&#20043;&#21518;&#36890;&#30693;&#34987;&#25233;&#21046;&#12290;&#22240;&#27492;&#65292;&#22312;&#31532;4&#27425;&#36890;&#30693;&#36865;&#20986;&#21518;&#31532;&#19977;&#20010;&#26381;&#21153;&#25193;&#23637;&#23545;&#35937;&#26080;&#35770;&#22914;&#20309;&#20063;&#19981;&#20250;&#36215;&#20316;&#29992;&#20102;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20707"></a>8.9.7.&nbsp;&#26102;&#38388;&#21608;&#26399;&#30340;&#38480;&#21046;</h3></div></div></div><p>&#36890;&#24120;&#30340;&#24773;&#20917;&#19979;&#65292;&#23545;&#36890;&#30693;&#30340;&#23545;&#35937;&#25193;&#23637;&#21487;&#20197;&#29992;&#20110;&#20219;&#24847;&#24819;&#35201;&#36865;&#20986;&#20027;&#26426;&#19982;&#26381;&#21153;&#36890;&#30693;&#30340;&#26102;&#21051;&#12290;&#36825;&#20010;"&#36890;&#30693;&#26102;&#38388;&#31383;&#21475;"&#21462;&#20915;&#20110;<a class="link" href="#objectdefinitions_host">&#20027;&#26426;</a>&#19982;<a class="link" href="#objectdefinitions_service">&#26381;&#21153;</a>&#23545;&#35937;&#23450;&#20041;&#37324;&#30340;<span class="strong"><strong>notification_period</strong></span>&#22495;&#20540;&#12290;</p><p>&#21487;&#20197;&#29992;&#20027;&#26426;&#25193;&#23637;&#19982;&#23545;&#35937;&#25193;&#23637;&#37324;&#30340;<span class="strong"><strong>escalation_period</strong></span>&#22495;&#26469;&#25351;&#23450;&#19968;&#20010;&#29305;&#23450;&#26102;&#38388;&#21608;&#26399;&#20351;&#24471;&#25193;&#23637;&#34987;&#38480;&#23450;&#21482;&#22788;&#20110;&#26576;&#20010;&#29305;&#23450;&#26102;&#38388;&#27573;&#20869;&#12290;&#20351;&#29992;<span class="strong"><strong>escalation_period</strong></span>&#22495;&#26469;&#25351;&#23450;&#26576;&#20010;<a class="link" href="#timeperiods" title="6.6.&nbsp;&#26102;&#38388;&#21608;&#26399;">&#26102;&#38388;&#21608;&#26399;</a>&#37324;&#23545;&#35937;&#25193;&#23637;&#26159;&#21487;&#29992;&#30340;&#65292;&#23545;&#35937;&#25193;&#23637;&#23558;&#21482;&#26159;&#22312;&#25351;&#23450;&#30340;&#26102;&#38388;&#37324;&#21487;&#29992;&#12290;&#22914;&#26524;&#27809;&#26377;&#22312;<span class="strong"><strong>escalation_period</strong></span>&#22495;&#37324;&#25351;&#23450;&#26102;&#38388;&#21608;&#26399;&#65292;&#20027;&#26426;&#25193;&#23637;&#19982;&#26381;&#21153;&#25193;&#23637;&#23558;&#20250;&#22312;"&#36890;&#30693;&#26102;&#38388;&#31383;&#21475;"&#20869;&#30340;&#20219;&#24847;&#26102;&#38388;&#37324;&#26159;&#21487;&#29992;&#30340;&#12290;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><div><img src="../pub/images/note.gif"></div>&#36890;&#30693;&#25193;&#23637;&#20381;&#26087;&#20250;&#21463;&#38480;&#20110;&#20027;&#26426;&#19982;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#37324;&#30340;<span class="strong"><strong>notification_period</strong></span>&#22495;&#25152;&#25351;&#23450;&#30340;&#26102;&#38388;&#21608;&#26399;&#65292;&#22240;&#32780;&#29305;&#23450;&#30340;&#23545;&#35937;&#25193;&#23637;&#37324;&#30340;&#26102;&#38388;&#21608;&#26399;&#26159;&#19968;&#20010;&#26356;&#22823;&#33539;&#22260;"&#36890;&#30693;&#26102;&#38388;&#31383;&#21475;"&#30340;&#23376;&#38598;&#12290;</div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20742"></a>8.9.8.&nbsp;&#29366;&#24577;&#38480;&#21046;</h3></div></div></div><p>&#22914;&#26524;&#24819;&#21482;&#26159;&#24819;&#29992;&#29305;&#23450;&#30340;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#29366;&#24577;&#38480;&#23450;&#38024;&#23545;&#36890;&#30693;&#30340;&#25193;&#23637;&#65292;&#21487;&#20197;&#29992;&#20027;&#26426;&#25193;&#23637;&#21644;&#26381;&#21153;&#25193;&#23637;&#23545;&#35937;&#37324;&#30340;<span class="strong"><strong>escalation_options</strong></span>&#22495;&#26469;&#25351;&#23450;&#12290;&#22914;&#26524;&#27809;&#26377;&#25351;&#23450;<span class="strong"><strong>escalation_options</strong></span>&#22495;&#65292;&#38024;&#23545;&#36890;&#30693;&#30340;&#25193;&#23637;&#23558;&#20316;&#29992;&#20110;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#20219;&#20309;&#29366;&#24577;&#20043;&#19978;&#12290;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="oncallrotation"></a>8.10.&nbsp;&#24212;&#21484;&#24490;&#29615;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20756"></a>8.10.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>(&#21407;&#25991;&#26723;&#39064;&#30446;&#20351;&#29992;&#30340;&#26159;On-Call&#65292;&#26377;"&#38543;&#21483;&#38543;&#21040;&#12289;&#24212;&#21484;"&#30340;&#24847;&#24605;&#65292;&#25152;&#20197;&#32763;&#35793;&#20026;"&#24212;&#21484;"&#65293;&#65293;&#35793;&#32773;&#27880;)</p><div><img src="../pub/images/objects-timeperiods.png"></div><div><img src="../pub/images/objects-contacts.png"></div><p>&#31649;&#29702;&#21592;&#36890;&#24120;&#35201;&#25215;&#25285;&#30528;&#21709;&#24212;PB&#26426;&#21628;&#21483;&#12289;&#30005;&#35805;&#31561;&#24037;&#20316;&#65292;&#21363;&#20351;&#20182;&#20204;&#19981;&#24773;&#24895;&#12290;&#27809;&#20154;&#21916;&#27426;&#22312;&#28165;&#26216;&#22235;&#28857;&#34987;&#21483;&#36215;&#22788;&#29702;&#38382;&#39064;&#65292;&#20294;&#21320;&#22812;&#20462;&#27491;&#38169;&#35823;&#20250;&#32943;&#23450;&#20250;&#22909;&#20123;&#65292;&#24635;&#27604;&#22312;&#26089;&#19978;&#20061;&#28857;&#38386;&#24237;&#20449;&#27493;&#30340;&#26102;&#20505;&#30896;&#21040;&#19968;&#33080;&#24594;&#27668;&#30340;&#32769;&#26495;&#35201;&#24378;&#35768;&#22810;&#21543;&#12290;</p><p>&#24212;&#21484;&#24490;&#29615;&#35774;&#23450;&#22909;&#21518;&#32473;&#37027;&#20123;&#25215;&#25285;&#36215;&#24212;&#24613;&#21709;&#24212;&#30340;&#19968;&#23567;&#25619;&#20498;&#38665;&#34507;&#12290;&#36890;&#24120;&#22312;&#21608;&#26410;&#12289;&#26202;&#38388;&#21644;&#20551;&#26085;&#37324;&#65292;&#26377;&#22810;&#20010;&#31649;&#29702;&#21592;&#36718;&#27969;&#20540;&#23432;&#12290;</p><p>&#19979;&#38754;&#20250;&#20197;&#26356;&#23481;&#26131;&#22320;&#23436;&#25104;&#24212;&#21484;&#24490;&#29615;&#30340;&#26041;&#24335;&#26469;&#21019;&#24314;<a class="link" href="#timeperiods" title="6.6.&nbsp;&#26102;&#38388;&#21608;&#26399;">&#26102;&#38388;&#21608;&#26399;</a>&#23545;&#35937;&#23450;&#20041;&#65292;&#36825;&#20123;&#23450;&#20041;&#26080;&#27861;&#22788;&#29702;&#20154;&#20026;&#22240;&#32032;(&#22914;&#31649;&#29702;&#21592;&#29983;&#30149;&#12289;&#25442;&#23703;&#25110;&#26159;&#25163;&#26426;&#27809;&#30005;&#31561;)&#65292;&#20294;&#21487;&#20197;&#24314;&#31435;&#19968;&#20010;&#22522;&#30784;&#35745;&#21010;&#26694;&#26550;&#22312;&#22823;&#37096;&#20998;&#26102;&#38388;&#37324;&#23427;&#32943;&#23450;&#26159;&#36866;&#29992;&#30340;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20772"></a>8.10.2.&nbsp;&#22330;&#26223;1&#65306;&#20551;&#26085;&#19982;&#21608;&#26410;</h3></div></div></div><p>John&#21644;Bob&#26159;&#20004;&#20010;&#31649;&#29702;&#21592;&#36127;&#36131;&#23545;Nagios&#25253;&#35686;&#20570;&#20986;&#21709;&#24212;&#12290;John&#27599;&#21608;&#24037;&#20316;&#26102;&#38388;&#27573;&#20869;(&#19981;&#21253;&#25324;&#20551;&#26085;)&#36127;&#36131;&#25509;&#25910;&#20840;&#37096;&#36890;&#30693;&#65292;&#30001;Bob&#36127;&#36131;&#22312;&#27599;&#21608;&#26410;&#21644;&#20551;&#26085;&#37324;&#25509;&#25910;&#36890;&#30693;&#65292;Bob&#26159;&#37027;&#20010;&#24184;&#36816;&#30340;&#20498;&#38665;&#34507;&#12290;&#19979;&#38754;&#32473;&#20986;&#22914;&#20309;&#23450;&#20041;&#26102;&#38388;&#21608;&#26399;&#23545;&#35937;&#23450;&#20041;...</p><p>&#39318;&#20808;&#65292;&#23450;&#20041;&#19968;&#20010;&#20551;&#26085;&#30340;&#26102;&#38388;&#21608;&#26399;&#23545;&#35937;&#65306;</p><pre class="programlisting"><p>define timeperiod{
	name	holidays
	timeperiod_name	holidays
	january 1			00:00-24:00	; New Year's Day
	2007-03-23		00:00-24:00	; Easter (2008)
	2007-04-12		00:00-24:00	; Easter (2009)
	monday -1 may		00:00-24:00	; Memorial Day (Last Monday in May)
	july 4			00:00-24:00	; Independence Day
	monday 1 september		00:00-24:00	; Labor Day (1st Monday in September)
	thursday 4 november	00:00-24:00	; Thanksgiving (4th Thursday in November)
	december 25		00:00-24:00	; Christmas
	december 31		17:00-24:00	; New Year's Eve (5pm onwards)
	}</p></pre><p>&#19979;&#19968;&#27493;&#65292;&#32473;John&#23450;&#20041;&#19968;&#20010;&#24212;&#21484;&#26102;&#38388;&#21608;&#26399;&#23545;&#35937;&#65292;&#26159;&#24179;&#26102;&#27599;&#21608;&#30340;&#26089;&#26202;&#24037;&#20316;&#26102;&#38388;&#65292;&#20294;&#19981;&#21253;&#25324;&#20551;&#26085;&#26102;&#38388;&#27573;&#65306;</p><pre class="programlisting"><p>define timeperiod{
	timeperiod_name		john-oncall
	monday		00:00-24:00
	tuesday		00:00-24:00
	wednesday		00:00-24:00
	thursday		00:00-24:00
	friday		00:00-24:00
	exclude		holidays		; Exclude holiday dates/times defined elsewhere
	}</p></pre><p>&#19979;&#38754;&#21487;&#20197;&#22312;John&#30340;&#32852;&#31995;&#20154;&#23450;&#20041;&#37324;&#24341;&#29992;&#36825;&#20010;&#26102;&#38388;&#21608;&#26399;&#23450;&#20041;&#65306;</p><pre class="programlisting"><p>define contact{
	contact_name		john
	...
	host_notification_period		john-oncall
	service_notification_period		john-oncall
	}</p></pre><p>&#32473;Bob&#23450;&#20041;&#19968;&#20010;&#24212;&#21484;&#26102;&#38388;&#27573;&#65292;&#21253;&#25324;&#27599;&#20010;&#21608;&#26410;&#21644;&#20551;&#26085;&#65306;</p><pre class="programlisting"><p>define timeperiod{
	timeperiod_name		bob-oncall
	friday		00:00-24:00
	saturday		00:00-24:00
	use		holidays	; Also include holiday date/times defined elsewhere
	}</p></pre><p>&#22312;Bob&#30340;&#32852;&#31995;&#20154;&#23450;&#20041;&#37324;&#24341;&#29992;&#36825;&#20010;&#26102;&#38388;&#21608;&#26399;&#23450;&#20041;&#65306;</p><pre class="programlisting"><p>define contact{
	contact_name		bob
	...
	host_notification_period		bob-oncall
	service_notification_period		bob-oncall
	}</p></pre></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20802"></a>8.10.3.&nbsp;&#22330;&#26223;2&#65306;&#36718;&#25442;&#20540;&#29677;</h3></div></div></div><p>&#22312;&#35813;&#22330;&#26223;&#37324;John&#21644;Bob&#36718;&#25442;&#22320;&#20132;&#25509;&#20540;&#29677;&#65292;&#19981;&#31649;&#36825;&#19968;&#22825;&#26159;&#21608;&#26410;&#12289;&#24037;&#20316;&#26085;&#36824;&#26159;&#20551;&#26085;&#12290;</p><p>&#23450;&#20041;&#19968;&#20010;&#26102;&#38388;&#21608;&#26399;&#23545;&#35937;&#65292;&#22312;&#35813;&#26102;&#38388;&#20869;&#30001;John&#36127;&#36131;&#25509;&#25910;&#36890;&#30693;&#65292;&#38548;&#22825;&#24037;&#20316;&#12290;&#20551;&#23450;&#24320;&#22987;&#36825;&#22825;&#26159;2007&#24180;8&#26376;1&#26085;&#30340;&#20840;&#22825;&#65292;&#36825;&#20010;&#23545;&#35937;&#23450;&#20041;&#26159;&#65306;</p><pre class="programlisting"><p>define timeperiod{
	timeperiod_name		john-oncall
	2007-08-01 / 2	00:00-24:00	; Every two days, starting August 1st, 2007
	}</p></pre><p>&#23450;&#20041;&#19968;&#20010;&#26102;&#38388;&#21608;&#26399;&#35813;&#30001;Bob&#36127;&#36131;&#25509;&#25910;&#36890;&#30693;&#65292;Bob&#25509;&#25910;&#36890;&#30693;&#30340;&#26102;&#20505;John&#19981;&#24037;&#20316;&#65292;&#25152;&#20197;&#20182;&#36215;&#22987;&#26102;&#38388;&#26159;2007&#24180;8&#26376;2&#26085;&#24320;&#22987;&#12290;</p><pre class="programlisting"><p>define timeperiod{
	timeperiod_name		bob-oncall
	2007-08-02 / 2	00:00-24:00	; Every two days, starting August 2nd, 2007
	}</p></pre><p>&#19979;&#38754;&#21487;&#20197;&#22312;John&#21644;Bob&#30340;&#32852;&#31995;&#20154;&#23545;&#35937;&#23450;&#20041;&#37324;&#24341;&#29992;&#36825;&#20004;&#20010;&#26102;&#38388;&#21608;&#26399;&#23450;&#20041;&#65306;</p><pre class="programlisting"><p>define contact{
	contact_name		john
	...
	host_notification_period		john-oncall
	service_notification_period		john-oncall
	}
define contact{
	contact_name		bob
	...
	host_notification_period		bob-oncall
	service_notification_period		bob-oncall
	}</p></pre></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20822"></a>8.10.4.&nbsp;&#22330;&#26223;3&#65306;&#36718;&#25442;&#21608;&#20540;&#29677;</h3></div></div></div><p>&#22312;&#36825;&#20010;&#22330;&#26223;&#37324;&#65292;&#30001;John&#21644;Bob&#27599;&#21608;&#19968;&#20010;&#22320;&#36718;&#25442;&#21608;&#20540;&#29677;&#12290;&#30001;John&#36127;&#36131;&#24178;&#19968;&#21608;&#65292;Bob&#20877;&#24178;&#19968;&#21608;&#65292;&#21608;&#32780;&#22797;&#22987;&#12290;</p><p>&#23450;&#20041;John&#38656;&#35201;&#25509;&#25910;&#36890;&#30693;&#30340;&#26102;&#38388;&#21608;&#26399;&#23545;&#35937;&#65292;&#20551;&#23450;&#24320;&#22987;&#36825;&#19968;&#22825;&#26159;2007&#24180;7&#26376;29&#26085;&#24320;&#22987;&#30340;&#19968;&#21608;&#65292;&#23450;&#20041;&#22914;&#19979;&#65306;</p><pre class="programlisting"><p>define timeperiod{
	timeperiod_name		john-oncall
	2007-07-29 / 14	00:00-24:00	; Every 14 days (two weeks), starting Sunday, July 29th, 2007
	2007-07-30 / 14	00:00-24:00	; Every other Monday starting July 30th, 2007
	2007-07-31 / 14	00:00-24:00	; Every other Tuesday starting July 31st, 2007
	2007-08-01 / 14	00:00-24:00	; Every other Wednesday starting August 1st, 2007
	2007-08-02 / 14	00:00-24:00	; Every other Thursday starting August 2nd, 2007
	2007-08-03 / 14	00:00-24:00	; Every other Friday starting August 3rd, 2007
	2007-08-04 / 14	00:00-24:00	; Every other Saturday starting August 4th, 2007
	}</p></pre><p>&#32473;Bob&#30340;&#24037;&#20316;&#26102;&#38388;&#23450;&#20041;&#19968;&#20010;&#26102;&#38388;&#21608;&#26399;&#23545;&#35937;&#23450;&#20041;&#12290;Bob&#26159;&#22312;John&#24178;&#23436;&#21518;&#30340;&#19968;&#21608;&#24320;&#22987;&#20570;&#24212;&#21484;&#20540;&#29677;&#65292;&#22240;&#32780;&#24320;&#22987;&#26102;&#38388;&#26159;2007&#24180;8&#26376;5&#26085;&#12290;</p><pre class="programlisting"><p>define timeperiod{
	timeperiod_name		bob-oncall
	2007-08-05 / 14	00:00-24:00	; Every 14 days (two weeks), starting Sunday, August 5th, 2007
	2007-08-06 / 14	00:00-24:00	; Every other Monday starting August 6th, 2007
	2007-08-07 / 14	00:00-24:00	; Every other Tuesday starting August 7th, 2007
	2007-08-08 / 14	00:00-24:00	; Every other Wednesday starting August 8th, 2007
	2007-08-09 / 14	00:00-24:00	; Every other Thursday starting August 9th, 2007
	2007-08-10 / 14	00:00-24:00	; Every other Friday starting August 10th, 2007
	2007-08-11 / 14	00:00-24:00	; Every other Saturday starting August 11th, 2007
	}</p></pre><p>&#29616;&#22312;&#21487;&#20197;&#22312;John&#21644;Bob&#30340;&#32852;&#31995;&#20154;&#23545;&#35937;&#23450;&#20041;&#37324;&#24341;&#29992;&#36825;&#20004;&#20010;&#26102;&#38388;&#21608;&#26399;&#23450;&#20041;&#20102;&#65306;</p><pre class="programlisting"><p>define contact{
	contact_name		john
	...
	host_notification_period		john-oncall
	service_notification_period		john-oncall
	}
define contact{
	contact_name		bob
	...
	host_notification_period		bob-oncall
	service_notification_period		bob-oncall
	}</p></pre></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20842"></a>8.10.5.&nbsp;&#22330;&#26223;4&#65306;&#20551;&#26399;</h3></div></div></div><p>&#22312;&#35813;&#22330;&#26223;&#37324;&#65292;John&#22312;&#20840;&#37096;&#26102;&#38388;&#20869;&#22788;&#29702;&#25253;&#35686;&#65292;&#38500;&#38750;&#20182;&#20241;&#20551;&#12290;&#27599;&#20010;&#26376;&#20182;&#20250;&#22266;&#23450;&#20241;&#20551;&#21516;&#26102;&#36824;&#26377;&#19968;&#20010;&#38271;&#20551;&#65292;&#22312;John&#20241;&#20551;&#26102;&#30001;Bob&#26469;&#36127;&#36131;&#22788;&#29702;&#25253;&#35686;&#12290;</p><p>&#20808;&#32473;John&#23450;&#20041;&#19968;&#20010;&#20241;&#20551;&#21644;&#38271;&#20551;&#30340;&#26102;&#38388;&#27573;&#65306;</p><pre class="programlisting"><p>define timeperiod{
	name	john-out-of-office
	timeperiod_name	john-out-of-office
	day 15			00:00-24:00		; 15th day of each month
	day -1			00:00-24:00		; Last day of each month (28th, 29th, 30th, or 31st)
	day -2			00:00-24:00		; 2nd to last day of each month (27th, 28th, 29th, or 30th)
	january 2			00:00-24:00		; January 2nd each year
	june 1 - july 5		00:00-24:00		; Yearly camping trip (June 1st - July 5th)
	2007-11-01 - 2007-11-10	00:00-24:00		; Vacation to the US Virgin Islands (November 1st-10th, 2007)
	}</p></pre><p>&#20877;&#23450;&#20041;&#20986;John&#30340;&#26085;&#24120;&#30340;&#24212;&#21484;&#26102;&#38388;&#23433;&#25490;&#65292;&#19981;&#21253;&#25324;&#19978;&#38754;&#30340;John&#30340;&#20551;&#26085;&#65306;</p><pre class="programlisting"><p>define timeperiod{
	timeperiod_name		john-oncall
	monday		00:00-24:00
	tuesday		00:00-24:00
	wednesday		00:00-24:00
	thursday		00:00-24:00
	friday		00:00-24:00
	exclude		john-out-of-office		; Exclude dates/times John is out
	}</p></pre><p>&#19979;&#38754;&#21487;&#20197;&#22312;John&#30340;&#32852;&#31995;&#20154;&#23545;&#35937;&#37324;&#24341;&#29992;&#36825;&#20010;&#26102;&#38388;&#21608;&#26399;&#23450;&#20041;&#65306;</p><pre class="programlisting"><p>define contact{
	contact_name		john
	...
	host_notification_period		john-oncall
	service_notification_period		john-oncall
	}</p></pre><p>&#20877;&#32473;Bob&#23450;&#20041;&#19968;&#20010;&#26102;&#38388;&#27573;&#65292;&#20869;&#23481;&#26159;John&#30340;&#20241;&#20551;&#26085;&#65306;</p><pre class="programlisting"><p>define timeperiod{
	timeperod_name		bob-oncall
	use		john-out-of-office	; Include holiday date/times that John is out
	}</p></pre><p>&#19979;&#38754;&#23601;&#21487;&#20197;&#22312;Bob&#30340;&#32852;&#31995;&#20154;&#23545;&#35937;&#37324;&#24341;&#29992;&#36825;&#20010;&#26102;&#38388;&#21608;&#26399;&#23450;&#20041;&#65306;</p><pre class="programlisting"><p>define contact{
	contact_name		bob
	...
	host_notification_period		bob-oncall
	service_notification_period		bob-oncall
	}</p></pre></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20872"></a>8.10.6.&nbsp;&#20854;&#20182;&#22330;&#26223;</h3></div></div></div><p>&#21487;&#33021;&#20250;&#26377;&#21508;&#31181;&#21508;&#26679;&#30340;&#20854;&#20182;&#24212;&#21484;&#24037;&#20316;&#22330;&#26223;&#12290;&#22312;<a class="link" href="#objectdefinitions_timeperiod">&#26102;&#38388;&#21608;&#26399;&#23545;&#35937;&#23450;&#20041;</a>&#30340;&#26085;&#26399;&#20363;&#22806;&#39033;&#23558;&#21487;&#20197;&#22788;&#29702;&#20960;&#20046;&#20840;&#37096;&#30340;&#26085;&#26399;&#30456;&#20851;&#25110;&#26085;&#26399;&#27573;&#30456;&#20851;&#30340;&#24037;&#20316;&#26102;&#38388;&#23450;&#20041;&#65292;&#35831;&#23457;&#35270;&#19968;&#19979;&#21487;&#29992;&#30340;&#19981;&#21516;&#26102;&#38388;&#26684;&#24335;&#12290;&#22914;&#26524;&#21019;&#24314;&#30340;&#26102;&#38388;&#27573;&#23450;&#20041;&#26377;&#38169;&#35823;&#65292;&#20854;&#32467;&#26524;&#26159;&#26576;&#20010;&#20154;&#24635;&#20250;&#26159;&#19981;&#33021;&#22312;&#25351;&#23450;&#26102;&#38388;&#20869;&#24037;&#20316;&#30340;&#12290;:-)</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="dependencies"></a>8.11.&nbsp;&#20027;&#26426;&#38388;&#19982;&#26381;&#21153;&#38388;&#20381;&#36182;&#20851;&#31995;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20883"></a>8.11.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#20381;&#36182;&#26159;Nagios&#30340;&#39640;&#32423;&#29305;&#24615;&#65292;&#23427;&#21487;&#29992;&#20110;&#22522;&#20110;&#19968;&#20010;&#25110;&#22810;&#20010;&#20854;&#20182;&#20027;&#26426;&#19982;&#26381;&#21153;&#26469;&#25511;&#21046;&#24403;&#21069;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#34892;&#20026;&#12290;&#19979;&#38754;&#23558;&#35299;&#37322;&#19968;&#19979;&#20381;&#36182;&#20851;&#31995;&#26159;&#22914;&#20309;&#24037;&#20316;&#30340;&#65292;&#21253;&#25324;&#20027;&#26426;&#38388;&#30340;&#21644;&#26381;&#21153;&#38388;&#30340;&#20381;&#36182;&#24046;&#24322;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20888"></a>8.11.2.&nbsp;&#26381;&#21153;&#20381;&#36182;&#27010;&#20917;</h3></div></div></div><p>&#26381;&#21153;&#20381;&#36182;&#30340;&#20960;&#20010;&#22522;&#26412;&#28857;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#26381;&#21153;&#21487;&#20197;&#20381;&#36182;&#20110;&#19968;&#20010;&#25110;&#22810;&#20010;&#20854;&#20182;&#26381;&#21153;&#65307;</li><li>&#26381;&#21153;&#21487;&#20197;&#20381;&#36182;&#20110;&#32465;&#23450;&#20110;&#19981;&#21516;&#20027;&#26426;&#19978;&#30340;&#26381;&#21153;&#65307;</li><li>&#26381;&#21153;&#20381;&#36182;&#26159;&#19981;&#34987;&#32487;&#25215;&#30340;(&#38500;&#38750;&#19987;&#38376;&#37197;&#32622;&#36807;)&#65307;</li><li>&#26381;&#21153;&#39046;&#20107;&#21487;&#34987;&#29992;&#20110;&#22312;&#19981;&#21516;&#30340;&#29366;&#24577;&#24773;&#20917;(&#27491;&#24120;&#12289;&#21578;&#35686;&#12289;&#26410;&#30693;&#21644;&#32039;&#24613;)&#19979;&#24341;&#21457;&#26381;&#21153;&#26816;&#27979;&#30340;&#25191;&#34892;&#21644;&#26381;&#21153;&#36890;&#30693;&#30340;&#25233;&#21046;&#65307;</li><li>&#26381;&#21153;&#20381;&#36182;&#21487;&#33021;&#21482;&#26159;&#22312;&#25351;&#23450;<a class="link" href="#timeperiods" title="6.6.&nbsp;&#26102;&#38388;&#21608;&#26399;">&#26102;&#38388;&#21608;&#26399;</a>&#20869;&#21512;&#27861;&#12290;</li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20907"></a>8.11.3.&nbsp;&#23450;&#20041;&#26381;&#21153;&#20381;&#36182;</h3></div></div></div><p>&#39318;&#20808;&#20570;&#20026;&#22522;&#30784;&#12290;&#24212;&#22312;<a class="link" href="#configobject" title="5.3.&nbsp;&#23545;&#35937;&#37197;&#32622;&#27010;&#35272;">&#23545;&#35937;&#37197;&#32622;&#25991;&#20214;</a>&#37324;&#21019;&#24314;<a class="link" href="#objectdefinitions_servicedependency">&#26381;&#21153;&#20381;&#36182;&#23545;&#35937;&#23450;&#20041;</a>&#12290;&#27599;&#20010;&#26381;&#21153;&#20381;&#36182;&#23450;&#20041;&#35201;&#25351;&#23450;<span class="strong"><strong>&#20381;&#36182;&#20110;</strong></span>&#21738;&#20010;&#26381;&#21153;&#65292; &#20316;&#20026;<span class="strong"><strong>&#34987;&#20381;&#36182;</strong></span>&#30340;&#26381;&#21153;&#30340;&#36873;&#21462;&#26631;&#20934;&#26159;&#24403;&#20854;&#22833;&#25928;&#26102;&#20250;&#24341;&#21457;&#25191;&#34892;&#19982;&#36890;&#30693;&#21160;&#20316;(&#19979;&#38754;&#20250;&#35299;&#37322;)&#12290;</p><p>&#21487;&#20197;&#32473;&#19968;&#20010;&#26381;&#21153;&#21019;&#24314;&#22810;&#20010;&#26381;&#21153;&#20381;&#36182;&#65292;&#20294;&#24517;&#39035;&#35201;&#32473;&#27599;&#20010;&#20381;&#36182;&#21019;&#24314;&#21508;&#33258;&#29420;&#31435;&#30340;&#20381;&#36182;&#20381;&#36182;&#23545;&#35937;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20926"></a>8.11.4.&nbsp;&#26381;&#21153;&#20381;&#36182;&#23545;&#35937;&#30340;&#26679;&#20363;</h3></div></div></div><p>&#19979;&#22270;&#20013;&#32473;&#20986;&#19968;&#20010;&#26381;&#21153;&#36890;&#30693;&#19982;&#25191;&#34892;&#20381;&#36182;&#30340;&#36923;&#36753;&#31034;&#24847;&#65292;&#19981;&#21516;&#26381;&#21153;&#20381;&#36182;&#20110;&#20854;&#20182;&#26381;&#21153;&#30340;&#36890;&#30693;&#21644;&#26816;&#27979;&#25191;&#34892;&#12290;</p><div><img src="../pub/images/service-dependencies.png"></div><p>&#22312;&#36825;&#20010;&#20363;&#23376;&#20013;&#65292;&#22312;<span class="strong"><strong>Host C</strong></span>&#20027;&#26426;&#19978;&#30340;<span class="strong"><strong>Service F</strong></span>&#30340;&#26381;&#21153;&#20381;&#36182;&#23558;&#34987;&#23450;&#20041;&#25104;&#36825;&#26679;&#65306;</p><pre class="programlisting"><p>define servicedependency{
	host_name			Host B
	service_description		Service D
	dependent_host_name		Host C
	dependent_service_description	Service F
	execution_failure_criteria	o
	notification_failure_criteria	w,u
}
define servicedependency{
	host_name			Host B
	service_description		Service E
	dependent_host_name		Host C
	dependent_service_description	Service F
	execution_failure_criteria	n
	notification_failure_criteria	w,u,c
}
define servicedependency{
	host_name			Host B
	service_description		Service C
	dependent_host_name		Host C
	dependent_service_description	Service F
	execution_failure_criteria	w
	notification_failure_criteria	c
}</p></pre><p>&#22312;&#22270;&#20013;&#30340;&#20854;&#20182;&#26381;&#21153;&#20381;&#36182;&#23558;&#34987;&#23450;&#20041;&#25104;&#36825;&#26679;&#65306;</p><pre class="programlisting"><p>define servicedependency{
	host_name			Host A
	service_description		Service A
	dependent_host_name		Host B
	dependent_service_description	Service D
	execution_failure_criteria	u
	notification_failure_criteria	n
}
define servicedependency{
	host_name			Host A
	service_description		Service B
	dependent_host_name		Host B
	dependent_service_description	Service E
	execution_failure_criteria	w,u
	notification_failure_criteria	c
}
define servicedependency{
	host_name			Host B
	service_description		Service C
	dependent_host_name		Host B
	dependent_service_description	Service E
	execution_failure_criteria	n
	notification_failure_criteria	w,u,c
}</p></pre></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20948"></a>8.11.5.&nbsp;&#22914;&#20309;&#27979;&#35797;&#26381;&#21153;&#20381;&#36182;&#65311;</h3></div></div></div><p>&#22312;Nagios&#36827;&#34892;&#19968;&#20010;&#26381;&#21153;&#30340;&#26816;&#27979;&#25110;&#26159;&#36865;&#20986;&#35813;&#26381;&#21153;&#30340;&#36890;&#30693;&#20043;&#21069;&#65292;&#23558;&#20250;&#26597;&#30475;&#35813;&#26381;&#21153;&#26159;&#21542;&#26377;&#26381;&#21153;&#20381;&#36182;&#12290;&#22914;&#26524;&#27809;&#26377;&#65292;&#37027;&#20040;&#35937;&#27491;&#24120;&#24773;&#20917;&#19968;&#26679;&#20570;&#20570;&#26816;&#27979;&#25110;&#36865;&#20986;&#26381;&#21153;&#36890;&#30693;&#12290;&#22914;&#26524;&#35813;&#26381;&#21153;<span class="strong"><strong>&#23384;&#22312;</strong></span>&#19968;&#20010;&#25110;&#22810;&#20010;&#26381;&#21153;&#20381;&#36182;&#65292;Nagios&#23558;&#20250;&#22914;&#19979;&#26041;&#24335;&#26469;&#26816;&#26597;&#27599;&#20010;&#26381;&#21153;&#20381;&#36182;&#65306;</p><div class="orderedlist"><ol type="1"><li>Nagios&#23558;&#21462;&#20986;&#32473;&#23450;&#30340;&#24403;&#21069;<sup><a class="link" href="#hard_dependencies">*</a></sup><span class="strong"><strong>&#26381;&#21153;&#20381;&#36182;</strong></span>&#30340;&#26381;&#21153;&#29366;&#20917;&#65307;</li><li>Nagios&#29992;&#24403;&#21069;&#26377;&#26381;&#21153;&#20381;&#36182;&#30340;&#26381;&#21153;&#29366;&#24577;&#21435;&#27604;&#23545;&#20381;&#36182;&#23545;&#35937;&#23450;&#20041;(&#37324;&#38754;&#26377;&#20851;&#26102;&#38388;&#30340;&#35774;&#32622;)&#37324;&#25152;&#32473;&#20986;&#30340;&#25191;&#34892;&#25110;&#36890;&#30693;&#22833;&#25928;&#30340;&#36873;&#39033;&#65307;</li><li>&#22914;&#26524;&#24403;&#21069;&#26377;&#26381;&#21153;&#20381;&#36182;&#30340;&#26381;&#21153;&#29366;&#24577;&#21305;&#37197;&#20013;&#20854;&#20013;&#19968;&#20010;&#22833;&#25928;&#36873;&#39033;&#65292;&#20381;&#36182;&#23601;&#22833;&#25928;&#24182;&#20250;&#20013;&#26029;&#20381;&#36182;&#26816;&#27979;&#30340;&#36923;&#36753;&#24490;&#29615;&#65307;</li><li>&#22914;&#26524;&#24403;&#21069;&#26377;&#26381;&#21153;&#20381;&#36182;&#30340;&#26381;&#21153;&#29366;&#24577;&#27809;&#26377;&#21305;&#37197;&#20013;&#20219;&#20309;&#19968;&#20010;&#22833;&#25928;&#36873;&#39033;&#65292;&#20381;&#36182;&#26816;&#26597;&#36890;&#36807;&#24182;&#19988;Nagios&#23558;&#32487;&#32493;&#36816;&#34892;&#24182;&#26816;&#26597;&#19979;&#19968;&#20010;&#20381;&#36182;&#20837;&#21475;&#65307;</li></ol></div><p>&#36825;&#20010;&#26816;&#27979;&#24490;&#29615;&#20250;&#32487;&#32493;&#30452;&#21040;&#20840;&#37096;&#30340;&#26381;&#21153;&#20381;&#36182;&#37117;&#26816;&#26597;&#23436;&#25104;&#25110;&#26159;&#20854;&#20013;&#19968;&#20010;&#26381;&#21153;&#20381;&#36182;&#30340;&#22833;&#25928;&#36873;&#39033;&#34987;&#21629;&#20013;&#12290;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><div><a name="hard_dependencies"></a><img src="../pub/images/note.gif"></div>&#27880;&#65306;<sup>*</sup>&#37325;&#35201;&#30340;&#26159;&#65292;&#40664;&#35748;&#24773;&#20917;&#19979;&#65292;Nagios&#22312;&#36827;&#34892;&#20381;&#36182;&#26816;&#26597;&#26102;&#23558;&#20250;&#20351;&#29992;&#35813;&#26381;&#21153;&#30340;&#26368;&#36817;&#30340;<a class="link" href="#statetypes" title="6.10.&nbsp;&#29366;&#24577;&#31867;&#22411;">&#30828;&#24577;</a>&#29366;&#24577;&#25152;&#21305;&#37197;&#30340;&#26381;&#21153;&#20381;&#36182;&#12290;&#22914;&#26524;&#24819;&#35753;Nagios&#20351;&#29992;&#26368;&#36817;&#30340;&#29366;&#24577;(&#19981;&#31649;&#26159;&#36719;&#24577;&#29366;&#24577;&#36824;&#26159;&#30828;&#24577;&#29366;&#24577;)&#26469;&#20570;&#26381;&#21153;&#30340;&#20381;&#36182;&#21305;&#37197;&#65292;&#38656;&#35201;&#20351;&#33021;<a class="link" href="#soft_state_dependencies" title="&#34920;&nbsp;5.75.&nbsp;Soft State Dependencies Option">soft_state_dependencies</a>&#36873;&#39033;&#12290;</div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20986"></a>8.11.6.&nbsp;&#23454;&#26045;&#20381;&#36182;</h3></div></div></div><p>&#24403;&#26381;&#21153;&#30340;<a class="link" href="#activechecks" title="6.13.&nbsp;&#33258;&#20027;&#26816;&#27979;">&#20027;&#21160;&#26816;&#27979;</a>&#23558;&#35201;&#34987;&#25191;&#34892;&#26102;&#21487;&#20197;&#29992;&#23454;&#26045;&#26381;&#21153;&#20381;&#36182;&#26469;&#38480;&#21046;&#23427;&#65292;<a class="link" href="#passivechecks" title="6.14.&nbsp;&#24378;&#21046;&#26816;&#27979;">&#24378;&#21046;&#26816;&#27979;</a>&#24182;&#19981;&#20250;&#34987;&#23454;&#26045;&#26381;&#21153;&#20381;&#36182;&#25152;&#38480;&#21046;&#12290;</p><p>&#22914;&#26524;&#38024;&#23545;&#35813;&#26381;&#21153;&#20381;&#36182;&#30340;<span class="strong"><strong>&#20840;&#37096;</strong></span>&#27979;&#35797;&#37117;<span class="strong"><strong>&#36890;&#36807;</strong></span>&#65292;Nagios&#23558;&#20250;&#35937;&#19968;&#33324;&#24773;&#20917;&#19968;&#26679;&#26469;&#25191;&#34892;&#38024;&#23545;&#35813;&#26381;&#21153;&#30340;&#26816;&#27979;&#12290;&#22914;&#26524;&#21363;&#20351;&#21482;&#26377;&#19968;&#20010;&#38024;&#23545;&#35813;&#26381;&#21153;&#20381;&#36182;&#30340;&#27979;&#35797;&#27809;&#26377;&#36890;&#36807;&#65292;Nagios&#20063;&#23558;&#20020;&#26102;&#38459;&#27490;&#38024;&#23545;&#35813;&#26381;&#21153;&#30340;&#26816;&#27979;&#65292;&#32780;&#22312;&#20043;&#21518;&#21487;&#33021;&#20250;&#36890;&#36807;&#38024;&#23545;&#35813;&#26381;&#21153;&#20381;&#36182;&#30340;&#20840;&#37096;&#27979;&#35797;&#12290;&#22914;&#26524;&#26159;&#36825;&#26679;&#30340;&#35805;&#65292;Nagios&#23558;&#20250;&#20877;&#27425;&#26469;&#25191;&#34892;&#38024;&#23545;&#35813;&#26381;&#21153;&#30340;&#26816;&#27979;&#12290;&#26356;&#22810;&#30340;&#20851;&#26377;&#35745;&#21010;&#26816;&#27979;&#36923;&#36753;&#20449;&#24687;&#21487;&#20197;&#26597;&#38405;<a class="link" href="#checkscheduling" title="8.8.&nbsp;&#26381;&#21153;&#21644;&#20027;&#26426;&#30340;&#23450;&#26399;&#26816;&#27979;">&#36825;&#31687;&#25991;&#26723;</a>&#12290;</p><p>&#22312;&#19978;&#20363;&#20013;&#65292;&#26381;&#21153;E&#23558;&#22312;&#26381;&#21153;&#20381;&#36182;&#26816;&#27979;&#20013;&#22240;&#20026;&#26381;&#21153;B&#22788;&#20110;&#21578;&#35686;&#25110;&#26410;&#30693;&#29366;&#24577;&#26102;&#27979;&#35797;&#22833;&#36133;&#12290;&#22914;&#26524;&#26159;&#36825;&#26679;&#30340;&#35805;&#65292;&#26381;&#21153;E&#30340;&#26816;&#27979;&#23558;&#19981;&#20250;&#25191;&#34892;&#32780;&#22312;&#27492;&#20043;&#21518;&#21040;&#35745;&#21010;&#26816;&#27979;&#26102;&#23558;&#21487;&#33021;&#20877;&#20570;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e21010"></a>8.11.7.&nbsp;&#36890;&#30693;&#20381;&#36182;</h3></div></div></div><p>&#22914;&#26524;&#38024;&#23545;&#35813;&#26381;&#21153;&#30340;<span class="strong"><strong>&#20840;&#37096;</strong></span>&#36890;&#30693;&#20381;&#36182;&#26816;&#27979;&#37117;<span class="strong"><strong>&#36890;&#36807;</strong></span>&#65292;Nagios&#23558;&#20250;&#35937;&#19968;&#33324;&#24773;&#20917;&#19968;&#26679;&#36865;&#20986;&#35813;&#26381;&#21153;&#30340;&#36890;&#30693;&#12290;&#22914;&#26524;&#21363;&#20415;&#21482;&#26377;&#19968;&#20010;&#38024;&#23545;&#35813;&#26381;&#21153;&#30340;&#36890;&#30693;&#20381;&#36182;&#27809;&#26377;&#36890;&#36807;&#27979;&#35797;&#65292;Nagios&#20063;&#23558;&#20020;&#26102;&#38459;&#27490;&#36865;&#20986;&#38024;&#23545;&#35813;&#26381;&#21153;&#30340;&#36890;&#30693;&#65292;&#32780;&#20043;&#21518;&#21487;&#33021;&#20250;&#26377;&#38024;&#23545;&#35813;&#26381;&#21153;&#30340;&#36890;&#30693;&#20381;&#36182;&#26816;&#27979;&#20840;&#37096;&#36890;&#36807;&#12290;&#22914;&#26524;&#26159;&#36825;&#26679;&#30340;&#35805;&#65292;Nagios&#23558;&#20877;&#27425;&#25191;&#34892;&#38024;&#23545;&#35813;&#26381;&#21153;&#30340;&#26816;&#27979;&#65292;&#26356;&#22810;&#30340;&#26377;&#20851;&#36890;&#30693;&#36923;&#36753;&#20449;&#24687;&#21487;&#20197;&#26597;&#38405;<a class="link" href="#notifications" title="6.7.&nbsp;&#36890;&#30693;">&#36825;&#31687;&#25991;&#26723;</a>&#12290;</p><p>&#22312;&#19978;&#20363;&#20013;&#65292;&#26381;&#21153;F&#23558;&#22312;&#36890;&#30693;&#20381;&#36182;&#26816;&#27979;&#20013;&#22240;&#26381;&#21153;C&#22788;&#20110;&#32039;&#24613;&#29366;&#24577;&#32780;&#27979;&#35797;&#22833;&#36133;&#65292;<span class="strong"><strong>&#20063;&#21487;&#33021;&#22240;</strong></span>&#26381;&#21153;D&#22788;&#20110;&#21578;&#35686;&#25110;&#26410;&#30693;&#29366;&#24577;&#65292;<span class="strong"><strong>&#20063;&#21487;&#33021;&#22240;</strong></span>&#26381;&#21153;E&#22788;&#20110;&#21578;&#35686;&#25110;&#26410;&#30693;&#25110;&#32039;&#24613;&#29366;&#24577;&#65292;&#20063;&#20250;&#20351;&#27979;&#35797;&#22833;&#36133;&#12290;&#22914;&#26524;&#26159;&#36825;&#26679;&#30340;&#35805;&#65292;&#23558;&#19981;&#20250;&#36865;&#20986;&#38024;&#23545;&#35813;&#26381;&#21153;&#30340;&#36890;&#30693;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e21032"></a>8.11.8.&nbsp;&#20381;&#36182;&#20851;&#31995;&#30340;&#32487;&#25215;</h3></div></div></div><p>&#21069;&#38754;&#24050;&#32463;&#35762;&#36807;&#65292;&#26381;&#21153;&#20381;&#36182;&#20851;&#31995;&#40664;&#35748;&#26159;<span class="strong"><strong>&#19981;&#20250;</strong></span>&#34987;&#32487;&#25215;&#30340;&#12290;&#22312;&#20363;&#23376;&#20013;&#65292;&#21487;&#20197;&#30475;&#21040;&#26381;&#21153;F&#20381;&#36182;&#20110;&#26381;&#21153;E&#65292;&#28982;&#32780;&#65292;&#23427;&#24182;&#19981;&#20250;&#20174;&#26381;&#21153;E&#30340;&#20381;&#36182;&#23450;&#20041;&#37324;&#32487;&#25215;&#23545;&#26381;&#21153;B&#21644;&#26381;&#21153;C&#30340;&#20381;&#36182;&#20851;&#31995;&#12290;&#20026;&#20351;&#26381;&#21153;F&#20381;&#36182;&#20110;&#26381;&#21153;C&#24517;&#39035;&#21152;&#20837;&#21478;&#19968;&#20010;&#26381;&#21153;&#20381;&#36182;&#23545;&#35937;&#23450;&#20041;&#65292;&#32780;&#22240;&#20026;&#27809;&#26377;&#23545;&#26381;&#21153;B&#30340;&#20381;&#36182;&#20851;&#31995;&#23450;&#20041;&#65292;&#22240;&#32780;&#26381;&#21153;F&#26159;<span class="strong"><strong>&#19981;&#20250;</strong></span>&#20381;&#36182;&#20110;&#26381;&#21153;B&#30340;&#12290;</p><p>&#22914;&#26524;<span class="strong"><strong>&#30495;&#30340;&#24076;&#26395;</strong></span>&#35753;&#26381;&#21153;&#20381;&#36182;&#20851;&#31995;&#32487;&#25215;&#65292;&#24517;&#39035;&#29992;<a class="link" href="#objectdefinitions_servicedependency">&#26381;&#21153;&#20381;&#36182;&#20851;&#31995;</a>&#23545;&#35937;&#23450;&#20041;&#37324;&#30340;<span class="strong"><strong>inherits_parent</strong></span>&#22495;&#26469;&#26631;&#35782;&#35828;&#26126;&#12290;&#24403;&#36825;&#20010;&#22495;&#20351;&#33021;&#26102;&#65292;&#35828;&#26126;&#35813;&#26381;&#21153;&#20381;&#36182;&#32487;&#25215;&#20102;<span class="strong"><strong>&#26469;&#33258;&#25351;&#21521;&#28304;&#26381;&#21153;&#30340;&#26381;&#21153;&#20381;&#36182;&#20851;&#31995;</strong></span>(&#23601;&#26159;&#29238;&#33410;&#28857;&#26381;&#21153;&#20381;&#36182;&#20110;&#20160;&#20040;&#26381;&#21153;&#23427;&#20063;&#19968;&#26679;&#35201;&#20381;&#36182;&#20110;&#37027;&#20123;&#26381;&#21153;)&#65292;&#20063;&#23601;&#26159;&#35828;&#22914;&#26524;&#28304;&#26381;&#21153;&#20381;&#36182;&#30340;&#26381;&#21153;&#26377;&#19968;&#20010;&#20381;&#36182;&#20851;&#31995;&#30340;&#26816;&#27979;&#22833;&#36133;&#30340;&#35805;&#65292;&#36825;&#20010;&#26381;&#21153;&#20381;&#36182;&#30340;&#26816;&#27979;&#20063;&#20250;&#22833;&#36133;&#12290;</p><p>&#22312;&#19978;&#20363;&#20013;&#65292;&#35774;&#24819;&#19968;&#19979;&#65292;&#22914;&#26524;&#35201;&#21152;&#20837;&#19968;&#20010;&#38024;&#23545;&#26381;&#21153;F&#30340;&#26032;&#26381;&#21153;&#20381;&#36182;&#20851;&#31995;&#23450;&#20041;&#20351;&#20043;&#20381;&#36182;&#20110;&#26381;&#21153;A&#65292;&#21487;&#20197;&#32473;&#26381;&#21153;F&#21019;&#24314;&#19968;&#20010;&#26032;&#30340;&#26381;&#21153;&#20381;&#36182;&#20851;&#31995;&#20351;&#20043;<span class="strong"><strong>&#20381;&#36182;&#20110;</strong></span>&#26381;&#21153;A&#65292;&#24182;&#35753;&#26381;&#21153;A&#20570;<span class="strong"><strong>&#26381;&#21153;&#20381;&#36182;&#28304;</strong></span>(&#20063;&#23601;&#26159;&#36825;&#20010;&#26381;&#21153;&#29366;&#24577;<span class="strong"><strong>&#20915;&#23450;&#20854;&#21518;&#26381;&#21153;</strong></span>)&#12290;&#36824;&#20063;&#21487;&#20197;&#20462;&#25913;&#38024;&#23545;&#26381;&#21153;D&#19982;&#26381;&#21153;F&#30340;&#26381;&#21153;&#20381;&#36182;&#23545;&#35937;&#23450;&#20041;&#65292;&#35937;&#36825;&#26679;&#65306;</p><pre class="programlisting"><p>define servicedependency{
	host_name			Host B
	service_description		Service D
	dependent_host_name		Host C
	dependent_service_description	Service F
	execution_failure_criteria	o
	notification_failure_criteria	n
	inherits_parent		1
}</p></pre><p>&#22240;&#20026;<span class="strong"><strong>inherits_parent</strong></span>&#22495;&#20351;&#33021;&#20102;&#65292;&#37027;&#20040;&#24403;&#27979;&#35797;&#26381;&#21153;F&#23545;&#26381;&#21153;D&#30340;&#20381;&#36182;&#26102;&#20063;&#20250;&#23545;&#26381;&#21153;D&#19982;&#26381;&#21153;A&#30340;&#20043;&#38388;&#30340;&#20381;&#36182;&#24773;&#20917;&#36827;&#34892;&#27979;&#35797;&#12290;</p><p>&#20381;&#36182;&#20851;&#31995;&#21487;&#20197;&#22312;&#22810;&#31181;&#23618;&#27425;&#19978;&#32487;&#25215;&#65292;&#22914;&#26524;&#26381;&#21153;D&#19982;&#26381;&#21153;A&#20043;&#38388;&#30340;&#26381;&#21153;&#20381;&#36182;&#20851;&#31995;&#23545;&#35937;&#23450;&#20041;&#37324;&#30340;<span class="strong"><strong>inherits_parent</strong></span>&#22495;&#20063;&#20351;&#33021;(&#35774;&#32622;&#20026;1)&#26102;&#65292;&#24182;&#19988;&#26381;&#21153;A&#20381;&#36182;&#20110;&#26576;&#20010;&#20854;&#20182;&#26381;&#21153;(&#27604;&#22914;&#35828;&#26159;&#26381;&#21153;G)&#65292;&#37027;&#20040;&#26381;&#21153;F&#20381;&#36182;&#20110;&#26381;&#21153;D&#12289;&#26381;&#21153;A&#21644;&#26381;&#21153;G(&#20294;&#27599;&#23618;&#20381;&#36182;&#20851;&#31995;&#30340;&#35201;&#27714;&#26159;&#19981;&#19968;&#26679;&#30340;)&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e21081"></a>8.11.9.&nbsp;&#20027;&#26426;&#20381;&#36182;</h3></div></div></div><p>&#27491;&#22914;&#26399;&#24453;&#30340;&#37027;&#26679;&#65292;&#20027;&#26426;&#30340;&#20381;&#36182;&#20851;&#31995;&#20063;&#36319;&#26381;&#21153;&#20381;&#36182;&#20851;&#31995;&#19968;&#26679;&#30340;&#26041;&#24335;&#23454;&#29616;&#65292;&#21482;&#26159;&#38024;&#23545;&#30340;&#26159;&#20027;&#26426;&#38388;&#30340;&#20851;&#31995;&#32780;&#19981;&#26381;&#21153;&#38388;&#30340;&#20851;&#31995;&#12290;</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#25552;&#31034;</h3><div><img src="../pub/images/tip.gif"></div>&#19981;&#35201;&#25226;&#20027;&#26426;&#38388;&#20381;&#36182;&#20851;&#31995;&#19982;&#20027;&#26426;&#30340;&#33410;&#28857;&#29238;&#23376;&#20851;&#31995;&#28151;&#28102;&#12290;&#24456;&#22810;&#24773;&#20917;&#19979;&#65292;&#21487;&#20197;&#29992;&#20027;&#26426;&#30340;&#33410;&#28857;&#29238;&#23376;&#20851;&#31995;(&#22312;<a class="link" href="#objectdefinitions_host">&#20027;&#26426;&#23545;&#35937;</a>&#23450;&#20041;&#37324;&#30340;<span class="strong"><strong>parents</strong></span>&#22495;&#26469;&#23450;&#20041;&#36825;&#31181;&#20851;&#31995;)&#32780;&#19981;&#26159;&#20027;&#26426;&#38388;&#30340;&#20381;&#36182;&#20851;&#31995;&#26469;&#34920;&#36798;&#12290;&#26377;&#20851;&#20027;&#26426;&#29238;&#23376;&#20851;&#31995;&#22914;&#20309;&#24037;&#20316;&#30340;&#35828;&#26126;&#21487;&#20197;&#22312;<a class="link" href="#networkreachability" title="8.4.&nbsp;&#22914;&#20309;&#30830;&#35748;&#32593;&#32476;&#20013;&#20027;&#26426;&#30340;&#29366;&#24577;&#19982;&#21487;&#36798;&#24615;">&#32593;&#32476;&#21487;&#36798;&#24615;</a>&#36825;&#31687;&#25991;&#26723;&#20013;&#25214;&#21040;&#12290;</div><p>&#36825;&#26377;&#20960;&#20010;&#26377;&#20851;&#20027;&#26426;&#20381;&#36182;&#30340;&#22522;&#26412;&#27010;&#24565;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#19968;&#20010;&#20027;&#26426;&#21487;&#20197;&#20381;&#36182;&#20110;&#19968;&#20010;&#25110;&#22810;&#20010;&#20854;&#20182;&#20027;&#26426;&#65307;</li><li>&#20027;&#26426;&#20381;&#36182;&#20851;&#31995;&#40664;&#35748;&#26159;&#19981;&#34987;&#32487;&#25215;&#30340;(&#38500;&#38750;&#19987;&#38376;&#37197;&#32622;&#22768;&#26126;)&#65307;</li><li>&#20027;&#26426;&#20381;&#36182;&#20851;&#31995;&#21487;&#34987;&#29992;&#20110;&#22312;&#19981;&#21516;&#29366;&#24577;&#29615;&#22659;(&#36816;&#34892;&#12289;&#23445;&#26426;&#25110;&#19981;&#21487;&#36798;&#31561;)&#26102;&#25233;&#21046;&#20027;&#26426;&#26816;&#27979;&#21644;&#20027;&#26426;&#36890;&#30693;&#65307;</li><li>&#20027;&#26426;&#20381;&#36182;&#20851;&#31995;&#21482;&#26159;&#22312;&#35774;&#23450;&#30340;<a class="link" href="#timeperiods" title="6.6.&nbsp;&#26102;&#38388;&#21608;&#26399;">&#26102;&#38388;&#21608;&#26399;</a>&#21306;&#38388;&#27573;&#20869;&#26159;&#21512;&#27861;&#26377;&#25928;&#30340;&#12290;</li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e21113"></a>8.11.10.&nbsp;&#20027;&#26426;&#20381;&#36182;&#20851;&#31995;&#30340;&#26679;&#20363;</h3></div></div></div><p>&#19979;&#22270;&#31034;&#24847;&#20102;&#19968;&#20010;&#20027;&#26426;&#36890;&#30693;&#20381;&#36182;&#20851;&#31995;&#30340;&#36923;&#36753;&#25299;&#25169;&#12290;&#22312;&#36890;&#30693;&#26102;&#19981;&#21516;&#30340;&#20027;&#26426;&#20381;&#36182;&#20110;&#20854;&#20182;&#30340;&#20027;&#26426;&#12290;</p><div><img src="../pub/images/host-dependencies.png"></div><p>&#22312;&#19978;&#22270;&#20363;&#23376;&#20013;&#65292;&#38024;&#23545;<span class="strong"><strong>&#20027;&#26426;C</strong></span>&#30340;&#20381;&#36182;&#20851;&#31995;&#23450;&#20041;&#23558;&#20250;&#26159;&#36825;&#26679;&#30340;&#65306;</p><pre class="programlisting"><p>define hostdependency{
	host_name			Host A
	dependent_host_name		Host C
	notification_failure_criteria	d
}
define hostdependency{
	host_name			Host B
	dependent_host_name		Host C
	notification_failure_criteria	d,u
}</p></pre><p>&#35937;&#26381;&#21153;&#20381;&#36182;&#20851;&#31995;&#23450;&#20041;&#19968;&#26679;&#65292;&#20027;&#26426;&#20381;&#36182;&#19981;&#20250;&#32487;&#25215;&#12290;&#22312;&#19978;&#22270;&#20013;&#65292;&#20027;&#26426;C&#24182;&#27809;&#26377;&#32487;&#25215;&#26469;&#33258;&#20027;&#26426;B&#30340;&#20027;&#26426;&#20381;&#36182;&#20851;&#31995;&#12290;&#20026;&#20351;&#20027;&#26426;C&#20063;&#20381;&#36182;&#20110;&#20027;&#26426;A&#65292;&#24517;&#39035;&#32473;&#23427;&#21019;&#24314;&#19968;&#20010;&#26032;&#30340;&#20027;&#26426;&#20381;&#36182;&#20851;&#31995;&#23450;&#20041;&#12290;</p><p>&#20027;&#26426;&#36890;&#30693;&#30340;&#20381;&#36182;&#20851;&#31995;&#22788;&#29702;&#26426;&#21046;&#19982;&#26381;&#21153;&#36890;&#30693;&#30340;&#20381;&#36182;&#20851;&#31995;&#22788;&#29702;&#26426;&#21046;&#30456;&#20284;&#12290;&#22914;&#26524;&#23545;&#35813;&#20027;&#26426;&#30340;<span class="strong"><strong>&#20840;&#37096;</strong></span>&#36890;&#30693;&#20381;&#36182;&#20851;&#31995;&#30340;&#27979;&#35797;&#37117;<span class="strong"><strong>&#36890;&#36807;</strong></span>&#30340;&#35805;&#65292;Nagios&#23558;&#35937;&#19968;&#33324;&#24773;&#20917;&#37027;&#26679;&#36865;&#20986;&#35813;&#20027;&#26426;&#30340;&#36890;&#30693;&#12290;&#22914;&#26524;&#21363;&#20415;&#26159;&#26377;&#19968;&#20010;&#35813;&#20027;&#26426;&#30340;&#36890;&#30693;&#20381;&#36182;&#20851;&#31995;&#27809;&#26377;&#27979;&#35797;&#36890;&#36807;&#65292;Nagios&#20063;&#23558;&#20250;&#20020;&#26102;&#38459;&#27490;&#38024;&#23545;&#35813;&#20027;&#26426;&#30340;&#36890;&#30693;&#36865;&#20986;&#12290;&#22312;&#27492;&#20043;&#21518;&#21487;&#33021;&#38024;&#23545;&#35813;&#20027;&#26426;&#30340;&#36890;&#30693;&#20381;&#36182;&#20851;&#31995;&#20840;&#37096;&#36890;&#36807;&#65292;&#22914;&#26524;&#36825;&#31181;&#24773;&#20917;&#21457;&#29983;&#65292;Nagios&#23558;&#20250;&#35937;&#19968;&#33324;&#24773;&#20917;&#37027;&#26679;&#20877;&#36865;&#20986;&#35813;&#20027;&#26426;&#30340;&#36890;&#30693;&#12290;&#26356;&#22810;&#20851;&#26377;&#36890;&#30693;&#36923;&#36753;&#30340;&#20449;&#24687;&#21487;&#20197;&#26597;&#38405;<a class="link" href="#notifications" title="6.7.&nbsp;&#36890;&#30693;">&#36825;&#31687;&#25991;&#26723;</a>&#12290;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="dependencychecks"></a>8.12.&nbsp;&#20381;&#36182;&#26816;&#27979;&#30340;&#21069;&#22788;&#29702;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e21143"></a>8.12.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>&#20027;&#26426;&#21644;&#26381;&#21153;&#30340;<a class="link" href="#dependencies" title="8.11.&nbsp;&#20027;&#26426;&#38388;&#19982;&#26381;&#21153;&#38388;&#20381;&#36182;&#20851;&#31995;">&#20381;&#36182;</a>&#20851;&#31995;&#65288;&#20174;&#23646;&#20851;&#31995;&#12289;&#19978;&#19979;&#32423;&#20851;&#31995;&#65289;&#30340;&#23450;&#20041;&#21487;&#20196;&#20320;&#22312;&#25191;&#34892;&#26816;&#27979;&#26102;&#21644;&#22312;&#36827;&#34892;&#21578;&#35686;&#36865;&#20986;&#26102;&#25317;&#26377;&#26356;&#22823;&#30340;&#25511;&#21046;&#21147;&#12290;&#19968;&#26086;&#22312;&#30417;&#25511;&#36807;&#31243;&#20013;&#36816;&#29992;&#20102;&#20851;&#31995;&#23450;&#20041;&#65292;&#38750;&#24120;&#37325;&#35201;&#30340;&#26159;&#30830;&#20445;&#22312;&#20381;&#36182;&#20851;&#31995;&#36923;&#36753;&#20043;&#19978;&#30340;&#29366;&#24577;&#20449;&#24687;&#20445;&#25345;&#21516;&#27493;&#65292;&#36234;&#26032;&#36234;&#22909;&#12290;</p><p>&#22312;&#23427;&#20915;&#23450;&#26159;&#21542;&#35201;&#36865;&#20986;&#25253;&#35686;&#25110;&#26159;&#20801;&#35768;&#23545;&#20027;&#26426;&#25110;&#26381;&#21153;&#36827;&#34892;&#33258;&#20027;&#26816;&#27979;&#26102;&#65292;Nagios&#20801;&#35768;&#20320;&#22312;&#36827;&#34892;&#38024;&#23545;&#20027;&#26426;&#21644;&#26381;&#21153;&#30340;&#20381;&#36182;&#26816;&#27979;&#21069;&#20570;&#20123;&#20934;&#22791;&#20197;&#30830;&#35748;&#20381;&#36182;&#36923;&#36753;&#23558;&#26159;&#26368;&#26032;&#30340;&#29366;&#24577;&#20449;&#24687;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e21153"></a>8.12.2.&nbsp;&#22914;&#20309;&#36827;&#34892;&#20381;&#36182;&#26816;&#27979;&#21069;&#20934;&#22791;&#24037;&#20316;&#65311;</h3></div></div></div><p>&#19979;&#22270;&#31034;&#24847;&#20102;&#19968;&#20010;&#34987;Nagios&#30417;&#25511;&#30340;&#20027;&#26426;&#32452;&#22270;&#65292;&#21253;&#21547;&#23427;&#20204;&#30340;&#29238;&#23376;&#33410;&#28857;&#20851;&#31995;&#21450;&#20381;&#36182;&#20851;&#31995;&#23450;&#20041;&#12290;</p><p>&#22270;&#20363;&#20013;&#30340;<span class="strong"><strong>Switch2</strong></span>&#20027;&#26426;&#21018;&#22909;&#20174;&#36816;&#34892;&#29366;&#24577;&#21040;&#20986;&#38382;&#39064;&#30340;&#29366;&#24577;&#12290;Nagios&#38656;&#35201;&#21028;&#26029;&#20027;&#26426;&#26159;&#21542;&#26159;&#23445;&#26426;&#25110;&#26159;&#19981;&#21487;&#36798;&#65292;&#22240;&#32780;&#23427;&#20250;&#36816;&#34892;&#24182;&#34892;&#26816;&#27979;&#38024;&#23545;<span class="strong"><strong>Switch2</strong></span>&#30340;&#30452;&#25509;&#29238;&#33410;&#28857;(<span class="strong"><strong>Firewall1</strong></span>)&#21644;&#23376;&#33410;&#28857;(<span class="strong"><strong>Comp1</strong></span>&#12289;<span class="strong"><strong>Comp2</strong></span>&#21644;<span class="strong"><strong>Switch3</strong></span>)&#12290;&#36825;&#20010;&#26159;<a class="link" href="#networkreachability" title="8.4.&nbsp;&#22914;&#20309;&#30830;&#35748;&#32593;&#32476;&#20013;&#20027;&#26426;&#30340;&#29366;&#24577;&#19982;&#21487;&#36798;&#24615;">&#20027;&#26426;&#21487;&#36798;&#24615;</a>&#26816;&#26597;&#20989;&#25968;&#30340;&#19968;&#33324;&#36923;&#36753;&#12290;</p><p>&#20320;&#25110;&#35768;&#27880;&#24847;&#21040;&#20102;<span class="strong"><strong>Switch2</strong></span>&#26159;&#20381;&#36182;&#20110;<span class="strong"><strong>Monitor1</strong></span>&#21644;<span class="strong"><strong>File1</strong></span>&#20197;&#36827;&#34892;&#21578;&#35686;&#21644;&#25191;&#34892;&#26816;&#27979;(&#36825;&#28857;&#22312;&#26412;&#20363;&#20013;&#24182;&#19981;&#37325;&#35201;)&#12290;&#22914;&#26524;&#20027;&#26426;&#20381;&#36182;&#26816;&#27979;&#20934;&#22791;&#20351;&#33021;&#30340;&#35805;&#65292;Nagios&#23558;&#20250;&#22312;&#38024;&#23545;<span class="strong"><strong>Switch2</strong></span>&#30340;&#30452;&#25509;&#29238;&#33410;&#26816;&#27979;&#30340;&#21516;&#26102;&#38024;&#23545;<span class="strong"><strong>Monitor1</strong></span>&#21644;<span class="strong"><strong>File1</strong></span>&#36827;&#34892;&#24182;&#34892;&#26816;&#27979;&#12290;Nagios&#36825;&#26679;&#20570;&#26159;&#22240;&#20026;&#24456;&#24555;&#23601;&#24517;&#39035;&#36827;&#34892;&#30340;&#20381;&#36182;&#36923;&#36753;&#26816;&#26597;&#65288;&#20363;&#22914;&#38656;&#35201;&#21578;&#35686;&#65289;&#24182;&#19988;&#23558;&#35201;&#30830;&#20445;&#22312;&#20381;&#36182;&#20851;&#31995;&#36923;&#36753;&#20043;&#20013;&#30340;&#19982;&#20027;&#26426;&#20851;&#31995;&#30340;&#37096;&#20998;&#30340;&#20449;&#24687;&#26159;&#26368;&#26032;&#30340;&#12290;</p><div><img src="../pub/images/predictive-dependency-checks.png"></div><p>&#36825;&#23601;&#26159;&#36827;&#34892;&#30340;&#20381;&#36182;&#26816;&#27979;&#21069;&#20934;&#22791;&#24037;&#20316;&#65292;&#24456;&#31616;&#21333;&#65292;&#19981;&#26159;&#20040;&#65311;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><div><img src="../pub/images/note.gif"></div><p>&#26381;&#21153;&#20381;&#36182;&#26816;&#27979;&#21069;&#30340;&#20934;&#22791;&#24037;&#20316;&#19982;&#20043;&#31867;&#20284;&#65292;&#21482;&#19981;&#36807;&#26159;&#25226;&#38024;&#23545;&#20027;&#26426;&#26367;&#25442;&#25104;&#38024;&#23545;&#26381;&#21153;&#12290;</p></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e21209"></a>8.12.3.&nbsp;&#20351;&#33021;&#26816;&#26597;&#20934;&#22791;</h3></div></div></div><p>&#20381;&#36182;&#26816;&#27979;&#30340;&#20934;&#22791;&#28041;&#21450;&#19978;&#38754;&#24456;&#23569;&#30340;&#37096;&#20998;&#65292;&#25152;&#20197;&#25105;&#25512;&#33616;&#20320;&#25171;&#24320;&#36825;&#20010;&#21151;&#33021;&#12290;&#22312;&#35768;&#22810;&#24773;&#20917;&#19979;&#65292;&#25317;&#26377;&#22312;&#20381;&#36182;&#36923;&#36753;&#19978;&#30340;&#20934;&#30830;&#29366;&#24577;&#20449;&#24687;&#27604;&#36807;&#22810;&#22320;&#36827;&#34892;&#26816;&#27979;&#26356;&#20855;&#24847;&#20041;&#12290;</p><p>&#20351;&#33021;&#20381;&#36182;&#26816;&#27979;&#20934;&#22791;&#24456;&#31616;&#21333;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#38024;&#23545;&#20027;&#26426;&#30340;&#20381;&#36182;&#26816;&#27979;&#20934;&#22791;&#30001;<a class="link" href="#enable_predictive_host_dependency_checks" title="&#34920;&nbsp;5.62.&nbsp;Predictive Host Dependency Checks Option">enable_predictive_host_dependency_checks</a>&#36873;&#39033;&#25511;&#21046;&#12290;</li><li>&#38024;&#23545;&#26381;&#21153;&#30340;&#20381;&#36182;&#26816;&#27979;&#20934;&#22791;&#30001;<a class="link" href="#enable_predictive_service_dependency_checks" title="&#34920;&nbsp;5.63.&nbsp;Predictive Service Dependency Checks Option">enable_predictive_service_dependency_checks</a>&#36873;&#39033;&#25511;&#21046;&#12290;</li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e21227"></a>8.12.4.&nbsp;&#32531;&#23384;&#26816;&#27979;</h3></div></div></div><p>&#20381;&#36182;&#26816;&#27979;&#20934;&#22791;&#26159;&#19968;&#31181;&#25353;&#38656;&#29983;&#25104;&#30340;&#26816;&#27979;&#26041;&#24335;&#19988;&#26381;&#20174;<a class="link" href="#cachedchecks" title="9.5.&nbsp;&#32531;&#23384;&#26816;&#27979;">&#32531;&#23384;&#26816;&#27979;</a>&#30340;&#35268;&#21017;&#12290;&#32531;&#23384;&#26816;&#27979;&#35753;Nagios&#25552;&#20379;&#24615;&#33021;&#25552;&#21319;&#65292;&#20027;&#35201;&#26159;&#21033;&#29992;&#19982;&#36825;&#20123;&#20027;&#26426;&#21644;&#26381;&#21153;&#30456;&#20851;&#30340;&#26368;&#36817;&#26816;&#27979;&#32467;&#26524;&#26367;&#20195;&#23545;&#23454;&#38469;&#20027;&#26426;&#21644;&#26381;&#21153;&#30340;&#26816;&#27979;&#12290;&#26356;&#22810;&#20851;&#20110;&#32531;&#23384;&#26816;&#27979;&#30340;&#20869;&#23481;&#21487;&#22312;<a class="link" href="#cachedchecks" title="9.5.&nbsp;&#32531;&#23384;&#26816;&#27979;">&#36825;&#37324;</a>&#25214;&#21040;&#12290;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="perfdata"></a>8.13.&nbsp;&#24615;&#33021;&#25968;&#25454;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e21241"></a>8.13.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>Nagios&#35774;&#35745;&#25104;&#21487;&#20197;&#22788;&#29702;<a class="link" href="#plugins" title="8.1.&nbsp;Nagios&#30340;&#25554;&#20214;">&#25554;&#20214;</a>&#26816;&#27979;&#36820;&#22238;&#29366;&#24577;&#25968;&#25454;&#30340;&#21516;&#26102;&#21487;&#36873;&#22320;&#20570;&#24615;&#33021;&#25968;&#25454;&#22788;&#29702;&#65292;&#20063;&#23601;&#26159;&#35828;&#65292;&#21487;&#30001;&#22806;&#37096;&#24212;&#29992;&#26469;&#22788;&#29702;&#24615;&#33021;&#25968;&#25454;&#12290;&#19979;&#38754;&#35828;&#26126;&#19968;&#19979;&#19981;&#21516;&#24615;&#33021;&#25968;&#25454;&#31867;&#22411;&#20197;&#21450;&#36825;&#20123;&#20449;&#24687;&#26159;&#22914;&#20309;&#34987;&#22788;&#29702;&#30340;...</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e21249"></a>8.13.2.&nbsp;&#24615;&#33021;&#25968;&#25454;&#30340;&#31867;&#22411;</h3></div></div></div><p>&#22312;Nagios&#37324;&#21487;&#20197;&#26377;&#20004;&#22823;&#31867;&#24615;&#33021;&#25968;&#25454;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#26816;&#27979;&#36807;&#31243;&#30340;&#24615;&#33021;&#25968;&#25454;</li><li>&#25554;&#20214;&#36820;&#22238;&#30340;&#24615;&#33021;&#25968;&#25454;</li></ol></div><p>&#26816;&#27979;&#36807;&#31243;&#30340;&#24615;&#33021;&#25968;&#25454;&#26159;&#19982;&#20027;&#26426;&#26816;&#27979;&#21644;&#26381;&#21153;&#26816;&#27979;&#30456;&#20851;&#30340;&#31995;&#32479;&#20869;&#37096;&#25968;&#25454;&#12290;&#36825;&#20123;&#25968;&#25454;&#21253;&#25324;&#35937;&#26381;&#21153;&#26816;&#27979;&#24310;&#26102;(&#23601;&#26159;&#26816;&#27979;&#23454;&#38469;&#26816;&#27979;&#30340;&#26102;&#21051;&#19982;&#20854;&#35745;&#21010;&#26102;&#38388;&#20043;&#38388;&#30340;&#25512;&#21518;&#26102;&#38388;)&#21644;&#20027;&#26426;&#26816;&#27979;&#19982;&#26381;&#21153;&#26816;&#27979;&#25191;&#34892;&#25152;&#33457;&#36153;&#30340;&#26102;&#38388;&#12290;&#36825;&#31867;&#24615;&#33021;&#25968;&#25454;&#23545;&#20840;&#37096;&#21487;&#25191;&#34892;&#30340;&#26816;&#27979;&#37117;&#36866;&#29992;&#12290;<a class="link" href="#macrolist_HOSTEXECUTIONTIME">$HOSTEXECUTIONTIME$</a>&#21644;<a class="link" href="#macrolist_SERVICEEXECUTIONTIME">$SERVICEEXECUTIONTIME$</a><a class="link" href="#macros" title="8.2.&nbsp;&#29702;&#35299;Nagios&#23439;&#21450;&#20854;&#24037;&#20316;&#26426;&#21046;">&#23439;&#23450;&#20041;</a>&#21487;&#29992;&#20110;&#24230;&#37327;&#20027;&#26426;&#25110;&#26381;&#21153;&#26816;&#27979;&#25152;&#36816;&#34892;&#30340;&#26102;&#38388;&#65292;<a class="link" href="#macrolist_HOSTLATENCY">$HOSTLATENCY$</a>&#21644;<a class="link" href="#macrolist_SERVICELATENCY">$SERVICELATENCY$</a>&#23439;&#23450;&#20041;&#21487;&#29992;&#20110;&#24230;&#37327;&#20027;&#26426;&#21644;&#26381;&#21153;&#26816;&#27979;&#30340;&#25191;&#34892;&#24310;&#26102;&#12290;</p><p>&#25554;&#20214;&#36820;&#22238;&#30340;&#24615;&#33021;&#25968;&#25454;&#26159;&#30001;&#20027;&#26426;&#19982;&#26381;&#21153;&#26816;&#27979;&#26102;&#25554;&#20214;&#26816;&#27979;&#32467;&#26524;&#24102;&#20986;&#26469;&#30340;&#22806;&#37096;&#25968;&#25454;&#12290;&#29305;&#23450;&#25554;&#20214;&#30340;&#25968;&#25454;&#65292;&#35937;&#20002;&#21253;&#29575;&#12289;&#30913;&#30424;&#31354;&#38386;&#31354;&#38388;&#12289;&#22788;&#29702;&#22120;&#36127;&#33655;&#12289;&#24403;&#21069;&#30331;&#24405;&#30340;&#29992;&#25143;&#25968;&#31561;&#65292;&#26159;&#22312;&#25191;&#34892;&#26102;&#30001;&#25554;&#20214;&#33258;&#24050;&#26469;&#27979;&#37327;&#20986;&#26469;&#30340;&#20219;&#20309;&#19968;&#31181;&#31867;&#22411;&#25968;&#25454;&#12290;&#29305;&#23450;&#25554;&#20214;&#25968;&#25454;&#26159;&#21487;&#36873;&#39033;&#24182;&#38750;&#27599;&#20010;&#25554;&#20214;&#37117;&#26377;&#12290;(&#22914;&#26524;&#26377;)&#29305;&#23450;&#25554;&#20214;&#25968;&#25454;&#23558;&#21253;&#21547;&#22312;<a class="link" href="#macrolist_HOSTPERFDATA">$HOSTPERFDATA$</a>&#21644;<a class="link" href="#macrolist_SERVICEPERFDATA">$SERVICEPERFDATA$</a><a class="link" href="#macros" title="8.2.&nbsp;&#29702;&#35299;Nagios&#23439;&#21450;&#20854;&#24037;&#20316;&#26426;&#21046;">&#23439;&#23450;&#20041;</a>&#37324;&#12290;&#26356;&#22810;&#26377;&#20851;&#22914;&#20309;&#22312;Nagios&#37324;&#36820;&#22238;&#24615;&#33021;&#25968;&#25454;&#34164;&#28085;&#22312;$HOSTPERFDATA$&#21644;$SERVICEPERFDATA$&#23439;&#37324;&#38754;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e21285"></a>8.13.3.&nbsp;&#25554;&#20214;&#36820;&#22238;&#30340;&#24615;&#33021;&#25968;&#25454;</h3></div></div></div><p>&#26368;&#23567;&#24773;&#20917;&#26102;&#65292;Nagios&#25554;&#20214;&#39035;&#29992;&#19968;&#34892;&#21487;&#35835;&#23383;&#31526;&#20018;&#26469;&#24102;&#20986;&#29366;&#24577;&#21644;&#30456;&#20851;&#27979;&#35797;&#20540;&#12290;&#20363;&#22914;&#65292;check_ping&#25554;&#20214;&#21487;&#20197;&#36820;&#22238;&#35937;&#36825;&#26679;&#30340;&#19968;&#34892;&#20869;&#23481;&#65306;</p><pre class="programlisting">PING ok - Packet loss = 0%, RTA = 0.80 ms </pre><p>&#22312;&#36825;&#31181;&#31616;&#21333;&#36755;&#20986;&#20869;&#23481;&#37324;&#65292;&#25972;&#34892;&#20869;&#23481;&#37117;&#21253;&#21547;&#20110;$HOSTOUTPUT$&#25110;$SERVICEOUTPUT$<a class="link" href="#macros" title="8.2.&nbsp;&#29702;&#35299;Nagios&#23439;&#21450;&#20854;&#24037;&#20316;&#26426;&#21046;">&#23439;</a>&#37324;&#38754;(&#21462;&#20915;&#20110;&#36825;&#20010;&#25554;&#20214;&#26159;&#34987;&#29992;&#20110;&#20027;&#26426;&#26816;&#27979;&#36824;&#26159;&#34987;&#29992;&#20110;&#26381;&#21153;&#26816;&#27979;)&#12290;</p><p>&#25554;&#20214;&#19968;&#33324;&#36820;&#22238;&#24615;&#33021;&#25968;&#25454;&#30340;&#26041;&#24335;&#26159;&#22312;&#25554;&#20214;&#21487;&#35835;&#30340;&#36755;&#20986;&#34892;&#37324;&#21152;&#19978;&#31649;&#36947;&#31526;(|)&#65292;&#21518;&#38754;&#36319;&#19968;&#20010;&#25110;&#20960;&#20010;&#24615;&#33021;&#27979;&#37327;&#20540;&#12290;&#36824;&#26159;&#29992;check_ping&#25554;&#20214;&#20570;&#20363;&#23376;&#65292;&#20551;&#23450;&#29992;&#36825;&#31181;&#26041;&#24335;&#26469;&#36820;&#22238;&#24615;&#33021;&#25968;&#25454;&#65292;&#20854;&#25554;&#20214;&#36755;&#20986;&#20869;&#23481;&#35937;&#26159;&#36825;&#26679;&#65306;</p><pre class="programlisting">PING ok - Packet loss = 0%, RTA = 0.80 ms | percent_packet_loss=0, rta=0.80</pre><p>&#24403;Nagios&#22788;&#29702;&#35937;&#36825;&#26679;&#30340;&#36755;&#20986;&#20869;&#23481;&#26684;&#24335;&#26102;&#65292;&#23558;&#25226;&#23427;&#20998;&#20026;&#20004;&#37096;&#20998;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#31649;&#36947;&#31526;&#20043;&#21069;&#30340;&#20869;&#23481;&#34987;&#35748;&#20026;&#26159;"&#27491;&#24120;"&#30340;&#25554;&#20214;&#36755;&#20986;&#24182;&#20445;&#23384;&#20110;$HOSTOUTPUT$&#25110;&#26159;$SERVICEOUTPUT$&#23439;&#37324;&#65307;</li><li>&#31649;&#36947;&#31526;&#20043;&#21518;&#30340;&#20869;&#23481;&#34987;&#35748;&#20026;&#26159;&#19982;&#24615;&#33021;&#25968;&#25454;&#30456;&#20851;&#30340;&#20869;&#23481;&#24182;&#20445;&#23384;&#20110;$HOSTPERFDATA$&#25110;&#26159;$SERVICEPERFDATA$&#23439;&#37324;&#65307;</li></ol></div><p>&#22312;&#19978;&#20363;&#20013;&#65292;$HOSTOUTPUT$&#25110;$SERVICEOUTPUT$&#23439;&#30340;&#20869;&#23481;&#23558;&#26159;"<span class="strong"><strong>PING ok - Packet loss = 0%, RTA = 0.80 ms</strong></span>"(&#27809;&#26377;&#24341;&#21495;)&#65292;&#32780;$HOSTPERFDATA$&#25110;$SERVICEPERFDATA$&#23439;&#23558;&#26159;"<span class="strong"><strong>percent_packet_loss=0, rta=0.80</strong></span>"(&#27809;&#26377;&#24341;&#21495;)&#12290;</p><p>&#25554;&#20214;&#36755;&#20986;&#21487;&#20197;&#21253;&#21547;&#26377;&#22810;&#34892;&#30340;&#24615;&#33021;&#25968;&#25454;&#36755;&#20986;(&#20063;&#35937;&#27491;&#24120;&#27491;&#25991;&#36755;&#20986;)&#65292;&#36825;&#20010;&#22312;<a class="link" href="#pluginapi" title="12.3.&nbsp;Nagios&#25554;&#20214;API">&#25554;&#20214;API&#25991;&#26723;</a>&#26377;&#20171;&#32461;&#12290;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><div><img src="../pub/images/note.gif"></div>Nagios&#30340;&#23432;&#25252;&#31243;&#24207;&#24182;&#19981;&#30452;&#25509;&#22788;&#29702;&#25554;&#20214;&#30340;&#24615;&#33021;&#25968;&#25454;&#65292;&#22240;&#32780;&#23427;&#24182;&#19981;&#20851;&#24515;&#22312;&#24615;&#33021;&#25968;&#25454;&#37324;&#26377;&#20160;&#20040;&#19996;&#35199;&#12290;&#23545;&#24615;&#33021;&#25968;&#25454;&#24182;&#27809;&#26377;&#20160;&#20040;&#38480;&#21046;&#19982;&#26684;&#24335;&#32422;&#26463;&#65292;&#20294;&#26159;&#65292;&#22914;&#26524;&#35201;&#29992;&#22806;&#37096;&#26500;&#20214;&#26469;&#22788;&#29702;&#24615;&#33021;&#25968;&#25454;(&#22914;PerfParse)&#65292;&#22806;&#37096;&#26500;&#20214;&#38656;&#35201;&#25554;&#20214;&#20197;&#22266;&#23450;&#26684;&#24335;&#26469;&#36755;&#20986;&#24615;&#33021;&#25968;&#25454;&#12290;&#36825;&#35201;&#23457;&#35270;&#23558;&#35201;&#20351;&#29992;&#30340;&#22806;&#37096;&#26500;&#20214;&#37324;&#30456;&#20851;&#25991;&#26723;&#12290;</div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e21325"></a>8.13.4.&nbsp;&#24615;&#33021;&#25968;&#25454;&#30340;&#22788;&#29702;</h3></div></div></div><p>&#22914;&#26524;&#24819;&#35201;Nagios&#21644;&#25554;&#20214;&#29983;&#25104;&#24182;&#22788;&#29702;&#24615;&#33021;&#25968;&#25454;&#65292;&#38656;&#35201;&#25353;&#19979;&#38754;&#26469;&#20570;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#25171;&#24320;<a class="link" href="#process_performance_data" title="&#34920;&nbsp;5.87.&nbsp;&#24615;&#33021;&#25968;&#25454;&#22788;&#29702;&#36873;&#39033;">process_performance_data</a>&#36873;&#39033;&#24320;&#20851;&#65307;</li><li>&#37197;&#32622;Nagios&#20197;&#20415;&#20110;&#25226;&#24615;&#33021;&#25968;&#25454;&#35201;&#20040;&#20889;&#20837;&#25991;&#20214;&#35201;&#20040;&#25191;&#34892;&#19968;&#20010;&#25968;&#25454;&#22788;&#29702;&#21629;&#20196;&#65307;</li></ol></div><p>&#26597;&#38405;&#25991;&#26723;&#30475;&#22914;&#20309;&#25226;&#24615;&#33021;&#25968;&#25454;&#20889;&#20837;&#25991;&#20214;&#25110;&#26159;&#22914;&#20309;&#26469;&#25191;&#34892;&#25968;&#25454;&#22788;&#29702;&#21629;&#20196;&#65307;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e21340"></a>8.13.5.&nbsp;&#29992;&#21629;&#20196;&#26469;&#22788;&#29702;&#24615;&#33021;&#25968;&#25454;</h3></div></div></div><p>&#22312;Nagios&#37324;&#26368;&#26580;&#24615;&#21270;&#22320;&#22788;&#29702;&#24615;&#33021;&#25968;&#25454;&#30340;&#26041;&#24335;&#26159;&#20351;&#29992;&#21629;&#20196;&#26469;&#22788;&#29702;&#24615;&#33021;&#25968;&#25454;&#25110;&#26159;&#25226;&#25968;&#25454;&#37325;&#23450;&#21521;&#20197;&#20415;&#20110;&#22806;&#37096;&#24212;&#29992;&#26469;&#20570;&#21518;&#24207;&#22788;&#29702;&#12290;&#22312;Nagios&#37324;&#23545;&#20027;&#26426;&#21644;&#26381;&#21153;&#24615;&#33021;&#25968;&#25454;&#30340;&#22788;&#29702;&#21629;&#20196;&#20998;&#21035;&#21462;&#20915;&#20110;&#23545;<a class="link" href="#host_perfdata_command" title="&#34920;&nbsp;5.88.&nbsp;&#20027;&#26426;&#24615;&#33021;&#25968;&#25454;&#22788;&#29702;&#21629;&#20196;">host_perfdata_command</a>&#21644;<a class="link" href="#service_perfdata_command" title="&#34920;&nbsp;5.89.&nbsp;&#26381;&#21153;&#24615;&#33021;&#25968;&#25454;&#22788;&#29702;&#21629;&#20196;">service_perfdata_command</a>&#36873;&#39033;&#35774;&#32622;&#12290;</p><p>&#19979;&#20363;&#26159;&#37325;&#23450;&#21521;&#26381;&#21153;&#26816;&#27979;&#30340;&#24615;&#33021;&#25968;&#25454;&#21040;&#19968;&#20010;&#25991;&#26412;&#25991;&#20214;&#37324;&#20197;&#35753;&#20854;&#20182;&#24212;&#29992;&#26469;&#20570;&#21518;&#24207;&#22788;&#29702;&#65306;</p><pre class="programlisting"><p>define command{
	command_name	store-service-perfdata
	command_line	/bin/echo -e "$LASTSERVICECHECK$\t$HOSTNAME$\t$SERVICEDESC$\t$SERVICESTATE$\t$SERVICEATTEMPT$\t$SERVICESTATETYPE$\t$SERVICEEXECUTIONTIME$\t$SERVICELATENCY$\t$SERVICEOUTPUT$\t$SERVICEPERFDATA$" &gt;&gt; /usr/local/nagios/var/service-perfdata.dat
	}</p></pre><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#25552;&#31034;</h3><div><img src="../pub/images/tip.gif"></div>&#22312;&#27492;&#26041;&#27861;&#20013;&#65292;&#34429;&#28982;&#26580;&#24615;&#21270;&#20294;&#20063;&#20250;&#24102;&#26469;CPU&#39640;&#36127;&#33655;&#12290;&#22914;&#26524;&#24819;&#25226;&#22823;&#37327;&#30340;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#24615;&#33021;&#25968;&#25454;&#20889;&#20837;&#25991;&#20214;&#35753;&#22806;&#37096;&#24212;&#29992;&#26469;&#22788;&#29702;&#65292;&#21487;&#20197;&#35753;Nagios&#20195;&#26367;&#21629;&#20196;&#32780;&#30452;&#25509;&#20889;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;&#12290;&#36825;&#20010;&#26041;&#27861;&#22312;&#19979;&#19968;&#33410;&#37324;&#26377;&#35828;&#26126;&#12290;</div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e21360"></a>8.13.6.&nbsp;&#23558;&#24615;&#33021;&#25968;&#25454;&#20889;&#20837;&#25991;&#20214;</h3></div></div></div><p>&#29992;<a class="link" href="#host_perfdata_file" title="&#34920;&nbsp;5.90.&nbsp;&#20027;&#26426;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;">host_perfdata_file</a>&#21644;<a class="link" href="#service_perfdata_file" title="&#34920;&nbsp;5.91.&nbsp;&#26381;&#21153;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;">service_perfdata_file</a>&#36873;&#39033;&#21487;&#20197;&#35753;Nagios&#30452;&#25509;&#25226;&#24615;&#33021;&#25968;&#25454;&#20889;&#20837;&#25991;&#26412;&#25991;&#20214;&#65292;&#32780;&#20027;&#26426;&#19982;&#26381;&#21153;&#24615;&#33021;&#25968;&#25454;&#30340;&#20889;&#20837;&#26684;&#24335;&#30001;<a class="link" href="#host_perfdata_file_template" title="&#34920;&nbsp;5.92.&nbsp;&#20027;&#26426;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;&#27169;&#26495;">host_perfdata_file_template</a>&#21644;<a class="link" href="#service_perfdata_file_template" title="&#34920;&nbsp;5.93.&nbsp;&#26381;&#21153;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;&#27169;&#26495;">service_perfdata_file_template</a>&#36873;&#39033;&#35774;&#32622;&#20915;&#23450;&#12290;</p><p>&#19979;&#20363;&#26159;&#20010;&#26381;&#21153;&#24615;&#33021;&#25968;&#25454;&#30340;&#26684;&#24335;&#35774;&#32622;&#65306;</p><pre class="programlisting">service_perfdata_file_template=[SERVICEPERFDATA]\t$TIMET$\t$HOSTNAME$\t$SERVICEDESC$\t$SERVICEEXECUTIONTIME$\t$SERVICELATENCY$\t$SERVICEOUTPUT$\t$SERVICEPERFDATA$</pre><p>&#40664;&#35748;&#24773;&#20917;&#19979;&#65292;&#25991;&#26412;&#25991;&#20214;&#20197;"&#36861;&#21152;"&#26041;&#24335;&#25171;&#24320;&#12290;&#22914;&#26524;&#24819;&#25913;&#21464;&#25991;&#20214;&#25171;&#24320;&#26041;&#24335;&#65292;&#22914;"&#20889;&#20837;"&#25110;&#26159;"&#38750;&#38459;&#22622;&#24335;&#35835;&#20889;"(&#29992;&#31649;&#36947;&#20889;&#25991;&#20214;&#26102;&#29992;&#30340;)&#65292;&#21487;&#20197;&#35774;&#32622;<a class="link" href="#host_perfdata_file_mode" title="&#34920;&nbsp;5.94.&nbsp;&#20027;&#26426;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;&#25171;&#24320;&#26041;&#24335;">host_perfdata_file_mode</a>&#21644;<a class="link" href="#service_perfdata_file_mode" title="&#34920;&nbsp;5.95.&nbsp;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;&#25171;&#24320;&#26041;&#24335;">service_perfdata_file_mode</a>&#36873;&#39033;&#12290;</p><p>&#21478;&#22806;&#65292;&#36824;&#21487;&#20197;&#35753;Nagios&#23450;&#26399;&#22320;&#25191;&#34892;&#21629;&#20196;&#26469;&#23450;&#26399;&#22788;&#29702;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;(&#22914;&#28378;&#21160;&#25968;&#25454;)&#65292;&#29992;<a class="link" href="#host_perfdata_file_processing_command" title="&#34920;&nbsp;5.98.&nbsp;&#20027;&#26426;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;&#22788;&#29702;&#21629;&#20196;">host_perfdata_file_processing_command</a>&#21644;<a class="link" href="#service_perfdata_file_processing_command" title="&#34920;&nbsp;5.99.&nbsp;&#26381;&#21153;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;&#22788;&#29702;&#21629;&#20196;">service_perfdata_file_processing_command</a>&#36873;&#39033;&#35774;&#32622;&#12290;&#36825;&#20123;&#21629;&#20196;&#30340;&#25191;&#34892;&#38388;&#38548;&#20998;&#21035;&#30001;<a class="link" href="#host_perfdata_file_processing_interval" title="&#34920;&nbsp;5.96.&nbsp;&#20027;&#26426;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;&#22788;&#29702;&#38388;&#38548;">host_perfdata_file_processing_interval</a>&#21644;<a class="link" href="#service_perfdata_file_processing_interval" title="&#34920;&nbsp;5.97.&nbsp;&#26381;&#21153;&#24615;&#33021;&#25968;&#25454;&#25991;&#20214;&#22788;&#29702;&#38388;&#38548;">service_perfdata_file_processing_interval</a>&#36873;&#39033;&#25511;&#21046;&#12290;</p></div></div></div><div class="chapter" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title"><a name="profession"></a>&#31532;&nbsp;9&nbsp;&#31456;&nbsp;Nagios&#19987;&#19994;&#35805;&#39064;</h2></div></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="funstuff"></a>9.1.&nbsp;&#36259;&#20107;&#19982;&#29609;&#31505;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"></div><p>&#36319;&#26631;&#20934;&#30340;&#30417;&#25511;&#31243;&#24207;&#19981;&#19968;&#26679;&#65292;Nagios&#21487;&#20197;&#20570;&#20123;&#24456;&#26377;&#36259;&#30340;&#20107;&#24773;&#12290;&#19982;&#20854;&#33457;&#36153;&#26102;&#38388;&#29609;<a class="ulink" href="http://www.idsoftware.com/quake/" target="_top">Quake</a>&#65292;&#20026;&#20309;&#19981;&#33457;&#28857;&#26102;&#38388;&#30475;&#30475;&#36825;&#20010;<a class="ulink" href="http://www.nagios.org/docs/hacks/" target="_top">http://www.nagios.org/docs/hacks</a>...</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="distributed"></a>9.2.&nbsp;&#20998;&#24067;&#24335;&#30417;&#25511;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e21421"></a>9.2.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>Nagios&#21487;&#20197;&#37197;&#32622;&#20026;&#20998;&#24067;&#24335;&#30417;&#25511;&#32593;&#32476;&#26381;&#21153;&#19982;&#36164;&#28304;&#12290;&#19979;&#38754;&#23558;&#23613;&#21487;&#33021;&#35814;&#32454;&#38416;&#36848;&#22914;&#20309;&#23454;&#29616;...</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e21426"></a>9.2.2.&nbsp;&#30446;&#26631;</h3></div></div></div><p>&#23433;&#35013;&#19968;&#20010;&#20998;&#24067;&#24335;&#30417;&#25511;&#29615;&#22659;&#30340;&#20027;&#26088;&#26159;&#35201;&#38477;&#20302;&#25972;&#20307;&#28040;&#32791;(CPU&#21033;&#29992;&#29575;&#31561;)&#65292;&#36890;&#36807;&#19968;&#20010;&#25110;&#22810;&#20010;"&#20998;&#24067;"&#26381;&#21153;&#22120;&#26816;&#27979;&#24182;&#23558;&#32467;&#26524;&#36865;&#32473;"&#20013;&#24515;"&#30417;&#25511;&#26381;&#21153;&#22120;&#26469;&#23454;&#29616;&#36825;&#19968;&#30446;&#30340;&#12290;&#19981;&#23569;&#23567;&#22411;&#25110;&#20013;&#22411;&#30340;&#31995;&#32479;&#23558;&#19981;&#20250;&#29992;&#21040;&#36825;&#31181;&#29615;&#22659;&#65292;&#28982;&#32780;&#65292;&#22914;&#26524;&#35201;Nagios&#30417;&#25511;&#19978;&#30334;&#21488;&#30340;&#20027;&#26426;&#20035;&#33267;&#19978;&#21315;&#21488;<span class="strong"><strong>&#20027;&#26426;</strong></span>(&#21644;&#20960;&#20493;&#20110;&#23427;&#30340;&#26381;&#21153;&#20010;&#25968;)&#26102;&#65292;&#36825;&#23601;&#21464;&#24471;&#38750;&#24120;&#37325;&#35201;&#20102;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e21434"></a>9.2.3.&nbsp;&#21442;&#29031;&#31034;&#24847;&#22270;</h3></div></div></div><p>&#19979;&#22270;&#23558;&#24110;&#21161;&#29702;&#35299;Nagios&#30340;&#20998;&#24067;&#24335;&#30417;&#25511;&#29615;&#22659;&#22914;&#20309;&#24037;&#20316;&#12290;&#23558;&#21033;&#29992;&#19979;&#22270;&#26469;&#35299;&#37322;&#19968;&#20123;&#27010;&#24565;...</p><div><img src="../pub/images/distributed.png"></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e21441"></a>9.2.4.&nbsp;&#20013;&#24515;&#26381;&#21153;&#19982;&#20998;&#24067;&#26381;&#21153;&#30340;&#23545;&#27604;</h3></div></div></div><p>&#24403;&#29992;Nagios&#24314;&#31435;&#19968;&#20010;&#20998;&#24067;&#30417;&#25511;&#29615;&#22659;&#26102;&#65292;&#22312;&#20013;&#24515;&#19982;&#20998;&#24067;&#26381;&#21153;&#22120;&#30340;&#37197;&#32622;&#26041;&#38754;&#26377;&#24456;&#22823;&#19981;&#21516;&#12290;&#19979;&#38754;&#23558;&#20250;&#32473;&#20986;&#20004;&#32773;&#30340;&#37197;&#32622;&#24182;&#25351;&#20986;&#22312;&#25972;&#20307;&#19978;&#36825;&#31181;&#37197;&#32622;&#30340;&#24433;&#21709;&#12290;&#20808;&#26469;&#35299;&#37322;&#19968;&#19979;&#36825;&#20004;&#31181;&#20301;&#32622;&#19978;&#19981;&#21516;&#30340;&#26381;&#21153;&#30446;&#26631;...</p><p><span class="strong"><strong>"&#20998;&#24067;"&#26381;&#21153;&#22120;</strong></span>&#30340;&#21151;&#33021;&#26159;&#30495;&#27491;&#22320;&#23436;&#25104;&#20320;&#25152;&#21010;&#20998;&#20986;&#19968;"&#32452;"&#20027;&#26426;&#30340;&#26816;&#27979;&#24037;&#20316;&#12290;&#36825;&#37324;&#30340;"&#32452;"&#23450;&#20041;&#26159;&#26494;&#25955;&#30340;&#65293;&#23436;&#25104;&#22522;&#20110;&#20320;&#30340;&#32593;&#32476;&#24773;&#20917;&#32780;&#33258;&#28982;&#24418;&#25104;&#30340;&#12290;&#22312;&#19968;&#20010;&#29289;&#29702;&#20301;&#32622;&#37324;&#21487;&#33021;&#20250;&#26377;&#33509;&#24178;&#20010;"&#32452;"&#65292;&#36825;&#21462;&#20915;&#20110;&#20320;&#30340;&#32593;&#32476;&#23618;&#27425;&#21010;&#20998;&#65292;&#35201;&#20040;&#22240;&#20026;WAN&#32780;&#21010;&#20998;&#24320;&#65292;&#35201;&#20040;&#22240;&#20010;&#33258;&#29420;&#31435;&#30340;&#38450;&#28779;&#22681;&#32780;&#21010;&#20998;&#24320;&#12290;&#24456;&#37325;&#35201;&#30340;&#19968;&#28857;&#26159;&#65292;&#22312;&#27599;&#20010;"&#32452;"&#37324;&#37117;&#21482;&#26377;&#19968;&#20010;&#36816;&#34892;Nagios&#30340;&#26381;&#21153;&#22120;&#24182;&#23436;&#25104;&#23545;&#35813;"&#32452;"&#30340;&#30417;&#25511;&#26816;&#27979;&#24037;&#20316;&#12290;&#20998;&#24067;&#26381;&#21153;&#22120;&#36890;&#24120;&#19978;&#38754;&#21482;&#23433;&#35013;&#26377;Nagios&#65292;&#23427;&#19981;&#38656;&#35201;&#23433;&#35013;Web&#25509;&#21475;&#65292;&#22914;&#26524;&#19981;&#24819;&#35753;&#23427;&#26469;&#20570;&#20063;&#21487;&#20197;&#19981;&#36865;&#20986;&#36890;&#30693;&#12289;&#36816;&#34892;&#20107;&#20214;&#22788;&#29702;&#33050;&#26412;&#25110;&#26159;&#25191;&#34892;&#20219;&#20309;&#20854;&#20182;&#26381;&#21153;&#26816;&#27979;&#12290;&#26377;&#20851;&#20998;&#24067;&#26381;&#21153;&#22120;&#26356;&#35814;&#23613;&#30340;&#20869;&#23481;&#23558;&#22312;&#19979;&#38754;&#37197;&#32622;&#20013;&#32473;&#20986;...</p><p><span class="strong"><strong>"&#20013;&#24515;"&#26381;&#21153;&#22120;</strong></span>&#30340;&#30446;&#26631;&#26159;&#20174;&#19968;&#20010;&#25110;&#22810;&#20010;&#20998;&#24067;&#24335;&#26381;&#21153;&#22120;&#25910;&#38598;&#26381;&#21153;&#26816;&#27979;&#32467;&#26524;&#12290;&#34429;&#28982;&#20013;&#24515;&#26381;&#21153;&#22120;&#20598;&#23572;&#20063;&#20250;&#20570;&#20123;&#33258;&#20027;&#26816;&#27979;&#65292;&#20294;&#33258;&#20027;&#26816;&#27979;&#26356;&#22810;&#21482;&#26159;&#22312;&#26497;&#31471;&#24773;&#20917;&#19979;&#25165;&#20570;&#30340;&#65292;&#22240;&#32780;&#21487;&#20197;&#35828;&#20013;&#24515;&#26381;&#21153;&#22120;&#24403;&#21069;&#21482;&#20570;&#24378;&#21046;&#26816;&#27979;&#12290;&#26082;&#28982;&#20013;&#24515;&#26381;&#21153;&#22120;&#20174;&#19968;&#21488;&#25110;&#22810;&#21488;&#20998;&#24067;&#26381;&#21153;&#22120;&#25910;&#38598;<a class="link" href="#passivechecks" title="6.14.&nbsp;&#24378;&#21046;&#26816;&#27979;">&#24378;&#21046;&#26381;&#21153;&#26816;&#27979;</a>&#32467;&#26524;&#65292;&#37027;&#23427;&#23601;&#25215;&#25285;&#20840;&#37096;&#30417;&#25511;&#36923;&#36753;&#30340;&#25972;&#20307;&#36755;&#20986;&#24037;&#20316;(&#22914;&#36865;&#20986;&#36890;&#30693;&#12289;&#36816;&#34892;&#20107;&#20214;&#22788;&#29702;&#33050;&#26412;&#12289;&#21028;&#23450;&#20027;&#26426;&#29366;&#24577;&#12289;&#23433;&#35013;&#24182;&#25552;&#20379;Web&#25509;&#21475;&#31561;)&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e21457"></a>9.2.5.&nbsp;&#20174;&#20998;&#24067;&#26381;&#21153;&#22120;&#19978;&#25910;&#38598;&#26381;&#21153;&#26816;&#27979;&#20449;&#24687;</h3></div></div></div><p>&#22312;&#30740;&#35752;&#37197;&#32622;&#32454;&#33410;&#20043;&#21069;&#65292;&#38656;&#35201;&#20102;&#35299;&#22914;&#20309;&#23558;&#20998;&#24067;&#26381;&#21153;&#22120;&#19978;&#30340;&#26381;&#21153;&#26816;&#27979;&#32467;&#26524;&#36865;&#21040;&#20013;&#24515;&#26381;&#21153;&#22120;&#12290;&#21069;&#38754;&#24050;&#32463;&#35752;&#35770;&#36807;&#22914;&#20309;&#25552;&#20132;&#30001;Nagios&#21457;&#20986;&#30340;&#24378;&#21046;&#26816;&#27979;&#32467;&#26524;&#21040;&#35813;Nagios&#20027;&#26426;(&#22312;<a class="link" href="#passivechecks" title="6.14.&nbsp;&#24378;&#21046;&#26816;&#27979;">&#24378;&#21046;&#26816;&#27979;</a>&#19968;&#25991;&#20013;&#26377;&#35828;&#26126;)&#65292;&#20294;&#24182;&#27809;&#26377;&#32473;&#20986;&#20219;&#20309;&#20851;&#20110;&#25552;&#20132;&#19981;&#21516;&#20027;&#26426;&#24378;&#21046;&#26816;&#27979;&#32467;&#26524;&#30340;&#20449;&#24687;&#12290;</p><p>&#20026;&#23436;&#25104;&#20174;&#36828;&#31243;&#20027;&#26426;&#25552;&#20132;&#24378;&#21046;&#26816;&#27979;&#32467;&#26524;&#65292;&#29305;&#24847;&#32534;&#20889;&#20102;<a class="link" href="#addons_NSCA" title="11.4.3.&nbsp;NSCA">NSCA&#22806;&#37096;&#26500;&#20214;</a>&#12290;&#35813;&#22806;&#37096;&#26500;&#20214;&#21253;&#25324;&#20004;&#37096;&#20998;&#65292;&#31532;&#19968;&#37096;&#20998;&#26159;&#23458;&#25143;&#31471;&#31243;&#24207;(send_nsca)&#65292;&#36816;&#34892;&#20110;&#36828;&#31243;&#20027;&#26426;&#19978;&#24182;&#36127;&#36131;&#23558;&#24378;&#21046;&#26816;&#27979;&#32467;&#26524;&#36865;&#21040;&#25351;&#23450;&#30340;&#26381;&#21153;&#22120;&#19978;&#21435;&#65292;&#21478;&#19968;&#37096;&#20998;&#26159;NSCA&#23432;&#25252;&#36827;&#31243;(nsca)&#65292;&#23427;&#26082;&#21487;&#20197;&#29420;&#31435;&#22320;&#36816;&#34892;&#20110;&#23432;&#25252;&#26381;&#21153;&#20063;&#21487;&#20197;&#27880;&#20876;&#21040;inetd&#37324;&#20316;&#20026;&#19968;&#20010;inetd&#23458;&#25143;&#31243;&#24207;&#26469;&#25552;&#20379;&#30417;&#21548;&#32852;&#25509;&#12290;&#20174;&#23458;&#25143;&#31471;&#25910;&#21040;&#26381;&#21153;&#26816;&#27979;&#32467;&#26524;&#20449;&#24687;&#20043;&#21518;&#65292;&#23432;&#25252;&#36827;&#31243;&#23558;&#32467;&#26524;&#25552;&#20132;&#32473;&#22312;&#20013;&#24515;&#26381;&#21153;&#22120;&#30340;Nagios&#65292;&#26041;&#24335;&#26159;&#36890;&#36807;&#22312;<a class="link" href="#command_file" title="&#34920;&nbsp;5.23.&nbsp;&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;">&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;</a>&#37324;&#25554;&#20837;&#19968;&#26465;<span class="strong"><strong>PROCESS_SVC_CHECK_RESULT</strong></span>&#21629;&#20196;&#65292;&#20043;&#21518;&#36319;&#19978;&#26816;&#27979;&#32467;&#26524;&#12290;&#22312;Nagios&#19979;&#19968;&#27425;&#22788;&#29702;<a class="link" href="#extcommands" title="6.9.&nbsp;&#22806;&#37096;&#21629;&#20196;">&#22806;&#37096;&#21629;&#20196;&#26102;</a>&#23558;&#20250;&#25214;&#21040;&#36825;&#26465;&#30001;&#20998;&#24067;&#24335;&#26381;&#21153;&#22120;&#36865;&#26469;&#30340;&#24378;&#21046;&#26816;&#27979;&#20449;&#24687;&#24182;&#22788;&#29702;&#23427;&#12290;&#24456;&#31616;&#21333;&#23545;&#21543;&#65311;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e21479"></a>9.2.6.&nbsp;&#20998;&#24067;&#24335;&#30417;&#25511;&#26381;&#21153;&#30340;&#37197;&#32622;</h3></div></div></div><p>&#37027;&#20040;&#22914;&#20309;&#26469;&#37197;&#32622;&#19968;&#21488;&#20998;&#24067;&#24335;&#30340;Nagios&#26381;&#21153;&#22120;&#65311;&#22522;&#26412;&#35201;&#27714;&#26159;&#19968;&#20010;&#32431;&#20928;&#23433;&#35013;&#30340;Nagios&#65292;&#27809;&#24517;&#35201;&#23433;&#35013;Web&#25509;&#21475;&#25110;&#36890;&#30693;&#36865;&#20986;&#26381;&#21153;&#65292;&#22240;&#20026;&#23427;&#20204;&#37117;&#30001;&#20013;&#24515;&#26381;&#21153;&#22120;&#26469;&#23436;&#25104;&#12290;</p><p>&#37197;&#32622;&#30340;&#20851;&#38190;&#24046;&#24322;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#22312;&#20998;&#24067;&#24335;&#26381;&#21153;&#22120;&#30340;<a class="link" href="#configobject" title="5.3.&nbsp;&#23545;&#35937;&#37197;&#32622;&#27010;&#35272;">&#23545;&#35937;&#37197;&#32622;&#25991;&#20214;</a>&#37324;&#21482;&#23450;&#20041;&#37027;&#20123;&#30001;&#23427;&#30452;&#25509;&#30417;&#25511;&#30340;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#23545;&#35937;&#65307;</li><li>&#23558;&#20998;&#24067;&#24335;&#26381;&#21153;&#22120;&#30340;<a class="link" href="#enable_notifications" title="&#34920;&nbsp;5.13.&nbsp;&#36890;&#30693;&#36873;&#39033;">enable_notifications</a>&#22495;&#35774;&#32622;&#20026;0&#65292;&#36825;&#23558;&#38459;&#27490;&#23427;&#30452;&#25509;&#36865;&#20986;&#20219;&#20309;&#36890;&#30693;&#20449;&#24687;&#65307;</li><li>&#20998;&#24067;&#24335;&#26381;&#21153;&#22120;&#34987;&#37197;&#32622;&#20026;<a class="link" href="#obsess_over_services" title="&#34920;&nbsp;5.83.&nbsp;Obsess Over Services Option">&#24378;&#36843;&#22411;&#26381;&#21153;(obsess over services)</a>&#31867;&#22411;&#65307;</li><li>&#20998;&#24067;&#24335;&#26381;&#21153;&#26377;&#19968;&#20010;<a class="link" href="#ocsp_command" title="&#34920;&nbsp;5.84.&nbsp;Obsessive Compulsive Service Processor Command">&#24378;&#36843;&#22411;&#26381;&#21153;&#22788;&#29702;&#21629;&#20196;(OCSP)</a>&#30340;&#23450;&#20041;(&#19979;&#38754;&#26377;&#35828;&#26126;)&#12290;</li></ol></div><p>&#20026;&#20351;&#32593;&#32476;&#20869;&#30340;&#20449;&#24687;&#20805;&#20998;&#27719;&#24635;&#22788;&#29702;&#65292;&#38656;&#35201;&#23558;&#27599;&#20010;&#20998;&#24067;&#26381;&#21153;&#22120;&#19978;&#30340;<span class="strong"><strong>&#20840;&#37096;&#26381;&#21153;&#26816;&#27979;</strong></span>&#32467;&#26524;&#36865;&#21040;&#20013;&#24515;Nagios&#26381;&#21153;&#22120;&#12290;&#21487;&#20197;&#29992;<a class="link" href="#eventhandlers" title="6.8.&nbsp;&#20107;&#20214;&#22788;&#29702;">&#20107;&#20214;&#22788;&#29702;</a>&#26469;&#25253;&#21578;&#26381;&#21153;&#29366;&#24577;&#30340;<span class="strong"><strong>&#21464;&#25442;&#24773;&#20917;</strong></span>&#65292;&#20294;&#37027;&#21482;&#26159;&#27809;&#21098;&#35009;&#30340;&#12290;&#20026;&#24378;&#21046;&#35753;&#20998;&#24067;&#26381;&#21153;&#22120;&#25552;&#20132;&#20840;&#37096;&#30340;&#26381;&#21153;&#26816;&#27979;&#32467;&#26524;&#65292;&#24517;&#39035;&#20351;&#33021;&#20301;&#20110;&#20027;&#37197;&#32622;&#25991;&#20214;&#37324;&#30340;&#24378;&#36843;&#22411;&#26381;&#21153;<a class="link" href="#obsess_over_services" title="&#34920;&nbsp;5.83.&nbsp;Obsess Over Services Option">obsess_over_services</a>&#36873;&#39033;&#24182;&#19988;&#35774;&#23450;&#22909;&#19968;&#20010;&#24378;&#36843;&#22411;&#26381;&#21153;&#22788;&#29702;&#21629;&#20196;<a class="link" href="#ocsp_command" title="&#34920;&nbsp;5.84.&nbsp;Obsessive Compulsive Service Processor Command">ocsp_command</a>&#20197;&#22312;&#27599;&#27425;&#26381;&#21153;&#26816;&#27979;&#23436;&#25104;&#21518;&#25191;&#34892;&#35813;&#21629;&#20196;&#12290;&#23558;&#21033;&#29992;&#24378;&#36843;&#22411;&#26381;&#21153;&#22788;&#29702;&#21629;&#20196;&#26469;&#20174;&#20998;&#24067;&#26381;&#21153;&#22120;&#21521;&#20013;&#24515;&#26381;&#21153;&#22120;&#36865;&#36798;&#20840;&#37096;&#26381;&#21153;&#26816;&#27979;&#32467;&#26524;&#65292;&#36825;&#20013;&#38388;&#23558;&#21033;&#29992;send_nsca&#23458;&#25143;&#31471;&#21644;nsca&#23432;&#25252;&#26381;&#21153;(&#19978;&#38754;&#24050;&#32463;&#35828;&#26126;)&#26469;&#36827;&#34892;&#25968;&#25454;&#20256;&#36755;&#36807;&#31243;&#12290;</p><p>&#20026;&#23454;&#29616;&#36825;&#19968;&#30446;&#26631;&#65292;&#38656;&#35201;&#35937;&#19979;&#38754;&#36825;&#26679;&#23450;&#20041;&#19968;&#20010;&#24378;&#36843;&#22411;&#26381;&#21153;&#22788;&#29702;(ocsp)&#21629;&#20196;&#65306;</p><p><span class="bold"><strong>ocsp_command=submit_check_result</strong></span></p><p>&#36825;&#20010;<span class="strong"><strong>submit_check_result</strong></span>&#21629;&#20196;&#30340;&#23450;&#20041;&#20250;&#35937;&#26159;&#36825;&#26679;&#65306;</p><p><span class="bold"><strong><pre class="programlisting">
<p>define command{
	command_name	submit_check_result
	command_line	/usr/local/nagios/libexec/eventhandlers/submit_check_result $HOSTNAME$ '$SERVICEDESC$' $SERVICESTATE$ '$SERVICEOUTPUT$'
	}</p>
</pre>
</strong></span></p><p>&#35813;<span class="strong"><strong>submit_check_result</strong></span>&#30340;SHELL&#33050;&#26412;&#30340;&#20869;&#23481;&#35937;&#26159;&#36825;&#26679;(&#29992;<span class="strong"><strong>&#20013;&#24515;&#26381;&#21153;&#22120;</strong></span>IP&#22320;&#22336;&#26367;&#25442;&#37324;&#38754;&#30340;central_server)&#65306;</p><pre class="programlisting">
<p>#!/bin/sh
	# Arguments:
	#  $1 = host_name (Short name of host that the service is
	#       associated with)
	#  $2 = svc_description (Description of the service)
	#  $3 = state_string (A string representing the status of
	#       the given service - "OK", "WARNING", "CRITICAL"
	#       or "UNKNOWN")
	#  $4 = plugin_output (A text string that should be used
	#       as the plugin output for the service checks)
	#

	# Convert the state string to the corresponding return code
	return_code=-1

	case "$3" in
    		    OK)
        	    return_code=0
            	        ;;
	        WARNING)
    	            return_code=1
        	        ;;
	        CRITICAL)
    	            return_code=2
        	        ;;
	        UNKNOWN)
    	            return_code=-1
        	        ;;
	esac
	# pipe the service check info into the send_nsca program, which
	# in turn transmits the data to the nsca daemon on the central
	# monitoring server

	/bin/printf "%s\t%s\t%s\t%s\n" "$1" "$2" "$return_code" "$4" | /usr/local/nagios/bin/send_nsca <span class="strong"><strong>central_server</strong></span> -c /usr/local/nagios/etc/send_nsca.cfg</p></pre><p>&#19978;&#38754;&#33050;&#26412;&#20013;&#20551;&#23450;&#24050;&#32463;&#26377;send_nsca&#23458;&#25143;&#31471;&#31243;&#24207;&#65292;&#23427;&#25918;&#22312;<span class="strong"><strong>/usr/local/nagios/bin/</strong></span>&#30446;&#24405;&#37324;&#65292;&#24182;&#19988;&#25226;&#37197;&#32622;&#25991;&#20214;(send_nsca.cfg)&#25918;&#22312;<span class="strong"><strong>/usr/local/nagios/etc/</strong></span>&#30446;&#24405;&#37324;&#12290;</p><p>&#23601;&#36825;&#20040;&#22810;&#65281;&#29616;&#22312;&#24050;&#32463;&#31639;&#26159;&#25226;&#19968;&#20010;&#36828;&#31243;&#30340;Nagios&#26381;&#21153;&#22120;&#37197;&#32622;&#25104;&#20026;&#19968;&#20010;&#20998;&#24067;&#26381;&#21153;&#22120;&#20102;&#12290;&#30475;&#19968;&#19979;&#22312;&#20998;&#24067;&#26381;&#21153;&#22120;&#19978;&#21040;&#24213;&#21457;&#29983;&#20102;&#20160;&#20040;&#24182;&#19988;&#23427;&#26159;&#22914;&#20309;&#23558;&#26381;&#21153;&#26816;&#27979;&#32467;&#26524;&#36865;&#21040;Nagios&#20013;&#24515;&#26381;&#21153;&#22120;&#19978;&#30340;(&#19979;&#36848;&#27493;&#39588;&#19982;&#21069;&#38754;&#30340;&#21442;&#32771;&#22270;&#20013;&#30340;&#25968;&#23383;&#30456;&#23545;&#24212;)&#65306;</p><div class="orderedlist"><ol type="1"><li>&#22312;&#20998;&#24067;&#26381;&#21153;&#22120;&#23436;&#25104;&#19968;&#27425;&#26381;&#21153;&#26816;&#27979;&#21518;&#65292;&#23427;&#20250;&#25191;&#34892;&#25152;&#23450;&#20041;&#30340;&#24378;&#36843;&#22411;&#26381;&#21153;&#22788;&#29702;&#21629;&#20196;&#65292;&#23601;&#26159;&#37027;&#20010;<a class="link" href="#ocsp_command" title="&#34920;&nbsp;5.84.&nbsp;Obsessive Compulsive Service Processor Command">ocsp_command</a>&#21464;&#37327;&#25351;&#21521;&#30340;&#21629;&#20196;&#12290;&#22312;&#26412;&#20363;&#20013;&#65292;&#25351;&#21521;&#30340;&#26159;<span class="strong"><strong>/usr/local/nagios/libexec/eventhandlers/submit_check_result</strong></span>&#33050;&#26412;&#12290;&#27880;&#24847;&#22312;<span class="strong"><strong>submit_check_result</strong></span>&#21629;&#20196;&#20013;&#23558;&#22235;&#20010;&#20449;&#24687;&#20256;&#32473;&#20102;&#33050;&#26412;&#65306;&#26381;&#21153;&#25152;&#32465;&#23450;&#30340;&#20027;&#26426;&#21517;&#12289;&#26381;&#21153;&#25551;&#36848;&#12289;&#26381;&#21153;&#26816;&#27979;&#36820;&#22238;&#32467;&#26524;&#20197;&#21450;&#26381;&#21153;&#26816;&#27979;&#30340;&#36755;&#20986;&#27491;&#25991;&#65307;</li><li>&#35813;<span class="strong"><strong>submit_check_result</strong></span>&#33050;&#26412;&#23558;&#26381;&#21153;&#26816;&#27979;&#20449;&#24687;(&#20027;&#26426;&#21517;&#12289;&#26381;&#21153;&#25551;&#36848;&#12289;&#26381;&#21153;&#26816;&#27979;&#32467;&#26524;&#21644;&#36755;&#20986;&#27491;&#25991;)&#23548;&#20837;&#21040;<span class="strong"><strong>send_nsca</strong></span>&#23458;&#25143;&#31471;&#31243;&#24207;&#65307;</li><li>&#30001;<span class="strong"><strong>send_nsca</strong></span>&#31243;&#24207;&#20256;&#36865;&#26381;&#21153;&#26816;&#27979;&#20449;&#24687;&#21040;&#20301;&#20110;&#20013;&#24515;&#26381;&#21153;&#22120;&#19978;&#30340;<span class="strong"><strong>nsca</strong></span>&#23432;&#25252;&#36827;&#31243;&#65307;</li><li>&#20301;&#20110;&#20013;&#24515;&#26381;&#21153;&#22120;&#19978;&#30340;<span class="strong"><strong>nsca</strong></span>&#23432;&#25252;&#36827;&#31243;&#25509;&#25910;&#21040;&#26381;&#21153;&#26816;&#27979;&#20449;&#24687;&#21518;&#20889;&#20837;&#21040;&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;&#37324;&#35753;Nagios&#26381;&#21153;&#26469;&#21518;&#32493;&#22788;&#29702;&#65307;</li><li>&#20301;&#20110;&#20013;&#24515;&#26381;&#21153;&#22120;&#30340;Nagios&#26381;&#21153;&#36827;&#31243;&#35835;&#20837;&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;&#24182;&#22788;&#29702;&#36825;&#20123;&#26469;&#33258;&#20110;&#36828;&#31243;&#20998;&#24067;&#24335;&#26381;&#21153;&#22120;&#19978;&#30340;&#24378;&#21046;&#26381;&#21153;&#26816;&#27979;&#20449;&#24687;&#12290;</li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e21602"></a>9.2.7.&nbsp;&#20013;&#24515;&#26381;&#21153;&#22120;&#37197;&#32622;</h3></div></div></div><p>&#24050;&#32463;&#30475;&#36807;&#20998;&#24067;&#24335;&#26381;&#21153;&#22120;&#22914;&#20309;&#37197;&#32622;&#65292;&#19979;&#38754;&#22238;&#21040;&#20013;&#24515;&#26381;&#21153;&#22120;&#26469;&#20570;&#37197;&#32622;&#12290;&#20026;&#20445;&#38556;&#38598;&#20013;&#22788;&#29702;&#36816;&#34892;&#65292;&#20013;&#24515;&#26381;&#21153;&#22120;&#36890;&#24120;&#21482;&#22312;&#19968;&#21488;&#29420;&#31435;&#36816;&#34892;Nagios&#26426;&#22120;&#19978;&#20570;&#37197;&#32622;&#24037;&#20316;&#65292;&#35774;&#32622;&#36807;&#31243;&#22914;&#19979;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#20013;&#24515;&#26381;&#21153;&#22120;&#23433;&#35013;&#24182;&#37197;&#32622;Web&#25509;&#21475;(&#21487;&#36873;&#30340;&#65292;&#20294;&#25512;&#33616;&#36825;&#20040;&#20570;)&#65307;</li><li>&#23558;&#20013;&#24515;&#26381;&#21153;&#22120;&#19978;&#30340;<a class="link" href="#enable_notifications" title="&#34920;&nbsp;5.13.&nbsp;&#36890;&#30693;&#36873;&#39033;">enable_notifications</a>&#22495;&#35774;&#32622;&#20026;1&#65292;&#36825;&#23558;&#20351;&#33021;&#36890;&#30693;&#21151;&#33021;(&#21487;&#36873;&#30340;&#65292;&#20294;&#25512;&#33616;&#36825;&#20040;&#20570;)&#65307;</li><li>&#23558;&#20013;&#24515;&#26381;&#21153;&#22120;&#30340;<a class="link" href="#execute_service_checks" title="&#34920;&nbsp;5.14.&nbsp;&#26381;&#21153;&#26816;&#27979;&#25191;&#34892;&#36873;&#39033;">&#33258;&#20027;&#26381;&#21153;&#26816;&#27979;</a>&#21151;&#33021;&#20851;&#38381;(&#21487;&#36873;&#30340;&#65292;&#20294;&#25512;&#33616;&#36825;&#20040;&#20570;&#65293;&#35265;&#19979;&#38754;&#30340;&#25552;&#31034;)</li><li>&#20351;&#33021;&#20013;&#24515;&#26381;&#21153;&#22120;&#30340;<a class="link" href="#check_external_commands" title="&#34920;&nbsp;5.21.&nbsp;&#22806;&#37096;&#21629;&#20196;&#26816;&#26597;&#36873;&#39033;">&#22806;&#37096;&#21629;&#20196;&#26816;&#26597;</a>&#39033;(&#24517;&#39035;&#30340;)&#65307;</li><li>&#20351;&#33021;&#20013;&#24515;&#26381;&#21153;&#22120;&#30340;<a class="link" href="#accept_passive_service_checks" title="&#34920;&nbsp;5.15.&nbsp;&#24378;&#21046;&#26381;&#21153;&#26816;&#27979;&#32467;&#26524;&#25509;&#21463;&#36873;&#39033;">&#24378;&#21046;&#26381;&#21153;&#26816;&#27979;</a>(&#24517;&#39035;&#30340;)&#65307;</li></ol></div><p>&#22312;&#37197;&#32622;&#20013;&#24515;&#26381;&#21153;&#22120;&#26102;&#65292;&#26377;&#21478;&#22806;&#19977;&#20214;&#37325;&#35201;&#30340;&#20107;&#24773;&#35201;&#35760;&#24471;&#20570;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#20013;&#24515;&#26381;&#21153;&#22120;&#37324;&#24517;&#39035;&#35201;&#26377;<span class="strong"><strong>&#20840;&#37096;&#20998;&#24067;&#26381;&#21153;&#22120;&#19978;&#30340;&#20840;&#37096;&#26381;&#21153;</strong></span>&#23450;&#20041;&#12290;&#22914;&#26524;&#27809;&#26377;&#23450;&#20041;&#26381;&#21153;&#23545;&#35937;&#65292;&#22312;&#20013;&#24515;&#30340;Nagios&#23558;&#20250;&#24573;&#30053;&#37027;&#20123;&#27809;&#26377;&#27491;&#30830;&#37197;&#32622;&#30340;&#24378;&#21046;&#26816;&#27979;&#26381;&#21153;&#30340;&#26816;&#27979;&#32467;&#26524;&#65307;</li><li>&#22914;&#26524;&#20013;&#24515;&#26381;&#21153;&#22120;&#21482;&#36127;&#36131;&#22788;&#29702;&#26469;&#33258;&#20998;&#24067;&#26381;&#21153;&#22120;&#30340;&#26381;&#21153;&#26816;&#27979;&#32467;&#26524;&#65292;&#21487;&#20197;&#22312;&#31243;&#24207;&#23618;&#38754;&#20851;&#38381;&#33258;&#20027;&#26816;&#27979;&#65292;&#35774;&#32622;<a class="link" href="#execute_service_checks" title="&#34920;&nbsp;5.14.&nbsp;&#26381;&#21153;&#26816;&#27979;&#25191;&#34892;&#36873;&#39033;">execute_service_checks</a>&#22495;&#20540;&#20026;0&#21363;&#21487;&#12290;&#22914;&#26524;&#38656;&#35201;&#35774;&#32622;&#20013;&#24515;&#26381;&#21153;&#22120;&#20570;&#20123;&#33258;&#20027;&#26816;&#27979;&#26469;&#30417;&#25511;&#19968;&#20123;&#23427;&#33258;&#24049;&#19987;&#23646;&#30340;&#26381;&#21153;(&#19981;&#24402;&#20998;&#24067;&#26381;&#21153;&#22120;&#31649;)&#65292;&#22312;&#20998;&#24067;&#26381;&#21153;&#22120;&#37324;&#36825;&#20123;&#26381;&#21153;&#23545;&#35937;&#30340;&#23450;&#20041;&#37324;&#30340;<span class="strong"><strong>enable_active_checks</strong></span>&#36873;&#39033;&#20540;&#35774;&#20026;0&#12290;&#36825;&#23558;&#38459;&#27490;Nagios&#23545;&#36825;&#20123;&#26381;&#21153;&#20570;&#33258;&#20027;&#26816;&#27979;&#12290;</li></ol></div><p>&#24456;&#37325;&#35201;&#30340;&#26159;&#35201;&#20040;&#20851;&#38381;&#31243;&#24207;&#23618;&#38754;&#30340;&#33258;&#20027;&#26816;&#27979;&#35774;&#32622;&#65292;&#35201;&#20040;&#25226;&#20998;&#24067;&#26381;&#21153;&#22120;&#37324;&#30340;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#37324;&#30340;<span class="strong"><strong>enable_active_checks</strong></span>&#36873;&#39033;&#35774;&#20026;0&#65292;&#36825;&#23558;&#30830;&#20445;&#33258;&#20027;&#26381;&#21153;&#26816;&#27979;&#19981;&#20250;&#22312;&#19968;&#33324;&#29366;&#20917;&#19979;&#34987;&#25191;&#34892;&#12290;&#36825;&#20123;&#26381;&#21153;&#23558;&#20250;&#20197;&#27491;&#24120;&#30340;&#26816;&#27979;&#21608;&#26399;&#38388;&#38548;(3&#20998;&#38047;&#25110;5&#20998;&#38047;&#31561;)&#26469;&#37325;&#21046;&#35746;&#35745;&#21010;&#34920;&#65292;&#20294;&#19981;&#20250;&#34987;&#30495;&#30340;&#25191;&#34892;&#12290;&#22312;Nagios&#36816;&#34892;&#36807;&#31243;&#20013;&#36825;&#31181;&#37325;&#21046;&#35746;&#35745;&#21010;&#30340;&#24490;&#29615;&#20250;&#19981;&#26029;&#22320;&#37325;&#22797;&#65292;&#21518;&#38754;&#25105;&#20250;&#35299;&#37322;&#19968;&#19979;&#20026;&#20309;&#35201;&#36825;&#20040;&#20570;&#12290;</p><p>&#23601;&#36825;&#20040;&#22810;&#65292;&#24456;&#23481;&#26131;&#65292;&#26159;&#21543;&#65311;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e21653"></a>9.2.8.&nbsp;&#24378;&#21046;&#26816;&#27979;&#20013;&#30340;&#38382;&#39064;</h3></div></div></div><p>&#19968;&#33324;&#24847;&#20041;&#19978;&#35762;&#65292;&#20013;&#24515;&#26381;&#21153;&#22120;&#23558;&#21482;&#29992;&#24378;&#21046;&#26816;&#27979;&#26041;&#24335;&#26469;&#20570;&#30417;&#25511;&#12290;&#23436;&#20840;&#20381;&#36182;&#20110;&#24378;&#21046;&#26816;&#27979;&#26469;&#20570;&#30417;&#25511;&#30340;&#20027;&#35201;&#38382;&#39064;&#26159;Nagios&#24517;&#39035;&#20381;&#36182;&#20110;&#20854;&#20182;&#19996;&#35199;&#26469;&#25552;&#20379;&#30417;&#25511;&#31995;&#32479;&#25968;&#25454;&#12290;&#22914;&#26524;&#21457;&#36865;&#24378;&#21046;&#26816;&#27979;&#32467;&#26524;&#30340;&#36828;&#31243;&#20027;&#26426;&#23445;&#26426;&#25110;&#19981;&#21487;&#36798;&#26102;&#20250;&#24590;&#20040;&#26679;&#65311;&#22914;&#26524;Nagios&#19981;&#33258;&#20027;&#26816;&#27979;&#20027;&#26426;&#26381;&#21153;&#65292;&#23427;&#24590;&#20040;&#20250;&#30693;&#36947;&#26377;&#25925;&#38556;&#21457;&#29983;&#20102;&#65311;</p><p>&#24184;&#36816;&#30340;&#26159;&#26377;&#21150;&#27861;&#26469;&#22788;&#29702;&#36825;&#31181;&#31867;&#22411;&#30340;&#25925;&#38556;...</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e21660"></a>9.2.9.&nbsp;&#21047;&#26032;&#26816;&#27979;</h3></div></div></div><p>Nagios&#25903;&#25345;&#23545;&#26381;&#21153;&#30340;&#26816;&#27979;&#32467;&#26524;&#20570;&#21047;&#26032;&#26816;&#27979;&#30340;&#29305;&#24615;&#12290;&#26356;&#22810;&#30340;&#26377;&#20851;&#21047;&#26032;&#26816;&#27979;&#20449;&#24687;&#21487;&#20197;&#22312;<a class="link" href="#freshness" title="8.6.&nbsp;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#21047;&#26032;&#26816;&#27979;">&#36825;&#31687;&#25991;&#26723;</a>&#26597;&#30475;&#12290;&#35813;&#29305;&#24615;&#21487;&#20197;&#22312;&#37027;&#20123;&#36828;&#31243;&#20027;&#26426;&#21487;&#33021;&#20572;&#27490;&#36865;&#20986;&#24378;&#21046;&#26381;&#21153;&#26816;&#27979;&#32467;&#26524;&#30340;&#22320;&#26041;&#25552;&#20379;&#38024;&#23545;&#20013;&#24515;&#26381;&#21153;&#22120;&#25552;&#20379;&#20445;&#25252;&#12290;"&#21047;&#26032;&#26816;&#27979;"&#30340;&#30446;&#30340;&#23601;&#26159;&#35201;&#30830;&#20445;&#26381;&#21153;&#26816;&#27979;&#35201;&#20040;&#21487;&#30001;&#20998;&#24067;&#24335;&#26381;&#21153;&#22120;&#20197;&#35268;&#26684;&#21270;&#30340;&#26041;&#24335;&#25552;&#20379;&#26816;&#27979;&#25968;&#25454;&#35201;&#20040;&#30001;&#20854;&#20013;&#24515;&#26381;&#21153;&#22120;&#22312;&#24517;&#35201;&#24773;&#20917;&#19979;&#33258;&#20027;&#22320;&#36827;&#34892;&#26816;&#27979;&#12290;&#22914;&#26524;&#20998;&#24067;&#24335;&#26381;&#21153;&#22120;&#25152;&#25552;&#20379;&#26816;&#27979;&#32467;&#26524;&#34987;&#21028;&#23450;"&#38472;&#26087;"&#65292;Nagios&#23558;&#34987;&#37197;&#32622;&#20026;&#33258;&#20013;&#24515;&#30417;&#25511;&#26381;&#21153;&#22120;&#24378;&#21046;&#22320;&#23545;&#37027;&#20010;&#26381;&#21153;&#21457;&#20986;&#33258;&#20027;&#26816;&#27979;&#12290;</p><p>&#37027;&#20040;&#22914;&#20309;&#26469;&#20570;&#21602;&#65311;&#22312;&#20013;&#24515;&#26381;&#21153;&#22120;&#19978;&#38656;&#35201;&#23545;&#37027;&#20123;&#30001;&#20998;&#24067;&#24335;&#26381;&#21153;&#22120;&#25152;&#36127;&#36131;&#30417;&#25511;&#30340;&#26381;&#21153;&#20570;&#22914;&#19979;&#37197;&#32622;&#25913;&#21160;...</p><div class="orderedlist"><ol type="1"><li>&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#37324;&#30340;<span class="strong"><strong>check_freshness</strong></span>&#36873;&#39033;&#35774;&#20026;1&#65292;&#36825;&#23558;&#25171;&#24320;&#38024;&#23545;&#35813;&#26381;&#21153;&#30340;"&#21047;&#26032;&#26816;&#27979;"&#29305;&#24615;&#65307;</li><li>&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#37324;&#30340;<span class="strong"><strong>freshness_threshold</strong></span>&#36873;&#39033;&#39035;&#35774;&#23450;&#20026;&#19968;&#20010;&#20197;&#31186;&#20026;&#21333;&#20301;&#30340;&#25968;&#20540;&#65292;&#35813;&#20540;&#21453;&#24212;&#20986;&#30001;&#20998;&#24067;&#24335;&#26381;&#21153;&#22120;&#25152;&#25552;&#20379;&#30340;&#26816;&#27979;&#25968;&#25454;&#23558;&#24212;&#35813;&#20197;&#20160;&#20040;&#26679;&#39057;&#24230;&#26469;&#25552;&#20379;&#20986;&#26469;&#65307;</li><li>&#22312;&#23545;&#35937;&#23450;&#20041;&#37324;&#30340;<span class="strong"><strong>check_command</strong></span>&#36873;&#39033;&#24212;&#25351;&#21521;&#19968;&#20010;&#26377;&#25928;&#30340;&#21629;&#20196;&#65292;&#24403;&#20013;&#24515;&#30417;&#25511;&#26381;&#21153;&#22120;&#38656;&#35201;&#25191;&#34892;&#33258;&#20027;&#26816;&#27979;&#26102;&#21487;&#20197;&#29992;&#27492;&#21629;&#20196;&#26469;&#25191;&#34892;&#26816;&#27979;&#12290;</li></ol></div><p>Nagios&#23450;&#26399;&#22320;&#23545;&#37027;&#20123;&#25171;&#24320;&#20102;"&#21047;&#26032;&#26816;&#27979;"&#26381;&#21153;&#30340;&#26816;&#27979;&#32467;&#26524;&#36827;&#34892;&#21047;&#26032;&#24773;&#20917;&#26816;&#26597;&#12290;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#37324;&#30340;<span class="strong"><strong>freshness_threshold</strong></span>&#36873;&#39033;&#25351;&#23450;&#20102;&#26381;&#21153;&#26816;&#27979;&#32467;&#26524;&#24212;&#35813;&#22312;&#20309;&#26102;&#38388;&#20869;&#21047;&#26032;&#12290;&#20363;&#22914;&#65292;&#22914;&#26524;&#26576;&#20010;&#26381;&#21153;&#37324;&#36825;&#20010;&#36873;&#39033;&#20540;&#26159;300&#65292;Nagios&#23558;&#20250;&#23545;&#24403;&#21069;&#26102;&#38388;300&#31186;(&#21363;5&#20998;&#38047;)&#20043;&#21069;&#30340;&#26816;&#27979;&#32467;&#26524;&#21028;&#23450;&#20026;"&#38472;&#26087;"&#12290;&#22914;&#26524;&#27809;&#26377;&#25351;&#23450;&#26381;&#21153;&#23545;&#35937;&#37324;&#30340;<span class="strong"><strong>freshness_threshold</strong></span>&#20540;&#65292;Nagios&#23558;&#33258;&#21160;&#22320;&#35745;&#31639;&#20986;&#19968;&#20010;&#21047;&#26032;&#38388;&#38548;&#38376;&#38480;&#65292;&#35201;&#20040;&#25353;&#29031;<span class="strong"><strong>normal_check_interval</strong></span>&#35201;&#20040;&#25353;<span class="strong"><strong>retry_check_interval</strong></span>&#26469;&#35745;&#31639;&#65292;&#36825;&#21462;&#20915;&#20110;&#26381;&#21153;&#24403;&#26102;&#25152;&#22312;&#20160;&#20040;&#26679;&#30340;<a class="link" href="#statetypes" title="6.10.&nbsp;&#29366;&#24577;&#31867;&#22411;">&#29366;&#24577;&#31867;&#22411;</a>&#12290;&#19968;&#26086;&#26381;&#21153;&#26816;&#27979;&#32467;&#26524;&#34987;&#21028;&#23450;&#20026;&#26159;"&#38472;&#26087;"&#65292;Nagios&#23558;&#20351;&#29992;&#26381;&#21153;&#23450;&#20041;&#37324;<span class="strong"><strong>check_command</strong></span>&#25351;&#23450;&#30340;&#21629;&#20196;&#26469;&#25191;&#34892;&#19968;&#27425;&#26381;&#21153;&#26816;&#27979;&#65292;&#36825;&#24403;&#28982;&#26159;&#33258;&#20027;&#26381;&#21153;&#26816;&#27979;&#12290;</p><p>&#19968;&#23450;&#35201;&#35760;&#24471;&#22312;&#20013;&#24515;&#26381;&#21153;&#22120;&#30340;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#37324;&#25351;&#23450;<span class="strong"><strong>check_command</strong></span>&#36873;&#39033;&#20197;&#20415;&#36827;&#34892;&#20174;&#20013;&#24515;&#26381;&#21153;&#22120;&#21457;&#20986;&#33258;&#20027;&#26381;&#21153;&#26816;&#27979;&#21629;&#20196;&#12290;&#19968;&#33324;&#24773;&#20917;&#19979;&#65292;&#35813;&#26816;&#27979;&#21629;&#20196;&#19981;&#20250;&#34987;&#25191;&#34892;(&#22240;&#20026;&#33258;&#20027;&#26816;&#27979;&#22312;&#31243;&#24207;&#23618;&#38754;&#34987;&#20851;&#38381;&#20102;&#25110;&#32773;&#26159;&#22312;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#37324;&#20851;&#38381;&#20102;&#33258;&#20027;&#26816;&#27979;)&#12290;&#24403;&#23545;&#32467;&#26524;&#30340;&#21047;&#26032;&#26816;&#27979;&#21151;&#33021;&#25171;&#24320;&#26102;&#65292;Nagios&#23558;&#20250;&#36816;&#34892;&#33258;&#20027;&#26816;&#27979;&#21629;&#20196;<span class="strong"><strong>&#26082;&#20415;&#26159;&#33258;&#20027;&#26816;&#27979;&#34987;&#31243;&#24207;&#23618;&#38754;&#34987;&#20851;&#38381;&#25110;&#26159;&#26381;&#21153;&#23545;&#35937;&#37324;&#34987;&#20851;&#38381;&#20063;&#20250;&#20570;(&#33258;&#20027;&#26816;&#27979;)</strong></span>&#12290;</p><p>&#22914;&#26524;&#26080;&#27861;&#22312;&#20013;&#24515;&#30417;&#25511;&#20027;&#26426;&#19978;&#23450;&#20041;&#20986;&#38024;&#23545;&#26381;&#21153;&#30340;&#33258;&#20027;&#26816;&#27979;&#21629;&#20196;(&#20063;&#25110;&#35768;&#26159;&#36229;&#20986;&#20102;&#36131;&#20219;&#33539;&#22260;)&#65292;&#21487;&#20197;&#22312;&#26381;&#21153;&#23450;&#20041;&#30340;<span class="strong"><strong>check_command</strong></span>&#36873;&#39033;&#37324;&#35774;&#19968;&#20010;&#21482;&#26159;&#36820;&#22238;&#32039;&#24613;&#29366;&#24577;&#30340;&#33050;&#26412;&#26469;&#31616;&#21333;&#22320;&#22635;&#34917;&#35813;&#21629;&#20196;&#12290;&#36825;&#26377;&#20010;&#20363;&#23376;...&#20551;&#23450;&#23450;&#20041;&#20102;&#19968;&#20010;&#21517;&#21483;'service-is-stale'&#30340;&#21629;&#20196;&#24182;&#22312;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#37324;&#21152;&#22312;&#20102;<span class="strong"><strong>check_command</strong></span>&#36873;&#39033;&#20540;&#37324;&#65292;&#36825;&#20010;&#23450;&#20041;&#21487;&#33021;&#30475;&#36215;&#26469;&#35937;&#36825;&#26679;&#23376;...</p><p><span class="bold"><strong><pre class="programlisting"><p>define command{
	command_name	service-is-stale
	command_line	/usr/local/nagios/libexec/staleservice.sh
	}</p></pre></strong></span></p><p>&#36825;&#20010;staleservice.sh&#33050;&#26412;&#22312;&#25918;&#22312;<span class="strong"><strong>/usr/local/nagios/libexec</strong></span>&#30446;&#24405;&#19979;&#65292;&#20869;&#23481;&#21487;&#33021;&#26159;&#36825;&#26679;&#30340;&#65306;</p><pre class="programlisting"><p>#!/bin/sh
/bin/echo "CRITICAL: Service results are stale!"
exit 2</p></pre><p>&#24403;Nagios&#21457;&#29616;&#24182;&#21028;&#23450;&#26381;&#21153;&#26816;&#27979;&#32467;&#26524;&#26159;&#38472;&#26087;&#30340;&#24182;&#36816;&#34892;service-is-stale&#21629;&#20196;&#26469;&#20570;&#33258;&#20027;&#26816;&#27979;&#26102;&#65292;<span class="strong"><strong>/usr/local/nagios/libexec/staleservice.sh</strong></span>&#33050;&#26412;&#23558;&#25191;&#34892;&#24182;&#36820;&#22238;&#19968;&#20010;&#32039;&#24613;&#29366;&#24577;&#65292;&#36890;&#24120;&#24773;&#20917;&#19979;&#23558;&#20250;&#24341;&#21457;&#36865;&#20986;&#19968;&#20010;&#25925;&#38556;&#36890;&#30693;&#21160;&#20316;&#65292;&#37027;&#20040;&#36825;&#26679;&#23601;&#21487;&#20197;&#30693;&#36947;&#26377;&#25925;&#38556;&#20135;&#29983;&#20102;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e21740"></a>9.2.10.&nbsp;&#25191;&#34892;&#20027;&#26426;&#26816;&#27979;</h3></div></div></div><p>&#27492;&#26102;&#24050;&#32463;&#30693;&#36947;&#20102;&#22914;&#20309;&#20174;&#20998;&#24067;&#26381;&#21153;&#22120;&#33719;&#21462;&#26381;&#21153;&#30340;&#24378;&#21046;&#26816;&#27979;&#32467;&#26524;&#65292;&#36825;&#24847;&#21619;&#30528;&#20013;&#24515;&#26381;&#21153;&#22120;&#19981;&#20250;&#29992;&#33258;&#20027;&#26381;&#21153;&#26816;&#27979;&#26426;&#21046;&#26469;&#21462;&#24471;&#32467;&#26524;&#65292;&#20294;&#24590;&#20040;&#26469;&#20570;&#20027;&#26426;&#26816;&#27979;&#21602;&#65311;&#20173;&#26087;&#38656;&#35201;&#20570;&#20027;&#26426;&#26816;&#27979;&#65292;&#20294;&#22914;&#20309;&#26469;&#20570;&#21602;&#65311;</p><p>&#21363;&#28982;&#20027;&#26426;&#26816;&#27979;&#19968;&#33324;&#21487;&#20197;&#25240;&#20013;&#22320;&#21482;&#20570;&#19968;&#23567;&#37096;&#20998;&#33258;&#20027;&#30417;&#25511;(&#38500;&#38750;&#26377;&#24517;&#35201;&#19968;&#33324;&#26159;&#19981;&#20570;&#30340;)&#65292;&#25105;&#25512;&#33616;&#35753;&#20013;&#24515;&#26381;&#21153;&#22120;&#26469;&#20570;&#28857;&#20027;&#26426;&#33258;&#20027;&#26816;&#27979;&#12290;&#20063;&#23601;&#26159;&#35828;&#65292;&#22312;&#20013;&#24515;&#26381;&#21153;&#22120;&#19978;&#23450;&#20041;&#20570;&#20027;&#26426;&#33258;&#20027;&#26816;&#27979;&#65292;&#36825;&#20010;&#19982;&#20998;&#24067;&#24335;&#26381;&#21153;&#22120;&#19978;&#30340;&#30456;&#21516;(&#19968;&#33324;&#24773;&#20917;&#19979;&#26159;&#23436;&#20840;&#19968;&#26679;&#30340;&#65292;&#23601;&#35937;&#27809;&#26377;&#20570;&#20998;&#24067;&#24335;&#30417;&#25511;&#19968;&#26679;)&#12290;</p><p>&#20063;&#21487;&#20197;&#20351;&#29992;&#24378;&#21046;&#20027;&#26426;&#26816;&#27979;(&#38405;&#35835;<a class="link" href="#passivechecks" title="6.14.&nbsp;&#24378;&#21046;&#26816;&#27979;">&#36825;&#31687;&#25991;&#26723;</a>)&#65292;&#22312;&#20998;&#24067;&#24335;&#30417;&#25511;&#29615;&#22659;&#19979;&#20063;&#21487;&#20197;&#21033;&#29992;&#36825;&#19968;&#21151;&#33021;&#29305;&#24615;&#65292;&#20294;&#36825;&#21487;&#33021;&#20250;&#23548;&#33268;&#19968;&#20123;&#20869;&#22312;&#38382;&#39064;&#12290;&#26368;&#22823;&#30340;&#38382;&#39064;&#26159;Nagios&#23558;&#26080;&#27861;&#27491;&#30830;&#22320;&#22788;&#29702;&#24378;&#21046;&#20027;&#26426;&#26816;&#27979;&#32467;&#26524;&#37324;&#30340;&#25925;&#38556;&#29366;&#24577;(&#23445;&#26426;&#19982;&#19981;&#21487;&#36798;)&#12290;&#36825;&#23601;&#26159;&#35828;&#22914;&#26524;&#30417;&#25511;&#26381;&#21153;&#22120;&#19978;&#30340;&#29238;&#23376;&#33410;&#28857;&#20851;&#31995;&#19981;&#21516;(&#36890;&#24120;&#24773;&#20917;&#19979;&#22240;&#20026;&#25152;&#22788;&#20301;&#32622;&#19981;&#21516;&#20250;&#26377;&#25152;&#19981;&#21516;)&#26102;&#65292;&#20013;&#24515;&#26381;&#21153;&#23558;&#20250;&#24471;&#21040;&#19968;&#24352;&#38169;&#35823;&#20027;&#26426;&#24403;&#21069;&#29366;&#24577;&#30340;&#35270;&#22270;&#12290;</p><p>&#22914;&#26524;&#30495;&#30340;&#38656;&#35201;&#20174;&#20998;&#24067;&#24335;&#26381;&#21153;&#22120;&#21457;&#36865;&#24378;&#21046;&#20027;&#26426;&#26816;&#27979;&#32467;&#26524;&#32473;&#20013;&#24515;&#26381;&#21153;&#22120;&#65292;&#30830;&#23450;&#35201;&#20570;&#22914;&#19979;&#37197;&#32622;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#20013;&#24515;&#26381;&#21153;&#22120;&#37324;&#25171;&#24320;<a class="link" href="#accept_passive_host_checks" title="&#34920;&nbsp;5.17.&nbsp;&#24378;&#21046;&#20027;&#26426;&#26816;&#27979;&#25509;&#21463;&#36873;&#39033;">&#24378;&#21046;&#20027;&#26426;&#26816;&#27979;</a>&#24320;&#20851;(&#24517;&#39035;&#30340;)&#65307;</li><li>&#20998;&#24067;&#26381;&#21153;&#22120;&#25171;&#24320;<a class="link" href="#obsess_over_hosts" title="&#34920;&nbsp;5.85.&nbsp;Obsess Over Hosts Option">&#24378;&#36843;&#22411;&#20027;&#26426;</a>&#22788;&#29702;&#24320;&#20851;&#65307;</li><li>&#20998;&#24067;&#26381;&#21153;&#22120;&#37324;&#23450;&#20041;&#22909;&#20102;<a class="link" href="#ochp_command" title="&#34920;&nbsp;5.86.&nbsp;Obsessive Compulsive Host Processor Command">&#24378;&#36843;&#22411;&#20027;&#26426;&#22788;&#29702;&#21629;&#20196;(ochp)</a>&#12290;</li></ol></div><p>&#36825;&#20010;&#24378;&#36843;&#22411;&#20027;&#26426;&#22788;&#29702;&#21629;&#20196;(ochp)&#34987;&#29992;&#20110;&#22788;&#29702;&#20027;&#26426;&#26816;&#27979;&#32467;&#26524;&#65292;&#19982;&#24378;&#36843;&#22411;&#26381;&#21153;&#22788;&#29702;&#21629;&#20196;(ocsp)&#30340;&#25191;&#34892;&#26041;&#24335;&#19968;&#26679;&#65292;&#36825;&#20010;&#26041;&#24335;&#22312;&#21069;&#38754;&#24050;&#32463;&#35828;&#26126;&#36807;&#20102;&#12290;&#20026;&#20102;&#20445;&#23384;&#24378;&#21046;&#20027;&#26426;&#26816;&#27979;&#32467;&#26524;&#21363;&#26102;&#26356;&#26032;&#65292;&#36824;&#35201;&#25171;&#24320;&#20027;&#26426;&#30340;<a class="link" href="#freshness" title="8.6.&nbsp;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#21047;&#26032;&#26816;&#27979;">&#21047;&#26032;&#26816;&#27979;</a>&#30340;&#21151;&#33021;&#24320;&#20851;(&#36825;&#20010;&#19982;&#21069;&#38754;&#25152;&#35762;&#30340;&#26381;&#21153;&#21047;&#26032;&#26816;&#27979;&#30456;&#20284;)&#12290;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="redundancy"></a>9.3.&nbsp;&#20887;&#20313;&#24335;&#19982;&#22833;&#25928;&#24335;&#32593;&#32476;&#30417;&#25511;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e21778"></a>9.3.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>&#26412;&#25991;&#26723;&#20171;&#32461;&#20960;&#20010;&#22312;&#20960;&#31181;&#31867;&#22411;&#30340;&#32593;&#32476;&#23618;&#19978;&#23454;&#29616;&#20887;&#20313;&#20027;&#26426;&#30417;&#25511;&#30340;&#22330;&#26223;&#12290;&#21033;&#29992;&#20887;&#20313;&#20027;&#26426;&#65292;&#21487;&#22312;&#36816;&#34892;Nagios&#30340;&#26680;&#24515;&#20027;&#26426;&#23445;&#26426;&#25110;&#26159;&#19968;&#37096;&#20998;&#32593;&#32476;&#21464;&#20026;&#19981;&#21487;&#36798;&#31561;&#31561;&#24773;&#20917;&#21457;&#29983;&#26102;&#32500;&#25345;&#23545;&#32593;&#32476;&#30340;&#30417;&#25511;&#12290;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><span class="bold"><strong>&#22914;&#26524;&#21482;&#26159;&#23398;&#20064;&#22914;&#20309;&#20351;&#29992;Nagios&#65292;&#24314;&#35758;&#20320;&#20808;&#19981;&#35201;&#21435;&#23581;&#35797;&#20887;&#20313;&#26041;&#24335;&#36816;&#34892;&#65292;&#30452;&#21040;&#20320;&#30495;&#27491;&#29087;&#24713;&#25152;&#21015;&#20986;&#30340;&#20887;&#20313;&#26041;&#24335;&#36816;&#34892;&#25152;&#24212;&#26377;&#30340;<a class="link" href="#redundancy_prerequisites">&#20808;&#20915;&#26465;&#20214;</a></strong></span>&#12290;&#20887;&#20313;&#24335;&#36816;&#34892;&#26377;&#20123;&#38590;&#20197;&#29702;&#35299;&#32780;&#19988;&#27604;&#36739;&#38590;&#20197;&#27491;&#30830;&#22320;&#37197;&#32622;&#23454;&#29616;&#12290;</div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e21790"></a>9.3.2.&nbsp;&#32034;&#24341;</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><a class="link" href="#redundancy_prerequisites">&#20808;&#20915;&#26465;&#20214;</a></li><li><a class="link" href="#redundancy_samples">&#26679;&#20363;&#33050;&#26412;</a></li><li><a class="link" href="#redundancy_scenario_1">&#22330;&#26223;1&#65293;&#20887;&#20313;&#30417;&#25511;</a></li><li><a class="link" href="#redundancy_scenario_2">&#22330;&#26223;2&#65293;&#22833;&#25928;&#30417;&#25511;</a></li></ul></div></div><a name="redundancy_prerequisites"></a><pre class="programlisting">&#20808;&#20915;&#26465;&#20214;</pre><p>&#22312;&#29992;Nagios&#23454;&#29616;&#20887;&#20313;&#30417;&#25511;&#20043;&#21069;&#65292;&#38656;&#35201;&#29087;&#24713;&#20197;&#19979;&#20869;&#23481;...</p><div class="orderedlist"><ol type="1"><li>&#20027;&#26426;&#19982;&#26381;&#21153;<a class="link" href="#eventhandlers" title="6.8.&nbsp;&#20107;&#20214;&#22788;&#29702;">&#20107;&#20214;&#22788;&#29702;</a>&#30340;&#23454;&#29616;&#65307;</li><li>&#29992;&#33050;&#26412;&#26469;&#35299;&#20915;Nagios&#30340;<a class="link" href="#extcommands" title="6.9.&nbsp;&#22806;&#37096;&#21629;&#20196;">&#22806;&#37096;&#21629;&#20196;</a>&#38382;&#39064;&#65307;</li><li>&#22312;&#36828;&#31243;&#20027;&#26426;&#19978;&#25191;&#34892;&#25554;&#20214;&#65292;&#35201;&#20040;&#29992;<a class="link" href="#addons_NRPE" title="11.4.2.&nbsp;NRPE">NRPE&#22806;&#37096;&#26500;&#20214;</a>&#35201;&#20040;&#26159;&#20854;&#20182;&#30340;&#26041;&#24335;&#65307;</li><li>&#29992;<span class="strong"><strong>check_nagios</strong></span>&#25554;&#20214;&#26469;&#26816;&#27979;Nagios&#36827;&#31243;&#30340;&#29366;&#24577;&#12290;</li></ol></div><a name="redundancy_samples"></a><pre class="programlisting">&#26679;&#20363;&#33050;&#26412;</pre><p>&#26412;&#25991;&#26723;&#37324;&#25152;&#29992;&#33050;&#26412;&#21487;&#20197;&#22312;Nagios&#21457;&#34892;&#21253;&#30340;<span class="strong"><strong>eventhandlers/</strong></span>&#23376;&#30446;&#24405;&#37324;&#25214;&#21040;&#12290;&#21487;&#20197;&#20462;&#25913;&#36825;&#20123;&#33050;&#26412;&#20197;&#36866;&#21512;&#20320;&#30340;&#30417;&#25511;&#31995;&#32479;...</p><a name="redundancy_scenario_1"></a><pre class="programlisting">&#22330;&#26223;1&#65293;&#20887;&#20313;&#30417;&#25511;</pre><p><span class="bold"><strong>&#20171;&#32461;</strong></span></p><p>&#22312;&#32593;&#32476;&#20013;&#36825;&#26159;&#19968;&#20010;&#24456;&#23481;&#26131;&#23454;&#29616;&#30340;&#20887;&#20313;&#30417;&#25511;&#20027;&#26426;&#30340;&#26041;&#27861;&#65292;&#20063;&#24456;&#21021;&#32423;&#65292;&#23427;&#21482;&#26159;&#23545;&#26377;&#38480;&#25968;&#37327;&#30340;&#25925;&#38556;&#36215;&#21040;&#38450;&#27490;&#20316;&#29992;&#12290;&#20026;&#26356;&#24039;&#22937;&#22320;&#23454;&#29616;&#20887;&#20313;&#30417;&#25511;&#38656;&#35201;&#26356;&#22797;&#26434;&#20123;&#30340;&#23433;&#35013;&#37197;&#32622;&#65292;&#26356;&#26377;&#25928;&#30340;&#20887;&#20313;&#30417;&#25511;&#26159;&#21033;&#29992;&#19981;&#21516;&#30340;&#32593;&#27573;&#31561;&#26041;&#24335;&#26469;&#23454;&#29616;&#20887;&#20313;&#12290;</p><p><span class="bold"><strong>&#30446;&#26631;</strong></span></p><p>&#36825;&#31181;&#20887;&#20313;&#24418;&#24335;&#21482;&#26159;&#31616;&#21333;&#23454;&#29616;&#20887;&#20313;&#12290;&#25226;&#30417;&#25511;"&#20027;"&#26426;&#21644;"&#20174;"&#26426;&#38024;&#23545;&#32593;&#32476;&#37324;&#30456;&#21516;&#30340;&#20027;&#26426;&#19982;&#26381;&#21153;&#36827;&#34892;&#30417;&#25511;&#12290;&#19968;&#33324;&#24773;&#20917;&#19979;&#21482;&#26159;&#30001;"&#20027;"&#26426;&#25226;&#26377;&#20851;&#25925;&#38556;&#20449;&#24687;&#20197;&#36890;&#30693;&#24418;&#24335;&#36865;&#32473;&#32852;&#31995;&#20154;&#12290;&#24076;&#26395;&#30001;"&#20174;"&#26426;&#36816;&#34892;Nagios&#24182;&#22312;&#22914;&#19979;&#24773;&#20917;&#21457;&#29983;&#26102;&#23436;&#25104;&#25226;&#25925;&#38556;&#36890;&#30693;&#32473;&#32852;&#31995;&#20154;&#30340;&#24037;&#20316;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#36816;&#34892;Nagios&#30340;&#30417;&#25511;"&#20027;"&#26426;&#23445;&#26426;</li><li>&#22240;&#26576;&#31181;&#21407;&#22240;"&#20027;"&#26426;&#19978;&#30340;Nagios&#36827;&#31243;&#20572;&#27490;&#36816;&#34892;</li></ol></div><p><span class="bold"><strong>&#32593;&#32476;&#23618;&#31034;&#24847;&#22270;</strong></span></p><p>&#19979;&#22270;&#32473;&#20986;&#38750;&#24120;&#31616;&#21333;&#22320;&#32593;&#32476;&#23433;&#35013;&#23454;&#29616;&#30340;&#26041;&#24335;&#12290;&#22312;&#35813;&#22330;&#26223;&#65292;&#20551;&#23450;&#20027;&#26426;A&#21644;&#20027;&#26426;E&#37117;&#36816;&#34892;Nagios&#24182;&#19988;&#37117;&#30417;&#25511;&#20840;&#37096;&#20027;&#26426;&#12290;&#26426;&#22120;A&#35748;&#23450;&#26159;&#30417;&#25511;"&#20027;"&#26426;&#32780;&#26426;&#22120;E&#26159;"&#20174;"&#26426;&#12290;</p><div><img src="../pub/images/redundancy.png"></div><p><span class="bold"><strong>&#21021;&#22987;&#21270;&#31243;&#24207;&#35774;&#32622;</strong></span></p><p>"&#20174;"&#26426;(&#26426;&#22120;E)&#21021;&#22987;&#21270;&#23427;&#30340;<a class="link" href="#enable_notifications" title="&#34920;&nbsp;5.13.&nbsp;&#36890;&#30693;&#36873;&#39033;">enable_notifications</a>&#22495;&#26159;&#38750;&#20351;&#33021;&#30340;&#65292;&#36825;&#26679;&#38459;&#27490;&#20102;&#23427;&#22240;&#20219;&#20309;&#20027;&#26426;&#19982;&#26381;&#21153;&#38382;&#39064;&#32780;&#36865;&#20986;&#36890;&#30693;&#12290;&#36824;&#35201;&#20445;&#35777;"&#20174;"&#26426;&#25226;<a class="link" href="#check_external_commands" title="&#34920;&nbsp;5.21.&nbsp;&#22806;&#37096;&#21629;&#20196;&#26816;&#26597;&#36873;&#39033;">check_external_commands</a>&#22495;&#20351;&#33021;&#65292;&#36825;&#23601;&#24456;&#23481;&#26131;&#22320;&#23454;&#29616;&#20102;...</p><p><span class="bold"><strong>&#21021;&#22987;&#21270;&#37197;&#32622;</strong></span></p><p>&#19979;&#38754;&#38656;&#35201;&#32771;&#34385;&#22312;"&#20027;"&#26426;&#21644;"&#20174;"&#26426;&#19978;&#30340;<a class="link" href="#configobject" title="5.3.&nbsp;&#23545;&#35937;&#37197;&#32622;&#27010;&#35272;">&#23545;&#35937;&#37197;&#32622;&#25991;&#20214;</a>&#24046;&#24322;...</p><p>&#20551;&#23450;&#24050;&#32463;&#22312;"&#20027;"&#26426;(&#26426;&#22120;A)&#19978;&#35774;&#32622;&#22909;&#38024;&#23545;&#22270;&#20013;&#20840;&#37096;&#30340;&#20027;&#26426;&#21644;&#26381;&#21153;&#36827;&#34892;&#30417;&#25511;&#12290;"&#20174;"&#26426;(&#26426;&#22120;E)&#20063;&#38656;&#35201;&#20570;&#30456;&#21516;&#30340;&#35774;&#32622;&#65292;&#36824;&#38656;&#35201;&#20570;&#20123;&#39069;&#22806;&#30340;&#37197;&#32622;&#20462;&#25913;...</p><div class="orderedlist"><ol type="1"><li>&#38024;&#23545;&#26426;&#22120;A&#30340;&#23545;&#35937;&#23450;&#20041;(&#22312;&#26426;&#22120;E&#30340;&#37197;&#32622;&#25991;&#20214;&#37324;)&#38656;&#35201;&#32473;&#23450;&#19968;&#20010;&#20027;&#26426;&#30340;<a class="link" href="#eventhandlers" title="6.8.&nbsp;&#20107;&#20214;&#22788;&#29702;">&#20107;&#20214;&#22788;&#29702;</a>&#23450;&#20041;&#65292;&#25226;&#35813;&#20107;&#20214;&#22788;&#29702;&#31216;&#20026;handle-master-host-event&#65307;</li><li>&#26426;&#22120;E&#30340;&#37197;&#32622;&#25991;&#20214;&#38656;&#35201;&#23450;&#20041;&#19968;&#20010;&#26381;&#21153;&#26469;&#30417;&#25511;&#26426;&#22120;A&#19978;Nagios&#26381;&#21153;&#36827;&#31243;&#30340;&#29366;&#24577;&#12290;&#20551;&#23450;&#26159;&#30001;&#26426;&#22120;A&#19978;&#30340;<span class="strong"><strong>check_nagios</strong></span>&#25554;&#20214;&#26469;&#23436;&#25104;&#36825;&#20010;&#26381;&#21153;&#26816;&#27979;&#24037;&#20316;&#12290;&#21487;&#20197;&#26597;&#38405;&#36825;&#20010;FAQ&#37324;&#30340;&#25551;&#36848;&#26041;&#27861;&#26469;&#23454;&#29616;&#23427;(&#38656;&#35201;&#26356;&#26032;&#65281;)&#65307;</li><li>&#22312;&#26426;&#22120;A&#19978;&#30340;&#37197;&#32622;&#37324;&#38024;&#23545;Nagios&#36827;&#31243;&#30340;&#26381;&#21153;&#23450;&#20041;&#26102;&#38656;&#35201;&#26377;&#19968;&#20010;<a class="link" href="#eventhandlers" title="6.8.&nbsp;&#20107;&#20214;&#22788;&#29702;">&#20107;&#20214;&#22788;&#29702;</a>&#23450;&#20041;&#65292;&#25226;&#35813;&#20107;&#20214;&#22788;&#29702;&#31216;&#20026;handle-master-proc-event&#65307;</li></ol></div><p>&#27880;&#24847;&#19968;&#28857;&#65292;&#26426;&#22120;A("&#20027;"&#26426;)&#23545;&#26426;&#22120;E("&#20174;"&#26426;)&#19968;&#26080;&#25152;&#30693;&#65292;&#22312;&#35813;&#22330;&#26223;&#37324;&#21482;&#26159;&#27809;&#36825;&#20010;&#24517;&#35201;&#12290;&#24403;&#28982;&#20063;&#21487;&#20197;&#35753;&#26426;&#22120;A&#26469;&#30417;&#25511;&#26426;&#22120;E&#65292;&#20294;&#36825;&#36825;&#19982;&#20887;&#20313;&#30417;&#25511;&#19968;&#28857;&#20851;&#31995;&#37117;&#27809;&#26377;...</p><p><span class="bold"><strong>&#20107;&#20214;&#22788;&#29702;&#21629;&#20196;&#30340;&#23450;&#20041;</strong></span></p><p>&#38656;&#35201;&#20572;&#39039;&#19968;&#19979;&#26469;&#35828;&#26126;&#22312;"&#20174;"&#26426;&#19978;&#30340;&#20107;&#20214;&#22788;&#29702;&#21629;&#20196;&#24212;&#35813;&#26159;&#20160;&#20040;&#26679;&#23376;&#30340;&#65292;&#36825;&#26377;&#20010;&#20363;&#23376;...</p><p><span class="bold"><strong>
<pre class="programlisting"><p>define command{
	command_name	handle-master-host-event
	command_line	/usr/local/nagios/libexec/eventhandlers/handle-master-host-event $HOSTSTATE$ $HOSTSTATETYPE$
	}
define command{
	command_name	handle-master-proc-event
	command_line	/usr/local/nagios/libexec/eventhandlers/handle-master-proc-event $SERVICESTATE$ $SERVICESTATETYPE$
	}</p></pre>
</strong></span></p><p>&#20551;&#23450;&#24050;&#32463;&#25226;&#20107;&#20214;&#22788;&#29702;&#33050;&#26412;&#25918;&#22312;&#20102;<span class="strong"><strong>/usr/local/nagios/libexec/eventhandlers</strong></span>&#30446;&#24405;&#37324;&#65292;&#20063;&#21487;&#20197;&#25226;&#33050;&#26412;&#25918;&#22312;&#20854;&#20182;&#20320;&#24819;&#25918;&#30340;&#20301;&#32622;&#19978;&#65292;&#20294;&#38656;&#35201;&#23545;&#36825;&#20123;&#20363;&#23376;&#20570;&#20123;&#20462;&#25913;&#25165;&#33021;&#29992;&#12290;</p><p><span class="bold"><strong>&#20107;&#20214;&#22788;&#29702;&#30340;&#33050;&#26412;</strong></span></p><p>OK&#65292;&#30475;&#19968;&#19979;&#20107;&#20214;&#22788;&#29702;&#33050;&#26412;&#30340;&#20869;&#23481;... </p><p>&#20027;&#26426;&#20107;&#20214;&#22788;&#29702;&#33050;&#26412;(handle-master-host-event)&#65306;</p><pre class="programlisting">
<p>#!/bin/sh
# Only take action on hard host states...
case "$2" in
HARD)
	case "$1" in
	DOWN)
		# The master host has gone down!
		# We should now become the master host and take
		# over the responsibilities of monitoring the 
		# network, so enable notifications...
		/usr/local/nagios/libexec/eventhandlers/enable_notifications
		;;
	UP)
		# The master host has recovered!
		# We should go back to being the slave host and
		# let the master host do the monitoring, so 
		# disable notifications...
		/usr/local/nagios/libexec/eventhandlers/disable_notifications
		;;
	esac
	;;
esac
exit 0</p></pre><p>&#26381;&#21153;&#20107;&#20214;&#22788;&#29702;&#33050;&#26412;(handle-master-proc-event)&#65306;</p><pre class="programlisting">
<p>#!/bin/sh
# Only take action on hard service states...
case "$2" in
HARD)
	case "$1" in
	CRITICAL)
		# The master Nagios process is not running!
		# We should now become the master host and
		# take over the responsibility of monitoring
		# the network, so enable notifications...
		/usr/local/nagios/libexec/eventhandlers/enable_notifications
		;;
	WARNING)
	UNKNOWN)
		# The master Nagios process may or may not
		# be running.. We won't do anything here, but
		# to be on the safe side you may decide you 
		# want the slave host to become the master in
		# these situations...
		;;
	OK)
		# The master Nagios process running again!
		# We should go back to being the slave host, 
		# so disable notifications...
		/usr/local/nagios/libexec/eventhandlers/disable_notifications
		;;
	esac
	;;
esac
exit 0</p></pre><p><span class="bold"><strong>&#36825;&#26679;&#20250;&#26377;&#20160;&#20040;&#25928;&#26524;&#65311;</strong></span></p><p>"&#20174;"&#26426;(&#26426;&#22120;E)&#21021;&#22987;&#19981;&#21457;&#36890;&#30693;&#65292;&#22240;&#32780;&#22312;"&#20027;"&#26426;(&#26426;&#22120;A)&#19978;&#30340;Nagios&#36827;&#31243;&#36816;&#34892;&#26102;&#19981;&#20250;&#36865;&#20986;&#20219;&#20309;&#26377;&#20851;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#36890;&#30693;&#12290;</p><p>&#22312;"&#20174;"&#26426;&#19978;&#30340;Nagios&#36827;&#31243;&#23558;&#22312;&#19979;&#21015;&#24773;&#20917;&#26102;&#20250;&#21464;&#20026;"&#20027;"&#30417;&#25511;&#29366;&#24577;...</p><div class="orderedlist"><ol type="1"><li>"&#20027;"&#26426;(&#26426;&#22120;A)&#23445;&#26426;&#24182;&#19988;<span class="strong"><strong>handle-master-host-event</strong></span>&#20027;&#26426;&#20107;&#20214;&#22788;&#29702;&#21629;&#20196;&#33050;&#26412;&#34987;&#25191;&#34892;&#65307;</li><li>"&#20027;"&#26426;(&#26426;&#22120;A)&#19978;&#30340;Nagios&#36827;&#31243;&#20572;&#27490;&#36816;&#34892;&#24182;&#19988;<span class="strong"><strong>handle-master-proc-event</strong></span>&#26381;&#21153;&#20107;&#20214;&#22788;&#29702;&#21629;&#20196;&#33050;&#26412;&#34987;&#25191;&#34892;&#65307;</li></ol></div><p>&#24403;"&#20174;"&#26426;(&#26426;&#22120;E)&#19978;&#30340;Nagios&#36827;&#31243;&#25171;&#24320;&#20102;&#36890;&#30693;&#24320;&#20851;&#26102;&#65292;&#23427;&#23558;&#36865;&#20986;&#20219;&#20309;&#19968;&#20010;&#26377;&#20851;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#25925;&#38556;&#19982;&#24674;&#22797;&#30340;&#36890;&#30693;&#65292;&#22312;&#36825;&#19968;&#28857;&#19978;&#65292;&#26426;&#22120;E&#25198;&#28436;&#30528;&#25226;&#20027;&#26426;&#19982;&#26381;&#21153;&#25925;&#38556;&#36890;&#30693;&#32473;&#32852;&#31995;&#20154;&#30340;&#21518;&#22791;&#20887;&#20313;&#30340;&#35282;&#33394;&#65281;</p><p>&#26426;&#22120;E&#19978;&#30340;Nagios&#36827;&#31243;&#20250;&#37325;&#26032;&#22238;&#21040;"&#20174;"&#26426;&#29366;&#24577;&#65292;&#24403;&#22914;&#19979;&#24773;&#20917;&#21457;&#29983;&#26102;...</p><div class="orderedlist"><ol type="1"><li>&#26426;&#22120;A&#24674;&#22797;&#24182;&#19988;<span class="strong"><strong>handle-master-host-event</strong></span>&#20027;&#26426;&#20107;&#20214;&#22788;&#29702;&#33050;&#26412;&#21629;&#20196;&#34987;&#25191;&#34892;&#65307;</li><li>&#26426;&#22120;A&#19978;&#30340;Nagios&#36827;&#31243;&#26381;&#21153;&#24674;&#22797;&#24182;&#19988;<span class="strong"><strong>handle-master-proc-event</strong></span>&#26381;&#21153;&#20107;&#20214;&#22788;&#29702;&#33050;&#26412;&#21629;&#20196;&#34987;&#25191;&#34892;&#65307;</li></ol></div><p>&#24403;&#26426;&#22120;E&#19978;&#30340;Nagios&#36827;&#31243;&#30340;&#36890;&#30693;&#21151;&#33021;&#20851;&#38381;&#26102;&#65292;&#23427;&#23558;&#19981;&#20250;&#36865;&#20986;&#20219;&#20309;&#26377;&#20851;&#20027;&#26426;&#19982;&#26381;&#21153;&#25925;&#38556;&#19982;&#24674;&#22797;&#30340;&#36890;&#30693;&#12290;&#22312;&#36825;&#19968;&#28857;&#19978;&#65292;&#26426;&#22120;E&#25198;&#28436;&#30528;&#26426;&#22120;A&#30340;&#25226;&#20027;&#26426;&#19982;&#26381;&#21153;&#25925;&#38556;&#36890;&#30693;&#21040;&#32852;&#31995;&#20154;&#30340;&#21518;&#22791;&#20887;&#20313;&#30340;&#35282;&#33394;&#12290;&#24403;&#31995;&#32479;&#36215;&#21160;&#21518;&#65292;&#25152;&#26377;&#36825;&#20123;&#24050;&#32463;&#21508;&#23601;&#21508;&#20301;&#20102;&#65281;</p><p><span class="bold"><strong>&#20999;&#25442;&#26102;&#38388;&#24046;</strong></span></p><p>Nagios&#30340;&#20887;&#20313;&#26041;&#24335;&#24182;&#19981;&#23436;&#21892;&#65292;&#19968;&#20010;&#26174;&#32780;&#26131;&#35265;&#30340;&#38382;&#39064;&#26159;&#22312;"&#20027;"&#26426;&#23445;&#26426;&#21644;"&#20174;"&#26426;&#25509;&#31649;&#20043;&#38388;&#23384;&#22312;&#20999;&#25442;&#26102;&#38388;&#24046;&#12290;&#23427;&#21463;&#22914;&#19979;&#22240;&#32032;&#24433;&#21709;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#20174;"&#20027;"&#26426;&#23445;&#26426;&#21040;"&#20174;"&#26426;&#39318;&#27425;&#21457;&#29616;&#19968;&#20010;&#25925;&#38556;&#20043;&#38388;&#30340;&#26102;&#38388;&#65307;</li><li>"&#20027;"&#26426;&#30495;&#27491;&#22320;&#39564;&#35777;&#20102;&#19968;&#20010;&#25925;&#38556;&#23384;&#22312;(&#22312;&#20174;&#26426;&#19978;&#36890;&#36807;&#22810;&#27425;&#26381;&#21153;&#19982;&#20027;&#26426;&#26816;&#27979;&#30340;&#37325;&#35797;&#39564;&#35777;)&#25152;&#38656;&#26102;&#38388;&#65307;</li><li>&#20107;&#20214;&#22788;&#29702;&#25152;&#38656;&#35201;&#30340;&#25191;&#34892;&#26102;&#38388;&#21644;&#19979;&#19968;&#27425;Nagios&#26816;&#26597;&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;&#30340;&#26102;&#38388;&#65307;</li></ol></div><p>&#21487;&#20197;&#20943;&#23567;&#20999;&#25442;&#26102;&#38388;&#24046;&#65292;&#36890;&#36807;&#20462;&#25913;&#36825;&#20123;&#20869;&#23481;...</p><div class="orderedlist"><ol type="1"><li>&#30830;&#20445;&#22312;&#26426;&#22120;E&#19978;&#20197;&#36739;&#39640;&#39057;&#24230;&#25191;&#34892;&#23545;Nagios&#26381;&#21153;&#30340;&#19968;&#20010;&#25110;&#22810;&#20010;&#26816;&#27979;&#12290;&#21487;&#20197;&#20462;&#25913;&#26381;&#21153;&#23450;&#20041;&#37324;&#30340;<span class="strong"><strong>check_interval</strong></span>&#21644;<span class="strong"><strong>retry_interval</strong></span>&#36873;&#39033;&#26469;&#23454;&#29616;&#65307;</li><li>&#30830;&#20445;&#22312;&#26426;&#22120;E&#19978;&#24555;&#36895;&#22320;&#23436;&#25104;&#38024;&#23545;&#26426;&#22120;A&#30340;&#37325;&#35797;&#26816;&#27979;&#12290;&#21487;&#20197;&#20462;&#25913;&#20027;&#26426;&#23450;&#20041;&#37324;&#30340;<span class="strong"><strong>max_check_attempts</strong></span>&#36873;&#39033;&#26469;&#23454;&#29616;&#65307;</li><li>&#22312;&#26426;&#22120;E&#19978;&#22686;&#21152;<a class="link" href="#extcommands" title="6.9.&nbsp;&#22806;&#37096;&#21629;&#20196;">&#22806;&#37096;&#21629;&#20196;</a>&#26816;&#27979;&#30340;&#22788;&#29702;&#39057;&#24230;&#12290;&#21487;&#20197;&#20462;&#25913;&#22312;&#20027;&#37197;&#32622;&#25991;&#20214;&#37324;&#30340;<a class="link" href="#command_check_interval" title="&#34920;&nbsp;5.22.&nbsp;&#22806;&#37096;&#21629;&#20196;&#26816;&#27979;&#38388;&#38548;">command_check_interval</a>&#36873;&#39033;&#26469;&#23454;&#29616;&#65307;</li></ol></div><p>&#24403;&#26426;&#22120;A&#19978;&#30340;Nagios&#26381;&#21153;&#24674;&#22797;&#26102;&#65292;&#21516;&#26679;&#20250;&#26377;&#19968;&#20010;&#20999;&#25442;&#26102;&#38388;&#24046;&#65292;&#23436;&#25104;&#26426;&#22120;E&#22238;&#21040;"&#20174;"&#26426;&#30340;&#36816;&#34892;&#29366;&#24577;&#65292;&#23427;&#21463;&#22914;&#19979;&#22240;&#32032;&#24433;&#21709;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#20174;&#26426;&#22120;A&#24674;&#22797;&#21040;&#26426;&#22120;E&#19978;&#30340;Nagios&#26381;&#21153;&#26816;&#27979;&#21040;&#26381;&#21153;&#24050;&#32463;&#24674;&#22797;&#25152;&#38656;&#26102;&#38388;&#65307;</li><li>&#22312;&#26426;&#22120;A&#19978;&#25191;&#34892;&#20107;&#20214;&#22788;&#29702;&#21518;&#30340;&#37027;&#19968;&#26102;&#21051;&#36215;&#21040;&#26426;&#22120;E&#19978;&#30340;Nagios&#26381;&#21153;&#26368;&#36817;&#19968;&#27425;&#22788;&#29702;&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;&#20043;&#38388;&#30340;&#26102;&#38388;&#65307;</li></ol></div><p>&#30417;&#25511;&#30340;&#20887;&#20313;&#30417;&#25511;&#36816;&#34892;&#29366;&#24577;&#30340;&#30495;&#27491;&#20999;&#25442;&#26102;&#38388;&#24046;&#21462;&#20915;&#20110;&#23450;&#20041;&#26377;&#22810;&#23569;&#26381;&#21153;&#12289;&#26381;&#21153;&#20197;&#20160;&#20040;&#38388;&#38548;&#34987;&#26816;&#27979;&#21644;&#19968;&#31995;&#21015;&#20598;&#28982;&#22240;&#32032;&#12290;&#26080;&#35770;&#22914;&#20309;&#65292;&#36825;&#24635;&#27604;&#27809;&#26377;&#35201;&#22909;&#12290;</p><p><span class="bold"><strong>&#29305;&#20363;</strong></span></p><p>&#26377;&#20214;&#20107;&#38656;&#35201;&#27880;&#24847;...&#22914;&#26524;&#26426;&#22120;A&#23445;&#26426;&#20102;&#65292;&#26426;&#22120;E&#23558;&#20351;&#33021;&#36890;&#30693;&#21151;&#33021;&#24182;&#19988;&#25509;&#31649;&#20102;&#25925;&#38556;&#36890;&#30693;&#12290;&#24403;&#26426;&#22120;A&#24674;&#22797;&#20102;&#65292;&#26426;&#22120;E&#23558;&#20851;&#38381;&#36890;&#30693;&#21151;&#33021;&#12290;&#22914;&#26524;&#24403;&#26426;&#22120;A&#24674;&#22797;&#20102;&#20294;&#26159;&#26426;&#22120;A&#19978;&#30340;Nagios&#26381;&#21153;&#24182;&#27809;&#26377;&#27491;&#30830;&#22320;&#21551;&#21160;&#36215;&#26469;&#35805;&#65292;&#23558;&#20250;&#26377;&#27573;&#26102;&#38388;&#65292;&#22312;&#36825;&#27573;&#26102;&#38388;&#20869;&#19981;&#20250;&#26377;&#20219;&#20309;&#20027;&#26426;&#25925;&#38556;&#30340;&#36890;&#30693;&#34987;&#36865;&#32473;&#32852;&#31995;&#20154;&#65281;&#24184;&#36816;&#30340;&#26159;&#65292;Nagios&#30340;&#26381;&#21153;&#26816;&#27979;&#36923;&#36753;&#20250;&#22788;&#29702;&#36825;&#31181;&#24773;&#20917;&#65292;&#22312;&#26426;&#22120;E&#19978;&#30340;Nagios&#22312;&#26368;&#36817;&#19968;&#27425;&#30340;&#22788;&#29702;&#26426;&#22120;A&#30340;&#29366;&#24577;&#26102;&#65292;&#23427;&#23558;&#21457;&#29616;&#26426;&#22120;A&#30340;Nagios&#26381;&#21153;&#27809;&#26377;&#36816;&#34892;&#12290;&#26426;&#22120;E&#23558;&#20250;&#20877;&#27425;&#25171;&#24320;&#36890;&#30693;&#21151;&#33021;&#24182;&#25509;&#31649;&#23545;&#32852;&#31995;&#20154;&#30340;&#25925;&#38556;&#36890;&#30693;&#30340;&#24037;&#20316;&#12290;</p><p>&#32479;&#35745;&#21738;&#19968;&#20010;&#20027;&#26426;&#23436;&#25104;&#38024;&#23545;&#32593;&#32476;&#30417;&#25511;&#30340;&#30495;&#27491;&#26102;&#38388;&#26159;&#24456;&#22256;&#38590;&#30340;&#65292;&#24456;&#26126;&#26174;&#65292;&#21487;&#20197;&#36890;&#36807;&#22686;&#39640;&#38024;&#23545;&#26426;&#22120;A&#19978;&#30340;Nagios&#26381;&#21153;&#30340;&#26816;&#27979;&#39057;&#24230;(&#22312;&#26426;&#22120;E&#19978;&#37197;&#32622;)&#26469;&#26368;&#23567;&#21270;&#36825;&#19968;&#26102;&#38388;&#38388;&#38548;&#65292;&#21478;&#22806;&#23601;&#23436;&#20840;&#26159;&#20598;&#28982;&#22240;&#32032;&#30340;&#65292;&#20294;&#25972;&#20307;&#19978;&#30340;"&#38459;&#22622;"&#26102;&#38388;&#24182;&#19981;&#22826;&#22810;&#12290;</p><a name="redundancy_scenario_2"></a><pre class="programlisting">&#22330;&#26223;2&#65293;&#22833;&#25928;&#24615;&#30417;&#25511;</pre><p><span class="bold"><strong>&#20171;&#32461;</strong></span></p><p>&#22833;&#25928;&#24615;&#30417;&#25511;&#19982;&#20887;&#20313;&#30417;&#25511;&#30456;&#20284;&#65292;&#20294;&#26377;&#24456;&#23569;&#19968;&#28857;&#19981;&#21516;(&#20887;&#20313;&#30417;&#25511;&#22312;<a class="link" href="#redundancy_scenario_1">&#22330;&#26223;1</a>&#35752;&#35770;)&#12290;</p><p><span class="bold"><strong>&#30446;&#26631;</strong></span></p><p>&#22833;&#25928;&#30417;&#25511;&#30340;&#26368;&#22522;&#26412;&#30446;&#26631;&#26159;"&#20174;"&#26426;&#19978;&#30340;Nagios&#26426;&#22120;&#20250;&#22312;"&#20027;"&#26426;&#19978;&#30340;Nagios&#36816;&#34892;&#26102;&#19968;&#30452;&#20445;&#25345;&#31354;&#36716;&#12290;&#22914;&#26524;"&#20027;"&#26426;&#19978;&#30340;Nagios&#36827;&#31243;&#26381;&#21153;&#20572;&#27490;(&#25110;&#32773;&#26426;&#22120;&#23445;&#26426;)&#26102;&#65292;"&#20174;"&#26426;&#19978;&#30340;Nagios&#23558;&#20250;&#24320;&#22987;&#23545;&#20840;&#37096;&#32593;&#32476;&#30417;&#25511;&#30340;&#24037;&#20316;&#12290;</p><p>&#34429;&#28982;&#22312; While the method described in <a class="link" href="#redundancy_scenario_1">&#22330;&#26223;1</a>&#37324;&#25152;&#25551;&#36848;&#30340;&#26041;&#27861;&#23558;&#20250;&#22312;"&#20027;"&#26426;&#23445;&#26426;&#26102;&#19981;&#26029;&#22320;&#25910;&#21040;&#36890;&#30693;&#65292;&#20294;&#20250;&#26377;&#20123;&#27611;&#30149;&#12290;&#26368;&#22823;&#30340;&#38382;&#39064;&#26159;"&#20174;"&#26426;&#20063;&#20250;<span class="strong"><strong>&#22312;"&#20027;"&#26426;&#22312;&#30456;&#21516;&#30340;&#26102;&#38388;&#37324;</strong></span>&#23545;&#32593;&#32476;&#20013;&#30340;&#20840;&#37096;&#20027;&#26426;&#21644;&#26381;&#21153;&#25191;&#34892;&#26816;&#27979;&#65281;&#22914;&#26524;&#22312;&#34987;&#30417;&#25511;&#20027;&#26426;&#19978;&#23450;&#20041;&#26377;&#24456;&#22810;&#26381;&#21153;&#26102;&#36825;&#20250;&#32473;&#20027;&#26426;&#20135;&#29983;&#39069;&#22806;&#30340;&#27969;&#37327;&#21450;&#36127;&#33655;&#12290;&#36825;&#37324;&#26377;&#32469;&#24320;&#36825;&#20010;&#38382;&#39064;&#30340;&#21150;&#27861;...</p><p><span class="bold"><strong>&#21021;&#22987;&#21270;&#31243;&#24207;&#35774;&#32622;</strong></span></p><p>&#22312;"&#20174;"&#26426;&#19978;&#20851;&#38381;&#33258;&#20027;&#26816;&#27979;&#21644;&#36890;&#30693;&#21151;&#33021;&#65292;&#36890;&#29992;&#20462;&#25913;<a class="link" href="#execute_service_checks" title="&#34920;&nbsp;5.14.&nbsp;&#26381;&#21153;&#26816;&#27979;&#25191;&#34892;&#36873;&#39033;">execute_service_checks</a>&#21644;<a class="link" href="#enable_notifications" title="&#34920;&nbsp;5.13.&nbsp;&#36890;&#30693;&#36873;&#39033;">enable_notifications</a>&#36873;&#39033;&#26469;&#23454;&#29616;&#12290;&#36825;&#23558;&#20351;&#24471;&#22312;"&#20027;"&#26426;&#36816;&#34892;&#20027;Nagios&#26381;&#21153;&#27491;&#24120;&#30340;&#24773;&#20917;&#19979;&#38459;&#27490;"&#20174;"&#26426;&#23545;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#26816;&#27979;&#21644;&#36865;&#20986;&#36890;&#30693;&#12290;&#21516;&#26102;&#35201;&#30830;&#20445;&#22312;"&#20174;"&#26426;&#19978;&#25171;&#24320;&#20102;<a class="link" href="#check_external_commands" title="&#34920;&nbsp;5.21.&nbsp;&#22806;&#37096;&#21629;&#20196;&#26816;&#26597;&#36873;&#39033;">check_external_commands</a>&#36873;&#39033;&#12290;</p><p><span class="bold"><strong>&#20027;&#26381;&#21153;&#36827;&#31243;&#26816;&#27979;</strong></span></p><p>&#22312;"&#20174;"&#26426;&#19978;&#35774;&#32622;&#19968;&#20010;&#23450;&#26102;&#20316;&#19994;(cron job)&#26469;&#21608;&#26399;&#24615;&#22320;(&#27604;&#22914;&#27599;&#20998;&#38047;)&#36816;&#34892;&#19968;&#20010;&#33050;&#26412;&#65292;&#35813;&#33050;&#26412;&#29992;&#20110;&#23545;"&#20027;"&#26426;&#30340;Nagios&#26381;&#21153;&#36827;&#34892;&#26816;&#27979;(&#22312;"&#20174;"&#26426;&#19978;&#20351;&#29992;<span class="strong"><strong>check_nrpe</strong></span>&#25554;&#20214;&#65292;&#21516;&#26102;&#65292;&#22312;"&#20027;"&#26426;&#19978;&#36816;&#34892;<a class="link" href="#addons_NRPE" title="11.4.2.&nbsp;NRPE">nrpe&#23432;&#25252;&#26381;&#21153;</a>&#21644;<span class="strong"><strong>check_nagios</strong></span>&#25554;&#20214;)&#65292;&#35813;&#33050;&#26412;&#23558;&#26816;&#26597;&#30001;<span class="strong"><strong>check_nrpe&#25554;&#20214;</strong></span>&#25152;&#36820;&#22238;&#30340;&#32467;&#26524;&#30721;&#12290;&#22914;&#26524;&#36820;&#22238;&#32467;&#26524;&#30721;&#26159;&#20010;&#38750;&#27491;&#24120;&#29366;&#24577;&#65292;&#33050;&#26412;&#23558;&#20889;&#20837;&#19968;&#20010;&#20999;&#25442;&#20887;&#20313;&#21629;&#20196;&#21040;<a class="link" href="#command_file" title="&#34920;&nbsp;5.23.&nbsp;&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;">&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;</a>&#20013;&#20197;&#20351;&#33021;&#36890;&#30693;&#21151;&#33021;&#21644;&#33258;&#20027;&#26816;&#27979;&#12290;&#22914;&#26524;&#25554;&#20214;&#36820;&#22238;&#19968;&#20010;&#27491;&#24120;&#29366;&#24577;&#65292;&#33050;&#26412;&#23558;&#24448;&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;&#37324;&#20889;&#19968;&#20010;&#21629;&#20196;&#20197;&#20851;&#38381;&#36890;&#30693;&#21151;&#33021;&#21644;&#33258;&#20027;&#26816;&#27979;&#21151;&#33021;&#12290;</p><p>&#36890;&#36807;&#36825;&#20040;&#20570;&#65292;&#23558;&#20250;&#20351;&#24471;&#22312;&#26576;&#20010;&#26102;&#38388;&#20869;&#21482;&#20250;&#26377;&#19968;&#20010;Nagios&#30417;&#25511;&#36827;&#31243;&#22312;&#30495;&#27491;&#36816;&#34892;&#65292;&#36825;&#27604;&#29992;&#20004;&#27425;&#30417;&#25511;&#32593;&#32476;&#30340;&#26041;&#24335;&#25928;&#29575;&#26356;&#39640;&#12290;</p><p>&#36824;&#35201;&#27880;&#24847;&#30340;&#26159;&#65292;<span class="strong"><strong>&#27809;&#26377;&#24517;&#35201;</strong></span>&#35937;&#26159;&#22312;<a class="link" href="#redundancy_scenario_1">&#22330;&#26223;1</a>&#37324;&#37027;&#26679;&#23450;&#20041;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#20107;&#20214;&#22788;&#29702;&#65292;&#22240;&#20026;&#22788;&#29702;&#26041;&#24335;&#23436;&#20840;&#19981;&#21516;&#12290;</p><p><span class="bold"><strong>&#20854;&#20182;&#38382;&#39064;</strong></span></p><p>&#27492;&#26102;&#24050;&#32463;&#23436;&#25104;&#20102;&#19968;&#20010;&#22522;&#26412;&#30340;&#22833;&#25928;&#30417;&#25511;&#31995;&#32479;&#30340;&#23433;&#35013;&#35774;&#32622;&#65292;&#28982;&#32780;&#65292;&#35201;&#20351;&#23427;&#24037;&#20316;&#26356;&#39034;&#30021;&#36824;&#26377;&#20960;&#20214;&#20107;&#35201;&#32771;&#34385;&#12290;</p><p>&#36825;&#20040;&#35774;&#32622;&#21518;&#30340;&#26368;&#22823;&#38382;&#39064;&#26159;&#65292;"&#20174;"&#26426;&#22312;&#20854;&#24320;&#22987;&#30417;&#25511;&#24037;&#20316;&#26102;&#23427;&#24182;<span class="emphasis"><em>&#27809;&#26377;&#24403;&#21069;&#20219;&#20309;&#20027;&#26426;&#19982;&#26381;&#21153;</em></span>&#30340;&#29366;&#24577;&#20449;&#24687;&#12290;&#35299;&#20915;&#36825;&#19968;&#38382;&#39064;&#30340;&#19968;&#20010;&#26041;&#27861;&#26159;&#22312;"&#20027;"&#26426;&#19978;&#20351;&#33021;<a class="link" href="#ocsp_command" title="&#34920;&nbsp;5.84.&nbsp;Obsessive Compulsive Service Processor Command">&#24378;&#36843;&#22411;&#26381;&#21153;&#22788;&#29702;&#21629;&#20196;</a>&#24182;&#19988;&#25226;&#20840;&#37096;&#30340;&#26381;&#21153;&#26816;&#27979;&#32467;&#26524;&#29992;<a class="link" href="#addons_NSCA" title="11.4.3.&nbsp;NSCA">nsca&#22806;&#37096;&#26500;&#20214;</a>&#36865;&#21040;"&#20174;"&#26426;&#19978;&#12290;"&#20174;"&#26426;&#23601;&#20250;&#22312;&#25215;&#25285;&#30417;&#25511;&#24037;&#20316;&#26102;&#24050;&#23384;&#26377;&#25152;&#26377;&#26381;&#21153;&#30340;&#26368;&#26032;&#29366;&#24577;&#20449;&#24687;&#12290;&#22240;&#20026;"&#20174;"&#26426;&#19978;&#27809;&#26377;&#25171;&#24320;&#33258;&#20027;&#26381;&#21153;&#26816;&#27979;&#65292;&#23427;&#23558;&#19981;&#20250;&#33258;&#20027;&#22320;&#36816;&#34892;&#20219;&#20309;&#26381;&#21153;&#26816;&#27979;&#12290;&#28982;&#32780;&#65292;&#23427;&#23558;&#22312;&#24517;&#35201;&#26102;&#25191;&#34892;&#20027;&#26426;&#26816;&#27979;&#12290;&#20063;&#23601;&#26159;&#35828;&#65292;"&#20027;"&#21644;"&#20174;"&#37117;&#20250;&#22312;&#24517;&#35201;&#26102;&#25191;&#34892;&#20027;&#26426;&#26816;&#27979;&#65292;&#36825;&#19981;&#26159;&#22823;&#38382;&#39064;&#65292;&#22240;&#20026;&#30417;&#25511;&#30340;&#20027;&#35201;&#24037;&#20316;&#22823;&#37096;&#20998;&#26159;&#26381;&#21153;&#30340;&#26816;&#27979;&#12290;</p></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="largeinstalltweaks"></a>9.4.&nbsp;&#22823;&#22411;&#23433;&#35013;&#27169;&#24335;&#30340;&#21464;&#21270;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e22109"></a>9.4.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>&#29992;&#25143;&#22312;&#20351;&#29992;Nagios&#22823;&#22411;&#23433;&#35013;&#27169;&#24335;&#23558;&#20250;&#26377;&#35768;&#22810;&#22909;&#22788;&#65292;&#20351;&#29992;<a class="link" href="#use_large_installation_tweaks" title="&#34920;&nbsp;5.66.&nbsp;Large Installation Tweaks Option">use_large_installation_tweaks</a>&#37197;&#32622;&#36873;&#39033;&#12290;&#20351;&#33021;&#36825;&#20010;&#36873;&#39033;&#23558;&#20351;Nagios&#23432;&#25252;&#31243;&#24207;&#23558;&#36827;&#34892;&#26576;&#20123;&#30701;&#36335;&#20197;&#20351;&#31995;&#32479;&#36127;&#36733;&#26356;&#20302;&#19988;&#24615;&#33021;&#26368;&#22909;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e22117"></a>9.4.2.&nbsp;&#24433;&#21709;</h3></div></div></div><p>&#24403;&#20320;&#22312;&#20027;&#37197;&#32622;&#25991;&#20214;&#20013;&#20351;&#33021;&#20102;<a class="link" href="#use_large_installation_tweaks" title="&#34920;&nbsp;5.66.&nbsp;Large Installation Tweaks Option">use_large_installation_tweaks</a>&#37197;&#32622;&#36873;&#39033;&#65292;&#23558;&#20250;&#20351;Nagios&#23432;&#25252;&#36827;&#34892;&#20570;&#22914;&#19979;&#21464;&#21270;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#22312;&#29615;&#22659;&#20013;&#19981;&#33021;&#20351;&#29992;&#27719;&#24635;&#31867;&#30340;&#23439;&#65293;<a class="link" href="#macrolist_SUMMARY_MACROS">&#27719;&#24635;&#23439;</a>&#22312;&#29615;&#22659;&#20013;&#23558;&#19981;&#33021;&#20351;&#29992;&#12290;&#36825;&#20123;&#23439;&#30340;&#35745;&#31639;&#22312;&#22823;&#22411;&#23433;&#35013;&#26102;&#20250;&#38750;&#24120;&#22320;&#38598;&#20013;&#28040;&#32791;&#26102;&#38388;&#65292;&#22240;&#27492;&#23427;&#20204;&#22312;&#27492;&#26102;&#26159;&#19981;&#33021;&#20351;&#29992;&#30340;&#12290;&#20294;&#22914;&#26524;&#20320;&#22312;&#33050;&#26412;&#20013;&#20256;&#36882;&#36825;&#20123;&#21442;&#25968;&#26102;&#65292;&#36825;&#20123;&#27719;&#24635;&#24615;&#30340;&#23439;&#20173;&#26087;&#21487;&#29992;&#20110;&#35268;&#26684;&#21270;&#30340;&#23439;&#32780;&#21152;&#20837;&#33050;&#26412;&#12290;</li><li>&#20869;&#23384;&#28165;&#29702;&#26377;&#25152;&#19981;&#21516;&#65293;&#36890;&#24120;Nagios&#22312;&#23376;&#36827;&#31243;&#36864;&#20986;&#26102;&#20250;&#37322;&#25918;&#23376;&#36827;&#31243;&#20998;&#37197;&#30340;&#20869;&#23384;&#65292;&#36825;&#26159;&#20010;&#22909;&#20064;&#24815;&#65292;&#28982;&#21518;&#22312;&#35768;&#22810;&#23433;&#35013;&#27169;&#24335;&#19979;&#24182;&#19981;&#38656;&#35201;&#65292;&#22240;&#20026;&#35768;&#22810;&#25805;&#20316;&#31995;&#32479;&#23558;&#20250;&#24456;&#23567;&#24515;&#22320;&#22788;&#29702;&#36827;&#31243;&#36864;&#20986;&#26102;&#30340;&#20869;&#23384;&#12290;&#25805;&#20316;&#31995;&#32479;&#20542;&#21521;&#20110;&#33258;&#20027;&#22320;&#37322;&#25918;&#20869;&#23384;&#32780;&#19981;&#26159;&#30001;Nagios&#26469;&#20570;&#65292;&#36825;&#26679;&#26356;&#24555;&#65292;&#22240;&#32780;Nagios&#19981;&#20877;&#35797;&#22270;&#37322;&#25918;&#23376;&#36827;&#31243;&#30340;&#20869;&#23384;&#31354;&#38388;&#65292;&#22914;&#26524;&#20320;&#20351;&#33021;&#20102;&#36825;&#20010;&#37197;&#32622;&#36873;&#39033;&#30340;&#35805;&#12290;</li><li>&#27966;&#29983;fork()&#26816;&#26597;&#26356;&#23569;&#65293;&#36890;&#36807;Nagios&#20250;&#22312;&#20027;&#26426;&#21644;&#26381;&#21153;&#26816;&#27979;&#26102;&#20570;&#20004;&#27425;&#27966;&#29983;&#12290;&#36825;&#26679;&#20570;&#26159;&#22240;&#20026;(1)&#30830;&#20445;&#21463;&#38459;&#30340;&#25554;&#20214;&#26377;&#19968;&#20010;&#36739;&#39640;&#30340;&#36827;&#31243;&#31561;&#32423;&#25429;&#33719;&#38169;&#35823;&#20449;&#21495;&#25110;&#36827;&#20837;&#24322;&#24120;&#65307;(2)&#35753;&#25805;&#20316;&#31995;&#32479;&#26469;&#23545;&#37027;&#20123;&#36864;&#20986;&#23376;&#36827;&#31243;&#30340;&#19979;&#32423;&#36827;&#31243;&#20570;&#28165;&#38500;&#22788;&#29702;&#12290;&#39069;&#22806;&#30340;&#27966;&#29983;&#24182;&#19981;&#26159;&#30495;&#26377;&#24517;&#35201;&#65292;&#25152;&#20197;&#22312;&#20320;&#20351;&#33021;&#36825;&#20010;&#37197;&#32622;&#36873;&#39033;&#21518;&#23427;&#20250;&#36339;&#36807;&#39069;&#22806;&#27966;&#29983;&#21160;&#20316;&#12290;Nagios&#23558;&#33258;&#34892;&#28165;&#29702;&#23376;&#36827;&#31243;&#30340;&#36864;&#20986;&#65288;&#32780;&#19981;&#26159;&#31561;&#21040;&#25805;&#20316;&#31995;&#32479;&#26469;&#20570;&#23427;&#65289;&#36825;&#20351;&#24471;Nagios&#22312;&#36825;&#31181;&#23433;&#35013;&#27169;&#24335;&#19979;&#26174;&#33879;&#22320;&#38477;&#20302;&#36127;&#36733;&#12290;</li></ol></div></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="cachedchecks"></a>9.5.&nbsp;&#32531;&#23384;&#26816;&#27979;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e22138"></a>9.5.1.&nbsp;&#20171;&#32461;</h3></div></div></div><div><img src="../pub/images/cachedchecks1.png"></div><p>&#24212;&#29992;&#20102;&#32531;&#23384;&#26816;&#27979;&#26426;&#21046;&#21487;&#20197;&#26174;&#33879;&#22320;&#25913;&#21892;Nagios&#30417;&#25511;&#36923;&#36753;&#30340;&#24615;&#33021;&#12290;&#32531;&#23384;&#26816;&#27979;&#30340;&#20316;&#29992;&#26159;&#65292;&#24403;Nagios&#21457;&#29616;&#21487;&#20197;&#21033;&#29992;&#26368;&#36817;&#19968;&#27425;&#26816;&#26597;&#32467;&#26524;&#26469;&#26367;&#20195;&#36825;&#27425;&#26816;&#27979;&#26102;&#65292;Nagios&#20250;&#25918;&#24323;&#25191;&#34892;&#19968;&#27425;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#26816;&#27979;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e22144"></a>9.5.2.&nbsp;&#21482;&#20026;&#25353;&#38656;&#26816;&#27979;&#20351;&#29992;</h3></div></div></div><p>&#24212;&#29992;&#32531;&#23384;&#26816;&#27979;&#26426;&#21046;&#23545;&#20110;&#36890;&#24120;&#30340;&#35268;&#26684;&#21270;&#32534;&#21046;&#30340;&#20027;&#26426;&#19982;&#26381;&#21153;&#26816;&#27979;&#30340;&#24615;&#33021;&#19981;&#20250;&#26377;&#26126;&#26174;&#25913;&#21892;&#12290;&#32531;&#23384;&#26816;&#27979;&#21482;&#26159;&#23545;&#20110;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#25353;&#38656;&#26816;&#27979;&#30340;&#24615;&#33021;&#26377;&#26174;&#33879;&#25913;&#21892;&#12290;&#39044;&#23450;&#30340;&#35745;&#21010;&#24615;&#26816;&#27979;&#21487;&#20197;&#30830;&#20445;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#29366;&#24577;&#26356;&#26032;&#35268;&#33539;&#21270;&#65292;&#23427;&#20351;&#24471;&#22312;&#19981;&#20037;&#30340;&#23558;&#26469;&#65292;&#23427;&#30340;&#26816;&#26597;&#32467;&#26524;&#26368;&#26377;&#21487;&#33021;&#34987;&#32531;&#23384;&#26816;&#27979;&#25152;&#21033;&#29992;&#12290;</p><p>&#20316;&#20026;&#21442;&#32771;&#65292;&#35201;&#20570;&#20027;&#26426;&#30340;&#25353;&#38656;&#26816;&#27979;...</p><div class="orderedlist"><ol type="1"><li>&#24403;&#32465;&#23450;&#20110;&#20027;&#26426;&#19978;&#30340;&#26381;&#21153;&#29366;&#24577;&#21457;&#29983;&#20102;&#21464;&#26356;&#65307;</li><li>&#37096;&#20998;&#26816;&#26597;&#20869;&#23481;&#30001;&#20110;&#38656;&#35201;&#20570;<a class="link" href="#networkreachability" title="8.4.&nbsp;&#22914;&#20309;&#30830;&#35748;&#32593;&#32476;&#20013;&#20027;&#26426;&#30340;&#29366;&#24577;&#19982;&#21487;&#36798;&#24615;">&#20027;&#26426;&#21487;&#36798;&#24615;</a>&#36923;&#36753;&#21028;&#26029;&#65307;</li><li>&#37096;&#20998;&#26159;&#30001;&#20110;&#38656;&#35201;&#20570;<a class="link" href="#dependencychecks" title="8.12.&nbsp;&#20381;&#36182;&#26816;&#27979;&#30340;&#21069;&#22788;&#29702;">&#20027;&#26426;&#20381;&#36182;&#24615;&#26816;&#27979;&#30340;&#21069;&#22788;&#29702;</a>&#12290;</li></ol></div><p>&#35201;&#20570;&#26381;&#21153;&#30340;&#25353;&#38656;&#26816;&#27979;...</p><div class="orderedlist"><ol type="1"><li>&#26159;&#30001;&#20110;&#38656;&#35201;&#20570;<a class="link" href="#dependencychecks" title="8.12.&nbsp;&#20381;&#36182;&#26816;&#27979;&#30340;&#21069;&#22788;&#29702;">&#26381;&#21153;&#20381;&#36182;&#24615;&#26816;&#27979;&#30340;&#21069;&#22788;&#29702;</a>&#12290;</li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><div><img src="../pub/images/note.gif"></div>&#38500;&#38750;&#20320;&#25171;&#24320;&#20102;&#26381;&#21153;&#20381;&#36182;&#24615;&#26816;&#26597;&#65292;Nagios&#23558;&#19981;&#20250;&#20351;&#29992;&#32531;&#23384;&#26816;&#27979;&#26426;&#21046;&#26469;&#25913;&#21892;&#26381;&#21153;&#26816;&#27979;&#30340;&#24615;&#33021;&#12290;&#19981;&#24517;&#25285;&#26159;&#65292;&#36825;&#21482;&#26159;&#36890;&#24120;&#24773;&#20917;&#19979;&#26159;&#36825;&#26679;&#12290;&#32531;&#23384;&#20027;&#26426;&#26816;&#27979;&#24182;&#19981;&#26159;&#20010;&#26497;&#22823;&#25552;&#21319;&#24615;&#33021;&#20570;&#27861;&#65292;&#27599;&#20010;&#20154;&#37117;&#24212;&#30475;&#21040;&#23427;&#21482;&#26159;&#26377;&#30410;&#20110;&#25552;&#39640;&#24615;&#33021;&#12290;</div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e22176"></a>9.5.3.&nbsp;&#32531;&#23384;&#26816;&#27979;&#26159;&#22914;&#20309;&#24037;&#20316;&#30340;&#65311;</h3></div></div></div><p>&#24403;Nagios&#38656;&#35201;&#20570;&#19968;&#20010;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#25353;&#38656;&#26816;&#27979;&#26102;&#65292;&#23427;&#23558;&#20570;&#19968;&#20010;&#21028;&#23450;&#65292;&#26159;&#21542;&#35201;&#21033;&#29992;&#32531;&#23384;&#26816;&#27979;&#32467;&#26524;&#36824;&#26159;&#35201;&#30495;&#30340;&#21435;&#29992;&#25554;&#20214;&#26469;&#20570;&#19968;&#27425;&#26816;&#26597;&#12290;&#36825;&#21462;&#20915;&#20110;&#36825;&#27425;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#26368;&#36817;&#19968;&#27425;&#26816;&#27979;&#32467;&#26524;&#26159;&#21542;&#21457;&#29983;&#20110;&#26368;&#36817;&#30340;X&#20998;&#38047;&#20043;&#20869;&#65292;&#36825;&#37324;X&#26159;&#32531;&#23384;&#20027;&#26426;&#19982;&#26381;&#21153;&#32467;&#26524;&#30340;&#26102;&#38388;&#38271;&#24230;&#12290;</p><p>&#22914;&#26524;&#26368;&#36817;&#19968;&#27425;&#26816;&#27979;&#30340;&#26102;&#38388;&#21018;&#22909;&#22312;&#25351;&#23450;&#32531;&#23384;&#26816;&#27979;&#32467;&#26524;&#30340;&#26102;&#38388;&#20869;&#65292;Nagios&#23558;&#20250;&#21033;&#29992;&#26368;&#36817;&#19968;&#27425;&#38024;&#23545;&#35813;&#20027;&#26426;&#19982;&#26381;&#21153;&#26816;&#27979;&#32467;&#26524;&#32780;<span class="strong"><strong>&#19981;&#20250;</strong></span>&#30495;&#30340;&#21435;&#20570;&#19968;&#27425;&#26816;&#27979;&#12290;&#22914;&#26524;&#35813;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#26816;&#27979;&#27809;&#26377;&#20570;&#36807;&#65292;&#25110;&#26159;&#26368;&#36817;&#19968;&#27425;&#26816;&#27979;&#32467;&#26524;&#30340;&#26102;&#38388;&#36229;&#20986;&#32531;&#23384;&#26816;&#27979;&#30340;&#26102;&#38388;&#28145;&#24230;&#65292;Nagios&#23558;&#20250;&#29992;&#25554;&#20214;&#23545;&#35813;&#20027;&#26426;&#19982;&#26381;&#21153;&#26469;&#20570;&#19968;&#27425;&#26032;&#30340;&#30495;&#27491;&#30340;&#26816;&#26597;&#12290;</p><div><img src="../pub/images/cachedchecks.png"></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e22187"></a>9.5.4.&nbsp;&#36825;&#23558;&#21040;&#24213;&#24847;&#21619;&#30528;&#20160;&#20040;&#65311;</h3></div></div></div><p>Nagios&#20570;&#25353;&#38656;&#26816;&#27979;&#26159;&#30001;&#20110;&#23427;&#35748;&#20026;&#26377;&#24517;&#35201;&#21450;&#26102;&#22320;&#30693;&#36947;&#35813;&#20027;&#26426;&#19982;&#26381;&#21153;<span class="strong"><strong>&#22312;&#37027;&#19968;&#26102;&#38388;</strong></span>&#37324;&#30340;&#29366;&#24577;&#12290;&#21033;&#29992;&#32531;&#23384;&#26816;&#27979;&#32467;&#26524;&#23558;&#20351;&#24471;Nagios&#21487;&#20197;&#35748;&#20026;&#26368;&#36817;&#19968;&#27425;&#26816;&#27979;&#32467;&#26524;&#26159;"&#36275;&#22815;&#22909;&#29992;"&#30340;&#24403;&#21069;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#29366;&#24577;&#65292;&#24182;&#19988;&#35748;&#23450;&#30495;&#30340;&#27809;&#26377;&#24517;&#35201;&#20877;&#21435;&#20570;&#19968;&#27425;&#35813;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#37325;&#26816;&#27979;&#12290;</p><p>&#32531;&#23384;&#26816;&#27979;&#30340;&#26102;&#38388;&#28145;&#24230;&#21578;&#35785;Nagios&#22312;&#22810;&#38271;&#30340;&#26102;&#38388;&#20869;&#26816;&#27979;&#30340;&#32467;&#26524;&#26159;&#20540;&#24471;&#20449;&#36182;&#22320;&#21453;&#24212;&#20986;&#20102;&#24403;&#21069;&#30340;&#20027;&#26426;&#25110;&#26381;&#21153;&#30340;&#29366;&#24577;&#12290;&#27604;&#22914;&#65292;&#26102;&#38388;&#28145;&#24230;&#35774;&#32622;&#26159;30&#31186;&#65292;&#37027;&#20040;&#22312;&#26368;&#36817;&#30340;30&#31186;&#20043;&#20869;&#30340;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#26816;&#27979;&#32467;&#26524;&#23601;&#21487;&#20197;&#34987;&#35748;&#20026;&#26159;&#24403;&#21069;&#30340;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#29366;&#24577;&#32467;&#26524;&#12290;</p><p>Nagios&#30340;&#21487;&#29992;&#32531;&#23384;&#32467;&#26524;&#25968;&#37327;&#19982;&#38656;&#35201;&#25191;&#34892;&#25353;&#38656;&#26816;&#27979;&#27425;&#25968;&#20043;&#27604;&#34987;&#35748;&#20026;&#26159;&#32531;&#23384;&#26816;&#27979;&#30340;&#8220;&#20987;&#20013;&#29575;&#8221;&#12290;&#22686;&#21152;&#32531;&#23384;&#26816;&#27979;&#30340;&#26102;&#38388;&#28145;&#24230;&#30452;&#21040;&#35813;&#20540;&#31561;&#20110;&#35268;&#26684;&#21270;&#26816;&#27979;&#30340;&#26102;&#38388;&#38388;&#38548;&#65292;&#22312;&#29702;&#35770;&#19978;&#21487;&#20197;&#23454;&#29616;&#32531;&#23384;&#26816;&#27979;&#30340;&#20987;&#20013;&#29575;&#21040;100%&#12290;&#22312;&#36825;&#31181;&#24773;&#20917;&#19979;&#65292;&#20840;&#37096;&#30340;&#25353;&#38656;&#26816;&#27979;&#37117;&#21487;&#20197;&#20174;&#32531;&#23384;&#26816;&#27979;&#30340;&#32467;&#26524;&#20013;&#25552;&#21462;&#65292;&#22810;&#39640;&#30340;&#24615;&#33021;&#25913;&#21892;&#21834;&#65281;&#20294;&#26159;&#30495;&#30340;&#20040;&#65311;&#21487;&#33021;&#24182;&#38750;&#22914;&#27492;&#65281;</p><p>&#32531;&#23384;&#26816;&#27979;&#32467;&#26524;&#20449;&#24687;&#30340;&#21487;&#20449;&#24230;&#38543;&#26102;&#38388;&#32780;&#38477;&#20302;&#12290;&#39640;&#30340;&#32531;&#20914;&#20987;&#20013;&#29575;&#38656;&#35201;&#21152;&#38271;&#35748;&#23450;&#20026;"&#21512;&#27861;"&#32467;&#26524;&#30340;&#32531;&#23384;&#26102;&#38388;&#12290;&#20294;&#21508;&#31181;&#32593;&#32476;&#22330;&#26223;&#21464;&#25442;&#24456;&#24555;&#65292;&#32780;&#19988;&#27809;&#26377;&#20219;&#20309;&#21487;&#20197;&#25285;&#20445;&#22312;30&#31186;&#20043;&#21069;&#22788;&#20110;&#27491;&#24120;&#29366;&#24577;&#30340;&#26381;&#21153;&#24403;&#21069;&#20063;&#26159;&#22788;&#20110;&#27491;&#24120;&#30340;&#12290;&#22240;&#32780;&#19981;&#24471;&#19981;&#21462;&#20010;&#25240;&#20013;&#65293;&#20449;&#20219;&#24230;&#19982;&#36895;&#24230;&#20043;&#38388;&#21462;&#25240;&#20013;&#12290;&#22914;&#26524;&#35201;&#25552;&#39640;&#32531;&#23384;&#32467;&#26524;&#30340;&#26102;&#38388;&#28145;&#24230;&#65292;&#23601;&#19981;&#24471;&#19981;&#35201;&#20882;&#30528;&#32531;&#23384;&#32467;&#26524;&#24212;&#29992;&#20110;&#30417;&#25511;&#36923;&#36753;&#20043;&#20013;&#20449;&#20219;&#24230;&#38477;&#20302;&#30340;&#39118;&#38505;&#12290;</p><p>Nagios&#23558;&#26368;&#32456;&#21028;&#23450;&#20986;&#20840;&#37096;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#27491;&#30830;&#30340;&#29366;&#24577;&#65292;&#22240;&#27492;&#21363;&#20415;&#22312;&#32531;&#23384;&#20013;&#30340;&#26816;&#27979;&#32467;&#26524;&#30456;&#23545;&#20110;&#20854;&#30495;&#23454;&#24773;&#20917;&#26377;&#21487;&#33021;&#26159;&#19981;&#21487;&#20449;&#30340;&#65292;Nagios&#20063;&#21482;&#26159;&#20250;&#22312;&#19968;&#20010;&#30701;&#26102;&#38388;&#20869;&#22312;&#19981;&#27491;&#30830;&#20449;&#24687;&#20043;&#19979;&#24037;&#20316;&#12290;&#22312;&#36825;&#20040;&#30701;&#26102;&#38388;&#20869;&#30340;&#19981;&#21487;&#20449;&#29366;&#24577;&#20449;&#24687;&#23545;&#20110;&#31649;&#29702;&#21592;&#26159;&#20010;&#35752;&#21388;&#30340;&#20107;&#24773;&#65292;&#22240;&#20026;&#31649;&#29702;&#21592;&#21487;&#33021;&#20250;&#25910;&#21040;&#25925;&#38556;&#36890;&#30693;&#20294;&#23427;&#19981;&#20037;&#23601;&#19981;&#20877;&#26377;&#20102;&#12290;</p><p>&#23545;&#20110;Nagios&#29992;&#25143;&#32780;&#35328;&#65292;&#27809;&#26377;&#19968;&#20010;&#26631;&#20934;&#26469;&#26816;&#39564;&#32531;&#23384;&#26816;&#27979;&#30340;&#26102;&#38388;&#28145;&#24230;&#25110;&#32531;&#23384;&#20987;&#20013;&#29575;&#26159;&#21487;&#25509;&#21463;&#30340;&#12290;&#26377;&#20123;&#38656;&#35201;&#19968;&#20010;&#30701;&#26242;&#30340;&#26816;&#27979;&#32531;&#23384;&#26102;&#38388;&#28145;&#24230;&#35774;&#32622;&#21644;&#19968;&#20010;&#30456;&#23545;&#20302;&#30340;&#32531;&#23384;&#20987;&#20013;&#29575;&#65292;&#32780;&#21478;&#19968;&#20123;&#21017;&#24819;&#35201;&#26356;&#38271;&#20123;&#30340;&#32531;&#23384;&#26102;&#38388;&#21644;&#36739;&#39640;&#32531;&#23384;&#20987;&#20013;&#29575;(&#24403;&#28982;&#20250;&#30456;&#23545;&#20302;&#30340;&#29366;&#24577;&#21487;&#20449;&#24230;)&#65292;&#26356;&#26377;&#29978;&#32773;&#24076;&#26395;&#23436;&#20840;&#19981;&#29992;&#32531;&#23384;&#26816;&#27979;&#32780;&#21482;&#35201;100%&#21487;&#20449;&#24230;&#12290;&#27979;&#35797;&#19981;&#21516;&#30340;&#32531;&#23384;&#26816;&#27979;&#26102;&#38388;&#31383;&#21475;&#22823;&#23567;&#20197;&#21450;&#23545;&#29366;&#24577;&#20449;&#24687;&#21487;&#20449;&#24230;&#30340;&#24433;&#21709;&#23558;&#21482;&#26159;&#23569;&#25968;&#20154;&#24819;&#20570;&#30340;&#65292;&#20182;&#20204;&#21482;&#24819;&#24471;&#21040;&#22312;&#20854;&#33258;&#36523;&#29615;&#22659;&#19979;&#30340;&#8220;&#27491;&#30830;&#8221;&#21462;&#20540;&#12290;&#26356;&#22810;&#30340;&#20449;&#24687;&#35265;&#19979;&#38754;&#35752;&#35770;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e22205"></a>9.5.5.&nbsp;&#37197;&#32622;&#21464;&#37327;&#21442;&#25968;</h3></div></div></div><p>&#22914;&#19979;&#30340;&#21464;&#37327;&#23558;&#20915;&#23450;&#29992;&#20110;&#32531;&#23384;&#20027;&#26426;&#19982;&#26381;&#21153;&#26816;&#27979;&#32467;&#26524;&#30340;&#26102;&#38388;&#31383;&#21475;&#20540;&#65292;&#22312;&#21738;&#20010;&#33539;&#22260;&#20869;&#30340;&#26816;&#27979;&#32467;&#26524;&#21487;&#29992;&#20110;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#26816;&#27979;&#32467;&#26524;&#65306;</p><div class="orderedlist"><ol type="1"><li><a class="link" href="#cached_host_check_horizon" title="&#34920;&nbsp;5.64.&nbsp;Cached Host Check Horizon">cached_host_check_horizon</a>&#21464;&#37327;&#25511;&#21046;&#32531;&#23384;&#20027;&#26426;&#26816;&#27979;&#32467;&#26524;&#65307;</li><li><a class="link" href="#cached_service_check_horizon" title="&#34920;&nbsp;5.65.&nbsp;Cached Service Check Horizon">cached_service_check_horizon</a>&#21464;&#37327;&#25511;&#21046;&#32531;&#23384;&#26381;&#21153;&#26816;&#27979;&#32467;&#26524;&#65307;</li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e22219"></a>9.5.6.&nbsp;&#20248;&#21270;&#32531;&#23384;&#25928;&#29575;</h3></div></div></div><p>&#20026;&#20102;&#24212;&#29992;&#32531;&#23384;&#26816;&#27979;&#26426;&#21046;&#36798;&#21040;&#26368;&#39640;&#25928;&#29575;&#65292;&#24212;&#35813;&#20570;&#22914;&#19979;&#24037;&#20316;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#32534;&#21046;&#35268;&#26684;&#21270;&#30340;&#20027;&#26426;&#26816;&#27979;&#35745;&#21010;&#65307;</li><li>&#20351;&#29992;MRTG&#26469;&#32472;&#21046;&#32479;&#35745;&#29366;&#24577;&#22270;&#65292;&#20570;&#20986;(1)&#25353;&#38656;&#26816;&#27979;&#22270;(2)&#32531;&#23384;&#26816;&#27979;&#22270;&#65307;</li><li>&#35843;&#25972;&#32531;&#23384;&#26816;&#27979;&#30340;&#26102;&#38388;&#28145;&#24230;&#20197;&#36866;&#21512;&#24403;&#21069;&#24773;&#20917;&#12290;</li></ol></div><p>&#22312;&#32534;&#21046;&#20027;&#26426;&#35268;&#26684;&#21270;&#26816;&#27979;&#35745;&#21010;&#26102;&#65292;&#21487;&#20197;&#25226;<a class="link" href="#objectdefinitions_host">&#20027;&#26426;&#23545;&#35937;&#23450;&#20041;</a>&#37324;&#30340;<span class="strong"><strong>check_interval</strong></span>&#22495;&#25351;&#23450;&#19968;&#20010;&#22823;&#20110;0&#30340;&#20540;&#65292;&#22914;&#26524;&#36825;&#26679;&#20570;&#65292;&#36824;&#24212;&#20445;&#35777;&#23558;<span class="strong"><strong>max_check_attempts</strong></span>&#22495;&#35774;&#32622;&#24471;&#22823;&#20110;1&#65292;&#21542;&#21017;&#20250;&#24341;&#36215;&#19968;&#20010;&#24615;&#33021;&#31361;&#38477;&#65292;&#36825;&#20010;&#24615;&#33021;&#31361;&#38477;&#22312;<a class="link" href="#hostchecks" title="6.11.&nbsp;&#20027;&#26426;&#26816;&#27979;">&#36825;&#31687;</a>&#25991;&#26723;&#37324;&#26377;&#35828;&#26126;&#12290;</p><p>&#32473;&#32531;&#23384;&#26816;&#27979;&#30340;&#26102;&#38388;&#28145;&#24230;&#21462;&#20540;&#30340;&#19968;&#20010;&#36739;&#22909;&#26041;&#24335;&#26159;&#25226;&#26377;&#22810;&#23569;Nagios&#30340;&#25353;&#38656;&#26816;&#27979;&#34987;&#25191;&#34892;&#21644;&#26377;&#22810;&#23569;&#26159;&#21462;&#33258;&#20110;&#32531;&#23384;&#26816;&#27979;&#32467;&#26524;&#36825;&#20004;&#20010;&#20540;&#20570;&#27604;&#36739;&#12290;<a class="link" href="#nagiostats" title="10.3.&nbsp;&#20351;&#29992;Nagios&#29366;&#24577;&#24037;&#20855;">nagiostats</a>&#24037;&#20855;&#23558;&#25552;&#20379;&#32531;&#23384;&#26816;&#27979;&#30340;&#30456;&#20851;&#20449;&#24687;&#65292;&#36825;&#20123;&#20449;&#24687;&#21487;&#20197;<a class="link" href="#mrtggraphs" title="10.4.&nbsp;&#20351;&#29992;MRTG&#32472;&#21046;&#24615;&#33021;&#25968;&#25454;">&#29992;MRTG&#32472;&#21046;&#22270;&#34920;</a>&#12290;&#26679;&#20363;&#30340;MRTG&#22270;&#34920;&#35265;&#19979;&#38754;&#65292;&#22270;&#20013;&#32473;&#20986;&#20102;&#32531;&#23384;&#20013;&#21462;&#32467;&#26524;&#27425;&#25968;&#19982;&#23454;&#38469;&#25191;&#34892;&#26816;&#27979;&#30340;&#27425;&#25968;&#12290;</p><div><img src="../pub/images/cachedcheckgraphs.png"></div><p>&#19978;&#36848;&#30417;&#25511;&#23433;&#35013;&#36816;&#34892;&#32780;&#20135;&#29983;&#22270;&#31034;&#30340;&#20107;&#20808;&#35774;&#32622;&#26377;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#20849;&#35745;&#26377;44&#21488;&#20027;&#26426;&#65292;&#23427;&#20204;&#20840;&#37096;&#29992;&#35745;&#21010;&#26816;&#27979;&#38388;&#38548;&#26469;&#26816;&#27979;&#65307;</li><li>&#24179;&#22343;(&#35268;&#26684;&#21270;&#26102;&#38388;&#34920;&#20869;&#30340;)&#20027;&#26426;&#26816;&#27979;&#38388;&#38548;&#26159;5&#20998;&#38047;&#65307;</li><li><a class="link" href="#cached_host_check_horizon" title="&#34920;&nbsp;5.64.&nbsp;Cached Host Check Horizon">cached_host_check_horizon</a>&#20540;&#26159;15&#31186;</li></ol></div><p>&#31532;&#19968;&#24352;MRTG&#22270;&#34920;&#26174;&#31034;&#20102;&#26377;&#22810;&#23569;&#35268;&#26684;&#21270;&#35745;&#21010;&#20027;&#26426;&#26816;&#27979;&#19982;&#23454;&#38469;&#20570;&#20102;&#22810;&#23569;&#32531;&#23384;&#20027;&#26426;&#26816;&#27979;&#30340;&#27604;&#36739;&#12290;&#22312;&#36825;&#20363;&#23376;&#20013;&#65292;&#27599;5&#20998;&#38047;&#24179;&#22343;&#20250;&#26377;53&#27425;&#20027;&#26426;&#26816;&#27979;&#65292;&#20854;&#20013;&#26377;9&#27425;&#26159;&#25353;&#38656;&#20027;&#26426;&#26816;&#27979;(&#21344;&#21040;&#26816;&#27979;&#24635;&#25968;&#30340;17%)&#65307;</p><p>&#31532;&#20108;&#24352;MRTG&#22270;&#34920;&#26174;&#31034;&#20102;&#27839;&#26102;&#38388;&#36724;&#19978;&#20250;&#26377;&#22810;&#23569;&#32531;&#23384;&#20027;&#26426;&#26816;&#27979;&#32467;&#26524;&#20135;&#29983;&#12290;&#22312;&#36825;&#20363;&#23376;&#20013;&#65292;&#27599;5&#20998;&#38047;&#24179;&#22343;&#20250;&#26377;2&#27425;&#32531;&#23384;&#20027;&#26426;&#26816;&#27979;&#65307;</p><p>&#35760;&#20303;&#65292;&#32531;&#23384;&#26816;&#27979;&#21482;&#26159;&#23545;&#25353;&#38656;&#26816;&#27979;&#36215;&#20316;&#29992;&#12290;&#22522;&#20110;&#22270;&#20013;&#30340;&#27599;5&#20998;&#38047;&#30340;&#24179;&#22343;&#20540;&#65292;&#21487;&#35265;Nagios&#26159;&#27599;9&#27425;&#24212;&#20570;&#30340;&#25353;&#38656;&#26816;&#27979;&#20013;&#26377;2&#27425;&#26159;&#20351;&#29992;&#32531;&#23384;&#26816;&#27979;&#32467;&#26524;&#12290;&#36825;&#30475;&#36215;&#26469;&#19981;&#22810;&#65292;&#20294;&#22270;&#20013;&#21482;&#26159;&#32473;&#20986;&#20102;&#19968;&#20010;&#23567;&#22411;&#30340;&#30417;&#25511;&#29615;&#22659;&#30340;&#32467;&#26524;&#65292;&#32771;&#34385;&#21040;2&#27604;9&#23601;&#26159;22%&#30340;&#24615;&#33021;&#25552;&#39640;&#30340;&#35805;&#65292;&#23601;&#20250;&#26126;&#30333;&#23558;&#20250;&#22312;&#19968;&#20010;&#22823;&#22411;&#30417;&#25511;&#29615;&#22659;&#19979;&#23558;&#20250;&#26174;&#33879;&#22320;&#25913;&#21892;&#24615;&#33021;&#22914;&#26524;&#25226;&#20027;&#26426;&#26816;&#27979;&#30340;&#26102;&#38388;&#28145;&#24230;&#21152;&#22823;&#30340;&#35805;&#20250;&#25552;&#39640;&#32531;&#23384;&#32467;&#26524;&#30340;&#20987;&#20013;&#29575;&#65292;&#20294;&#20063;&#20250;&#21516;&#26102;&#38477;&#20302;&#20102;&#32531;&#23384;&#20027;&#26426;&#29366;&#24577;&#20449;&#24687;&#30340;&#21487;&#20449;&#24230;&#12290;</p><p>&#19968;&#26086;&#26377;&#20102;&#20960;&#23567;&#26102;&#20035;&#33267;&#20960;&#22825;&#30340;MRTG&#22270;&#34920;&#65292;&#23601;&#21487;&#20197;&#30475;&#20986;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#26816;&#27979;&#20013;&#26377;&#22810;&#23569;&#26159;&#25554;&#20214;&#25191;&#34892;&#32780;&#26377;&#22810;&#23569;&#26159;&#21033;&#29992;&#30340;&#32531;&#23384;&#32467;&#26524;&#12290;&#21033;&#29992;&#36825;&#20123;&#22270;&#34920;&#20449;&#24687;&#26469;&#35843;&#25972;&#32531;&#23384;&#26816;&#27979;&#30340;&#26102;&#38388;&#28145;&#24230;&#20197;&#36866;&#21512;&#24403;&#21069;&#29615;&#22659;&#65292;&#19981;&#26029;&#22320;&#21033;&#29992;MRTG&#22270;&#34920;&#26469;&#30417;&#35270;&#32531;&#23384;&#26816;&#27979;&#26102;&#38388;&#28145;&#24230;&#21464;&#37327;&#23545;&#32531;&#23384;&#26816;&#27979;&#32479;&#35745;&#22312;&#26102;&#38388;&#32500;&#24230;&#19978;&#30340;&#24433;&#21709;&#24773;&#20917;&#65292;&#24182;&#22312;&#38656;&#35201;&#30340;&#26102;&#20505;&#28165;&#25481;&#37325;&#26032;&#26469;&#36807;&#12290;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="stalking"></a>9.6.&nbsp;&#29366;&#24577;&#36861;&#36394;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e22276"></a>9.6.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>&#29366;&#24577;&#8220;&#36861;&#36394;&#8221;&#26159;&#20010;&#24182;&#19981;&#36890;&#29992;&#30340;&#21151;&#33021;&#29305;&#24615;&#12290;&#20351;&#33021;&#20102;&#23427;&#65292;&#21363;&#20415;&#26159;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#29366;&#24577;&#27809;&#26377;&#21464;&#21270;&#30340;&#24773;&#20917;&#19979;&#20063;&#21487;&#23545;&#29366;&#24577;&#26816;&#27979;&#30340;&#32467;&#26524;&#20135;&#29983;&#26085;&#24535;&#35760;&#24405;&#12290;&#24403;&#23545;&#37096;&#20998;&#20027;&#26426;&#19982;&#26381;&#21153;&#24320;&#21551;&#20102;&#29366;&#24577;&#36861;&#36394;&#21151;&#33021;&#26102;&#65292;Nagios&#23558;&#20250;&#20180;&#32454;&#22320;&#30417;&#25511;&#36825;&#20123;&#20027;&#26426;&#19982;&#26381;&#21153;&#24182;&#35760;&#24405;&#19979;&#20219;&#20309;&#26377;&#20851;&#30340;&#26816;&#27979;&#32467;&#26524;&#30340;&#36755;&#20986;&#20869;&#23481;&#12290;&#21487;&#35265;&#65292;&#36825;&#23545;&#20110;&#26085;&#21518;&#20998;&#26512;&#26085;&#24535;&#25991;&#20214;&#24456;&#26377;&#24110;&#21161;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e22281"></a>9.6.2.&nbsp;&#23427;&#26159;&#22914;&#20309;&#24037;&#20316;&#30340;&#65311;</h3></div></div></div><p>&#22312;&#36890;&#24120;&#24773;&#20917;&#19979;&#65292;&#21482;&#26377;&#22312;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#29366;&#24577;&#19982;&#26368;&#36817;&#19968;&#27425;&#30340;&#26816;&#27979;&#32467;&#26524;&#21457;&#29983;&#21464;&#21270;&#26102;&#25165;&#20250;&#23545;&#26816;&#27979;&#32467;&#26524;&#20135;&#29983;&#26085;&#24535;&#35760;&#24405;&#12290;&#21482;&#26377;&#24456;&#23569;&#24773;&#20917;&#20363;&#22806;&#65292;&#36825;&#26159;&#20010;&#35268;&#21017;&#12290;</p><p>&#22914;&#26524;&#23545;&#37096;&#20998;&#30340;&#20027;&#26426;&#19982;&#26381;&#21153;&#20351;&#33021;&#19968;&#31181;&#25110;&#22810;&#31181;&#30340;&#29366;&#24577;&#36861;&#36394;&#21151;&#33021;&#65292;Nagios&#23558;&#22312;&#26412;&#27425;&#26816;&#27979;&#32467;&#26524;&#19982;&#21069;&#19968;&#27425;&#26816;&#27979;&#26377;&#24046;&#24322;&#30340;&#24773;&#20917;&#19979;&#20135;&#29983;&#36755;&#20986;&#32467;&#26524;&#30340;&#26085;&#24535;&#35760;&#24405;&#12290;&#19979;&#38754;&#20363;&#23376;&#20013;&#26377;&#20843;&#27425;&#36830;&#32493;&#30340;&#26381;&#21153;&#26816;&#27979;&#65292;&#30475;&#30475;&#26377;&#20160;&#20040;&#24046;&#21035;&#65306;</p><div class="table"><a name="d0e22288"></a><p class="title"><b>&#34920;&nbsp;9.1.&nbsp;</b></p><div class="table-contents"><table border="1"><colgroup><col><col><col><col><col></colgroup><thead><tr><th>&#26381;&#21153;&#26816;&#27979;&#21495;</th><th>&#26381;&#21153;&#29366;&#24577;</th><th>&#26816;&#27979;&#30340;&#32467;&#26524;&#36755;&#20986;</th><th>&#36890;&#24120;&#26085;&#24535;</th><th>&#26377;&#36319;&#36394;&#30340;&#26085;&#24535;</th></tr></thead><tbody><tr><td>x</td><td>&#27491;&#24120;</td><td>RAID array optimal</td><td><div><img src="../pub/images/checkmark-minus.png"></div></td><td><div><img src="../pub/images/checkmark-minus.png"></div></td></tr><tr><td>x+1</td><td>&#27491;&#24120;</td><td>RAID array optimal</td><td><div><img src="../pub/images/checkmark-minus.png"></div></td><td><div><img src="../pub/images/checkmark-minus.png"></div></td></tr><tr><td>x+2</td><td>&#21578;&#35686;</td><td>RAID array degraded (1 drive bad, 1 hot spare rebuilding)</td><td><div><img src="../pub/images/checkmark.png"></div></td><td><div><img src="../pub/images/checkmark.png"></div></td></tr><tr><td>x+3</td><td>&#32039;&#24613;</td><td>RAID array degraded (2 drives bad, 1 host spare online, 1 hot spare rebuilding)</td><td><div><img src="../pub/images/checkmark.png"></div></td><td><div><img src="../pub/images/checkmark.png"></div></td></tr><tr><td>x+4</td><td>&#32039;&#24613;</td><td>RAID array degraded (3 drives bad, 2 hot spares online)</td><td><div><img src="../pub/images/checkmark-minus.png"></div></td><td><div><img src="../pub/images/checkmark.png"></div></td></tr><tr><td>x+5</td><td>&#32039;&#24613;</td><td>RAID array failed</td><td><div><img src="../pub/images/checkmark-minus.png"></div></td><td><div><img src="../pub/images/checkmark.png"></div></td></tr><tr><td>x+6</td><td>&#32039;&#24613;</td><td>RAID array failed</td><td><div><img src="../pub/images/checkmark-minus.png"></div></td><td><div><img src="../pub/images/checkmark-minus.png"></div></td></tr><tr><td>x+7</td><td>&#32039;&#24613;</td><td>RAID array failed</td><td><div><img src="../pub/images/checkmark-minus.png"></div></td><td><div><img src="../pub/images/checkmark-minus.png"></div></td></tr></tbody></table></div></div><br class="table-break"><p>&#22312;&#19978;&#36848;&#30340;&#19968;&#31995;&#21015;&#26816;&#27979;&#20013;&#65292;&#19968;&#33324;&#30340;&#26085;&#24535;&#26041;&#24335;&#21482;&#21487;&#20197;&#30475;&#21040;&#23545;&#27492;&#27425;&#32593;&#32476;&#20107;&#25925;&#30340;&#20004;&#26465;&#35760;&#24405;&#12290;&#31532;&#19968;&#26465;&#26159;&#22312;x+2&#27425;&#26102;&#26381;&#21153;&#20174;&#27491;&#24120;&#21464;&#25442;&#20026;&#21578;&#35686;&#29366;&#24577;&#65292;&#31532;&#20108;&#26465;&#26159;&#22312;x+3&#26102;&#65292;&#29366;&#24577;&#30001;&#21578;&#35686;&#36716;&#21464;&#20026;&#32039;&#24613;&#12290;</p><p>&#26080;&#35770;&#20309;&#21407;&#22240;&#65292;&#20320;&#21487;&#33021;&#38656;&#35201;&#22312;&#26085;&#24535;&#25991;&#20214;&#37324;&#23545;&#27492;&#27425;&#32593;&#32476;&#20107;&#25925;&#20445;&#23384;&#26377;&#23436;&#25972;&#30340;&#21382;&#21490;&#35760;&#24405;&#12290;&#21487;&#33021;&#26159;&#26377;&#21161;&#20110;&#20320;&#21521;&#20027;&#31649;&#35299;&#37322;&#20107;&#25925;&#24773;&#20917;&#22833;&#25511;&#26159;&#20309;&#31561;&#30340;&#24555;&#65292;&#20063;&#21487;&#33021;&#26159;&#22312;&#37202;&#24052;&#37324;&#19982;&#19968;&#22534;&#20154;&#35848;&#31505;&#26377;&#20010;&#22909;&#35805;&#39064;...</p><p>&#37027;&#20040;&#65292;&#22914;&#26524;&#23545;&#35813;&#26381;&#21153;&#30340;&#32039;&#24613;&#29366;&#24577;&#20351;&#33021;&#20102;&#36861;&#36394;&#21151;&#33021;&#65292;&#23558;&#20250;&#22312;x+4&#21644;x+5&#26102;&#22810;&#20004;&#20010;&#26085;&#24535;&#20107;&#20214;&#12290;&#36825;&#26159;&#20026;&#20160;&#20040;&#21602;&#65311;&#24403;&#25171;&#24320;&#20102;&#29366;&#24577;&#36861;&#36394;&#21151;&#33021;&#65292;Nagios&#23558;&#23545;&#27599;&#19968;&#27425;&#26816;&#27979;&#32467;&#26524;&#36827;&#34892;&#26816;&#26597;&#65292;&#30475;&#27492;&#27425;&#32467;&#26524;&#19982;&#26368;&#36817;&#19968;&#27425;&#32467;&#26524;&#26159;&#21542;&#23384;&#22312;&#24046;&#24322;&#12290;&#22914;&#26524;&#36755;&#20986;&#29366;&#24577;&#19981;&#21516;&#32780;&#19988;&#26381;&#21153;&#30340;&#29366;&#24577;&#24182;&#27809;&#26377;&#25913;&#21464;&#65292;&#37027;&#20040;&#36825;&#27425;&#26032;&#26816;&#27979;&#32467;&#26524;&#30340;&#36755;&#20986;&#23601;&#20250;&#34987;&#26085;&#24535;&#25991;&#20214;&#35760;&#24405;&#19979;&#26469;&#12290;</p><p>&#29366;&#24577;&#36861;&#36394;&#26368;&#30452;&#25509;&#30340;&#20363;&#23376;&#26159;&#23545;&#19968;&#20010;WWW&#26381;&#21153;&#30340;&#30417;&#25511;&#26816;&#27979;&#12290;&#22914;&#26524;check_http&#26816;&#27979;&#25554;&#20214;&#31532;&#19968;&#27425;&#26816;&#27979;&#26102;&#65292;&#22240;&#19968;&#20010;404&#38169;&#35823;&#36820;&#22238;&#19968;&#20010;&#21578;&#35686;&#29366;&#24577;&#65292;&#20043;&#21518;&#22240;&#20026;&#26399;&#26395;&#21305;&#37197;&#20018;&#27809;&#26377;&#25214;&#21040;&#36820;&#22238;&#19968;&#20010;&#21578;&#35686;&#65292;&#36825;&#21487;&#33021;&#26159;&#20320;&#38656;&#35201;&#30693;&#36947;&#30340;&#24773;&#20917;&#12290;&#22914;&#26524;&#27809;&#26377;&#20351;&#33021;WWW&#26381;&#21153;&#30340;&#21578;&#35686;&#29366;&#24577;&#36861;&#36394;&#65292;&#21482;&#20250;&#24471;&#21040;&#31532;&#19968;&#27425;&#36716;&#20837;&#21578;&#35686;&#29366;&#24577;&#26102;&#26085;&#24535;(404&#38169;&#35823;&#32780;&#20135;&#29983;&#30340;)&#65292;&#20294;&#33258;&#27492;&#20043;&#21518;&#26159;&#22240;&#20026;&#22312;&#36820;&#22238;&#39029;&#38754;&#37324;&#27809;&#26377;&#21305;&#37197;&#21040;&#25351;&#23450;&#23383;&#31526;&#20018;&#32780;&#20135;&#29983;&#30340;&#21578;&#35686;&#29366;&#24577;&#19981;&#26159;404&#38169;&#35823;&#65292;&#36825;&#20250;&#35753;&#20320;&#22312;&#25171;&#24320;&#21387;&#32553;&#30340;&#26085;&#24535;&#25991;&#20214;&#21253;&#26102;&#19981;&#30693;&#22914;&#20309;&#19979;&#25163;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e22399"></a>9.6.3.&nbsp;&#38656;&#35201;&#20351;&#33021;&#29366;&#24577;&#36861;&#36394;&#20040;&#65311;</h3></div></div></div><p>&#39318;&#20808;&#65292;&#24517;&#39035;&#26029;&#23450;&#20320;&#30495;&#30340;&#38656;&#35201;&#22312;&#25171;&#21253;&#30340;&#26085;&#24535;&#25991;&#20214;&#37324;&#23547;&#25214;&#25925;&#38556;&#26681;&#28304;&#12290;&#20320;&#21487;&#33021;&#26159;&#21482;&#38656;&#35201;&#23545;&#20960;&#20010;&#20027;&#26426;&#19982;&#26381;&#21153;&#25171;&#24320;&#36825;&#20010;&#21151;&#33021;&#32780;&#38750;&#20840;&#37096;&#12290;&#20320;&#21487;&#33021;&#26159;&#21482;&#38656;&#35201;&#23545;&#26576;&#20010;&#20027;&#26426;&#25110;&#26576;&#20010;&#26381;&#21153;&#30340;&#26576;&#20960;&#20010;&#29366;&#24577;&#36827;&#34892;&#29366;&#24577;&#36861;&#36394;&#32780;&#38750;&#20840;&#37096;&#12290;&#27604;&#22914;&#65292;&#20320;&#38656;&#35201;&#23545;&#19968;&#20010;&#26381;&#21153;&#30340;&#21578;&#35686;&#21644;&#32039;&#24613;&#29366;&#24577;&#36827;&#34892;&#29366;&#24577;&#36861;&#36394;&#20294;&#19981;&#38656;&#35201;&#23545;&#27491;&#24120;&#21644;&#26410;&#30693;&#36827;&#34892;&#36861;&#36394;&#12290;</p><p>&#23545;&#37096;&#20998;&#20027;&#26426;&#25110;&#26381;&#21153;&#30340;&#29366;&#24577;&#36861;&#36394;&#26159;&#21542;&#25171;&#24320;&#20351;&#33021;&#20063;&#36319;&#23545;&#35813;&#20027;&#26426;&#19982;&#26381;&#21153;&#20570;&#26816;&#27979;&#30340;&#25554;&#20214;&#26377;&#20851;&#12290;&#22914;&#26524;&#23545;&#20110;&#26576;&#31181;&#29366;&#24577;&#65292;&#26816;&#27979;&#25554;&#20214;&#24635;&#26159;&#36820;&#22238;&#30456;&#21516;&#30340;&#36755;&#20986;&#23383;&#31526;&#20018;&#65292;&#37027;&#23601;&#27809;&#29702;&#30001;&#20026;&#35813;&#26381;&#21153;&#25171;&#24320;&#29366;&#24577;&#36861;&#36394;&#21151;&#33021;(&#65293;&#65293;&#25171;&#24320;&#20063;&#27809;&#29992;&#65292;&#20840;&#26159;&#19968;&#20010;&#20869;&#23481;)&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e22406"></a>9.6.4.&nbsp;&#22914;&#20309;&#20351;&#33021;&#36861;&#36394;&#65311;</h3></div></div></div><p>&#21487;&#20197;&#22312;<a class="link" href="#configobject" title="5.3.&nbsp;&#23545;&#35937;&#37197;&#32622;&#27010;&#35272;">&#20027;&#26426;&#19982;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;</a>&#30340;<span class="strong"><strong>stalking_options</strong></span>&#22495;&#35774;&#32622;&#29366;&#24577;&#36861;&#36394;&#21151;&#33021;&#30340;&#25171;&#24320;&#25110;&#20851;&#38381;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e22417"></a>9.6.5.&nbsp;&#29366;&#24577;&#36861;&#36394;&#19982;&#21487;&#21464;&#26381;&#21153;&#26377;&#20309;&#19981;&#21516;&#65311;</h3></div></div></div><p>&#29366;&#24577;&#36861;&#36394;&#19982;<a class="link" href="#volatileservices" title="8.5.&nbsp;&#21487;&#21464;&#26381;&#21153;">&#21487;&#21464;&#26381;&#21153;</a>&#30456;&#20284;&#12290;&#20294;&#21487;&#21464;&#26381;&#21153;&#20250;&#24341;&#21457;&#36890;&#30693;&#21160;&#20316;&#21644;&#20107;&#20214;&#22788;&#29702;&#30340;&#25191;&#34892;&#65292;&#32780;&#29366;&#24577;&#36861;&#36394;&#32431;&#31929;&#26159;&#20026;&#20102;&#20135;&#29983;&#35814;&#32454;&#26085;&#24535;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e22425"></a>9.6.6.&nbsp;&#38480;&#21046;&#19982;&#21578;&#35819;</h3></div></div></div><p>&#38656;&#35201;&#24403;&#24515;&#22312;&#20351;&#29992;&#29366;&#24577;&#36861;&#36394;&#26102;&#20250;&#26377;&#19968;&#20123;&#28508;&#22312;&#38382;&#39064;&#12290;&#20027;&#35201;&#20250;&#21457;&#29983;&#22312;&#20960;&#20010;<a class="link" href="#cgis" title="7.4.&nbsp;&#20851;&#20110;CGI&#31243;&#24207;&#27169;&#22359;&#30340;&#20449;&#24687;">CGI&#27169;&#22359;</a>(&#21382;&#21490;&#29366;&#24577;&#12289;&#25253;&#35686;&#27719;&#24635;&#31561;)&#30340;&#25253;&#21578;&#21151;&#33021;&#20013;&#12290;&#22240;&#20026;&#29366;&#24577;&#36861;&#36394;&#20250;&#22686;&#21152;&#19968;&#20123;&#39069;&#22806;&#30340;&#26085;&#24535;&#65292;&#36825;&#20123;&#20250;&#22686;&#22823;&#20135;&#29983;&#25925;&#38556;&#26085;&#24535;&#30340;&#27425;&#25968;&#65292;&#32780;&#29983;&#25104;&#25253;&#21578;&#26102;&#26159;&#20197;&#36825;&#20123;&#25968;&#25454;&#20026;&#22522;&#30784;&#30340;&#12290;</p><p>&#20316;&#20026;&#19968;&#26465;&#36890;&#34892;&#35268;&#21017;&#65292;&#24314;&#35758;&#22312;&#27809;&#26377;&#32771;&#34385;&#23436;&#21892;&#20043;&#21069;<span class="strong"><strong>&#19981;&#35201;</strong></span>&#25171;&#24320;&#20027;&#26426;&#19982;&#26381;&#21153;&#30340;&#29366;&#24577;&#36861;&#36394;&#21151;&#33021;&#65292;&#38500;&#38750;&#65292;&#20320;&#30830;&#23454;&#24819;&#35201;&#29992;&#36825;&#20010;&#21151;&#33021;&#12290;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="clusters"></a>9.7.&nbsp;&#38598;&#32676;&#20027;&#26426;&#21644;&#38598;&#32676;&#26381;&#21153;&#30340;&#30417;&#25511;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e22441"></a>9.7.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>&#26377;&#20123;&#20154;&#21672;&#35810;&#26377;&#20851;&#38598;&#32676;&#20027;&#26426;&#21644;&#38598;&#32676;&#26381;&#21153;&#30340;&#30417;&#25511;&#65292;&#22240;&#32780;&#20889;&#26412;&#25991;&#26723;&#26469;&#35299;&#37322;&#22914;&#20309;&#26469;&#20570;&#65292;&#24076;&#26395;&#36825;&#20123;&#31616;&#21333;&#26126;&#30637;&#12290;</p><p>&#39318;&#20808;&#26469;&#35299;&#37322;&#19968;&#19979;&#8220;&#38598;&#32676;&#8221;&#12290;&#29992;&#20363;&#23376;&#26469;&#35828;&#26126;&#36739;&#23481;&#26131;&#29702;&#35299;&#12290;&#26377;5&#21488;&#20027;&#26426;&#26469;&#25552;&#20379;DNS&#35299;&#26512;&#26381;&#21153;&#65292;&#22914;&#26524;&#19968;&#21488;&#23445;&#26426;&#65292;&#36825;&#19981;&#31639;&#20160;&#20040;&#65292;&#22240;&#20026;&#20173;&#26087;&#26377;&#20960;&#21488;&#26426;&#22120;&#22312;&#25552;&#20379;DNS&#26381;&#21153;&#12290;&#22914;&#26524;&#38656;&#35201;&#30417;&#25511;&#36825;&#20010;DNS&#26381;&#21153;&#65292;&#37027;&#20040;&#23601;&#26377;5&#20010;DNS&#26381;&#21153;&#22120;&#65292;&#36825;&#31181;&#24773;&#20917;&#19979;&#65292;&#36825;&#20010;DNS&#26381;&#21153;&#34987;&#35748;&#20026;&#26159;&#19968;&#20010;<span class="strong"><strong>&#38598;&#32676;&#26381;&#21153;</strong></span>&#65292;&#23427;&#26377;5&#20010;&#29420;&#31435;&#30340;DNS&#26381;&#21153;&#26500;&#25104;&#12290;&#34429;&#28982;&#38656;&#35201;&#21508;&#33258;&#29420;&#31435;&#22320;&#23545;&#26381;&#21153;&#36827;&#34892;&#30417;&#25511;&#65292;&#20294;&#26356;&#20851;&#24515;&#30340;&#26159;&#25972;&#20307;&#30340;DNS&#26381;&#21153;&#38598;&#32676;&#33021;&#21542;&#27491;&#24120;&#24037;&#20316;&#65292;&#32780;&#19981;&#26159;&#26576;&#20010;&#29420;&#31435;&#30340;&#26381;&#21153;&#24037;&#20316;&#24773;&#20917;&#12290;</p><p>&#22914;&#26524;&#20320;&#26377;&#19968;&#20010;&#20027;&#26426;&#32676;&#26469;&#25552;&#20379;&#39640;&#21487;&#38752;&#24615;&#26381;&#21153;(&#38598;&#32676;)&#35299;&#20915;&#26041;&#26696;&#65292;&#36825;&#31181;&#24773;&#20917;&#34987;&#35748;&#20026;&#26159;&#19968;&#20010;<span class="strong"><strong>&#38598;&#32676;&#20027;&#26426;</strong></span>&#12290;&#22914;&#26524;&#19968;&#21488;&#20027;&#26426;&#23445;&#26426;&#65292;&#21478;&#19968;&#20010;&#23558;&#25509;&#31649;&#20840;&#37096;&#22833;&#25928;&#20027;&#26426;&#30340;&#24037;&#20316;&#12290;&#19968;&#20010;&#25552;&#31034;&#65292;&#22914;&#26524;&#24819;&#37197;&#32622;&#19968;&#20010;Linux&#38598;&#32676;&#31995;&#32479;&#65292;&#21487;&#20197;&#35775;&#38382;<a class="ulink" href="http://www.linux-ha.org" target="_top">&#39640;&#21487;&#38752;&#24615;Linux&#38598;&#32676;&#39033;&#30446;</a>&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e22459"></a>9.7.2.&nbsp;Plan of Attack</h3></div></div></div><p>&#26377;&#20960;&#27493;&#26469;&#30417;&#25511;&#38598;&#32676;&#26381;&#21153;&#21644;&#38598;&#32676;&#20027;&#26426;&#12290;&#19979;&#38754;&#23558;&#23613;&#21487;&#33021;&#31616;&#21333;&#22320;&#35828;&#26126;&#12290;&#30417;&#25511;&#38598;&#32676;&#20027;&#26426;&#21644;&#38598;&#32676;&#26381;&#21153;&#26377;&#20004;&#27493;&#35201;&#20570;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#30417;&#25511;&#38598;&#32676;&#20869;&#30340;&#20803;&#20214;</li><li>&#30417;&#25511;&#19968;&#20010;&#38598;&#21512;&#20307;</li></ol></div><p>&#30417;&#25511;&#38598;&#32676;&#20013;&#30340;&#20027;&#26426;&#19982;&#26381;&#21153;&#20803;&#20214;&#27604;&#36739;&#23481;&#26131;&#12290;&#20107;&#23454;&#19978;&#21487;&#33021;&#20320;&#24050;&#32463;&#20570;&#36807;&#21040;&#20102;&#12290;&#23545;&#20110;&#38598;&#32676;&#26381;&#21153;&#65292;&#21482;&#35201;&#30830;&#20445;&#24050;&#32463;&#23454;&#29616;&#20102;&#23545;&#38598;&#32676;&#26381;&#21153;&#20013;&#30340;&#27599;&#20010;&#26381;&#21153;&#37117;&#24050;&#32463;&#22788;&#20110;&#30417;&#25511;&#29366;&#24577;&#65292;&#22914;&#26524;&#26159;&#19968;&#20010;5&#21488;DNS&#26381;&#21153;&#32452;&#25104;&#30340;&#38598;&#32676;&#65292;&#35201;&#20445;&#35777;&#23450;&#20041;&#20986;&#20102;5&#21488;&#22495;&#21517;&#35299;&#26512;&#26381;&#21153;&#23545;&#35937;(&#21487;&#33021;&#20250;&#29992;&#21040;<span class="strong"><strong>check_dns</strong></span>&#25554;&#20214;)&#12290;&#23545;&#20110;&#38598;&#32676;&#20027;&#26426;&#65292;&#35201;&#30830;&#20445;&#23545;&#38598;&#32676;&#20027;&#26426;&#20013;&#30340;&#27599;&#19968;&#21488;&#37117;&#26377;&#23545;&#35937;&#23450;&#20041;(&#21516;&#26679;&#24517;&#39035;&#35201;&#32473;&#27599;&#20010;&#20027;&#26426;&#33267;&#23569;&#35201;&#32465;&#23450;&#19968;&#20010;&#26381;&#21153;)&#12290;</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#37325;&#35201;</h3>&#21487;&#33021;&#35201;&#20851;&#38381;&#38598;&#32676;&#20027;&#26426;&#25110;&#38598;&#32676;&#26381;&#21153;&#37324;&#27599;&#20010;&#20803;&#20214;&#30340;&#25253;&#35686;&#36890;&#30693;&#21151;&#33021;&#12290;&#34429;&#28982;&#27599;&#20010;&#20803;&#20214;&#27809;&#26377;&#29420;&#31435;&#36865;&#20986;&#36890;&#30693;&#65292;&#20294;&#20173;&#26087;&#21487;&#20197;&#22312;<a class="link" href="#cgis_status_cgi">&#24403;&#21069;&#29366;&#24577;CGI</a>&#27169;&#22359;&#37324;&#29420;&#31435;&#22320;&#26597;&#30475;&#27599;&#20010;&#38598;&#32676;&#20803;&#20214;&#29366;&#24577;&#26174;&#31034;&#12290;&#36825;&#26679;&#21487;&#33021;&#26377;&#21161;&#20110;&#26597;&#25214;&#38598;&#32676;&#26381;&#21153;&#30340;&#25925;&#38556;&#26681;&#28304;&#12290;</div><p>&#30417;&#25511;&#38598;&#32676;&#25972;&#20307;&#21487;&#20197;&#20351;&#29992;&#23545;&#38598;&#32676;&#27599;&#20010;&#20803;&#20214;&#26816;&#27979;&#30340;&#32531;&#23384;&#26816;&#27979;&#32467;&#26524;&#12290;&#34429;&#28982;&#20063;&#21487;&#20197;&#22312;&#38598;&#32676;&#26816;&#27979;&#30340;&#26102;&#20505;&#23545;&#20840;&#37096;&#20803;&#20214;&#36827;&#34892;&#20877;&#26816;&#27979;&#65292;&#20294;&#26377;&#32531;&#23384;&#32467;&#26524;&#30340;&#24773;&#20917;&#19979;&#20026;&#20160;&#20040;&#35201;&#20877;&#27425;&#28010;&#36153;&#24102;&#23485;&#21644;&#36164;&#28304;&#26469;&#20877;&#20570;&#19968;&#36941;&#21602;&#65311;&#32531;&#23384;&#32467;&#26524;&#22312;&#21738;&#37324;&#65311;&#22312;<a class="link" href="#status_file" title="&#34920;&nbsp;5.9.&nbsp;&#29366;&#24577;&#25991;&#20214;">&#29366;&#24577;&#25991;&#20214;</a>&#20013;&#20445;&#23384;&#20102;&#38598;&#32676;&#20013;&#30340;&#27599;&#20010;&#20803;&#20214;&#30340;&#32531;&#23384;&#26816;&#27979;&#32467;&#26524;(&#20551;&#23450;&#24050;&#32463;&#23545;&#27599;&#20010;&#20803;&#20214;&#36827;&#34892;&#30417;&#25511;)&#12290;&#37027;&#20010;<span class="strong"><strong>check_cluster</strong></span>&#25554;&#20214;&#34987;&#35774;&#35745;&#20026;&#22312;&#29366;&#24577;&#25991;&#20214;&#20013;&#21462;&#20986;&#32531;&#23384;&#26816;&#27979;&#32467;&#26524;&#26469;&#23436;&#25104;&#23545;&#38598;&#32676;&#26816;&#27979;&#12290;</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#37325;&#35201;</h3>&#34429;&#28982;&#27809;&#26377;&#23545;&#38598;&#32676;&#27599;&#20010;&#20803;&#20214;&#20351;&#33021;&#36890;&#30693;&#21151;&#33021;&#65292;&#20294;&#20173;&#26087;&#21487;&#20197;&#23436;&#25104;&#23545;&#38598;&#32676;&#25972;&#20307;&#30340;&#26816;&#27979;&#12290;</div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e22491"></a>9.7.3.&nbsp;&#20351;&#29992;&#38598;&#32676;&#26816;&#27979;<span class="strong"><strong>check_cluster</strong></span>&#25554;&#20214;</h3></div></div></div><p>&#37027;&#20010;check_cluster&#25554;&#20214;&#34987;&#35774;&#35745;&#20026;&#20174;&#38598;&#32676;&#20013;&#27599;&#20010;&#29420;&#31435;&#30340;&#38598;&#32676;&#20803;&#20214;&#29366;&#24577;&#32467;&#26524;&#20013;&#25552;&#20379;&#29366;&#24577;&#20449;&#24687;&#26469;&#29983;&#25104;&#38598;&#32676;&#25972;&#20307;&#29366;&#24577;&#12290;</p><p><span class="strong"><strong>check_cluster</strong></span>&#25554;&#20214;&#21487;&#20197;&#22312;Nagios&#25554;&#20214;&#36719;&#20214;&#21253;(<a class="ulink" href="http://sourceforge.net/projects/nagiosplug/" target="_top">http://sourceforge.net/projects/nagiosplug/</a>)&#30340;&#21457;&#34892;&#30446;&#24405;&#20013;&#25214;&#21040;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e22506"></a>9.7.4.&nbsp;&#30417;&#25511;&#26381;&#21153;&#38598;&#32676;</h3></div></div></div><p>&#20551;&#23450;&#35201;&#23545;&#19968;&#20010;&#30001;3&#21488;DNS&#26381;&#21153;&#32452;&#25104;&#30340;&#20102;&#20887;&#20313;&#22495;&#21517;&#35299;&#26512;&#26381;&#21153;&#32676;&#36827;&#34892;&#30417;&#25511;&#12290;&#39318;&#20808;&#65292;&#22312;&#20570;&#20026;&#19968;&#20010;&#38598;&#32676;&#30417;&#25511;&#20043;&#21069;&#65292;&#24050;&#32463;&#21487;&#20197;&#21508;&#33258;&#29420;&#31435;&#22320;&#23436;&#25104;&#23545;&#19977;&#20010;&#22495;&#21517;&#35299;&#26512;&#26381;&#21153;&#30340;&#30417;&#25511;&#65292;&#20551;&#23450;&#26159;3&#21488;DNS&#20027;&#26426;&#20998;&#21035;&#21483;host1&#12289;host2&#21644;host3&#65292;&#23427;&#20204;&#19978;&#38754;&#32465;&#23450;&#26377;&#21517;&#20026;"DNS Service"&#30340;&#26381;&#21153;&#12290;</p><p>&#20026;&#20102;&#23436;&#25104;&#23545;&#38598;&#32676;&#30417;&#25511;&#65292;&#38656;&#35201;&#21019;&#24314;&#19968;&#20010;"&#38598;&#32676;"&#26381;&#21153;&#23545;&#35937;&#12290;&#28982;&#32780;&#65292;&#22312;&#27492;&#20043;&#21069;&#65292;&#38656;&#35201;&#20808;&#23450;&#20041;&#19968;&#20010;&#23545;&#38598;&#32676;&#26381;&#21153;&#26816;&#27979;&#21629;&#20196;&#37197;&#32622;&#12290;&#20551;&#23450;&#36825;&#20010;&#21483;&#20570;<span class="strong"><strong>check_service_cluster</strong></span>&#21629;&#20196;&#26159;&#36825;&#26679;&#23450;&#20041;&#30340;&#65306;</p><pre class="programlisting">
<p>define command{
		command_name	check_service_cluster
		command_line	/usr/local/nagios/libexec/check_cluster --service -l $ARG1$ -w $ARG2$ -c $ARG3$ -d $ARG4$ 
		}</p></pre><p>&#29616;&#22312;&#23601;&#21487;&#20197;&#21019;&#24314;&#19968;&#20010;&#21483;"cluster"&#30340;&#38598;&#32676;&#26381;&#21153;&#23545;&#35937;&#20102;&#65292;&#37324;&#38754;&#29992;&#21018;&#21018;&#23450;&#20041;&#30340;<span class="strong"><strong>check_service_cluster</strong></span>&#21629;&#20196;&#26469;&#20570;&#26816;&#27979;&#12290;&#19979;&#38754;&#20363;&#23376;&#23558;&#31034;&#24847;&#22914;&#20309;&#26469;&#20570;&#12290;&#20363;&#23376;&#20013;&#32473;&#20986;&#20102;&#22914;&#26524;&#26377;2&#20010;&#25110;2&#20010;&#20197;&#19978;&#30340;&#26381;&#21153;&#22788;&#20110;&#38750;&#27491;&#24120;&#29366;&#24577;&#26102;&#23558;&#20250;&#20135;&#29983;&#19968;&#20010;&#32039;&#24613;&#29366;&#24577;&#65292;&#22914;&#26524;&#21482;&#26377;1&#20010;&#26381;&#21153;&#22788;&#20110;&#38750;&#27491;&#24120;&#29366;&#24577;&#26102;&#23558;&#20135;&#29983;&#21578;&#35686;&#29366;&#24577;&#65292;&#22914;&#26524;&#20840;&#37096;&#27491;&#24120;&#23558;&#36820;&#22238;&#19968;&#20010;&#38598;&#32676;&#26381;&#21153;&#22788;&#20110;"&#27491;&#24120;"&#30340;&#29366;&#24577;&#12290;</p><pre class="programlisting">
<p>define service{
		...
		check_command	check_service_cluster!"DNS Cluster"!1!2!$SERVICESTATEID:host1:DNS Service$,$SERVICESTATEID:host2:DNS Service$,$SERVICESTATEID:host3:DNS Service$
		...
		}</p></pre><p>&#24456;&#37325;&#35201;&#30340;&#19968;&#28857;&#26159;&#65292;&#35201;&#27880;&#24847;&#22312;&#38598;&#32676;&#26816;&#27979;&#21629;&#20196;&#37324;&#30340;&#31532;4&#20010;&#21629;&#20196;&#21442;&#25968;&#23439;$ARG4$&#37324;&#20351;&#29992;&#20102;&#19968;&#20010;&#36887;&#21495;&#20998;&#38548;&#30340;<span class="strong"><strong>&#25353;&#38656;</strong></span>&#26381;&#21153;&#29366;&#24577;<a class="link" href="#macros" title="8.2.&nbsp;&#29702;&#35299;Nagios&#23439;&#21450;&#20854;&#24037;&#20316;&#26426;&#21046;">&#23439;</a>&#21015;&#34920;&#65292;&#36825;&#20010;&#38750;&#24120;&#37325;&#35201;&#65281;Nagios&#23558;&#24403;&#21069;&#38598;&#32676;&#20013;&#30340;&#27599;&#20010;&#26381;&#21153;&#29366;&#24577;ID&#26469;&#22635;&#20805;&#36825;&#20123;&#25353;&#38656;&#23439;&#30340;&#29366;&#24577;&#20540;(&#29992;&#25968;&#20540;&#32780;&#19981;&#26159;&#23383;&#31526;&#20018;)&#65292;&#26377;&#20851;&#25353;&#38656;&#20027;&#26426;&#19982;&#26381;&#21153;&#23439;&#30340;&#20449;&#24687;&#21487;&#20197;&#26597;&#38405;<a class="link" href="#macros_ondemand" title="8.2.5.&nbsp;&#25353;&#38656;&#32780;&#25104;&#30340;&#23439;(on-demand macro)">&#36825;&#31687;</a>&#25991;&#26723;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e22540"></a>9.7.5.&nbsp;&#20027;&#26426;&#38598;&#32676;&#30340;&#30417;&#25511;</h3></div></div></div><p>&#23545;&#38598;&#32676;&#20027;&#26426;&#30340;&#30417;&#25511;&#19982;&#38598;&#32676;&#26381;&#21153;&#30456;&#31867;&#20284;&#65292;&#24403;&#28982;&#26368;&#20027;&#35201;&#30340;&#19981;&#21516;&#30340;&#32452;&#25104;&#38598;&#32676;&#30340;&#26159;&#20027;&#26426;&#32780;&#38750;&#26381;&#21153;&#12290;&#20026;&#23436;&#25104;&#23545;&#38598;&#32676;&#20027;&#26426;&#30340;&#30417;&#25511;&#65292;&#24517;&#39035;&#23450;&#20041;&#19968;&#20010;&#20351;&#29992;<span class="strong"><strong>check_cluster</strong></span>&#25554;&#20214;&#30340;&#26381;&#21153;&#23545;&#35937;&#12290;&#35813;&#26381;&#21153;&#23558;<span class="strong"><strong>&#19981;&#23646;&#20110;</strong></span>&#38598;&#32676;&#20013;&#30340;&#20219;&#20309;&#19968;&#20010;&#20027;&#26426;&#65292;&#22240;&#20026;&#32465;&#23450;&#22312;&#26576;&#20010;&#20027;&#26426;&#19978;&#26102;&#65292;&#24403;&#23427;&#23445;&#26426;&#26102;&#20250;&#20351;&#24471;&#38598;&#32676;&#20027;&#26426;&#30340;&#36890;&#30693;&#26080;&#27861;&#36865;&#20986;&#12290;&#25226;&#36825;&#20010;&#38598;&#32676;&#26381;&#21153;&#32465;&#23450;&#22312;Nagios&#36816;&#34892;&#20027;&#26426;&#19978;&#26159;&#20010;&#22909;&#20027;&#24847;&#12290;&#27605;&#31455;&#22914;&#26524;Nagios&#36816;&#34892;&#21487;&#20197;&#23545;&#38598;&#32676;&#26816;&#26597;&#65292;&#22914;&#26524;&#23445;&#25481;&#65292;&#20063;&#23601;&#26080;&#27861;&#36827;&#34892;&#30417;&#25511;&#20102;(&#38500;&#38750;&#20320;&#35774;&#32622;&#20102;<a class="link" href="#redundancy" title="9.3.&nbsp;&#20887;&#20313;&#24335;&#19982;&#22833;&#25928;&#24335;&#32593;&#32476;&#30417;&#25511;">&#20887;&#20313;&#30417;&#25511;&#20027;&#26426;</a>)...</p><p>&#19981;&#31649;&#22914;&#20309;&#65292;&#20551;&#23450;&#26377;&#19968;&#20010;&#21629;&#20196;<span class="strong"><strong>check_host_cluster</strong></span>&#30340;&#23450;&#20041;&#26159;&#36825;&#26679;&#30340;&#65306;</p><pre class="programlisting">
<p>define command{
		command_name	check_host_cluster
		command_line	/usr/local/nagios/libexec/check_cluster --host -l $ARG1$ -w $ARG2$ -c $ARG3$ -d $ARG4$ 
		}</p></pre><p>&#20551;&#35774;&#26159;&#20010;3&#21488;&#20027;&#26426;(&#20998;&#21035;&#21629;&#21517;&#20026;"host1"&#12289;"host2"&#21644;"host3")&#32452;&#25104;&#30340;&#38598;&#32676;&#20027;&#26426;&#12290;&#22914;&#26524;&#24819;&#35753;Nagios&#22312;&#21457;&#29616;&#26377;1&#21488;&#27809;&#26377;&#36816;&#34892;&#26102;&#36865;&#20986;&#21578;&#35686;&#25253;&#35686;&#65292;&#22312;2&#21488;&#25110;2&#21488;&#20197;&#19978;&#26102;&#36865;&#20986;&#32039;&#24613;&#25253;&#35686;&#65292;&#37027;&#20040;&#38598;&#32676;&#20027;&#26426;&#30340;&#30417;&#25511;&#20250;&#36825;&#26679;&#26469;&#23450;&#20041;&#65306;</p><pre class="programlisting">
<p>define service{
		...
		check_command	check_host_cluster!"Super Host Cluster"!1!2!$HOSTSTATEID:host1$,$HOSTSTATEID:host2$,$HOSTSTATEID:host3$
		...
		}</p></pre><p>&#24456;&#37325;&#35201;&#30340;&#19968;&#28857;&#26159;&#65292;&#35201;&#27880;&#24847;&#22312;&#38598;&#32676;&#26816;&#27979;&#21629;&#20196;&#37324;&#30340;&#31532;4&#20010;&#21442;&#25968;$ARG4$&#26159;&#20256;&#36882;&#20102;&#19968;&#20010;&#36887;&#21495;&#20998;&#38548;&#30340;<span class="strong"><strong>&#25353;&#38656;</strong></span>&#20027;&#26426;&#29366;&#24577;<a class="link" href="#macros" title="8.2.&nbsp;&#29702;&#35299;Nagios&#23439;&#21450;&#20854;&#24037;&#20316;&#26426;&#21046;">&#23439;</a>&#21015;&#34920;&#12290;&#36825;&#20010;&#24456;&#37325;&#35201;&#65281;Nagios&#23558;&#20250;&#29992;&#38598;&#32676;&#37324;&#24403;&#21069;&#21508;&#20010;&#20027;&#26426;&#29366;&#24577;&#30340;ID&#20540;(&#25968;&#20540;&#32780;&#19981;&#26159;&#23383;&#31526;&#20018;)&#26469;&#22635;&#20805;&#25353;&#38656;&#29366;&#24577;&#23439;&#12290;</p><p>&#23601;&#36825;&#20040;&#22810;&#12290;Nagios&#23558;&#23450;&#26399;&#22320;&#26816;&#27979;&#38598;&#32676;&#20027;&#26426;&#30340;&#29366;&#24577;&#24182;&#22312;&#29366;&#24577;&#21464;&#25442;&#26102;(&#20551;&#23450;&#24050;&#32463;&#20351;&#33021;&#20102;&#35813;&#26381;&#21153;&#30340;&#36890;&#30693;&#21151;&#33021;)&#36865;&#32473;&#20320;&#36890;&#30693;&#12290;&#27880;&#24847;&#23545;&#20110;&#38598;&#32676;&#37324;&#30340;&#27599;&#20010;&#20027;&#26426;&#25104;&#21592;&#65292;&#21487;&#33021;&#38656;&#35201;&#20851;&#38381;&#20027;&#26426;&#23445;&#26426;&#31561;&#30340;&#36890;&#30693;&#21151;&#33021;&#12290;&#35760;&#20303;&#65292;&#23545;&#20110;&#19968;&#20010;&#38598;&#32676;&#26469;&#35828;&#65292;&#20320;&#30495;&#27491;&#20851;&#24515;&#30340;&#19968;&#26159;&#26576;&#21488;&#20027;&#26426;&#30340;&#29366;&#24577;&#32780;&#26159;&#38598;&#32676;&#25972;&#20307;&#29366;&#24577;&#12290;&#20320;&#25110;&#35768;&#24819;&#22312;&#20027;&#26426;&#23545;&#35937;&#23450;&#20041;&#37324;&#21435;&#25481;&#26377;&#20851;&#19981;&#21487;&#36798;&#36890;&#30693;&#30340;&#21151;&#33021;&#65292;&#36825;&#21462;&#20915;&#20110;&#20320;&#30340;&#32593;&#32476;&#23618;&#24773;&#20917;&#20197;&#21450;&#22914;&#20309;&#29616;&#26500;&#24314;&#38598;&#32676;&#12290;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="adaptive"></a>9.8.&nbsp;&#36866;&#24212;&#24615;&#30417;&#25511;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e22582"></a>9.8.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>Nagios&#20801;&#35768;&#20320;&#22312;&#36816;&#34892;&#26102;&#23545;&#20027;&#26426;&#21644;&#26381;&#21153;&#36827;&#34892;&#29305;&#23450;&#26816;&#26597;&#26102;&#21464;&#26356;&#21629;&#20196;&#12290;&#25105;&#25226;&#36825;&#31181;&#29305;&#24615;&#31216;&#20026;"&#36866;&#24212;&#24615;&#30417;&#25511;"&#12290;&#35831;&#27880;&#24847;Nagios&#30340;&#36866;&#24212;&#24615;&#30417;&#25511;&#23545;&#20110;99%&#30340;&#29992;&#25143;&#26159;&#19981;&#38656;&#35201;&#30340;&#65292;&#20294;&#21487;&#20197;&#35753;&#20320;&#20570;&#20123;&#26377;&#36259;&#30340;&#20107;&#24773;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e22587"></a>9.8.2.&nbsp;&#20160;&#20040;&#21487;&#20197;&#25913;&#65311;</h3></div></div></div><p>&#22312;&#36816;&#34892;&#26102;&#65292;&#22914;&#19979;&#26381;&#21153;&#26816;&#27979;&#23646;&#24615;&#26159;&#21487;&#20197;&#20462;&#25913;&#30340;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#26816;&#27979;&#21629;&#20196;&#21644;&#21629;&#20196;&#34892;&#21442;&#25968;</li><li>&#26816;&#27979;&#21608;&#26399;</li><li>&#26368;&#22823;&#26816;&#27979;&#23581;&#35797;&#27425;&#25968;</li><li>&#26816;&#27979;&#21608;&#26399;</li><li>&#20107;&#20214;&#22788;&#29702;&#21629;&#20196;&#21450;&#21629;&#20196;&#21442;&#25968;</li></ol></div><p>&#22312;&#36816;&#34892;&#26102;&#65292;&#22914;&#19979;&#20027;&#26426;&#26816;&#27979;&#23646;&#24615;&#26159;&#21487;&#20197;&#20462;&#25913;&#30340;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#26816;&#27979;&#21629;&#20196;&#21644;&#21629;&#20196;&#34892;&#21442;&#25968;</li><li>&#26816;&#27979;&#21608;&#26399;</li><li>&#26368;&#22823;&#26816;&#27979;&#23581;&#35797;&#27425;&#25968;</li><li>&#26816;&#27979;&#21608;&#26399;</li><li>&#20107;&#20214;&#22788;&#29702;&#21629;&#20196;&#21450;&#21629;&#20196;&#21442;&#25968;</li></ol></div><p>&#22312;&#36816;&#34892;&#26102;&#65292;&#22914;&#19979;&#30340;&#20840;&#23616;&#23646;&#24615;&#21487;&#20197;&#20462;&#25913;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#20840;&#23616;&#30340;&#20027;&#26426;&#20107;&#20214;&#22788;&#29702;&#21629;&#20196;&#21450;&#21629;&#20196;&#21442;&#25968;</li><li>&#20840;&#23616;&#30340;&#26381;&#21153;&#20107;&#20214;&#22788;&#29702;&#21629;&#20196;&#21450;&#21629;&#20196;&#21442;&#25968;</li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e22623"></a>9.8.3.&nbsp;&#36866;&#24212;&#24615;&#30417;&#25511;&#30340;&#22806;&#37096;&#21629;&#20196;</h3></div></div></div><p>&#20026;&#20102;&#22312;&#36816;&#34892;&#26102;&#25913;&#21464;&#20840;&#23616;&#30340;&#12289;&#20027;&#26426;&#30340;&#25110;&#26381;&#21153;&#30340;&#23646;&#24615;&#65292;&#20320;&#38656;&#35201;&#32473;&#20986;&#24688;&#24403;&#30340;<a class="link" href="#extcommands" title="6.9.&nbsp;&#22806;&#37096;&#21629;&#20196;">&#22806;&#37096;&#21629;&#20196;</a>&#32473;Nagios&#65292;&#22312;<a class="link" href="#command_file" title="&#34920;&nbsp;5.23.&nbsp;&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;">&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;</a>&#20013;&#35774;&#32622;&#12290;&#34920;&#26684;&#21015;&#20986;&#30340;&#19981;&#21516;&#23646;&#24615;&#21487;&#20197;&#23436;&#25104;&#23545;&#21508;&#33258;&#19981;&#21516;&#30340;&#23646;&#24615;&#36827;&#34892;&#20462;&#25913;&#12290;</p><p>&#19968;&#20010;&#32473;&#36866;&#24212;&#24615;&#26816;&#27979;&#32780;&#21046;&#20316;&#30340;&#23436;&#25972;&#22806;&#37096;&#21629;&#20196;&#21015;&#34920;&#65288;&#21253;&#25324;&#22914;&#20309;&#20351;&#29992;&#26679;&#20363;&#65289;&#21487;&#20197;&#22312;&#22914;&#19979;URL&#20013;&#25214;&#21040;&#65306;<a class="ulink" href="http://www.nagios.org/developerinfo/externalcommands/" target="_top">http://www.nagios.org/developerinfo/externalcommands/</a></p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><div><img src="../pub/images/note.gif"></div><p>&#27880;&#24847;&#20197;&#19979;&#20869;&#23481;&#65306;</p></div><div class="orderedlist"><ol type="1"><li>&#24403;&#20462;&#25913;&#26816;&#27979;&#21629;&#20196;&#12289;&#26816;&#27979;&#21608;&#26399;&#25110;&#20107;&#20214;&#22788;&#29702;&#21477;&#26564;&#26102;&#65292;&#24456;&#37325;&#35201;&#30340;&#19968;&#28857;&#26159;&#22312;Nagios&#21551;&#21160;&#20043;&#21069;&#35201;&#27880;&#24847;&#32473;&#36825;&#20123;&#26032;&#20540;&#23450;&#20041;&#22909;&#12290;&#22914;&#26524;&#22312;Nagios&#21551;&#21160;&#20043;&#21518;&#65292;&#20219;&#20309;&#35797;&#22270;&#20462;&#25913;&#36825;&#20123;&#35774;&#32622;&#30340;&#23581;&#35797;&#37117;&#20250;&#34987;&#24573;&#30053;&#12290;</li><li>&#20320;&#21487;&#20197;&#32473;&#25351;&#23450;&#29305;&#23450;&#30340;&#21629;&#20196;&#21442;&#25968;&#32473;&#36825;&#20123;&#21629;&#20196;&#21517;&#65293;&#21482;&#26159;&#20351;&#29992;&#20998;&#38548;&#31526;(!)&#20998;&#24320;&#20960;&#20010;&#21629;&#20196;&#21442;&#25968;&#12290;&#26356;&#22810;&#30340;&#26377;&#20851;&#22914;&#20309;&#23450;&#20041;&#21629;&#20196;&#21442;&#25968;&#30340;&#20449;&#24687;&#21487;&#20197;&#22312;<a class="link" href="#macros" title="8.2.&nbsp;&#29702;&#35299;Nagios&#23439;&#21450;&#20854;&#24037;&#20316;&#26426;&#21046;">&#23439;</a>&#21450;&#24212;&#29992;&#30340;&#25991;&#26723;&#20013;&#25214;&#21040;&#12290;</li></ol></div></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="passivestatetranslation"></a>9.9.&nbsp;&#24378;&#21046;&#24335;&#20027;&#26426;&#29366;&#24577;&#36801;&#31227;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e22653"></a>9.9.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>&#24403;Nagios&#29992;&#24378;&#21046;&#26816;&#27979;&#26041;&#24335;&#20174;&#36828;&#31243;&#28304;&#25509;&#25910;&#20027;&#26426;&#26816;&#27979;&#32467;&#26524;&#26102;&#65288;&#22914;&#20854;&#20182;&#30340;Nagios&#20998;&#24067;&#24335;&#23454;&#20363;&#25110;&#20998;&#25955;&#24335;&#23433;&#35013;&#65289;&#65292;&#30001;&#36828;&#31243;&#36164;&#28304;&#19978;&#25253;&#21578;&#30340;&#20027;&#26426;&#30340;&#29366;&#24577;&#21487;&#33021;&#24182;&#19981;&#33021;&#27491;&#30830;&#22320;&#26174;&#31034;&#22312;Nagios&#30340;&#35270;&#22270;&#19978;&#12290;&#22312;&#22788;&#20110;&#20998;&#24067;&#24335;&#25110;&#20998;&#25955;&#24335;&#23433;&#35013;&#26041;&#24335;&#19979;&#30001;&#22810;&#20010;Nagios&#23454;&#20363;&#32467;&#26524;&#20013;&#20445;&#35777;&#27491;&#30830;&#22320;&#26174;&#31034;&#20027;&#26426;&#29366;&#24577;&#26159;&#38750;&#24120;&#37325;&#35201;&#30340;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e22658"></a>9.9.2.&nbsp;&#19981;&#21516;&#30340;&#20840;&#23616;&#35270;&#22270;</h3></div></div></div><p>&#19979;&#22270;&#32473;&#20986;&#20998;&#25955;&#24335;&#23433;&#35013;&#30340;&#31616;&#21333;&#20363;&#23376;&#12290;&#22270;&#20013;</p><div class="orderedlist"><ol type="1"><li><span class="strong"><strong>Nagios-A</strong></span>&#26159;&#20027;&#30417;&#25511;&#26381;&#21153;&#22120;&#24182;&#21487;&#20197;&#23545;&#20840;&#23616;&#30340;&#36335;&#30001;&#22120;&#21644;&#20132;&#25442;&#26426;&#36827;&#34892;&#30417;&#25511;&#12290;</li><li><span class="strong"><strong>Nagios-B</strong></span>&#21644;<span class="strong"><strong>Nagios-C</strong></span>&#26159;&#21518;&#22791;&#30340;&#30417;&#25511;&#26381;&#21153;&#22120;&#65292;&#21487;&#20197;&#20174;<span class="strong"><strong>Nagios-A</strong></span>&#25509;&#25910;&#24378;&#21046;&#26816;&#27979;&#32467;&#26524;&#12290;</li><li>&#24403;<span class="strong"><strong>Router-C</strong></span>&#21644;<span class="strong"><strong>Router-D</strong></span>&#22788;&#20110;&#25925;&#38556;&#24182;&#31163;&#32447;&#29366;&#24577;&#12290;</li></ol></div><div><img src="../pub/images/passivehosttranslation.png"></div><p>&#37027;&#20040;<span class="strong"><strong>Router-C</strong></span>&#21644;<span class="strong"><strong>Router-D</strong></span>&#24403;&#21069;&#24212;&#22788;&#20110;&#20160;&#20040;&#29366;&#24577;&#65311;&#32467;&#26524;&#21462;&#20915;&#20110;&#20320;&#35775;&#38382;&#21738;&#20010;Nagios&#23454;&#20363;&#12290;</p><div class="orderedlist"><ol type="1"><li><span class="strong"><strong>Nagios-A</strong></span>&#25253;&#21578;<span class="strong"><strong>Router-D</strong></span>&#22788;&#20110;&#23445;&#26426;&#19988;<span class="strong"><strong>Router-C</strong></span>&#22788;&#20110;&#19981;&#21487;&#36798;</li><li><span class="strong"><strong>Nagios-B</strong></span>&#25253;&#21578;<span class="strong"><strong>Router-C</strong></span>&#22788;&#20110;&#23445;&#26426;&#19988;<span class="strong"><strong>Router-D</strong></span>&#22788;&#20110;&#19981;&#21487;&#36798;</li><li><span class="strong"><strong>Nagios-C</strong></span>&#25253;&#21578;&#20840;&#37096;&#30340;&#36335;&#30001;&#22120;&#22788;&#20110;&#23445;&#26426;</li></ol></div><p>&#27599;&#20010;Nagios&#23454;&#20363;&#37117;&#26377;&#19981;&#21516;&#30340;&#32593;&#32476;&#29366;&#24577;&#35270;&#22270;&#65292;&#30001;&#20110;&#21518;&#22791;&#30340;&#30417;&#25511;&#26381;&#21153;&#19981;&#21487;&#20197;&#30450;&#30446;&#22320;&#20174;&#20027;&#30417;&#25511;&#20027;&#26381;&#21153;&#22120;&#25509;&#25910;&#20027;&#26426;&#29366;&#24577;&#21542;&#21017;&#23427;&#20204;&#20250;&#24471;&#19981;&#21040;&#27491;&#30830;&#30340;&#32593;&#32476;&#29366;&#24577;&#20449;&#24687;&#12290;</p><p>&#30001;&#20110;&#27809;&#26377;&#36716;&#25442;&#20027;&#30417;&#25511;&#26381;&#21153;&#22120;(<span class="strong"><strong>Nagios-A</strong></span>)&#30340;&#24378;&#21046;&#20027;&#26426;&#26816;&#27979;&#32467;&#26524;&#65292;<span class="strong"><strong>Nagios-C</strong></span>&#23558;&#35748;&#20026;<span class="strong"><strong>Router-D</strong></span>&#22788;&#20110;&#19981;&#21487;&#36798;&#65292;&#38500;&#38750;&#23427;&#33258;&#24050;&#24471;&#21040;&#20854;&#30495;&#30340;&#23445;&#26426;&#12290;&#30456;&#21516;&#22320;&#65292;&#23445;&#26426;&#25110;&#19981;&#21487;&#36798;&#29366;&#24577;(&#20174;<span class="strong"><strong>Nagios-A</strong></span>)&#30475;&#36807;&#21435;&#30340;<span class="strong"><strong>Router-C</strong></span>&#21644;<span class="strong"><strong>Router-D</strong></span>&#30340;&#35270;&#22270;&#20250;&#20351;&#24471;<span class="strong"><strong>Nagios-B</strong></span>&#30340;&#35270;&#22270;&#32763;&#36716;&#12290;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><div><img src="../pub/images/note.gif"></div><p>&#26377;&#26102;&#20320;&#19981;&#24819;&#35753;Nagios&#22240;&#20026;&#36828;&#31243;&#30340;&#28304;&#32473;&#20986;&#30340;&#29366;&#24577;&#32780;&#20351;&#24471;&#35270;&#22270;&#20013;&#26174;&#31034;&#23445;&#26426;&#25110;&#19981;&#21487;&#36798;&#29366;&#24577;&#32780;&#32763;&#36716;&#20320;&#22788;&#20110;&#8220;&#27491;&#30830;&#8221;&#29366;&#24577;&#30340;&#35270;&#22270;&#65292;&#22914;&#20998;&#24067;&#24335;&#29615;&#22659;&#19979;&#65292;&#20320;&#24819;&#35753;&#20013;&#24515;&#30417;&#25511;&#26381;&#21153;&#22120;&#24471;&#21040;&#19981;&#21516;&#30340;&#20998;&#24067;&#33410;&#28857;&#19979;&#30340;&#19981;&#21516;&#32593;&#32476;&#37096;&#20998;&#30340;&#35270;&#22270;&#12290;</p></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e22749"></a>9.9.3.&nbsp;&#20351;&#33021;&#29366;&#24577;&#36801;&#31227;</h3></div></div></div><p>&#40664;&#35748;&#24773;&#20917;&#19979;&#65292;Nagios&#23558;<span class="strong"><strong>&#19981;&#20250;</strong></span>&#33258;&#21160;&#22320;&#29992;&#24378;&#21046;&#26816;&#27979;&#30340;&#23445;&#26426;&#21644;&#19981;&#21487;&#36798;&#29366;&#24577;&#26469;&#36801;&#31227;&#29366;&#24577;&#12290;&#22914;&#26524;&#20320;&#38656;&#35201;&#24517;&#39035;&#20351;&#33021;&#23427;&#12290;</p><p>&#33258;&#21160;&#22320;&#23558;&#24378;&#21046;&#26816;&#27979;&#32467;&#26524;&#36827;&#34892;&#29366;&#24577;&#36801;&#31227;&#21463;<a class="link" href="#translate_passive_host_checks" title="&#34920;&nbsp;5.60.&nbsp;&#20256;&#36882;&#24378;&#21046;&#20027;&#26426;&#26816;&#27979;&#32467;&#26524;&#36873;&#39033;">translate_passive_host_checks</a>&#21464;&#37327;&#30340;&#25511;&#21046;&#12290;&#20351;&#33021;&#23427;&#23558;&#20351;&#26412;&#22320;&#30340;Nagios&#23454;&#20363;&#25509;&#25910;&#26469;&#33258;&#36828;&#31243;&#36164;&#28304;&#30340;&#23445;&#26426;&#21644;&#19981;&#21487;&#36798;&#29366;&#24577;&#36801;&#31227;&#32780;&#25913;&#21464;&#26174;&#31034;&#29366;&#24577;&#12290;</p></div></div></div><div class="chapter" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title"><a name="selfoption"></a>&#31532;&nbsp;10&nbsp;&#31456;&nbsp;Nagios&#33258;&#36523;&#30340;&#23433;&#20840;&#24615;&#19982;&#24615;&#33021;&#35843;&#20248;</h2></div></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="security"></a>10.1.&nbsp;&#33258;&#36523;&#23433;&#20840;&#30456;&#20851;&#20107;&#39033;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e22768"></a>10.1.1.&nbsp;&#20171;&#32461;</h3></div></div></div><div><img src="../pub/images/security.png"></div><p>&#36825;&#37324;&#32473;&#20986;&#30340;&#19996;&#35199;&#26159;&#20351;&#29992;Nagios&#36719;&#20214;&#26102;&#24212;&#35813;&#26102;&#21051;&#22238;&#39038;&#30340;&#65292;&#20197;&#20415;&#20110;&#23558;&#23427;&#32622;&#20026;&#23433;&#20840;&#30340;&#27169;&#24335;&#20043;&#19979;&#12290;</p><p>&#32593;&#31649;&#30417;&#25511;&#26426;&#22120;&#21487;&#20197;&#35270;&#20026;&#19968;&#20010;&#32593;&#32476;&#31995;&#32479;&#30340;&#21518;&#38376;&#12290;&#22312;&#24456;&#22810;&#26696;&#20363;&#20013;&#65292;Nagios&#26381;&#21153;&#22120;&#21487;&#20197;&#36879;&#36807;&#38450;&#28779;&#22681;&#26469;&#31649;&#29702;&#36828;&#31243;&#26381;&#21153;&#22120;&#12290;&#22312;&#36825;&#20123;&#26696;&#20363;&#20013;&#65292;&#23427;&#21487;&#20197;&#26597;&#21040;&#36828;&#31243;&#20027;&#26426;&#19978;&#30340;&#24456;&#22810;&#20449;&#24687;&#12290;&#32593;&#31649;&#30417;&#25511;&#20027;&#26426;&#19968;&#33324;&#35201;&#32473;&#23450;&#20114;&#20449;&#31561;&#32423;&#20197;&#26597;&#23547;&#36828;&#31243;&#20027;&#26426;&#65292;&#36825;&#23558;&#20250;&#20351;&#22312;&#32593;&#32476;&#31995;&#32479;&#20013;&#24314;&#31435;&#19968;&#20010;&#28508;&#22312;&#30340;&#25915;&#20987;&#21518;&#38376;&#12290;&#22914;&#26524;&#25915;&#30772;&#20102;&#32593;&#31649;&#30417;&#25511;&#20027;&#26426;&#23558;&#20250;&#20351;&#26576;&#27425;&#25915;&#20987;&#26356;&#23481;&#26131;&#24471;&#25163;&#65292;&#23588;&#20854;&#26159;&#37319;&#29992;&#20849;&#20139;&#30340;SSH&#23494;&#30721;&#30340;&#24773;&#20917;&#19979;&#26356;&#26159;&#22914;&#27492;&#12290;</p><p>&#22914;&#26524;&#25915;&#20987;&#32773;&#20855;&#22791;&#19978;&#20256;&#26816;&#27979;&#32467;&#26524;&#25110;&#26159;&#25191;&#34892;Nagios&#30340;&#23432;&#25252;&#22806;&#37096;&#21629;&#20196;&#30340;&#26435;&#38480;&#65292;&#37027;&#20040;&#20182;&#23601;&#26377;&#21487;&#33021;&#25915;&#38519;&#25972;&#20010;&#32593;&#32476;&#65292;&#25552;&#20132;&#20266;&#36896;&#30340;&#30417;&#25511;&#25968;&#25454;&#65292;&#20135;&#29983;&#19968;&#31995;&#21015;&#20266;&#25253;&#35686;&#65292;&#25110;&#26159;&#35302;&#21457;&#20986;&#19968;&#31995;&#21015;&#30340;&#20107;&#20214;&#22788;&#29702;&#33050;&#26412;&#25191;&#34892;&#65292;&#36798;&#21040;&#37325;&#21551;&#21160;&#26381;&#21153;&#12289;&#21453;&#22797;&#20851;&#30005;&#31561;&#65292;&#29978;&#33267;&#21487;&#33021;&#26356;&#20026;&#20005;&#37325;&#12290;</p><p>&#21478;&#19968;&#31181;&#21487;&#33021;&#24615;&#26159;&#25915;&#20987;&#32773;&#20855;&#22791;&#22312;&#25968;&#25454;&#20449;&#24687;&#26469;&#28304;&#32593;&#32476;&#36335;&#24452;&#19978;&#21957;&#25506;&#25968;&#25454;&#30340;&#33021;&#21147;&#12290;&#22914;&#26524;&#36890;&#35759;&#20449;&#36947;&#19981;&#26159;&#21152;&#23494;&#30340;&#65292;&#25915;&#20987;&#21487;&#20197;&#36890;&#36807;&#35266;&#27979;&#30417;&#25511;&#25968;&#25454;&#26469;&#31397;&#25506;&#32593;&#32476;&#30340;&#32570;&#38519;&#12290;&#27604;&#22914;&#36825;&#31181;&#24773;&#20917;&#65292;&#22914;&#26524;&#25915;&#20987;&#32773;&#21487;&#20197;&#21957;&#25506;&#21040;&#19968;&#27573;&#26102;&#38388;&#20869;&#30340;&#32593;&#32476;&#20013;&#31995;&#32479;CPU&#21644;&#30913;&#30424;&#36127;&#33655;&#30340;&#30417;&#25511;&#25968;&#25454;&#65292;&#20197;&#21450;&#22312;&#20856;&#22411;&#30340;&#29992;&#25143;&#30331;&#24405;&#31995;&#32479;&#24773;&#20917;&#19979;&#36825;&#20123;&#25968;&#25454;&#65292;&#23601;&#21487;&#20197;&#25512;&#26029;&#20986;&#22312;&#20309;&#26102;&#21457;&#36215;&#25915;&#20987;&#20197;&#28040;&#32791;&#31995;&#32479;&#36164;&#28304;&#26368;&#20026;&#21512;&#36866;&#65292;&#32780;&#36825;&#19968;&#20999;&#37117;&#19981;&#20250;&#32473;&#20986;&#39044;&#35686;&#12290;</p><p>&#22312;&#20351;&#29992;Nagios&#20026;&#22522;&#30784;&#30340;&#30417;&#25511;&#31995;&#32479;&#26102;&#65292;&#36825;&#37324;&#26377;&#19968;&#20123;&#24314;&#35758;&#26469;&#20445;&#35777;&#31995;&#32479;&#36816;&#34892;&#30340;&#23433;&#20840;&#21487;&#38752;...</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e22782"></a>10.1.2.&nbsp;&#26368;&#20339;&#23454;&#36341;</h3></div></div></div><div class="orderedlist"><ol type="1"><li><span class="bold"><strong>&#20351;&#29992;&#19987;&#29992;&#30417;&#25511;&#26426;&#22120;</strong></span>&#12290;I would recommend that you install Nagios on a server that is dedicated to monitoring (and possibly other admin tasks). Protect your monitoring server as if it were one of the most important servers on your network. Keep running services to a minimum and lock down access to it via TCP wrappers, firewalls, etc. Since the Nagios server is allowed to talk to your servers and may be able to poke through your firewalls, allowing users access to your monitoring server can be a security risk. Remember, its always easier to gain root access through a system security hole if you have a local account on a box.<div><img src="../pub/images/security3.png"></div></li><li><span class="bold"><strong>Don't Run Nagios As Root</strong></span>. Nagios doesn't need to run as root, so don't do it. You can tell Nagios to drop privileges after startup and run as another user/group by using the <a class="link" href="#nagios_user" title="&#34920;&nbsp;5.11.&nbsp;Nagios&#29992;&#25143;">nagios_user</a> and <a class="link" href="#nagios_group" title="&#34920;&nbsp;5.12.&nbsp;Nagios&#32452;">nagios_group</a> directives in the main config file. If you need to execute event handlers or plugins which require root access, you might want to try using <a class="ulink" href="http://www.courtesan.com/sudo/sudo.html" target="_top">sudo</a>.</li><li><span class="bold"><strong>Lock Down The Check Result Directory</strong></span>. Make sure that only the <span class="strong"><strong>nagios</strong></span> user is able to read/write in the <a class="link" href="#check_result_path" title="&#34920;&nbsp;5.51.&nbsp;&#26816;&#27979;&#32467;&#26524;&#20445;&#23384;&#36335;&#24452;">check result path</a>. If users other than <span class="strong"><strong>nagios</strong></span> (or <span class="strong"><strong>root</strong></span>) are able to write to this directory, they could send fake host/service check results to the Nagios daemon. This could result in annoyances (bogus notifications) or security problems (event handlers being kicked off).</li><li><span class="bold"><strong>Lock Down The External Command File</strong></span>. If you enable <a class="link" href="#extcommands" title="6.9.&nbsp;&#22806;&#37096;&#21629;&#20196;">external commands</a>, make sure you set proper permissions on the <span class="strong"><strong>/usr/local/nagios/var/rw</strong></span> directory. You only want the Nagios user (usually <span class="strong"><strong>nagios</strong></span>) and the web server user (usually <span class="strong"><strong>nobody</strong></span>, <span class="strong"><strong>httpd</strong></span>, <span class="strong"><strong>apache2</strong></span>, or <span class="strong"><strong>www-data</strong></span>) to have permissions to write to the command file. If you've installed Nagios on a machine that is dedicated to monitoring and admin tasks and is not used for public accounts, that should be fine. If you've installed it on a public or multi-user machine (not recommended), allowing the web server user to have write access to the command file can be a security problem. After all, you don't want just any user on your system controlling Nagios through the external command file. In this case, I would suggest only granting write access on the command file to the <span class="strong"><strong>nagios</strong></span> user and using something like <a class="ulink" href="http://cgiwrap.sourceforge.net/" target="_top">CGIWrap</a> to run the CGIs as the <span class="strong"><strong>nagios</strong></span> user instead of <span class="strong"><strong>nobody</strong></span>.</li><li><span class="bold"><strong>Require Authentication In The CGIs</strong></span>. I would strongly suggest requiring authentication for accessing the CGIs. Once you do that, read the documentation on the default rights that authenticated contacts have, and only authorize specific contacts for additional rights as necessary. Instructions on setting up authentication and configuring authorization rights can be found <a class="link" href="#cgiauth" title="10.5.&nbsp;&#23545;CGIs&#31243;&#24207;&#27169;&#22359;&#30340;&#25480;&#26435;&#19982;&#35748;&#35777;">here</a>. If you disable the CGI authentication features using the <a class="link" href="#use_authentication" title="&#34920;&nbsp;5.127.&nbsp;&#24212;&#29992;&#35748;&#35777;">use_authentication</a> directive in the CGI config file, the <a class="link" href="#cgis_cmd_cgi">command CGI</a> will refuse to write any commands to the <a class="link" href="#command_file" title="&#34920;&nbsp;5.23.&nbsp;&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;">external command file</a>. After all, you don't want the world to be able to control Nagios do you?</li><li><span class="bold"><strong>Use Full Paths In Command Definitions</strong></span>. When you define commands, make sure you specify the <span class="strong"><strong>full path</strong></span> (not a relative one) to any scripts or binaries you're executing.</li><li><span class="bold"><strong>Hide Sensitive Information With $USERn$ Macros</strong></span>. The CGIs read the <a class="link" href="#configmain" title="5.2.&nbsp;&#20027;&#37197;&#32622;&#25991;&#20214;&#36873;&#39033;">main config file</a> and <a class="link" href="#configobject" title="5.3.&nbsp;&#23545;&#35937;&#37197;&#32622;&#27010;&#35272;">object config file(s)</a>, so you don't want to keep any sensitive information (usernames, passwords, etc) in there. If you need to specify a username and/or password in a command definition use a $USERn$ <a class="link" href="#macros" title="8.2.&nbsp;&#29702;&#35299;Nagios&#23439;&#21450;&#20854;&#24037;&#20316;&#26426;&#21046;">macro</a> to hide it. $USERn$ macros are defined in one or more <a class="link" href="#resource_file" title="&#34920;&nbsp;5.6.&nbsp;&#36164;&#28304;&#25991;&#20214;">resource files</a>. The CGIs will not attempt to read the contents of resource files, so you can set more restrictive permissions (600 or 660) on them. See the sample <span class="strong"><strong>resource.cfg</strong></span> file in the base of the Nagios distribution for an example of how to define $USERn$ macros.</li><li><span class="bold"><strong>Strip Dangerous Characters From Macros</strong></span>. Use the <a class="link" href="#illegal_macro_output_chars" title="&#34920;&nbsp;5.113.&nbsp;&#38750;&#27861;&#23439;&#36755;&#20986;&#23383;&#31526;">illegal_macro_output_chars</a> directive to strip dangerous characters from the $HOSTOUTPUT$, $SERVICEOUTPUT$, $HOSTPERFDATA$, and $SERVICEPERFDATA$ macros before they're used in notifications, etc. Dangerous characters can be anything that might be interpreted by the shell, thereby opening a security hole. An example of this is the presence of backtick (`) characters in the $HOSTOUTPUT$, $SERVICEOUTPUT$, $HOSTPERFDATA$, and/or $SERVICEPERFDATA$ macros, which could allow an attacker to execute an arbitrary command as the nagios user (one good reason not to run Nagios as the root user).</li><li><span class="bold"><strong>Secure Access to Remote Agents</strong></span>. Make sure you lock down access to agents (NRPE, NSClient, SNMP, etc.) on remote systems using firewalls, access lists, etc. You don't want everyone to be able to query your systems for status information. This information could be used by an attacker to execute remote event handler scripts or to determine the best times to go unnoticed.<div><img src="../pub/images/security1.png"></div></li><li><span class="bold"><strong>Secure Communication Channels</strong></span>. Make sure you encrypt communication channels between different Nagios installations and between your Nagios servers and your monitoring agents whenever possible. You don't want someone to be able to sniff status information going across your network. This information could be used by an attacker to determine the best times to go unnoticed.<div><img src="../pub/images/security2.png"></div></li></ol></div></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tuning"></a>10.2.&nbsp;Nagios&#30340;&#24615;&#33021;&#35843;&#20248;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e22919"></a>10.2.1.&nbsp;&#20171;&#32461;</h3></div></div></div><div><img src="../pub/images/tuning.png"></div><p>&#20320;&#24050;&#32463;&#23433;&#35013;&#22909;Nagios&#24182;&#36816;&#34892;&#20102;&#23427;&#65292;&#24182;&#19988;&#20320;&#24320;&#22987;&#24819;&#30693;&#36947;&#22914;&#20309;&#26469;&#26356;&#22909;&#22320;&#29992;&#23427;&#12290;&#24403;&#38656;&#35201;&#30417;&#25511;&#22823;&#37327;(&gt; 1,000)&#20027;&#26426;&#21644;&#26381;&#21153;&#26377;&#24517;&#35201;&#26469;&#20248;&#21270;Nagios&#20197;&#22686;&#24378;&#24615;&#33021;&#12290;&#20248;&#21270;Nagios&#26102;&#26377;&#20960;&#20010;&#22320;&#26041;&#35201;&#30475;&#19968;&#19979;...</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e22925"></a>10.2.2.&nbsp;&#20248;&#21270;&#30340;&#25307;&#25968;&#65306;</h3></div></div></div><div class="orderedlist"><ol type="1"><li>&#29992;MRTG&#26469;&#32472;&#21046;&#24615;&#33021;&#32479;&#35745;&#22270;&#34920;&#12290;&#20026;&#20102;&#20445;&#30041;&#19979;Nagios&#23433;&#35013;&#36807;&#31243; In order to keep track of how well your Nagios installation handles load over time and how your configuration changes affect it, you should be graphing several important statistics with MRTG. This is really, really, really useful when it comes to tuning the performance of a Nagios installation. Really. Information on how to do this can be found <a class="link" href="#mrtggraphs" title="10.4.&nbsp;&#20351;&#29992;MRTG&#32472;&#21046;&#24615;&#33021;&#25968;&#25454;">here</a>.</li><li>Use large installation tweaks. Enabling the <a class="link" href="#use_large_installation_tweaks" title="&#34920;&nbsp;5.66.&nbsp;Large Installation Tweaks Option">use_large_installation_tweaks</a> option may provide you with better performance. Read more about what this option does <a class="link" href="#largeinstalltweaks" title="9.4.&nbsp;&#22823;&#22411;&#23433;&#35013;&#27169;&#24335;&#30340;&#21464;&#21270;">here</a>.</li><li>Disable environment macros. Macros are normally made available to check, notification, event handler, etc. commands as environment variables. This can be a problem in a large Nagios installation, as it consumes some additional memory and (more importantly) more CPU. If your scripts don't need to access the macros as environment variables (e.g. you pass all necessary macros on the command line), you don't need this feature. You can prevent macros from being made available as environment variables by using the <a class="link" href="#enable_environment_macros" title="&#34920;&nbsp;5.69.&nbsp;&#29615;&#22659;&#21464;&#37327;&#20013;&#26631;&#20934;&#23439;&#21487;&#29992;&#24615;&#36873;&#39033;">enable_environment_macros</a> option.</li><li>Check Result Reaper Frequency. The <a class="link" href="#check_result_reaper_frequency" title="&#34920;&nbsp;5.49.&nbsp;&#26816;&#27979;&#32467;&#26524;&#30340;&#22238;&#25910;&#39057;&#24230;">check_result_reaper_frequency</a> variable determines how often Nagios should check for host and service check results that need to be processed. The maximum amount of time it can spend processing those results is determined by the max reaper time (see below). If your reaper frequency is too high (too infrequent), you might see high latencies for host and service checks.</li><li>Max Reaper Time. The <a class="link" href="#max_check_result_reaper_time" title="&#34920;&nbsp;5.50.&nbsp;&#26368;&#22823;&#26816;&#27979;&#32467;&#26524;&#22238;&#25910;&#26102;&#38388;&#27573;">max_check_result_reaper_time</a> variables determines the maximum amount of time the Nagios daemon can spend processing the results of host and service checks before moving on to other things - like executing new host and service checks. Too high of a value can result in large latencies for your host and service checks. Too low of a value can have the same effect. If you're experiencing high latencies, adjust this variable and see what effect it has. Again, you should be <a class="link" href="#mrtggraphs" title="10.4.&nbsp;&#20351;&#29992;MRTG&#32472;&#21046;&#24615;&#33021;&#25968;&#25454;">graphing statistics</a> in order to make this determination.</li><li>Adjust buffer slots. You may need to adjust the value of the <a class="link" href="#external_command_buffer_slots" title="&#34920;&nbsp;5.24.&nbsp;&#22806;&#37096;&#21629;&#20196;&#32531;&#20914;&#38431;&#21015;&#25968;">external_command_buffer_slots</a> option. Graphing buffer slot statistics with <a class="link" href="#mrtggraphs" title="10.4.&nbsp;&#20351;&#29992;MRTG&#32472;&#21046;&#24615;&#33021;&#25968;&#25454;">MRTG</a> (see above) is critical in determining what values you should use for this option.</li><li>Check service latencies to determine best value for maximum concurrent checks. Nagios can restrict the number of maximum concurrently executing service checks to the value you specify with the <a class="link" href="#max_concurrent_checks" title="&#34920;&nbsp;5.48.&nbsp;&#26368;&#22823;&#24182;&#21457;&#26381;&#21153;&#26816;&#27979;&#25968;">max_concurrent_checks</a> option. This is good because it gives you some control over how much load Nagios will impose on your monitoring host, but it can also slow things down. If you are seeing high latency values (&gt; 10 or 15 seconds) for the majority of your service checks (via the <a class="link" href="#cgis_extinfo_cgi">extinfo CGI</a>), you are probably starving Nagios of the checks it needs. That's not Nagios's fault - its yours. Under ideal conditions, all service checks would have a latency of 0, meaning they were executed at the exact time that they were scheduled to be executed. However, it is normal for some checks to have small latency values. I would recommend taking the minimum number of maximum concurrent checks reported when running Nagios with the -s command line argument and doubling it. Keep increasing it until the average check latency for your services is fairly low. More information on service check scheduling can be found <a class="link" href="#checkscheduling" title="8.8.&nbsp;&#26381;&#21153;&#21644;&#20027;&#26426;&#30340;&#23450;&#26399;&#26816;&#27979;">here</a>.</li><li>Use passive checks when possible. The overhead needed to process the results of <a class="link" href="#passivechecks" title="6.14.&nbsp;&#24378;&#21046;&#26816;&#27979;">passive service checks</a> is much lower than that of "normal" active checks, so make use of that piece of info if you're monitoring a slew of services. It should be noted that passive service checks are only really useful if you have some external application doing some type of monitoring or reporting, so if you're having Nagios do all the work, this won't help things.</li><li>Avoid using interpreted plugins. One thing that will significantly reduce the load on your monitoring host is the use of compiled (C/C++, etc.) plugins rather than interpreted script (Perl, etc) plugins. While Perl scripts and such are easy to write and work well, the fact that they are compiled/interpreted at every execution instance can significantly increase the load on your monitoring host if you have a lot of service checks. If you want to use Perl plugins, consider compiling them into true executables using perlcc(1) (a utility which is part of the standard Perl distribution) or compiling Nagios with an embedded Perl interpreter (see below).</li><li>Use the embedded Perl interpreter. If you're using a lot of Perl scripts for service checks, etc., you will probably find that compiling the <a class="link" href="#embeddedperl" title="12.1.&nbsp;&#20351;&#29992;&#20869;&#23884;Perl&#35299;&#37322;&#22120;">embedded Perl interpreter</a> into the Nagios binary will speed things up.</li><li>Optimize host check commands. If you're checking host states using the check_ping plugin you'll find that host checks will be performed much faster if you break up the checks. Instead of specifying a <span class="strong"><strong>max_attempts</strong></span> value of 1 in the host definition and having the check_ping plugin send 10 ICMP packets to the host, it would be much faster to set the <span class="strong"><strong>max_attempts</strong></span> value to 10 and only send out 1 ICMP packet each time. This is due to the fact that Nagios can often determine the status of a host after executing the plugin once, so you want to make the first check as fast as possible. This method does have its pitfalls in some situations (i.e. hosts that are slow to respond may be assumed to be down), but I you'll see faster host checks if you use it. Another option would be to use a faster plugin (i.e. check_fping) as the <span class="strong"><strong>host_check_command</strong></span> instead of check_ping.</li><li>Schedule regular host checks. Scheduling regular checks of hosts can actually help performance in Nagios. This is due to the way the <a class="link" href="#cachedchecks" title="9.5.&nbsp;&#32531;&#23384;&#26816;&#27979;">cached check logic</a> works (see below). Prior to Nagios 3, regularly scheduled host checks used to result in a big performance hit. This is no longer the case, as host checks are run in parallel - just like service checks. To schedule regular checks of a host, set the <span class="strong"><strong>check_interval</strong></span> directive in the <a class="link" href="#objectdefinitions_host">host definition</a> to something greater than 0.</li><li>Enable cached host checks. Beginning in Nagios 3, on-demand host checks can benefit from caching. On-demand host checks are performed whenever Nagios detects a service state change. These on-demand checks are executed because Nagios wants to know if the host associated with the service changed state. By enabling cached host checks, you can optimize performance. In some cases, Nagios may be able to used the old/cached state of the host, rather than actually executing a host check command. This can speed things up and reduce load on monitoring server. In order for cached checks to be effective, you need to schedule regular checks of your hosts (see above). More information on cached checks can be found <a class="link" href="#cachedchecks" title="9.5.&nbsp;&#32531;&#23384;&#26816;&#27979;">here</a>.</li><li>Don't use agressive host checking. Unless you're having problems with Nagios recognizing host recoveries, I would recommend not enabling the <a class="link" href="#use_aggressive_host_checking" title="&#34920;&nbsp;5.59.&nbsp;&#36827;&#21462;&#24335;&#20027;&#26426;&#26816;&#27979;&#36873;&#39033;">use_aggressive_host_checking</a> option. With this option turned off host checks will execute much faster, resulting in speedier processing of service check results. However, host recoveries can be missed under certain circumstances when this it turned off. For example, if a host recovers and all of the services associated with that host stay in non-OK states (and don't "wobble" between different non-OK states), Nagios may miss the fact that the host has recovered. A few people may need to enable this option, but the majority don't and I would recommendnot using it unless you find it necessary...</li><li>External command optimizations. If you're processing a lot of external commands (i.e. passive checks in a <a class="link" href="#distributed" title="9.2.&nbsp;&#20998;&#24067;&#24335;&#30417;&#25511;">distributed setup</a>, you'll probably want to set the <a class="link" href="#command_check_interval" title="&#34920;&nbsp;5.22.&nbsp;&#22806;&#37096;&#21629;&#20196;&#26816;&#27979;&#38388;&#38548;">command_check_interval</a> variable to -1. This will cause Nagios to check for external commands as often as possible. You should also consider increasing the number of available <a class="link" href="#external_command_buffer_slots" title="&#34920;&nbsp;5.24.&nbsp;&#22806;&#37096;&#21629;&#20196;&#32531;&#20914;&#38431;&#21015;&#25968;">external command buffer slots</a>. Buffers slots are used to hold external commands that have been read from the <a class="link" href="#command_file" title="&#34920;&nbsp;5.23.&nbsp;&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;">external command file</a> (by a separate thread) before they are processed by the Nagios daemon. If your Nagios daemon is receiving a lot of passive checks or external commands, you could end up in a situation where the buffers are always full. This results in child processes (external scripts, NSCA daemon, etc.) blocking when they attempt to write to the external command file. I would highly recommend that you graph external command buffer slot usage using MRTG and the nagiostats utility as described <a class="link" href="#mrtggraphs" title="10.4.&nbsp;&#20351;&#29992;MRTG&#32472;&#21046;&#24615;&#33021;&#25968;&#25454;">here</a>, so you understand the typical external command buffer usage of your Nagios installation.</li><li>Optimize hardware for maximum performance. NOTE: Hardware performance shouldn't be an issue unless: 1) you're monitoring thousands of services, 2) you're doing a lot of post-processing of performance data, etc. Your system configuration and your hardware setup are going to directly affect how your operating system performs, so they'll affect how Nagios performs. The most common hardware optimization you can make is with your hard drives. CPU and memory speed are obviously factors that affect performance, but disk access is going to be your biggest bottlenck. Don't store plugins, the status log, etc on slow drives (i.e. old IDE drives or NFS mounts). If you've got them, use UltraSCSI drives or fast IDE drives. An important note for IDE/Linux users is that many Linux installations do not attempt to optimize disk access. If you don't change the disk access parameters (by using a utility like hdparam), you'll loose out on a lot of the speedy features of the new IDE drives.</li></ol></div></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="nagiostats"></a>10.3.&nbsp;&#20351;&#29992;Nagios&#29366;&#24577;&#24037;&#20855;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e23045"></a>10.3.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>&#22312;Nagios&#21457;&#34892;&#21253;&#20013;&#21547;&#26377;&#19968;&#20010;&#21517;&#20026;nagiostats&#30340;&#24037;&#20855;&#65292;&#23427;&#19982;Nagios&#20027;&#31243;&#24207;&#19968;&#36215;&#34987;&#32534;&#35793;&#21644;&#23433;&#35013;&#12290;Nagios&#29366;&#24577;&#24037;&#20855;&#21487;&#20197;&#22312;&#32447;&#22320;&#25910;&#38598;&#21508;&#31181;Nagios&#30340;&#36816;&#34892;&#20449;&#24687;&#24182;&#23558;&#22312;<a class="link" href="#tuning" title="10.2.&nbsp;Nagios&#30340;&#24615;&#33021;&#35843;&#20248;">&#24615;&#33021;&#35843;&#20248;</a>&#20013;&#38750;&#24120;&#26377;&#29992;&#12290;&#21487;&#20197;&#25226;&#20449;&#24687;&#25630;&#25104;&#35201;&#20040;&#26159;&#21487;&#38405;&#35835;&#30340;&#35201;&#20040;MRTG&#20860;&#23481;&#22411;&#30340;&#26684;&#24335;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e23053"></a>10.3.2.&nbsp;&#29992;&#27861;&#20449;&#24687;</h3></div></div></div><p>&#21487;&#20197;&#29992;&#21442;&#25968;-help&#26469;&#36816;&#34892;<span class="strong"><strong>nagiostats</strong></span>&#20197;&#21462;&#24471;&#29992;&#27861;&#20449;&#24687;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e23061"></a>10.3.3.&nbsp;&#21487;&#38405;&#35835;&#30340;&#36755;&#20986;</h3></div></div></div><p>&#20026;&#33719;&#21462;&#20154;&#21487;&#38405;&#35835;&#30340;&#22312;&#32447;&#36816;&#34892;Nagios&#24615;&#33021;&#25968;&#25454;&#30340;&#20449;&#24687;&#65292;&#20351;&#29992;&#21629;&#20196;&#34892;-c&#21442;&#25968;&#26469;&#36816;&#34892;<span class="strong"><strong>nagiostats</strong></span>&#24037;&#20855;&#24182;&#25351;&#23450;&#20027;&#37197;&#32622;&#25991;&#20214;&#20301;&#32622;&#65292;&#35937;&#36825;&#26679;&#65306;</p><pre class="programlisting"><p>[nagios@lanman ~]# /usr/local/nagios/bin/nagiostats -c /usr/local/nagios/etc/nagios.cfg
	
	
	Nagios Stats 3.0prealpha-05202006
	Copyright (c) 2003-2007 Ethan Galstad (www.nagios.org)
	Last Modified: 05-20-2006
	License: GPL
	
	CURRENT STATUS DATA
	------------------------------------------------------
	Status File:                            /usr/local/nagios/var/status.dat
	Status File Age:                        0d 0h 0m 9s
	Status File Version:                    3.0prealpha-05202006
	
	Program Running Time:                   0d 5h 20m 39s
	Nagios PID:                             10119
	Used/High/Total Command Buffers:        0 / 0 / 64
	Used/High/Total Check Result Buffers:   0 / 7 / 512
	
	Total Services:                         95
	Services Checked:                       94
	Services Scheduled:                     91
	Services Actively Checked:              94
	Services Passively Checked:             1
	Total Service State Change:             0.000 / 78.950 / 1.026 %
	Active Service Latency:                 0.000 / 4.272 / 0.561 sec
	Active Service Execution Time:          0.000 / 60.007 / 2.066 sec
	Active Service State Change:            0.000 / 78.950 / 1.037 %
	Active Services Last 1/5/15/60 min:     4 / 68 / 91 / 91
	Passive Service State Change:           0.000 / 0.000 / 0.000 %
	Passive Services Last 1/5/15/60 min:    0 / 0 / 0 / 0
	Services Ok/Warn/Unk/Crit:              58 / 16 / 0 / 21
	Services Flapping:                      1
	Services In Downtime:                   0
	
	Total Hosts:                            24
	Hosts Checked:                          24
	Hosts Scheduled:                        24
	Hosts Actively Checked:                 24
	Host Passively Checked:                 0
	Total Host State Change:                0.000 / 9.210 / 0.384 %
	Active Host Latency:                    0.000 / 0.446 / 0.219 sec
	Active Host Execution Time:             1.019 / 10.034 / 2.764 sec
	Active Host State Change:               0.000 / 9.210 / 0.384 %
	Active Hosts Last 1/5/15/60 min:        5 / 22 / 24 / 24
	Passive Host State Change:              0.000 / 0.000 / 0.000 %
	Passive Hosts Last 1/5/15/60 min:       0 / 0 / 0 / 0
	Hosts Up/Down/Unreach:                  18 / 4 / 2
	Hosts Flapping:                         0
	Hosts In Downtime:                      0
	
	Active Host Checks Last 1/5/15 min:     9 / 52 / 164
	Scheduled:                           4 / 23 / 75
	On-demand:                           3 / 23 / 69
	Cached:                              2 / 6 / 20
	Passive Host Checks Last 1/5/15 min:    0 / 0 / 0
	Active Service Checks Last 1/5/15 min:  9 / 80 / 244
	Scheduled:                           9 / 80 / 244
	On-demand:                           0 / 0 / 0
	Cached:                              0 / 0 / 0
	Passive Service Checks Last 1/5/15 min: 0 / 0 / 0
	
	External Commands Last 1/5/15 min:      0 / 0 / 0
	
[nagios@lanman ~]# 
</p></pre><p>&#22914;&#20320;&#25152;&#35265;&#65292;&#23427;&#26174;&#31034;&#20102;Nagios&#36827;&#31243;&#22312;&#19981;&#21516;&#32479;&#35745;&#39057;&#24230;&#19978;&#30340;&#19968;&#31995;&#21015;&#25968;&#23383;&#65292;&#26377;&#22810;&#20010;&#20540;&#22312;&#32479;&#35745;&#39057;&#24230;&#19978;&#26174;&#31034;&#65292;&#20027;&#35201;&#26159;(&#38500;&#38750;&#29305;&#21035;&#25351;&#23450;)&#26368;&#23567;&#20540;&#12289;&#26368;&#22823;&#20540;&#21644;&#24179;&#22343;&#20540;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e23074"></a>10.3.4.&nbsp;MRTG&#38598;&#25104;</h3></div></div></div><p>&#21487;&#20197;&#23558;<span class="strong"><strong>nagiostats</strong></span>&#24037;&#20855;&#19982;MRTG&#25110;&#20854;&#20182;&#20860;&#23481;&#31243;&#24207;&#38598;&#25104;&#26469;&#26174;&#31034;Nagios&#30340;&#32479;&#35745;&#32467;&#26524;&#12290;&#20026;&#23436;&#25104;&#23427;&#65292;&#29992;--mrtg&#21644;--data&#21442;&#25968;&#26469;&#36816;&#34892;<span class="strong"><strong>nagiostats</strong></span>&#24037;&#20855;&#12290;&#21442;&#25968;--data&#21487;&#25351;&#23450;&#21738;&#20010;&#21738;&#31181;&#32479;&#35745;&#20540;&#34987;&#32472;&#21046;&#25104;&#22270;&#65292;&#21487;&#29992;&#30340;&#20540;&#21487;&#20197;&#36890;&#36807;&#29992;--help&#21629;&#20196;&#21442;&#25968;&#36816;&#34892;<span class="strong"><strong>nagiostats</strong></span>&#26469;&#26597;&#25214;&#12290;</p><div><img src="../pub/images/note.gif"></div><p>&#27880;&#24847;&#65306;&#26377;&#20851;&#20351;&#29992;<span class="strong"><strong>nagiostats</strong></span>&#26469;&#23545;Nagios&#32479;&#35745;&#29366;&#24577;&#32467;&#26524;&#32472;&#21046;MRTG&#22270;&#34920;&#20449;&#24687;&#21487;&#20197;&#26597;&#38405;<a class="link" href="#mrtggraphs" title="10.4.&nbsp;&#20351;&#29992;MRTG&#32472;&#21046;&#24615;&#33021;&#25968;&#25454;">&#36825;&#31687;&#25991;&#26723;</a>&#12290;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mrtggraphs"></a>10.4.&nbsp;&#20351;&#29992;MRTG&#32472;&#21046;&#24615;&#33021;&#25968;&#25454;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e23100"></a>10.4.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p><a class="link" href="#nagiostats" title="10.3.&nbsp;&#20351;&#29992;Nagios&#29366;&#24577;&#24037;&#20855;">Nagios&#29366;&#24577;&#24212;&#29992;&#24037;&#20855;</a>&#21487;&#20197;&#21033;&#29992;<a class="ulink" href="http://oss.oetiker.ch/mrtg/" target="_top">MRTG</a>&#32472;&#21046;&#22810;&#31181;Nagios&#24615;&#33021;&#32479;&#35745;&#22270;&#34920;&#12290;&#36825;&#20010;&#24456;&#37325;&#35201;&#65292;&#22240;&#20026;&#23427;&#21487;&#20197;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#30830;&#20445;Nagios&#34987;&#26356;&#26377;&#25928;&#29575;&#22320;&#25805;&#20316;&#65307;</li><li>&#23450;&#20301;&#30417;&#25511;&#36807;&#31243;&#20013;&#30340;&#38382;&#39064;&#65307;</li><li>&#24863;&#30693;&#22240;Nagios&#37197;&#32622;&#20462;&#25913;&#32780;&#23548;&#33268;&#30340;&#24615;&#33021;&#20914;&#31361;&#24433;&#21709;&#65307;</li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e23117"></a>10.4.2.&nbsp;MRTG&#37197;&#32622;&#26679;&#20363;</h3></div></div></div><p>&#32472;&#21046;&#21508;&#31181;Nagios&#30340;&#24615;&#33021;&#32479;&#35745;&#22270;&#30340;MRTG&#37197;&#32622;&#25991;&#20214;&#29255;&#27573;&#21487;&#26597;&#30475;Nagios&#21457;&#34892;&#21253;&#37324;<span class="strong"><strong>sample-config/</strong></span>&#23376;&#30446;&#24405;&#19979;&#30340;<span class="strong"><strong>mrtg.cfg</strong></span>&#25991;&#20214;&#12290;&#22914;&#26524;&#38656;&#35201;&#21487;&#20197;&#21019;&#24314;&#24615;&#33021;&#20449;&#24687;&#30340;&#20854;&#20182;&#22270;&#34920;&#25991;&#20214; &#65293; &#26679;&#20363;&#21482;&#26159;&#25552;&#20379;&#20102;&#19968;&#20010;&#22909;&#30340;&#36215;&#28857;&#12290;</p><p>&#19968;&#26086;&#20320;&#22797;&#21046;&#36825;&#20123;&#26679;&#20363;&#25991;&#20214;&#21040;&#20320;&#30340;MRTG&#37197;&#32622;&#25991;&#20214;(/etc/mrtg/mrtg.cfg)&#37324;&#65292;&#20320;&#23558;&#22312;MRTG&#30340;&#19979;&#27425;&#36816;&#34892;&#26102;&#24471;&#21040;&#36825;&#20123;&#26032;&#22270;&#34920;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e23130"></a>10.4.3.&nbsp;&#22270;&#34920;&#23454;&#20363;</h3></div></div></div><p>&#19979;&#38754;&#23558;&#25551;&#36848;&#19968;&#19979;&#20960;&#20010;&#26679;&#20363;MRTG&#22270;&#34920;&#30340;&#20869;&#23481;&#21450;&#29992;&#36884;...</p><div class="table"><a name="d0e23135"></a><p class="title"><b>&#34920;&nbsp;10.1.&nbsp;</b></p><div class="table-contents"><table border="1"><colgroup><col><col></colgroup><tbody><tr><td><p>&#33258;&#20027;&#20027;&#26426;&#26816;&#27979;&#65293;&#35813;&#22270;&#26174;&#31034;&#20102;&#27839;&#26102;&#38388;&#36724;&#20570;&#36807;&#22810;&#23569;&#27425;&#33258;&#20027;&#20027;&#26426;&#26816;&#27979;(&#21253;&#25324;&#35268;&#26684;&#21270;&#35745;&#21010;&#26816;&#27979;&#21644;&#25353;&#38656;&#26816;&#27979;)&#65292;&#26377;&#21161;&#20110;&#29702;&#35299;&#65306;</p><div class="orderedlist"><ol type="1"><li><a class="link" href="#hostchecks" title="6.11.&nbsp;&#20027;&#26426;&#26816;&#27979;">&#20027;&#26426;&#26816;&#27979;</a></li><li><a class="link" href="#dependencychecks" title="8.12.&nbsp;&#20381;&#36182;&#26816;&#27979;&#30340;&#21069;&#22788;&#29702;">&#20027;&#26426;&#20381;&#36182;&#26816;&#27979;&#30340;&#21069;&#22788;&#29702;</a></li><li><a class="link" href="#cachedchecks" title="9.5.&nbsp;&#32531;&#23384;&#26816;&#27979;">&#32531;&#23384;&#26816;&#27979;</a></li></ol></div></td><td><div><img src="../pub/images/mrtg-activehostchecks.png"></div></td></tr><tr><td><p>&#33258;&#20027;&#26381;&#21153;&#26816;&#27979;&#65293;&#35813;&#22270;&#26174;&#31034;&#20102;&#27839;&#26102;&#38388;&#36724;&#20570;&#36807;&#22810;&#23569;&#27425;&#33258;&#20027;&#26381;&#21153;&#26816;&#27979;(&#21253;&#25324;&#35268;&#26684;&#21270;&#35745;&#21010;&#26816;&#27979;&#21644;&#25353;&#38656;&#26816;&#27979;)&#65292;&#26377;&#21161;&#20110;&#29702;&#35299;&#65306;</p><div class="orderedlist"><ol type="1"><li><a class="link" href="#servicechecks" title="6.12.&nbsp;&#26381;&#21153;&#26816;&#27979;">&#26381;&#21153;&#26816;&#27979;</a></li><li><a class="link" href="#dependencychecks" title="8.12.&nbsp;&#20381;&#36182;&#26816;&#27979;&#30340;&#21069;&#22788;&#29702;">&#26381;&#21153;&#20381;&#36182;&#26816;&#27979;&#30340;&#21069;&#22788;&#29702;</a></li><li><a class="link" href="#cachedchecks" title="9.5.&nbsp;&#32531;&#23384;&#26816;&#27979;">&#32531;&#23384;&#26816;&#27979;</a></li></ol></div></td><td><div><img src="../pub/images/mrtg-activeservicechecks.png"></div></td></tr><tr><td><p>&#20027;&#26426;&#21644;&#26381;&#21153;&#26816;&#27979;&#32531;&#23384;&#26816;&#27979;&#65293;&#35813;&#22270;&#26174;&#31034;&#20102;&#27839;&#26102;&#38388;&#36724;&#20570;&#36807;&#22810;&#23569;&#27425;&#20027;&#26426;&#19982;&#26381;&#21153;&#32531;&#23384;&#26816;&#27979;&#12290;&#26377;&#21161;&#20110;&#29702;&#35299;&#65306;</p><div class="orderedlist"><ol type="1"><li><a class="link" href="#cachedchecks" title="9.5.&nbsp;&#32531;&#23384;&#26816;&#27979;">&#32531;&#23384;&#26816;&#27979;</a></li><li><a class="link" href="#dependencychecks" title="8.12.&nbsp;&#20381;&#36182;&#26816;&#27979;&#30340;&#21069;&#22788;&#29702;">&#20027;&#26426;&#19982;&#26381;&#21153;&#20381;&#36182;&#26816;&#26597;&#30340;&#21069;&#22788;&#29702;</a></li></ol></div></td><td><div><img src="../pub/images/mrtg-cachedchecks.png"></div></td></tr><tr><td><p>&#24378;&#21046;&#20027;&#26426;&#21644;&#26381;&#21153;&#26816;&#27979;&#65293;&#35813;&#22270;&#26174;&#31034;&#20102;&#27839;&#26102;&#38388;&#36724;&#20570;&#36807;&#22810;&#23569;&#27425;&#24378;&#21046;&#20027;&#26426;&#19982;&#26381;&#21153;&#26816;&#27979;&#12290;&#26377;&#21161;&#20110;&#29702;&#35299;&#65306;</p><div class="orderedlist"><ol type="1"><li><a class="link" href="#passivechecks" title="6.14.&nbsp;&#24378;&#21046;&#26816;&#27979;">&#24378;&#21046;&#26816;&#27979;</a></li></ol></div></td><td><div><img src="../pub/images/mrtg-passivechecks.png"></div></td></tr><tr><td><p>&#20027;&#26426;&#21644;&#26381;&#21153;&#33258;&#20027;&#26816;&#27979;&#65293;&#35813;&#22270;&#26174;&#31034;&#20102;&#27839;&#26102;&#38388;&#36724;&#19978;<span class="strong"><strong>&#25345;&#32493;&#22320;</strong></span>&#26377;&#22810;&#23569;&#20010;&#20027;&#26426;&#19982;&#26381;&#21153;(&#24635;&#25968;&#37327;)&#33258;&#20027;&#26816;&#27979;&#12290;&#26377;&#21161;&#20110;&#29702;&#35299;&#65306;</p><div class="orderedlist"><ol type="1"><li><a class="link" href="#activechecks" title="6.13.&nbsp;&#33258;&#20027;&#26816;&#27979;">&#33258;&#20027;&#26816;&#27979;</a></li></ol></div></td><td><div><img src="../pub/images/mrtg-activelychecked.png"></div></td></tr><tr><td><p>&#20027;&#26426;&#21644;&#26381;&#21153;&#24378;&#21046;&#26816;&#27979;&#65293;&#35813;&#22270;&#26174;&#31034;&#20102;&#27839;&#26102;&#38388;&#36724;&#19978;<span class="strong"><strong>&#25345;&#32493;&#22320;</strong></span>&#26377;&#22810;&#23569;&#20010;&#20027;&#26426;&#19982;&#26381;&#21153;(&#24635;&#25968;&#37327;)&#24378;&#21046;&#26816;&#27979;&#12290;&#26377;&#21161;&#20110;&#29702;&#35299;&#65306;</p><div class="orderedlist"><ol type="1"><li><a class="link" href="#passivechecks" title="6.14.&nbsp;&#24378;&#21046;&#26816;&#27979;">&#24378;&#21046;&#26816;&#27979;</a></li></ol></div></td><td><div><img src="../pub/images/mrtg-passivelychecked.png"></div></td></tr><tr><td><p>&#26381;&#21153;&#26816;&#27979;&#20256;&#36755;&#26102;&#24310;&#19982;&#25191;&#34892;&#30340;&#24179;&#22343;&#26102;&#38388;&#65293;&#35813;&#22270;&#26174;&#31034;&#20102;&#27839;&#26102;&#38388;&#36724;&#19978;&#26377;&#20851;&#26381;&#21153;&#26816;&#27979;&#30340;&#20256;&#36755;&#26102;&#24310;&#21644;&#25191;&#34892;&#26102;&#38388;&#30340;&#24179;&#22343;&#20540;&#12290;&#26377;&#21161;&#20110;&#29702;&#35299;&#65306;</p><div class="orderedlist"><ol type="1"><li><a class="link" href="#servicechecks" title="6.12.&nbsp;&#26381;&#21153;&#26816;&#27979;">&#26381;&#21153;&#26816;&#27979;</a></li><li><a class="link" href="#tuning" title="10.2.&nbsp;Nagios&#30340;&#24615;&#33021;&#35843;&#20248;">&#24615;&#33021;&#35843;&#20248;</a></li></ol></div>
	       <p>&#33509;&#26159;&#26377;&#23621;&#39640;&#19981;&#19979;&#30340;&#20256;&#36755;&#26102;&#24310;&#21487;&#33021;&#26159;&#30001;&#20110;&#19979;&#21015;&#21442;&#25968;&#38656;&#35201;&#35843;&#25972;&#65306;</p><div class="orderedlist"><ol type="1"><li><a class="link" href="#max_concurrent_checks" title="&#34920;&nbsp;5.48.&nbsp;&#26368;&#22823;&#24182;&#21457;&#26381;&#21153;&#26816;&#27979;&#25968;">max_concurrent_checks</a></li><li><a class="link" href="#check_result_reaper_frequency" title="&#34920;&nbsp;5.49.&nbsp;&#26816;&#27979;&#32467;&#26524;&#30340;&#22238;&#25910;&#39057;&#24230;">check_result_reaper_frequency</a></li><li><a class="link" href="#max_check_result_reaper_time" title="&#34920;&nbsp;5.50.&nbsp;&#26368;&#22823;&#26816;&#27979;&#32467;&#26524;&#22238;&#25910;&#26102;&#38388;&#27573;">max_check_result_reaper_time</a></li></ol></div></td><td><div><img src="../pub/images/mrtg-serviceperfstats.png"></div></td></tr><tr><td><p>&#26381;&#21153;&#29366;&#24577;&#25913;&#21464;&#30340;&#24179;&#22343;&#20540;&#65293;&#35813;&#22270;&#26174;&#31034;&#20102;&#27839;&#26102;&#38388;&#36724;&#26381;&#21153;&#29366;&#24577;&#25913;&#21464;&#30340;&#30334;&#20998;&#27604;(&#21464;&#21270;&#29575;&#30340;&#24230;&#37327;)&#65292;&#19981;&#35770;&#26159;&#22312;&#33258;&#20027;&#36824;&#26159;&#24378;&#21046;&#26041;&#24335;&#65292;&#26368;&#21518;&#19968;&#27425;&#26816;&#27979;&#26174;&#31034;&#26381;&#21153;&#20013;&#27490;&#30340;&#24773;&#20917;&#12290;&#26377;&#21161;&#20110;&#29702;&#35299;&#65306;</p><div class="orderedlist"><ol type="1"><li><a class="link" href="#flapping" title="8.7.&nbsp;&#24863;&#30693;&#21644;&#22788;&#29702;&#29366;&#24577;&#25238;&#21160;">&#25238;&#21160;&#26816;&#26597;</a></li></ol></div></td><td><div><img src="../pub/images/mrtg-servicestatechange.png"></div></td></tr><tr><td><p>&#20027;&#26426;&#26816;&#27979;&#30340;&#20256;&#36755;&#26102;&#24310;&#19982;&#25191;&#34892;&#30340;&#24179;&#22343;&#26102;&#38388;&#65293;&#35813;&#22270;&#26174;&#31034;&#20102;&#27839;&#26102;&#38388;&#36724;&#19978;&#20027;&#26426;&#26816;&#27979;&#20256;&#36755;&#26102;&#24310;&#21644;&#25191;&#34892;&#26102;&#38388;&#30340;&#24179;&#22343;&#20540;&#12290;&#26377;&#21161;&#20110;&#29702;&#35299;&#65306;</p><div class="orderedlist"><ol type="1"><li><a class="link" href="#hostchecks" title="6.11.&nbsp;&#20027;&#26426;&#26816;&#27979;">&#20027;&#26426;&#26816;&#27979;</a></li><li><a class="link" href="#tuning" title="10.2.&nbsp;Nagios&#30340;&#24615;&#33021;&#35843;&#20248;">&#24615;&#33021;&#35843;&#20248;</a></li></ol></div>
	       <p>&#33509;&#26377;&#23621;&#39640;&#19981;&#19979;&#30340;&#20256;&#36755;&#26102;&#24310;&#21487;&#33021;&#38656;&#35201;&#35843;&#25972;&#19979;&#21015;&#21442;&#25968;&#65306;</p><div class="orderedlist"><ol type="1"><li><a class="link" href="#max_concurrent_checks" title="&#34920;&nbsp;5.48.&nbsp;&#26368;&#22823;&#24182;&#21457;&#26381;&#21153;&#26816;&#27979;&#25968;">max_concurrent_checks</a></li><li><a class="link" href="#check_result_reaper_frequency" title="&#34920;&nbsp;5.49.&nbsp;&#26816;&#27979;&#32467;&#26524;&#30340;&#22238;&#25910;&#39057;&#24230;">check_result_reaper_frequency</a></li><li><a class="link" href="#max_check_result_reaper_time" title="&#34920;&nbsp;5.50.&nbsp;&#26368;&#22823;&#26816;&#27979;&#32467;&#26524;&#22238;&#25910;&#26102;&#38388;&#27573;">max_check_result_reaper_time</a></li></ol></div></td><td><div><img src="../pub/images/mrtg-hostperfstats.png"></div></td></tr><tr><td><p>&#24179;&#22343;&#20027;&#26426;&#29366;&#24577;&#25913;&#21464;&#65293;&#35813;&#22270;&#26174;&#31034;&#20102;&#27839;&#26102;&#38388;&#36724;&#20027;&#26426;&#29366;&#24577;&#21457;&#29983;&#21464;&#21270;&#30340;&#30334;&#20998;&#27604;(&#21464;&#21270;&#29575;&#30340;&#24230;&#37327;)&#65292;&#19981;&#35770;&#26159;&#33258;&#20027;&#36824;&#26159;&#24378;&#21046;&#26816;&#27979;&#26041;&#24335;&#65292;&#26368;&#21518;&#19968;&#27425;&#20027;&#26426;&#26816;&#27979;&#30340;&#20013;&#27490;&#24773;&#20917;&#12290;&#26377;&#21161;&#20110;&#29702;&#35299;&#65306;</p><div class="orderedlist"><ol type="1"><li><a class="link" href="#flapping" title="8.7.&nbsp;&#24863;&#30693;&#21644;&#22788;&#29702;&#29366;&#24577;&#25238;&#21160;">&#25238;&#21160;&#26816;&#26597;</a></li></ol></div></td><td><div><img src="../pub/images/mrtg-hoststatechange.png"></div></td></tr><tr><td><p>&#22806;&#37096;&#21629;&#20196;&#65293;&#35813;&#22270;&#26174;&#31034;&#20102;Nagio&#20027;&#23432;&#25252;&#36827;&#31243;&#27839;&#26102;&#38388;&#36724;&#26377;&#22810;&#23569;&#20010;&#22806;&#37096;&#21629;&#20196;&#35201;&#22788;&#29702;&#12290;&#38500;&#38750;&#35201;&#22788;&#29702;&#22823;&#37327;&#30340;&#22806;&#37096;&#21629;&#20196;(&#22914;&#22312;&#20998;&#24067;&#24335;&#23433;&#35013;&#29615;&#22659;&#19979;)&#65292;&#35813;&#22270;&#22522;&#26412;&#19978;&#26159;&#31354;&#30333;&#30340;&#12290;&#30417;&#35270;&#22806;&#37096;&#21629;&#20196;&#23558;&#26377;&#21161;&#20110;&#22914;&#19979;&#20869;&#23481;&#30340;&#24433;&#21709;&#29702;&#35299;&#65306;</p><div class="orderedlist"><ol type="1"><li><a class="link" href="#passivechecks" title="6.14.&nbsp;&#24378;&#21046;&#26816;&#27979;">&#24378;&#21046;&#26816;&#27979;</a></li><li><a class="link" href="#distributed" title="9.2.&nbsp;&#20998;&#24067;&#24335;&#30417;&#25511;">&#20998;&#24067;&#24335;&#30417;&#25511;</a></li><li><a class="link" href="#redundancy" title="9.3.&nbsp;&#20887;&#20313;&#24335;&#19982;&#22833;&#25928;&#24335;&#32593;&#32476;&#30417;&#25511;">&#20887;&#20313;&#21644;&#22833;&#25928;&#30417;&#25511;</a></li></ol></div></td><td><div><img src="../pub/images/mrtg-externalcommands.png"></div></td></tr><tr><td><p>&#22806;&#37096;&#21629;&#20196;&#32531;&#20914;&#65293;&#35813;&#22270;&#26174;&#31034;&#20102;&#27839;&#26102;&#38388;&#36724;&#22810;&#23569;&#22806;&#37096;&#21629;&#20196;&#20351;&#29992;&#32531;&#20914;&#12290;&#22914;&#26524;&#20351;&#29992;&#20013;&#30340;&#32531;&#20914;&#25968;&#37327;&#25509;&#36817;&#20102;&#21487;&#29992;&#32531;&#20914;&#25968;&#37327;&#65292;&#35828;&#26126;&#38656;&#35201;&#22686;&#21152;&#21487;&#29992;&#30340;<a class="link" href="#external_command_buffer_slots" title="&#34920;&nbsp;5.24.&nbsp;&#22806;&#37096;&#21629;&#20196;&#32531;&#20914;&#38431;&#21015;&#25968;">&#22806;&#37096;&#21629;&#20196;&#32531;&#20914;&#22359;</a>&#12290;&#27599;&#20010;&#32531;&#20914;&#22359;&#21487;&#23384;&#25918;&#19968;&#20010;&#22806;&#37096;&#21629;&#20196;&#12290;&#32531;&#20914;&#34987;&#29992;&#20110;&#20020;&#26102;&#23384;&#20837;&#22806;&#37096;&#25991;&#20214;&#65292;&#20020;&#26102;&#26399;&#24320;&#22987;&#20110;&#22806;&#37096;&#21629;&#20196;&#33258;<a class="link" href="#command_file" title="&#34920;&nbsp;5.23.&nbsp;&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;">&#22806;&#37096;&#21629;&#20196;&#25991;&#20214;</a>&#20013;&#21462;&#20986;&#26102;&#21051;&#65292;&#32467;&#26463;&#20110;Nagios&#23432;&#25252;&#31243;&#24207;&#22788;&#29702;&#23436;&#25104;&#22806;&#37096;&#21629;&#20196;&#32467;&#26524;&#12290;</p></td><td><div><img src="../pub/images/mrtg-commandbuffers.png"></div></td></tr></tbody></table></div></div><br class="table-break"></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="cgiauth"></a>10.5.&nbsp;&#23545;CGIs&#31243;&#24207;&#27169;&#22359;&#30340;&#25480;&#26435;&#19982;&#35748;&#35777;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e23322"></a>10.5.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>&#26412;&#25991;&#32473;&#20986;&#20102;Nagios&#30340;CGI&#31243;&#24207;&#27169;&#22359;&#22914;&#20309;&#30830;&#23450;&#25480;&#26435;&#26435;&#38480;&#20197;&#23545;&#22914;&#19979;&#25805;&#20316;&#20184;&#26435;&#65306;&#33719;&#21462;&#30417;&#25511;&#25968;&#25454;&#12289;&#37197;&#32622;&#20449;&#24687;&#21644;&#36890;&#36807;&#29992;WEB&#25509;&#21475;&#23545;Nagios&#23432;&#25252;&#31243;&#24207;&#21457;&#20986;&#25351;&#20196;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e23327"></a>10.5.2.&nbsp;&#23450;&#20041;</h3></div></div></div><p>&#22312;&#27492;&#20043;&#21069;&#65292;&#24456;&#37325;&#35201;&#30340;&#19968;&#28857;&#26159;&#35201;&#29702;&#35299;&#32852;&#31995;&#20154;&#25480;&#26435;&#19982;&#35748;&#35777;&#30340;&#21547;&#20041;&#21450;&#20004;&#32773;&#30340;&#19981;&#21516;&#20043;&#22788;&#65292;&#20027;&#35201;&#26377;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#19968;&#20010;&#35748;&#35777;&#29992;&#25143;&#26159;&#25351;&#26377;&#26435;&#20197;&#25351;&#23450;&#30340;&#29992;&#25143;&#21517;&#21644;&#21475;&#20196;&#36890;&#36807;WEB&#26381;&#21153;&#22120;&#35748;&#35777;&#21487;&#20197;&#33719;&#21462;Nagios&#30340;WEB&#25509;&#21475;&#39029;&#38754;&#30340;&#29992;&#25143;&#65307;</li><li>&#19968;&#20010;&#35748;&#35777;&#30340;&#32852;&#31995;&#26159;&#26159;&#22312;<a class="link" href="#objectdefinitions_contact">&#32852;&#31995;&#20154;&#23450;&#20041;</a>&#25991;&#20214;&#37324;&#30340;&#30701;&#29992;&#25143;&#21517;&#20013;&#21015;&#20986;&#30340;&#29992;&#25143;&#21517;&#65307;</li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e23340"></a>10.5.3.&nbsp;&#35774;&#32622;&#35748;&#35777;&#29992;&#25143;</h3></div></div></div><p>&#20551;&#23450;&#20320;&#24050;&#32463;&#25353;<a class="link" href="#quickstart" title="4.3.&nbsp;&#24555;&#36895;&#23433;&#35013;&#25351;&#21335;">&#24555;&#36895;&#25351;&#21335;</a>&#37324;&#30340;&#26041;&#24335;&#37197;&#32622;&#22909;Web&#26381;&#21153;&#22120;&#65292;&#22312;&#35843;&#29992;Nagios&#30340;CGI&#31243;&#24207;&#27169;&#22359;&#21069;&#35201;&#35748;&#35777;&#12290;&#32780;&#19988;&#24050;&#32463;&#26377;&#20102;&#19968;&#20010;&#29992;&#25143;&#24080;&#21495;(<span class="strong"><strong>nagiosadmin</strong></span>)&#25110;&#23545;CGI&#27169;&#22359;&#25805;&#20316;&#12290;</p><p>&#24819;&#23450;&#20041;&#26356;&#22810;&#30340;<a class="link" href="#objectdefinitions_contact">&#32852;&#31995;&#20154;</a>&#26469;&#25509;&#25910;&#20027;&#26426;&#21644;&#26381;&#21153;&#30340;&#36890;&#30693;&#65292;&#19968;&#33324;&#26159;&#24819;&#35753;&#32852;&#31995;&#20154;&#36890;&#36807;Nagios&#30340;Web&#25509;&#21475;&#26469;&#20570;&#12290;&#21487;&#20197;&#25353;&#19979;&#38754;&#21629;&#20196;&#26469;&#32473;CGI&#31243;&#24207;&#25351;&#23450;&#39069;&#22806;&#30340;&#29992;&#25143;&#65292;&#25226;&#19979;&#38754;&lt;username&gt;&#29992;&#30495;&#23454;&#30340;&#24819;&#21152;&#20837;&#30340;&#29992;&#25143;&#21517;&#26469;&#26367;&#25442;&#12290;&#19968;&#33324;&#24773;&#20917;&#19979;&#65292;&#36825;&#20010;&#21517;&#23383;&#24212;&#26159;&#19982;&#37197;&#32622;&#25991;&#20214;&#20013;&#30340;<a class="link" href="#objectdefinitions_contact">&#32852;&#31995;&#20154;</a>&#23545;&#35937;&#23450;&#20041;&#20013;&#30340;&#30701;&#21517;&#31216;&#30456;&#21305;&#37197;&#12290;</p><pre class="programlisting">htpasswd /usr/local/nagios/etc/htpasswd.users &lt;username&gt;</pre></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e23361"></a>10.5.4.&nbsp;&#25171;&#24320;CGI&#27169;&#22359;&#30340;&#35748;&#35777;&#19982;&#25480;&#26435;&#21151;&#33021;</h3></div></div></div><p>&#19979;&#19968;&#27493;&#26159;&#37197;&#32622;CGI&#27169;&#22359;&#20351;&#29992;&#35748;&#35777;&#19982;&#25480;&#26435;&#21151;&#33021;&#26469;&#20915;&#23450;&#20160;&#20040;&#26679;&#30340;&#20449;&#24687;&#25110;&#26159;&#21629;&#20196;&#21487;&#20197;&#25805;&#20316;&#12290;&#25226;<a class="link" href="#configcgi" title="5.4.&nbsp;CGI&#37197;&#32622;&#25991;&#20214;&#36873;&#39033;">CGI&#37197;&#32622;&#25991;&#20214;</a>&#37324;&#38754;&#30340;<a class="link" href="#use_authentication" title="&#34920;&nbsp;5.127.&nbsp;&#24212;&#29992;&#35748;&#35777;">use_authentication</a>&#36873;&#39033;&#32622;&#20026;&#38750;&#38646;&#20540;&#65292;&#22914;&#65306;</p><pre class="programlisting">use_authentication=1</pre><p>&#22909;&#20102;&#65292;&#35774;&#32622;&#22909;CGI&#27169;&#22359;&#30340;&#35748;&#35777;&#19982;&#25480;&#26435;&#20102;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e23376"></a>10.5.5.&nbsp;&#32473;CGI&#27169;&#22359;&#30340;&#40664;&#35748;&#35768;&#21487;&#26435;&#38480;</h3></div></div></div><p>&#24403;&#20351;&#33021;&#20102;&#35748;&#35777;&#19982;&#25480;&#26435;&#21151;&#33021;&#21518;&#65292;CGI&#27169;&#22359;&#23558;&#32473;&#29992;&#25143;&#20160;&#20040;&#40664;&#35748;&#35768;&#21487;&#21602;&#65311;</p><div class="table"><a name="d0e23381"></a><p class="title"><b>&#34920;&nbsp;10.2.&nbsp;&#40664;&#35748;&#35768;&#21487;&#26435;&#38480;</b></p><div class="table-contents"><table summary="&#40664;&#35748;&#35768;&#21487;&#26435;&#38480;" border="1"><colgroup><col><col><col></colgroup><thead><tr><th>CGI&#27169;&#22359;&#30340;&#25968;&#25454;</th><th>&#35748;&#35777;&#30340;&#32852;&#31995;&#20154;<a class="link" href="#definitions">*</a></th><th>&#20854;&#20182;&#35748;&#35777;&#30340;&#29992;&#25143;(&#38750;&#35774;&#23450;&#30340;&#23545;&#35937;&#32852;&#31995;&#20154;)<a class="link" href="#definitions">*</a></th></tr></thead><tbody><tr><td>&#20027;&#26426;&#29366;&#24577;&#20449;&#24687;</td><td>Yes</td><td>No</td></tr><tr><td>&#20027;&#26426;&#37197;&#32622;&#20449;&#24687;</td><td>Yes</td><td>No</td></tr><tr><td>&#20027;&#26426;&#21382;&#21490;</td><td>Yes</td><td>No</td></tr><tr><td>&#20027;&#26426;&#36890;&#30693;</td><td>Yes</td><td>No</td></tr><tr><td>&#20027;&#26426;&#21629;&#20196;</td><td>Yes</td><td>No</td></tr><tr><td>&#26381;&#21153;&#29366;&#24577;&#20449;&#24687;</td><td>Yes</td><td>No</td></tr><tr><td>&#26381;&#21153;&#37197;&#32622;&#20449;&#24687;</td><td>Yes</td><td>No</td></tr><tr><td>&#26381;&#21153;&#21382;&#21490;</td><td>Yes</td><td>No</td></tr><tr><td>&#26381;&#21153;&#36890;&#30693;</td><td>Yes</td><td>No</td></tr><tr><td>&#26381;&#21153;&#21629;&#20196;</td><td>Yes</td><td>No</td></tr><tr><td>&#20840;&#37096;&#37197;&#32622;&#20449;&#24687;</td><td>No</td><td>No</td></tr><tr><td>&#31995;&#32479;/&#36827;&#31243;&#20449;&#24687;</td><td>No</td><td>No</td></tr><tr><td>&#31995;&#32479;/&#36827;&#31243;&#21629;&#20196;</td><td>No</td><td>No</td></tr></tbody></table></div></div><br class="table-break"><p><span class="strong"><strong>&#35748;&#35777;&#30340;&#32852;&#31995;&#20154;<a class="link" href="#definitions">*</a></strong></span>&#21487;&#20197;&#21462;&#24471;&#27599;&#20010;&#20197;&#20182;&#20026;&#32852;&#31995;&#20154;&#30340;&#27599;&#20010;&#26381;&#21153;(&#32852;&#31995;&#20154;&#19981;&#26159;&#20182;&#30340;&#26381;&#21153;&#19981;&#34892;)... </p><div class="orderedlist"><ol type="1"><li>&#25480;&#26435;&#26597;&#30475;&#26381;&#21153;&#29366;&#24577;&#20449;&#24687;&#65307;</li><li>&#25480;&#26435;&#26597;&#30475;&#26381;&#21153;&#37197;&#32622;&#20449;&#24687;&#65307;</li><li>&#25480;&#26435;&#26597;&#30475;&#35813;&#26381;&#21153;&#30340;&#21382;&#21490;&#19982;&#36890;&#30693;&#65307;</li><li>&#25480;&#26435;&#21457;&#20986;&#26381;&#21153;&#21629;&#20196;</li></ol></div><p><span class="strong"><strong>&#35748;&#35777;&#30340;&#32852;&#31995;&#20154;<a class="link" href="#definitions">*</a></strong></span>&#21487;&#20197;&#23545;&#27599;&#20010;&#20197;&#20182;&#20026;&#32852;&#31995;&#20154;&#30340;&#27599;&#20010;&#20027;&#26426;(&#32852;&#31995;&#20154;&#19981;&#26159;&#20182;&#30340;&#20027;&#26426;&#19981;&#34892;)... </p><div class="orderedlist"><ol type="1"><li>&#25480;&#26435;&#26597;&#30475;&#20027;&#26426;&#29366;&#24577;&#20449;&#24687;&#65307;</li><li>&#25480;&#26435;&#26597;&#30475;&#20027;&#26426;&#37197;&#32622;&#20449;&#24687;&#65307;</li><li>&#25480;&#26435;&#26597;&#30475;&#20027;&#26426;&#30340;&#21382;&#21490;&#21644;&#36890;&#30693;&#65307;</li><li>&#25480;&#26435;&#21457;&#20986;&#20027;&#26426;&#21629;&#20196;&#65307;</li><li>&#25480;&#26435;&#26597;&#30475;&#22312;&#35813;&#20027;&#26426;&#19978;&#20840;&#37096;&#26381;&#21153;&#30340;&#29366;&#24577;&#20449;&#24687;&#65307;</li><li>&#25480;&#26435;&#26597;&#30475;&#22312;&#35813;&#20027;&#26426;&#19978;&#20840;&#37096;&#26381;&#21153;&#30340;&#37197;&#32622;&#20449;&#24687;&#65307;</li><li>&#25480;&#26435;&#26597;&#30475;&#22312;&#35813;&#20027;&#26426;&#19978;&#20840;&#37096;&#26381;&#21153;&#30340;&#21382;&#21490;&#19982;&#36890;&#30693;&#65307;</li><li>&#25480;&#26435;&#32473;&#22312;&#35813;&#20027;&#26426;&#19978;&#20840;&#37096;&#26381;&#21153;&#21457;&#20986;&#21629;&#20196;&#12290;</li></ol></div><p>&#37325;&#35201;&#19968;&#28857;&#26159;&#40664;&#35748;&#24773;&#20917;&#19979;&#20197;&#19979;&#20869;&#23481;&#26080;&#20154;&#34987;&#25480;&#26435;&#24471;&#21040;&#22914;&#19979;&#20869;&#23481;... </p><div class="orderedlist"><ol type="1"><li>&#29992;<a class="link" href="#cgis_showlog_cgi">&#26085;&#24535;&#26597;&#30475;CGI</a>&#26597;&#30475;&#25171;&#21253;&#30340;&#26085;&#24535;&#25991;&#20214;&#65307;</li><li>&#29992;<a class="link" href="#cgis_extinfo_cgi">&#25193;&#23637;&#20449;&#24687;CGI</a>&#26597;&#30475;Nagios&#36827;&#31243;&#30340;&#20449;&#24687;&#65307;</li><li>&#29992;<a class="link" href="#cgis_cmd_cgi">&#21629;&#20196;CGI</a>&#23545;Nagios&#36827;&#31243;&#21457;&#20986;&#21629;&#20196;&#65307;</li><li>&#29992;<a class="link" href="#cgis_config_cgi">&#37197;&#32622;CGI</a>&#26597;&#30475;&#20027;&#26426;&#32452;&#12289;&#32852;&#31995;&#20154;&#12289;&#32852;&#31995;&#20154;&#32452;&#12289;&#26102;&#38388;&#21608;&#26399;&#21644;&#21629;&#20196;&#23450;&#20041;&#65307;</li></ol></div><p>&#27627;&#26080;&#30097;&#38382;&#38656;&#35201;&#36825;&#20123;&#20449;&#24687;&#65292;&#25152;&#20197;&#35201;&#30475;&#19979;&#38754;&#30340;&#20869;&#23481;&#20197;&#20351;&#20320;(&#21487;&#33021;&#21253;&#25324;&#20854;&#20182;&#20154;)&#26377;&#26435;&#38480;&#24471;&#21040;&#36825;&#20123;&#39069;&#22806;&#30340;&#20449;&#24687;...</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e23552"></a>10.5.6.&nbsp;&#32473;CGI&#22686;&#21152;&#39069;&#22806;&#30340;&#26435;&#38480;</h3></div></div></div><p>&#21487;&#20197;&#20801;&#35768;&#35753;<span class="strong"><strong>&#35748;&#35777;&#30340;&#32852;&#31995;&#20154;</strong></span>&#25110;&#20854;&#20182;<span class="strong"><strong>&#35748;&#35777;&#30340;&#29992;&#25143;</strong></span>&#26377;&#26435;&#38480;&#24471;&#21040;CGI&#27169;&#22359;&#37324;&#30340;&#39069;&#22806;&#20449;&#24687;&#65292;&#36890;&#36807;&#22312;<a class="link" href="#configcgi" title="5.4.&nbsp;CGI&#37197;&#32622;&#25991;&#20214;&#36873;&#39033;">CGI&#37197;&#32622;&#25991;&#20214;</a>&#37324;&#22686;&#21152;&#19968;&#20123;&#25480;&#26435;&#21464;&#37327;&#26469;&#23454;&#29616;&#12290;&#25105;&#23454;&#29616;&#20102;&#22914;&#19979;&#30340;&#25480;&#26435;&#21464;&#37327;&#20197;&#20351;&#20182;&#20204;&#21487;&#20197;&#25511;&#21046;&#26080;&#25480;&#26435;&#30340;&#24773;&#20917;&#19979;&#19981;&#33021;&#21462;&#24471;&#20449;&#24687;&#65292;&#24635;&#24402;&#27604;&#27809;&#26377;&#36825;&#20123;&#35201;&#22909;&#21543;...</p><p>&#22312;CGI&#37197;&#32622;&#25991;&#20214;&#37324;&#21152;&#20102;&#22914;&#19979;&#30340;&#21464;&#37327;&#25511;&#21046;&#39069;&#22806;&#30340;&#25480;&#26435;&#20869;&#23481;...</p><div class="orderedlist"><ol type="1"><li><a class="link" href="#authorized_for_system_information" title="&#34920;&nbsp;5.129.&nbsp;&#31995;&#32479;&#21644;&#36827;&#31243;&#30340;&#20449;&#24687;&#25805;&#20316;&#26435;">authorized_for_system_information</a></li><li><a class="link" href="#authorized_for_system_commands" title="&#34920;&nbsp;5.130.&nbsp;&#31995;&#32479;&#21644;&#36827;&#31243;&#30340;&#21629;&#20196;&#25805;&#20316;&#26435;">authorized_for_system_commands</a></li><li><a class="link" href="#authorized_for_configuration_information" title="&#34920;&nbsp;5.131.&nbsp;&#37197;&#32622;&#30340;&#20449;&#24687;&#33719;&#21462;&#26435;&#38480;">authorized_for_configuration_information</a></li><li><a class="link" href="#authorized_for_all_hosts" title="&#34920;&nbsp;5.132.&nbsp;&#20840;&#23616;&#20027;&#26426;&#30340;&#20449;&#24687;&#33719;&#21462;&#26435;&#38480;">authorized_for_all_hosts</a></li><li><a class="link" href="#authorized_for_all_host_commands" title="&#34920;&nbsp;5.133.&nbsp;&#20840;&#23616;&#20027;&#26426;&#30340;&#21629;&#20196;&#25805;&#20316;&#26435;">authorized_for_all_host_commands</a></li><li><a class="link" href="#authorized_for_all_services" title="&#34920;&nbsp;5.134.&nbsp;&#20840;&#23616;&#26381;&#21153;&#30340;&#20449;&#24687;&#33719;&#21462;&#26435;">authorized_for_all_services</a></li><li><a class="link" href="#authorized_for_all_service_commands" title="&#34920;&nbsp;5.135.&nbsp;&#20840;&#23616;&#26381;&#21153;&#30340;&#21629;&#20196;&#25805;&#20316;&#26435;">authorized_for_all_service_commands</a></li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e23590"></a>10.5.7.&nbsp;CGI&#27169;&#22359;&#30340;&#25480;&#26435;&#35201;&#27714;</h3></div></div></div><p>&#22914;&#26524;&#34987;&#21508;&#31181;&#21508;&#26679;&#30340;CGI&#27169;&#22359;&#37324;&#25152;&#38656;&#35201;&#30340;&#25480;&#26435;&#25630;&#31946;&#28034;&#20102;&#65292;&#21487;&#20197;&#30475;&#19968;&#19979;&#27599;&#20010;CGI&#27169;&#22359;&#20171;&#32461;&#37324;&#25152;&#20889;&#30340;<span class="strong"><strong>&#25480;&#26435;&#35201;&#27714;</strong></span>&#30340;&#35828;&#26126;&#65292;&#22312;<a class="link" href="#cgis" title="7.4.&nbsp;&#20851;&#20110;CGI&#31243;&#24207;&#27169;&#22359;&#30340;&#20449;&#24687;">&#36825;&#20010;</a>&#25991;&#26723;&#37324;&#38754;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e23601"></a>10.5.8.&nbsp;&#22312;&#21152;&#23494;&#30340;Web&#26381;&#21153;&#22120;&#19978;&#35748;&#35777;</h3></div></div></div><p>&#22914;&#26524;WEB&#26381;&#21153;&#22120;&#26159;&#24314;&#22312;&#19968;&#20010;&#21152;&#23494;&#22495;(&#35937;&#22312;&#38450;&#28779;&#22681;&#21518;&#38754;)&#25110;&#26159;&#29992;SSL&#21152;&#23494;&#36890;&#35759;&#30340;&#65292;&#21487;&#20197;&#35774;&#32622;&#19968;&#20010;&#40664;&#35748;&#29992;&#25143;&#26469;&#23436;&#25104;CGI&#25805;&#20316;&#12290;&#21487;&#20197;&#22312;<a class="link" href="#configcgi" title="5.4.&nbsp;CGI&#37197;&#32622;&#25991;&#20214;&#36873;&#39033;">CGI&#37197;&#32622;&#25991;&#20214;</a>&#37324;&#35774;&#32622;<a class="link" href="#default_user_name" title="&#34920;&nbsp;5.128.&nbsp;&#40664;&#35748;&#29992;&#25143;&#21517;">default_user_name</a>&#36873;&#39033;&#12290;&#36890;&#36807;&#35774;&#32622;&#19968;&#20010;&#40664;&#35748;&#30340;&#29992;&#25143;&#26469;&#25805;&#20316;CGI&#27169;&#22359;&#65292;&#21487;&#20197;&#19981;&#24517;&#20877;&#30001;WEB&#26381;&#21153;&#22120;&#26469;&#20570;&#39564;&#35777;&#12290;&#36825;&#26679;&#36890;&#36807;&#22240;&#29305;&#32593;&#65292;&#21487;&#20197;&#30465;&#21435;&#22522;&#26412;&#30340;WEB&#35748;&#35777;&#36807;&#31243;&#65292;&#25110;&#20197;&#31354;&#30333;&#30340;&#21475;&#20196;&#36827;&#34892;&#22522;&#26412;&#35748;&#35777;(&#22522;&#26412;&#25968;&#25454;&#24050;&#32463;&#21152;&#36807;&#23494;&#20102;)&#12290;</p><p><span class="bold"><strong>Important:</strong></span><span class="strong"><strong>&#19981;&#35201;</strong></span>&#20351;&#29992;&#40664;&#35748;&#30340;&#29992;&#25143;&#21517;&#36825;&#20010;&#21151;&#33021;&#65292;&#38500;&#38750;&#36816;&#34892;&#22312;&#20010;&#21152;&#23494;&#30340;Web&#26381;&#21153;&#25110;&#21152;&#23494;&#22495;&#37324;&#65292;&#27599;&#20010;&#20154;&#37117;&#32463;&#36807;&#20102;&#20805;&#20998;&#35748;&#35777;&#21518;&#25165;&#20250;&#25805;&#20316;CGI&#27169;&#22359;&#65292;&#22240;&#20026;&#27492;&#26102;&#27809;&#26377;&#32463;&#36807;Web&#35748;&#35777;&#30340;&#27599;&#19968;&#20010;&#29992;&#25143;&#37117;&#20855;&#22791;&#30456;&#21516;&#30340;&#12289;&#20840;&#37096;&#30340;&#35774;&#32622;&#25805;&#20316;&#26435;&#38480;&#65281;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="cgiincludes"></a>10.6.&nbsp;&#29992;&#25143;&#23450;&#21046;CGI&#39029;&#38754;&#22836;&#21644;&#23614;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e23621"></a>10.6.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>&#22914;&#26524;&#20320;&#23433;&#35013;&#20102;Nagios&#30340;&#23458;&#25143;&#31471;&#65292;&#20320;&#21487;&#33021;&#38656;&#35201;&#23450;&#21046;&#33258;&#24050;&#30340;<a class="link" href="#cgis" title="7.4.&nbsp;&#20851;&#20110;CGI&#31243;&#24207;&#27169;&#22359;&#30340;&#20449;&#24687;">CGI&#27169;&#22359;</a>&#30340;&#39029;&#38754;&#22836;&#21644;&#23614;&#20197;&#26174;&#31034;&#33258;&#24049;&#30340;&#20449;&#24687;&#12290;&#36825;&#23545;&#20110;&#21521;&#26368;&#32456;&#29992;&#25143;&#25552;&#20379;&#32852;&#31995;&#20154;&#20449;&#24687;&#31561;&#20869;&#23481;&#26102;&#27604;&#36739;&#26377;&#29992;&#12290;</p><p>&#24456;&#37325;&#35201;&#19968;&#28857;&#26159;&#65292;&#38500;&#38750;&#23427;&#20204;&#20250;&#34987;&#25191;&#34892;&#65292;&#21542;&#21017;&#29992;&#25143;&#33258;&#23450;&#21046;&#30340;&#39029;&#38754;&#22836;&#21644;&#23614;&#30340;&#20869;&#23481;&#22312;&#26174;&#31034;&#20043;&#21069;&#19981;&#20250;&#34987;&#39044;&#20808;&#22788;&#29702;&#12290;&#39029;&#38754;&#30340;&#22836;&#21644;&#23614;&#20869;&#23481;&#21253;&#21547;&#25991;&#20214;&#21482;&#26159;&#34987;&#31616;&#21333;&#22320;&#35835;&#20837;&#24182;&#26174;&#31034;&#21040;CGI&#39029;&#38754;&#19978;&#65292;&#36825;&#24847;&#21619;&#30528;&#22836;&#21644;&#23614;&#30340;&#23450;&#20041;&#20013;&#21482;&#33021;&#21253;&#21547;&#19968;&#20123;&#29305;&#23450;&#30340;&#21487;&#34987;&#27983;&#35272;&#22120;&#25903;&#25345;&#30340;&#20869;&#23481;&#65288;&#22914;HTML&#12289;JavaScript&#31561;&#65289;&#12290;</p><p>&#22914;&#26524;&#29992;&#25143;&#23450;&#21046;&#30340;&#22836;&#21644;&#23614;&#25991;&#20214;&#26159;&#21487;&#25191;&#34892;&#30340;&#65292;&#23427;&#20204;&#20250;&#22312;CGI&#27169;&#22359;&#34987;&#35843;&#29992;&#26102;&#26174;&#31034;&#21040;&#26368;&#32456;&#29992;&#25143;&#30340;&#27983;&#35272;&#22120;&#65292;&#22240;&#32780;&#23427;&#20204;&#24517;&#39035;&#26159;&#21512;&#27861;&#30340;HTML&#32467;&#26524;&#12290;&#21033;&#29992;&#36825;&#19968;&#28857;&#21487;&#20197;&#25191;&#34892;&#20320;&#23450;&#21046;&#30340;CGI&#31243;&#24207;&#26469;&#25554;&#20837;&#21040;Nagios&#30340;&#26174;&#31034;&#25968;&#25454;&#20043;&#20013;&#65292;&#36825;&#24050;&#34987;&#29992;&#20110;&#20174;RRDTOOL&#20013;&#33719;&#21462;&#30340;&#22270;&#34920;&#65288;&#29992;ddraw&#21629;&#20196;&#65289;&#25110;&#26159;&#22312;Nagios&#30340;&#26174;&#31034;&#26495;&#19978;&#26174;&#31034;&#21629;&#20196;&#33756;&#21333;&#12290;&#21487;&#25191;&#34892;&#30340;&#29992;&#25143;&#23450;&#21046;&#30340;CGI&#39029;&#38754;&#30340;&#22836;&#21644;&#23614;&#19982;Nagios&#30340;CGI&#31243;&#24207;&#20351;&#29992;&#30456;&#21516;&#30340;CGI&#29615;&#22659;&#65292;&#22240;&#32780;&#20320;&#30340;CGI&#31243;&#24207;&#21487;&#20197;&#21516;&#26679;&#22320;&#35299;&#26512;URL&#35843;&#29992;&#34892;&#20449;&#24687;&#12289;&#29992;&#25143;&#39564;&#35777;&#20449;&#24687;&#31561;&#20197;&#21046;&#20316;&#20986;&#20320;&#30340;&#36755;&#20986;&#20869;&#23481;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e23633"></a>10.6.2.&nbsp;&#23427;&#26159;&#22914;&#20309;&#24037;&#20316;&#30340;&#65311;</h3></div></div></div><p>&#20320;&#21487;&#20197;&#25226;CGIs&#31243;&#24207;&#27169;&#22359;&#25152;&#21253;&#21547;&#30340;&#29992;&#25143;&#23450;&#21046;&#22836;&#23614;&#20869;&#23481;&#65292;&#32463;&#24120;&#26159;HTML&#25991;&#20214;&#25918;&#22312;Nagios&#30340;HTML&#30340;<span class="strong"><strong>ssi/</strong></span>&#23376;&#30446;&#24405;&#20013;&#65292;&#19968;&#33324;&#26159;&#22312;&#36825;&#20010;&#20301;&#32622;<span class="strong"><strong>/usr/local/nagios/share/ssi</strong></span>&#19978;&#12290;</p><p>&#29992;&#25143;&#23450;&#21046;&#22836;&#36890;&#24120;&#26159;&#32039;&#36319;&#22312;CGI&#30340;&lt;BODY&gt;&#26631;&#35760;&#20043;&#21518;&#32780;&#23614;&#32463;&#24120;&#26159;&#36319;&#22312;&lt;/BODY&gt;&#26631;&#35760;&#20043;&#21069;&#12290;</p><p>&#26377;&#20004;&#31181;&#31867;&#22411;&#30340;&#29992;&#25143;&#23450;&#21046;&#30340;&#22836;&#21644;&#23614;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#20840;&#23616;&#30340;&#22836;&#21644;&#23614;&#23450;&#20041;&#12290;&#25991;&#20214;&#24517;&#39035;&#20998;&#21035;&#34987;&#21629;&#21517;&#20026;<span class="strong"><strong>common-header.ssi</strong></span>&#21644;<span class="strong"><strong>common-footer.ssi</strong></span>&#12290;&#22914;&#26524;&#23427;&#20204;&#34987;&#23450;&#20041;&#65292;&#23427;&#20204;&#23558;&#34987;&#20840;&#37096;&#30340;CGI&#31243;&#24207;&#27169;&#22359;&#25152;&#35843;&#29992;&#26174;&#31034;&#12290;</li><li>&#29305;&#23450;&#30340;CGI&#27169;&#22359;&#30340;&#29992;&#25143;&#23450;&#21046;&#30340;&#22836;&#21644;&#23614;&#12290;&#25991;&#20214;&#24517;&#39035;&#34987;&#21629;&#21517;&#20026;&#22914;&#19979;&#26684;&#24335;<span class="strong"><strong>CGINAME-header.ssi</strong></span>&#21644;<span class="strong"><strong>CGINAME-footer.ssi</strong></span>&#65292;&#36825;&#37324;&#30340;<span class="strong"><strong>CGINAME</strong></span>&#26159;&#37027;&#20010;CGI&#31243;&#24207;&#27169;&#22359;&#19981;&#24102;&#26377;.cgi&#21518;&#32512;&#30340;&#37096;&#20998;&#12290;&#27604;&#22914;&#32473;<a class="link" href="#cgis_summary_cgi">&#25253;&#35686;&#27719;&#24635;CGI&#27169;&#22359;</a>&#21363;(summary.cgi)&#30340;&#22836;&#21644;&#23614;&#24517;&#39035;&#20998;&#21035;&#34987;&#21629;&#21517;&#20026;<span class="strong"><strong>summary-header.ssi</strong></span>&#21644;<span class="strong"><strong>summary-footer.ssi</strong></span>&#12290;</li></ol></div><p>&#22914;&#26524;&#20320;&#24182;&#19981;&#38656;&#35201;&#29992;&#25143;&#23450;&#21046;&#30340;&#22836;&#21644;&#23614;&#65292;&#20320;&#21487;&#20197;&#21482;&#29992;&#20840;&#23616;&#30340;&#22836;&#23450;&#20041;&#25110;&#26159;&#20840;&#23616;&#30340;&#23614;&#23450;&#20041;&#65292;&#30495;&#30340;&#35201;&#30475;&#20320;&#25152;&#38656;&#20102;&#12290;</p></div></div></div><div class="chapter" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title"><a name="integrate"></a>&#31532;&nbsp;11&nbsp;&#31456;&nbsp;&#36719;&#20214;&#38598;&#25104;&#30456;&#20851;&#30340;&#20869;&#23481;</h2></div></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="integration"></a>11.1.&nbsp;&#36719;&#20214;&#38598;&#25104;&#27010;&#35272;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e23685"></a>11.1.1.&nbsp;&#20171;&#32461;</h3></div></div></div><div><img src="../pub/images/integrationoverview.png"></div><p>Nagios&#21487;&#20197;&#38750;&#24120;&#23481;&#26131;&#22320;&#19982;&#29616;&#26377;&#26694;&#26550;&#38598;&#25104;&#65292;&#36825;&#20063;&#23601;&#26159;&#20026;&#20309;Nagios&#34987;&#24191;&#27867;&#22320;&#24212;&#29992;&#30340;&#19968;&#21407;&#22240;&#12290;&#26377;&#19981;&#23569;&#26041;&#24335;&#26469;&#19982;&#29616;&#26377;&#31649;&#29702;&#36719;&#20214;&#36827;&#34892;&#38598;&#25104;&#65292;&#20320;&#20351;&#29992;&#31649;&#29702;&#36719;&#20214;&#26469;&#30417;&#25511;&#20320;&#25152;&#25317;&#26377;&#30340;&#21508;&#31181;&#21508;&#26679;&#30340;&#26032;&#22411;&#25110;&#29992;&#25143;&#23450;&#21046;&#30340;&#30828;&#20214;&#12289;&#26381;&#21153;&#25110;&#26159;&#24212;&#29992;&#31243;&#24207;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e23691"></a>11.1.2.&nbsp;&#38598;&#25104;&#30340;&#35201;&#28857;</h3></div></div></div><p>&#20026;&#20102;&#30417;&#25511;&#26032;&#30828;&#20214;&#12289;&#26381;&#21153;&#25110;&#26159;&#24212;&#29992;&#31243;&#24207;&#65292;&#23457;&#35270;&#22914;&#19979;&#30340;&#25991;&#26723;&#65306;</p><div class="orderedlist"><ol type="1"><li><a class="link" href="#plugins" title="8.1.&nbsp;Nagios&#30340;&#25554;&#20214;">Nagios&#25554;&#20214;</a></li><li><a class="link" href="#pluginapi" title="12.3.&nbsp;Nagios&#25554;&#20214;API">&#25554;&#20214;API</a></li><li><a class="link" href="#passivechecks" title="6.14.&nbsp;&#24378;&#21046;&#26816;&#27979;">&#24378;&#21046;&#26816;&#27979;</a></li><li><a class="link" href="#eventhandlers" title="6.8.&nbsp;&#20107;&#20214;&#22788;&#29702;">&#20107;&#20214;&#22788;&#29702;&#21477;&#26564;</a></li></ol></div><p>&#20026;&#20351;Nagios&#21462;&#24471;&#22806;&#37096;&#24212;&#29992;&#31243;&#24207;&#30340;&#25968;&#25454;&#65292;&#23457;&#35270;&#22914;&#19979;&#30340;&#25991;&#26723;&#65306;</p><div class="orderedlist"><ol type="1"><li><a class="link" href="#passivechecks" title="6.14.&nbsp;&#24378;&#21046;&#26816;&#27979;">&#24378;&#21046;&#26816;&#27979;</a></li><li><a class="link" href="#extcommands" title="6.9.&nbsp;&#22806;&#37096;&#21629;&#20196;">&#22806;&#37096;&#21629;&#20196;</a></li></ol></div><p>&#23558;&#29366;&#24577;&#12289;&#24615;&#33021;&#25110;&#26159;&#21578;&#35686;&#20449;&#24687;&#25253;&#36865;&#32473;&#22806;&#37096;&#24212;&#29992;&#65292;&#23457;&#35270;&#22914;&#19979;&#25991;&#26723;&#65306;</p><div class="orderedlist"><ol type="1"><li><a class="link" href="#eventhandlers" title="6.8.&nbsp;&#20107;&#20214;&#22788;&#29702;">&#20107;&#20214;&#22788;&#29702;&#21477;&#26564;</a></li><li><a class="link" href="#ocsp_command" title="&#34920;&nbsp;5.84.&nbsp;Obsessive Compulsive Service Processor Command">OCSP</a>&#21644;<a class="link" href="#ochp_command" title="&#34920;&nbsp;5.86.&nbsp;Obsessive Compulsive Host Processor Command">OCHP</a>&#21629;&#20196;</li><li><a class="link" href="#perfdata" title="8.13.&nbsp;&#24615;&#33021;&#25968;&#25454;">&#24615;&#33021;&#25968;&#25454;</a></li><li><a class="link" href="#notifications" title="6.7.&nbsp;&#36890;&#30693;">&#21578;&#35686;</a></li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e23737"></a>11.1.3.&nbsp;&#38598;&#25104;&#20107;&#20363;</h3></div></div></div><p>&#25105;&#35760;&#24405;&#19979;&#20102;&#19968;&#20123;&#20107;&#20363;&#26469;&#30475;&#19968;&#19979;Nagios&#26159;&#22914;&#20309;&#19982;&#22806;&#37096;&#31243;&#24207;&#38598;&#25104;&#30340;&#65292;&#23427;&#20204;&#26159;&#65306;</p><div class="orderedlist"><ol type="1"><li><a class="link" href="#int-tcpwrappers" title="11.3.&nbsp;TCP Wrapper&#38598;&#25104;">TCP Wrappers</a>(&#23433;&#20840;&#20107;&#20214;&#25253;&#35686;)</li><li><a class="link" href="#int-snmptrap" title="11.2.&nbsp;SNMP&#38519;&#20117;&#38598;&#25104;">SNMP Traps</a> (&#21367;&#22791;&#20221;&#20316;&#19994;&#30340;&#29366;&#24577;)</li></ol></div></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="int-snmptrap"></a>11.2.&nbsp;SNMP&#38519;&#20117;&#38598;&#25104;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e23754"></a>11.2.1.&nbsp;&#20171;&#32461;</h3></div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><div><img src="../pub/images/note.gif"></div>Nagios&#24182;&#27809;&#26377;&#35774;&#35745;&#25104;&#19968;&#20010;&#21487;&#26367;&#20195;&#23436;&#20840;SNMP&#31649;&#29702;&#21151;&#33021;&#30340;&#35937;HP OpenView&#25110;<a class="ulink" href="http://www.opennms.org/" target="_top">OpenNMS</a>&#37027;&#26679;&#30340;&#24212;&#29992;&#31243;&#24207;&#12290;&#28982;&#32780;&#65292;&#20320;&#21487;&#20197;&#22312;Nagios&#20013;&#35774;&#32622;&#22909;SNMP&#38519;&#20117;&#26469;&#25509;&#25910;&#26469;&#33258;&#20110;&#32593;&#32476;&#20013;&#30340;&#20027;&#26426;&#21457;&#20986;&#30340;SNMP&#35686;&#25253;&#12290;</div><p>SNMP&#30340;&#26080;&#25152;&#19981;&#31649;&#38500;&#20102;&#24694;&#38271;&#20197;&#22806;&#19968;&#26080;&#26159;&#22788;&#12290;&#25509;&#25910;SNMP&#28040;&#24687;&#24182;&#23558;&#23427;&#25918;&#21040;Nagio&#37324;(&#35937;&#24378;&#21046;&#26816;&#27979;&#32467;&#26524;&#19968;&#26679;)&#26159;&#20214;&#24456;&#32321;&#38391;&#30340;&#20107;&#12290;&#20026;&#20351;&#20043;&#26356;&#31616;&#21333;&#65292;&#24314;&#35758;&#20320;&#21462;&#20986;Alex Burger&#30340;SNMP Trap Translator&#39033;&#30446;&#65292;&#23427;&#20301;&#20110;<a class="ulink" href="http://www.snmptt.org" target="_top">http://www.snmptt.org</a>&#65292;&#36825;&#37324;&#38754;&#22312;Nagios&#37324;&#38598;&#25104;&#20102;Net-SNMP&#12289;SNMPTT&#21450;&#22686;&#24378;&#22411;&#30340;&#28040;&#24687;&#38519;&#20117;&#22788;&#29702;&#31995;&#32479;&#12290;</p><p>&#22909;&#20102;&#65292;&#23601;&#36825;&#20040;&#22810;&#12290;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="int-tcpwrappers"></a>11.3.&nbsp;TCP Wrapper&#38598;&#25104;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e23774"></a>11.3.1.&nbsp;&#20171;&#32461;</h3></div></div></div><div><img src="../pub/images/tcpwrappers.png"></div><p>&#26412;&#25991;&#26723;&#35299;&#37322;&#22914;&#20309;&#23481;&#26131;&#22320;&#22312;Nagios&#37324;&#29992;TCP Wrapper&#23545;&#32852;&#25509;&#23581;&#35797;&#34987;&#25298;&#32477;&#32780;&#20135;&#29983;&#35686;&#25253;&#12290;&#20363;&#22914;&#65292;&#19968;&#20010;&#38750;&#25480;&#26435;&#20027;&#26426;&#35797;&#22270;&#32852;&#25509;SSH&#26381;&#21153;&#22120;&#65292;&#21487;&#20197;&#22312;Nagios&#37324;&#25910;&#21040;&#19968;&#20010;&#21547;&#26377;&#34987;&#25298;&#32477;&#20027;&#26426;&#21517;&#30340;&#35686;&#25253;&#12290;&#22914;&#26524;&#22312;Linux/Unix&#26426;&#22120;&#19978;&#23454;&#29616;&#20102;&#36825;&#20010;&#21151;&#33021;&#65292;&#23601;&#20250;&#24778;&#35766;&#22320;&#21457;&#29616;&#22312;&#32593;&#32476;&#37324;&#31455;&#20250;&#26377;&#22914;&#27492;&#22810;&#30340;&#31471;&#21475;&#25195;&#25551;&#12290;</p><p>&#38598;&#25104;&#30340;&#21069;&#25552;&#26159;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#24050;&#32463;&#29087;&#24713;<a class="link" href="#passivechecks" title="6.14.&nbsp;&#24378;&#21046;&#26816;&#27979;">&#24378;&#21046;&#26816;&#27979;</a>&#21450;&#20854;&#24037;&#20316;&#26041;&#24335;&#65307;</li><li>&#24050;&#32463;&#29087;&#24713;<a class="link" href="#volatileservices" title="8.5.&nbsp;&#21487;&#21464;&#26381;&#21153;">&#21487;&#21464;&#26381;&#21153;</a>&#21450;&#20854;&#24037;&#20316;&#26041;&#24335;&#65307;</li><li>&#24819;&#35201;&#25253;&#35686;&#30340;&#20027;&#26426;(&#23601;&#26159;&#20351;&#29992;&#20102;TCP wrappers&#30340;&#26426;&#22120;)&#26159;&#19968;&#21488;&#36828;&#31243;&#20027;&#26426;(&#22312;&#20363;&#23376;&#20013;&#21629;&#21517;&#20026;<span class="strong"><strong>firestorm</strong></span>)&#12290;&#22914;&#26524;&#19982;&#36816;&#34892;Nagios&#30340;&#26426;&#22120;&#26159;&#21516;&#19968;&#21488;&#65292;&#38656;&#35201;&#23545;&#19979;&#38754;&#32473;&#20986;&#30340;&#20363;&#23376;&#20570;&#20123;&#20462;&#25913;&#25165;&#34892;&#12290;</li><li>&#24050;&#32463;&#22312;Nagios&#30417;&#25511;&#26381;&#21153;&#26426;&#19978;&#23433;&#35013;&#26377;<a class="link" href="#addons_NSCA" title="11.4.3.&nbsp;NSCA">NSCA&#23432;&#25252;&#26381;&#21153;</a>&#24182;&#19988;&#22312;&#37027;&#21488;&#23433;&#35013;&#26377;TCP Wrapper&#30340;&#36828;&#31243;&#20027;&#26426;&#19978;&#23433;&#35013;&#26377;NSCA(<span class="strong"><strong>send_nsca</strong></span>)&#23458;&#25143;&#31471;&#36719;&#20214;&#12290;</li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e23806"></a>11.3.2.&nbsp;&#23450;&#20041;&#19968;&#20010;&#26381;&#21153;</h3></div></div></div><p>&#22914;&#26524;&#26465;&#20214;&#20855;&#22791;&#65292;&#32473;&#36828;&#31243;&#20027;&#26426;(<span class="strong"><strong>firestorm</strong></span>)&#21019;&#24314;&#19968;&#20010;<a class="link" href="#objectdefinitions" title="6.1.&nbsp;&#23545;&#35937;&#23450;&#20041;">&#20027;&#26426;&#23545;&#35937;&#23450;&#20041;</a>&#12290;</p><p>&#19979;&#19968;&#27493;&#65292;&#32473;&#36825;&#21488;&#36816;&#34892;&#26377;TCP Wrapper&#30340;&#20027;&#26426;(<span class="strong"><strong>firestorm</strong></span>)&#22312;<a class="link" href="#configobject" title="5.3.&nbsp;&#23545;&#35937;&#37197;&#32622;&#27010;&#35272;">&#23545;&#35937;&#37197;&#32622;&#25991;&#20214;</a>&#37324;&#21152;&#19968;&#20010;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#65292;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#30340;&#21487;&#33021;&#20250;&#26159;&#36825;&#26679;&#30340;&#65306;</p><pre class="programlisting"><p>define service{
	host_name                       firestorm
	service_description             TCP Wrappers
	is_volatile                     1
	active_checks_enabled		0
	passive_checks_enabled		1
	max_check_attempts              1
	check_command                   check_none
	...
	}</p></pre><p>&#22312;&#26381;&#21153;&#23545;&#35937;&#23450;&#20041;&#37324;&#26377;&#20960;&#20010;&#24456;&#37325;&#35201;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#25171;&#24320;<span class="strong"><strong>&#21487;&#21464;&#26381;&#21153;(is_volatile=1)</strong></span>&#21151;&#33021;&#24320;&#20851;&#65292;&#22240;&#20026;&#27599;&#19968;&#20010;&#26816;&#27979;&#21040;&#30340;&#25253;&#35686;&#37117;&#35201;&#36865;&#20986;&#19968;&#20010;&#36890;&#30693;&#65307;</li><li>&#26381;&#21153;&#30340;&#33258;&#20027;&#26816;&#27979;&#34987;&#20851;&#38381;&#65292;&#32780;&#24378;&#21046;&#26816;&#27979;&#21151;&#33021;&#25171;&#24320;&#12290;&#36825;&#35828;&#26126;Nagios&#23558;&#19981;&#20250;&#23545;&#26381;&#21153;&#33258;&#20027;&#22320;&#20570;&#26816;&#27979;&#65293;&#20840;&#37096;&#25253;&#35686;&#20449;&#24687;&#23558;&#26159;&#30001;&#22806;&#37096;&#28304;&#36890;&#36807;&#24378;&#21046;&#26041;&#24335;&#25552;&#20379;&#32473;Nagios&#65307;</li><li>&#26381;&#21153;&#23545;&#35937;&#37324;&#30340;<span class="strong"><strong>max_check_attempts</strong></span>&#20540;&#35774;&#23450;&#20026;1&#12290;&#36825;&#20445;&#35777;&#20102;&#24403;&#39318;&#26465;&#25253;&#35686;&#20135;&#29983;&#26102;&#23601;&#26377;&#36865;&#20986;&#19968;&#20010;&#36890;&#30693;&#12290;</li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e23843"></a>11.3.3.&nbsp;&#37197;&#32622;TCP Wrappers</h3></div></div></div><p>&#29616;&#22312;&#38656;&#35201;&#20462;&#25913;&#22312;<span class="strong"><strong>firestorm</strong></span>&#26426;&#22120;&#19978;&#30340;<span class="strong"><strong>/etc/hosts.deny</strong></span>&#25991;&#20214;&#20102;&#12290;&#20026;&#20351;TCP wrappers&#23545;&#27599;&#20010;&#34987;&#25298;&#32477;&#30340;&#32852;&#25509;&#23581;&#35797;&#37117;&#36865;&#20986;&#19968;&#26465;&#25253;&#35686;&#65292;&#38656;&#35201;&#21152;&#19978;&#36825;&#19968;&#34892;&#65306;</p><pre class="programlisting">ALL: ALL: RFC931: twist (/usr/local/nagios/libexec/eventhandlers/handle_tcp_wrapper %h %d) &amp;</pre><p>&#36825;&#34892;&#37324;&#20551;&#23450;&#22312;<span class="strong"><strong>firestorm</strong></span>&#26426;&#22120;&#19978;&#26377;&#20010;&#33050;&#26412;&#21517;&#23383;&#26159;<span class="strong"><strong>handle_tcp_wrapper</strong></span>&#19988;&#25918;&#22312;<span class="strong"><strong>/usr/local/nagios/libexec/eventhandlers/</strong></span>&#30446;&#24405;&#19979;&#65292;&#19979;&#38754;&#20250;&#32473;&#20986;&#33050;&#26412;&#20869;&#23481;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e23867"></a>11.3.4.&nbsp;&#20889;&#37027;&#20010;&#33050;&#26412;</h3></div></div></div><p>&#26368;&#21518;&#19968;&#20214;&#20107;&#26159;&#22312;<span class="strong"><strong>firestorm</strong></span>&#19978;&#20889;&#37027;&#20010;<span class="strong"><strong>handle_tcp_wrapper</strong></span>&#33050;&#26412;&#65292;&#23427;&#23558;&#20250;&#25226;&#25253;&#35686;&#36865;&#32473;Nagios&#30417;&#25511;&#26381;&#21153;&#22120;&#65292;&#23427;&#21487;&#33021;&#20250;&#26159;&#36825;&#26679;&#30340;&#65306;</p><pre class="programlisting"><p>#!/bin/sh
/usr/local/nagios/libexec/eventhandlers/submit_check_result firestorm "TCP Wrappers" 2 "Denied $2-$1" &gt; /dev/null 2&gt; /dev/null</p></pre><p>&#27880;&#24847;<span class="strong"><strong>handle_tcp_wrapper</strong></span>&#33050;&#26412;&#35843;&#29992;&#20102;<span class="strong"><strong>submit_check_result</strong></span>&#33050;&#26412;&#26469;&#30495;&#27491;&#22320;&#36865;&#20986;&#25253;&#35686;&#12290;&#20551;&#23450;Nagios&#26381;&#21153;&#22120;&#34987;&#21629;&#21517;&#20026;<span class="strong"><strong>monitor</strong></span>&#65292;&#36825;&#20010;<span class="strong"><strong>submit check_result</strong></span>&#33050;&#26412;&#20869;&#23481;&#21487;&#33021;&#20250;&#26159;&#36825;&#26679;&#30340;&#65306;</p><pre class="programlisting"><p>#!/bin/sh
# Arguments
#	$1 = name of host in service definition
#	$2 = name/description of service in service definition
#	$3 = return code
#	$4 = output

/bin/echo -e "$1\t$2\t$3\t$4\n" | /usr/local/nagios/bin/send_nsca monitor -c /usr/local/nagios/etc/send_nsca.cfg</p></pre></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e23898"></a>11.3.5.&nbsp;&#25630;&#22909;&#20102;</h3></div></div></div><p>&#24050;&#32463;&#20840;&#37197;&#32622;&#23436;&#25104;&#20102;&#65292;&#21487;&#20197;&#37325;&#21551;&#21160;&#19968;&#19979;<span class="strong"><strong>firestorm</strong></span>&#26426;&#22120;&#19978;&#30340;<span class="strong"><strong>inetd</strong></span>&#36827;&#31243;&#65292;&#24182;&#19988;&#37325;&#21551;&#21160;&#19968;&#19979;&#30417;&#25511;&#26381;&#21153;&#22120;&#19978;&#30340;Nagios&#36827;&#31243;&#12290;&#25630;&#25503;&#20102;&#12290;&#24403;<span class="strong"><strong>firestorm</strong></span>&#19978;&#30340;TCP wrappers&#25298;&#32477;&#20102;&#19968;&#27425;&#32852;&#25509;&#23581;&#35797;&#26102;&#65292;&#23558;&#20250;&#22312;Nagios&#37324;&#30475;&#21040;&#19968;&#26465;&#25253;&#35686;&#12290;&#25253;&#35686;&#30340;&#25554;&#20214;&#36755;&#20986;&#23558;&#20250;&#26159;&#36825;&#26679;&#30340;&#65306;</p><pre class="programlisting">Denied sshd2-sdn-ar-002mnminnP321.dialsprint.net </pre></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="addons"></a>11.4.&nbsp;Nagios&#22806;&#37096;&#26500;&#20214;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e23917"></a>11.4.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>Nagios&#26377;&#35768;&#22810;"&#22806;&#37096;&#26500;&#20214;"&#36719;&#20214;&#21253;&#21487;&#20379;&#20351;&#29992;&#12290;&#22806;&#37096;&#26500;&#20214;&#21487;&#20197;&#25193;&#23637;Nagios&#30340;&#24212;&#29992;&#24182;&#20351;&#20043;&#19982;&#20854;&#20182;&#36719;&#20214;&#38598;&#25104;&#12290;</p><p>&#22806;&#37096;&#26500;&#20214;&#21487;&#29992;&#20110;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#36890;&#36807;WEB&#25509;&#21475;&#26469;&#31649;&#29702;&#37197;&#32622;&#25991;&#20214;</li><li>&#30417;&#25511;&#36828;&#31243;&#20027;&#26426;(*NIX, Windows,&#31561;) </li><li>&#23454;&#29616;&#23545;&#36828;&#31243;&#20027;&#26426;&#30340;&#24378;&#21046;&#26816;&#27979;</li><li>&#20943;&#21270;&#24182;&#25193;&#23637;&#21578;&#35686;&#36923;&#36753;</li><li>...&#21644;&#20854;&#20182;&#26356;&#22810;&#20107;&#24773;</li></ol></div><p>&#20320;&#21487;&#20197;&#36890;&#36807;&#35775;&#38382;&#22914;&#19979;&#31449;&#28857;&#25214;&#23547;&#22806;&#37096;&#26500;&#20214;&#65306;</p><div class="orderedlist"><ol type="1"><li><a class="ulink" href="http://www.nagios.org/" target="_top">Nagios.org</a></li><li><a class="ulink" href="http://www.sourceforge.net" target="_top">SourceForge.net</a></li><li><a class="ulink" href="http://www.nagiosexchange.org" target="_top">NagiosExchange.org</a></li></ol></div><p>&#36825;&#37324;&#23545;&#19968;&#20123;&#25105;&#24320;&#21457;&#30340;&#22806;&#37096;&#26500;&#20214;&#32473;&#19968;&#20010;&#31616;&#27905;&#30340;&#20171;&#32461;...</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="addons_NRPE"></a>11.4.2.&nbsp;NRPE</h3></div></div></div><div><img src="../pub/images/nrpe.png"></div><p>NRPE&#26159;&#19968;&#20010;&#21487;&#22312;&#36828;&#31243;Linux/Unix&#20027;&#26426;&#19978;&#25191;&#34892;&#30340;<a class="link" href="#plugins" title="8.1.&nbsp;Nagios&#30340;&#25554;&#20214;">&#25554;&#20214;</a>&#30340;&#22806;&#37096;&#26500;&#20214;&#21253;&#12290;&#22914;&#26524;&#20320;&#38656;&#35201;&#30417;&#25511;&#36828;&#31243;&#30340;&#20027;&#26426;&#19978;&#30340;&#26412;&#22320;&#36164;&#28304;&#25110;&#23646;&#24615;&#65292;&#22914;&#30913;&#30424;&#21033;&#29992;&#29575;&#12289;CPU&#36127;&#33655;&#12289;&#20869;&#23384;&#21033;&#29992;&#29575;&#31561;&#26102;&#26159;&#24456;&#26377;&#29992;&#30340;&#12290;&#35937;&#26159;&#29992;<span class="strong"><strong>check_by_ssh</strong></span>&#25554;&#20214;&#26469;&#23454;&#29616;&#30340;&#21151;&#33021;&#19968;&#26679;&#65292;&#20294;&#26159;&#23427;&#19981;&#38656;&#35201;&#21344;&#29992;&#26356;&#22810;&#30340;&#30417;&#25511;&#20027;&#26426;&#30340;CPU&#36127;&#33655;&#65293;&#24403;&#20320;&#38656;&#35201;&#30417;&#25511;&#25104;&#30334;&#19978;&#21315;&#20010;&#20027;&#26426;&#26159;&#36825;&#20010;&#24456;&#37325;&#35201;&#12290;</p><p>NRPE&#22806;&#37096;&#26500;&#20214;&#21253;&#21644;&#25991;&#26723;&#21487;&#20197;&#22312;<a class="ulink" href="http://www.nagios.org/" target="_top">http://www.nagios.org/</a>&#19978;&#25214;&#21040;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="addons_NSCA"></a>11.4.3.&nbsp;NSCA</h3></div></div></div><div><img src="../pub/images/nsca.png"></div><p>NSCA&#26159;&#19968;&#20010;&#21487;&#22312;&#36828;&#31243;Linux/Unix&#20027;&#26426;&#19978;&#25191;&#34892;<a class="link" href="#passivechecks" title="6.14.&nbsp;&#24378;&#21046;&#26816;&#27979;">&#24378;&#21046;&#26816;&#27979;</a>&#24182;&#23558;&#32467;&#26524;&#20256;&#32473;Nagios&#23432;&#25252;&#36827;&#31243;&#30340;&#22806;&#37096;&#26500;&#20214;&#21253;&#12290;&#36825;&#22312;<a class="link" href="#distributed" title="9.2.&nbsp;&#20998;&#24067;&#24335;&#30417;&#25511;">&#20998;&#24067;&#24335;</a>&#21644;<a class="link" href="#redundancy" title="9.3.&nbsp;&#20887;&#20313;&#24335;&#19982;&#22833;&#25928;&#24335;&#32593;&#32476;&#30417;&#25511;">&#20887;&#20313;/&#22833;&#25928;</a>&#30417;&#25511;&#30340;&#35774;&#32622;&#26102;&#38750;&#24120;&#26377;&#29992;&#12290;</p><p>NSCA&#22806;&#37096;&#26500;&#20214;&#21253;&#21644;&#25991;&#26723;&#21487;&#20197;&#22312;<a class="ulink" href="http://www.nagios.org/" target="_top">http://www.nagios.org/</a>&#19978;&#25214;&#21040;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="addons_NDOUtils"></a>11.4.4.&nbsp;NDOUtils</h3></div></div></div><div><img src="../pub/images/ndoutils.png"></div><p>NDOUtils&#26159;&#19968;&#20010;&#21487;&#20197;&#25226;&#20840;&#37096;&#29366;&#24577;&#20449;&#24687;&#20445;&#23384;&#21040;MySQL&#25968;&#25454;&#24211;&#37324;&#30340;&#22806;&#37096;&#26500;&#20214;&#12290;&#22806;&#20010;Nagios&#30340;&#24211;&#23454;&#20363;&#37117;&#21487;&#20197;&#25226;&#23427;&#20204;&#30417;&#25511;&#30340;&#20449;&#24687;&#20445;&#23384;&#21040;&#32479;&#19968;&#30340;&#20013;&#24515;&#25968;&#25454;&#24211;&#24182;&#38598;&#20013;&#25253;&#21578;&#12290;&#23427;&#23558;&#20026;&#19968;&#20010;Nagios&#26032;&#30340;&#22522;&#20110;PHH&#30340;WEB&#25509;&#21475;&#31243;&#24207;&#25552;&#20379;&#25968;&#25454;&#28304;&#26381;&#21153;&#12290;</p><p>NDOUtils&#22806;&#37096;&#26500;&#20214;&#21253;&#21644;&#25991;&#26723;&#21487;&#20197;&#22312;<a class="ulink" href="http://www.nagios.org/" target="_top">http://www.nagios.org/</a>&#19978;&#25214;&#21040;&#12290;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="nagiosgraph"></a>11.5.&nbsp;&#38598;&#25104;Nagiosgraph&#24037;&#31243;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e24003"></a>11.5.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p><a class="ulink" href="http://nagios-cn.sourceforge.net/" target="_top">Nagios-cn</a>&#26159;nagios&#24037;&#31243;&#30340;&#19968;&#20010;&#38750;&#23448;&#26041;&#20998;&#25903;&#65292;&#20027;&#35201;&#26159;&#35299;&#20915;Nagios&#36719;&#20214;&#22312;&#31616;&#20307;&#20013;&#25991;&#29615;&#22659;&#19979;&#30340;&#31995;&#32479;&#35774;&#32622;&#12289;&#25805;&#20316;&#30028;&#38754;&#12289;&#22312;&#32447;&#24110;&#21161;&#21644;&#22270;&#34920;&#26354;&#32447;&#31561;&#20869;&#23481;&#30340;&#20013;&#25991;&#26174;&#31034;&#21151;&#33021;&#65292;&#20197;&#20840;&#38754;&#35299;&#20915;&#20013;&#25991;&#21151;&#33021;&#12290;&#21478;&#22806;&#65292;&#36824;&#25552;&#20379;&#20102;SVG&#26684;&#24335;&#30340;&#20108;&#32500;&#25299;&#25169;&#22270;&#26174;&#31034;&#21151;&#33021;&#20197;&#21152;&#36895;&#22270;&#24418;&#26174;&#31034;&#12290;<a class="ulink" href="http://nagiosgraph.sourceforge.net/" target="_top">Nagiosgraph</a>&#26159;&#19968;&#20010;&#29420;&#31435;&#24037;&#31243;&#65292;&#20351;&#29992;Nagios&#30340;&#20869;&#22312;&#26426;&#21046;&#36827;&#34892;&#24615;&#33021;&#25968;&#25454;&#30340;&#20998;&#26512;&#19982;&#25910;&#38598;&#65292;&#38598;&#25104;&#20102;rrdtool&#25903;&#25345;&#24211;&#23436;&#25104;&#25968;&#25454;&#30340;&#25910;&#38598;&#19982;&#26174;&#31034;&#12290;</p><p>&#36873;&#25321;nagiosgraph&#32780;&#19981;&#26159;<a class="ulink" href="pnp4nagios.sourceforge.net" target="_top">pnp</a>&#25110;&#20854;&#20182;&#24037;&#31243;&#30340;&#20027;&#35201;&#21407;&#22240;&#22914;&#19979;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#19981;&#38656;&#35201;&#39069;&#22806;&#30340;&#25968;&#25454;&#24211;&#25903;&#25345;&#12290;&#23613;&#31649;nagios&#25903;&#25345;mysql&#25110;&#20854;&#20182;&#25968;&#25454;&#24211;&#65292;&#20294;&#25968;&#25454;&#24211;&#36719;&#20214;&#30340;&#23433;&#35013;&#19982;&#36816;&#34892;&#32943;&#23450;&#20250;&#23545;nagios&#26381;&#21153;&#31471;&#22686;&#21152;&#39069;&#22806;&#36127;&#33655;&#65292;&#20063;&#22686;&#21152;&#20102;&#31995;&#32479;&#22797;&#26434;&#24615;&#65307;</li><li>&#31243;&#24207;&#35268;&#27169;&#23567;&#65292;&#31616;&#21333;&#32780;&#26377;&#25928;&#12290;&#35760;&#24405;&#24615;&#33021;&#25968;&#25454;&#21644;&#26174;&#31034;&#20854;&#23454;&#21482;&#35201;&#26377;rrdtool&#23601;&#22815;&#20102;&#65292;&#20294;rrdtool&#35201;&#24819;&#20351;&#29992;&#24471;&#22909;&#65292;&#20813;&#19981;&#20102;&#32321;&#29712;&#30340;&#32534;&#31243;&#65292;&#31243;&#24207;&#20351;&#29992;&#30340;&#36215;&#28857;&#20250;&#25552;&#39640;&#65292;&#19981;&#21033;&#20110;&#25512;&#24191;&#24212;&#29992;&#65307;</li><li>&#23454;&#29616;&#20013;&#25991;&#25903;&#25345;&#23481;&#26131;&#65292;&#35774;&#32622;&#19982;&#20462;&#25913;&#31616;&#21333;&#12290;&#30001;&#20110;&#31243;&#24207;&#35268;&#27169;&#23567;&#65292;&#28304;&#31243;&#24207;&#22312;&#20013;&#25991;&#29615;&#22659;&#19979;&#30340;&#20462;&#25913;&#37327;&#24517;&#28982;&#23567;&#24471;&#22810;&#65292;&#23481;&#26131;&#23454;&#29616;&#24443;&#24213;&#30340;&#27721;&#21270;&#30446;&#26631;&#65307;</li></ol></div><p>&#32534;&#20889;&#26412;&#25991;&#30340;&#20027;&#35201;&#30446;&#30340;&#26159;&#25351;&#23548;&#35835;&#32773;&#23558;nagiosgraph&#24037;&#31243;&#38598;&#25104;&#23433;&#35013;&#21040;&#20301;&#65292;&#24182;&#23454;&#29616;&#31283;&#23450;&#36816;&#34892;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e24028"></a>11.5.2.&nbsp;&#20934;&#22791;</h3></div></div></div><p>&#39318;&#20808;&#35201;&#20445;&#35777;nagios&#24037;&#31243;&#23433;&#35013;&#24182;&#36816;&#34892;&#27491;&#24120;&#65292;&#22914;&#26524;&#36824;&#27809;&#26377;&#23433;&#35013;&#30340;&#35805;&#65292;&#21487;&#20197;&#21442;&#32771;<a class="link" href="#quickstart" title="4.3.&nbsp;&#24555;&#36895;&#23433;&#35013;&#25351;&#21335;">&#36825;&#31687;&#20869;&#23481;</a>&#12290;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><div><img src="../pub/images/note.gif"></div>&#20197;&#19979;&#30340;&#35828;&#26126;&#21450;&#21629;&#20196;&#20840;&#38754;&#26159;&#25353;&#24555;&#36895;&#23433;&#35013;&#23436;&#25104;&#21518;&#30340;&#36335;&#24452;&#23436;&#25104;&#30340;&#65292;&#22914;&#26524;Nagios&#23433;&#35013;&#20013;&#27809;&#26377;&#25353;&#25351;&#21335;&#36827;&#34892;&#20102;&#33258;&#23450;&#20041;&#23433;&#35013;&#65292;&#35831;&#22312;&#23433;&#35013;&#36807;&#31243;&#20013;&#27880;&#24847;&#26367;&#25442;&#25104;&#30446;&#26631;&#31995;&#32479;&#30340;&#36335;&#24452;&#12290;</div><p>&#20043;&#21518;&#65292;&#22312;Nagios&#36816;&#34892;&#29615;&#22659;&#20869;&#65292;&#29992;&#19979;&#38754;&#21629;&#20196;&#26816;&#26597;&#19968;&#19979;&#24403;&#21069;&#26381;&#21153;&#30340;&#37197;&#32622;&#24635;&#25968;&#24182;&#35760;&#24405;&#19979;&#26469;&#65292;&#21518;&#38754;&#26816;&#26597;&#26102;&#20250;&#29992;&#21040;&#12290;</p><pre class="programlisting">grep "define service " /usr/local/nagios/var/objects.cache | wc -l </pre><p>&#22312;&#25105;&#30340;&#23478;&#29992;&#31995;&#32479;&#37324;&#65292;&#36825;&#20010;&#20540;&#26159;18&#65292;&#34920;&#31034;&#37197;&#32622;&#26377;18&#20010;&#34987;&#30417;&#25511;&#30340;&#26381;&#21153;&#12290;</p><p>&#26816;&#26597;&#19968;&#19979;&#24403;&#21069;&#30340;Nagios&#24615;&#33021;&#25968;&#25454;&#25910;&#38598;&#30340;&#30456;&#20851;&#35774;&#32622;&#65292;&#22312;&#21021;&#22987;&#23433;&#35013;&#22909;&#26102;&#65292;&#24212;&#35813;&#26159;&#27809;&#26377;&#21551;&#21160;&#24615;&#33021;&#25968;&#25454;&#30340;&#25910;&#38598;&#65292;&#22312;&#20027;&#37197;&#32622;&#25991;&#20214;nagios.cfg&#37324;&#30340;&#21407;&#22987;&#35774;&#32622;&#24212;&#35813;&#26159;&#36825;&#26679;&#30340;&#65306;</p><pre class="programlisting">process_performance_data=0
#service_perfdata_file=/tmp/service-perfdata
#service_perfdata_file_template=[SERVICEPERFDATA]\t$TIMET$\t$HOSTNAME$\t$SERVICEDESC$\t$SERVICEEXECUTIONTIME$\t$SERVICELATENCY$\t$SERVICEOUTPUT$\t$SERVICEPERFDATA$
#service_perfdata_file_mode=a
#service_perfdata_file_processing_interval=0
#service_perfdata_file_processing_command=process-service-perfdata-file</pre><p>
&#22312;&#27599;&#20010;&#35774;&#32622;&#21069;&#38754;&#37117;&#26377;&#19968;&#20010;&#8220;#&#8221;&#65292;&#34920;&#31034;&#36825;&#20010;&#35774;&#32622;&#26159;&#19981;&#29983;&#25928;&#30340;&#12290;&#22914;&#26524;&#36825;&#20123;&#35774;&#32622;&#21069;&#38754;&#27809;&#26377;"#"&#65292;&#35828;&#26126;&#31995;&#32479;&#37324;&#24050;&#32463;&#26377;&#30456;&#20851;&#30340;&#24615;&#33021;&#25968;&#25454;&#25910;&#38598;&#26426;&#21046;&#65292;&#27604;&#22914;&#23433;&#35013;&#36807;pnp&#31243;&#24207;&#65292;&#36825;&#26102;&#24314;&#35758;&#20320;&#26368;&#22909;&#26159;&#25918;&#24323;&#23433;&#35013;nagiosgraph&#65292;&#19981;&#35201;&#20877;&#32487;&#32493;&#19979;&#21435;&#12290;</p><p>&#26816;&#26597;&#19968;&#19979;&#36719;&#20214;&#20381;&#36182;&#21253;&#65292;&#20027;&#35201;&#26159;perl&#21644;rrdtool&#65292;&#20026;&#20102;&#27491;&#24120;&#22788;&#29702;&#20013;&#25991;&#65292;&#24314;&#35758;perl&#29256;&#26412;&#35201;5.2&#20197;&#19978;&#65292;rrdtool&#35201;1.2.12&#20197;&#19978;&#65292;&#25105;&#20351;&#29992;&#30340;perl&#26159;5.8.8&#65292;rrdtool&#26159;1.2.23&#12290;&#27880;&#24847;&#19979;&#38754;&#30340;&#35774;&#32622;&#37324;&#20551;&#23450;&#22312;nagios&#32534;&#35793;&#26102;&#27809;&#26377;&#36873;&#25321;&#20869;&#23884;&#24335;perl&#35299;&#37322;&#22120;&#65292;&#21542;&#21017;&#30340;&#35805;&#65292;insert.pl&#31243;&#24207;&#20250;&#20986;&#29616;&#38382;&#39064;&#12290;</p><p>&#26368;&#21518;&#19968;&#39033;&#20934;&#22791;&#24037;&#20316;&#26159;&#19979;&#36733;&#28304;&#31243;&#24207;&#20102;&#12290;&#22914;&#26524;&#20351;&#29992;&#25110;&#21916;&#27426;&#33521;&#25991;&#29256;Nagios&#65292;&#21487;&#20197;&#21040;nagiosgraph&#24037;&#31243;&#37324;&#21435;&#36733;&#26368;&#26032;&#30340;&#28304;&#31243;&#24207;&#21253;&#65292;&#28982;&#21518;&#25353;&#37324;&#38754;&#30340;&#35774;&#32622;&#26469;&#23433;&#35013;&#65292;&#19981;&#36807;&#26412;&#25991;&#22914;&#19979;&#30340;&#35828;&#26126;&#26159;&#29992;nagiosgraph&#19987;&#38376;&#30340;&#28304;&#31243;&#24207;&#21253;&#65292;&#22312;Nagios-cn&#24037;&#31243;&#37324;&#65292;&#26377;&#19968;&#20010;&#19987;&#38376;&#30340;&#19979;&#36733;&#28857;&#65292;&#26159;&#22312;&#36825;&#37324;&#65306;</p><p><a class="ulink" href="http://" target="_top">http://</a></p><p>&#23637;&#24320;&#36825;&#20010;&#28304;&#31243;&#24207;&#21253;&#65292;&#20551;&#23450;&#23637;&#24320;&#21040;/tmp/nagiosgraph/&#37324;&#65292;&#20854;&#23454;&#37324;&#38754;&#21482;&#26377;&#20960;&#20010;&#25991;&#20214;&#12290;&#25805;&#20316;&#30340;&#21629;&#20196;&#26159;&#36825;&#26679;&#30340;&#65306;</p><pre class="programlisting">cd /tmp/
wget http://
tar xvfj nagiosgraph-cn.tar.bz2
ls -al nagiosgraph</pre><p>&#20960;&#20010;&#25991;&#20214;&#30340;&#29992;&#36884;&#22914;&#19979;&#65306;</p><div class="itemizedlist"><ul type="disc"><li>nagiosgraph.cfg &#19987;&#38376;&#30340;&#37197;&#32622;&#25991;&#20214;&#65292;&#37324;&#38754;&#27599;&#20010;&#21442;&#25968;&#37117;&#26377;&#35828;&#26126;</li><li>insert.pl &#20570;nagios&#24615;&#33021;&#25968;&#25454;&#22788;&#29702;&#30340;perl&#31243;&#24207;</li><li>map &#20570;&#24615;&#33021;&#25968;&#25454;&#22788;&#29702;&#30340;&#19987;&#29992;&#26144;&#23556;&#25991;&#20214;&#65292;&#26159;&#20010;perl&#27491;&#21017;&#24335;&#21253;</li><li>show.cgi &#32473;&#26174;&#31034;Web&#39029;&#38754;&#29992;&#30340;Apache&#19979;&#30340;perl&#31243;&#24207;</li><li>nagiosgraph.css &#26174;&#31034;&#29992;&#30340;&#39029;&#38754;&#22411;&#24335;&#25991;&#20214;</li><li>INSTALL.zh_CN &#25171;&#21040;&#28304;&#31243;&#24207;&#21253;&#37324;&#30340;&#31616;&#21333;&#23433;&#35013;&#35828;&#26126;</li></ul></div><p>
&#36824;&#26377;&#19968;&#20010;&#25991;&#20214;&#26159;&#24517;&#35201;&#30340;&#65292;&#20294;&#36719;&#20214;&#21253;&#37324;&#27809;&#25171;&#21253;&#65292;&#26159;&#20013;&#25991;&#22833;&#37327;&#23383;&#20307;&#25991;&#20214;(truetype2)&#65292;&#23601;&#26159;ttf&#21518;&#32512;&#30340;&#20013;&#25991;&#23383;&#20307;&#12290;&#20027;&#35201;&#26159;&#23616;&#38480;&#20110;&#29256;&#26435;&#38382;&#39064;&#65292;&#36719;&#20214;&#21253;&#37324;&#19981;&#33021;&#38468;&#24102;&#21457;&#34892;&#65292;&#36825;&#19981;&#26159;&#38382;&#39064;&#65292;&#19968;&#33324;&#30340;Linux&#21457;&#34892;&#29256;&#37324;&#37117;&#26377;(&#19968;&#33324;&#26159;&#25918;&#22312;/usr/share/lib/fonts/truetype&#25110;&#26159;/usr/share/fonts/truetype)&#65292;&#20294;&#25105;&#23581;&#35797;&#36807;&#24456;&#22810;&#23383;&#20307;&#65292;&#26368;&#21518;&#36824;&#26159;&#35273;&#24471;&#24494;&#36719;Windows&#19979;(&#36335;&#24452;&#26159;$System$\fonts\)&#30340;&#40657;&#20307;&#35201;&#22909;&#30475;&#19968;&#20123;&#65292;&#25105;&#29992;&#30340;&#23601;&#26159;vista&#37324;&#30340;&#37027;&#20010;simhei.ttf&#25991;&#20214;&#12290;&#24314;&#35758;&#20320;&#20808;&#24819;&#21150;&#27861;&#25214;&#21040;&#23427;&#24182;&#25335;&#36125;&#21040;&#36335;&#24452;&#19979;&#22791;&#29992;&#12290;
</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e24081"></a>11.5.3.&nbsp;&#23433;&#35013;</h3></div></div></div><p>&#19979;&#38754;&#36827;&#34892;&#23433;&#35013;&#65292;&#20849;&#20998;&#19977;&#27493;&#12290;</p><p>&#19968;&#65292;&#25335;&#36125;&#25991;&#20214;&#12290;</p><p>&#25191;&#34892;&#20197;&#19979;&#30340;&#21629;&#20196;&#23601;&#21487;&#20197;&#65292;&#24182;&#19981;&#38590;&#30340;&#65292;&#29616;&#22312;&#24320;&#22987;&#20102;&#65281;&#25191;&#34892;&#21629;&#20196;&#65306;</p><pre class="programlisting">cd /tmp/nagiosgraph/
cp ./nagiosgraph.cfg /usr/local/nagios/etc/
cp ./insert.pl /usr/local/nagios/libexec/
cp ./map /usr/local/nagios/libexec/
cp ./simhei.ttf /usr/local/nagios/sbin/
cp ./show.cgi /usr/local/nagios/sbin/
cp ./nagiosgraph.css /usr/local/nagios/share/stylesheets/
mkdir -p /usr/local/nagios/var/rrd
chown nagios:nagios /usr/local/nagios/var/rrd
</pre><p>
&#20063;&#23601;&#26159;&#35828;&#65292;&#25226;nagiosgraph.cfg&#25991;&#20214;&#25918;&#22312;nagios&#30340;&#37197;&#32622;&#30446;&#24405;$nagios/etc/&#19979;&#65292;&#25226;insert.pl&#21644;map&#20004;&#20010;&#25991;&#20214;&#25918;&#22312;nagios-plugins&#30446;&#24405;$nagios/libexec/&#19979;&#65292;&#23383;&#20307;&#25991;&#20214;&#21644;show.cgi&#25918;&#22312;nagios&#30340;cgi&#31243;&#24207;&#30446;&#24405;$nagios/sbin/&#19979;&#65292;&#22411;&#24335;&#25991;&#20214;&#25918;&#22312;$nagios&#30340;&#39029;&#38754;&#22411;&#24335;&#25991;&#20214;$nagios/share/stylesheets/&#19979;&#65292;&#26368;&#21518;&#24314;&#31435;&#19968;&#20010;&#23384;&#25918;&#25968;&#25454;&#25991;&#20214;&#30340;&#30446;&#24405;&#12290;&#22914;&#26524;&#20320;&#30340;nagios&#31995;&#32479;&#23433;&#35013;&#20301;&#32622;&#19981;&#21516;&#20110;&#26631;&#20934;&#36335;&#24452;&#65292;&#35201;&#27880;&#24847;&#20462;&#25913;&#19978;&#38754;&#30340;&#21629;&#20196;&#12290;</p><p>&#20108;&#65292;&#20462;&#25913;nagios&#36719;&#20214;&#35774;&#32622;&#21644;&#21629;&#20196;&#12290;</p><p>&#25913;&#19977;&#20010;&#37197;&#32622;&#25991;&#20214;&#65292;&#23601;&#26159;&#20027;&#37197;&#32622;&#25991;&#20214;&#37324;&#21152;&#20837;&#24615;&#33021;&#25910;&#38598;&#36873;&#39033;&#65292;&#22312;&#21629;&#20196;&#25991;&#20214;&#37324;&#21152;&#20837;&#21629;&#20196;&#21644;&#23545;&#35937;&#37197;&#32622;&#23450;&#20041;&#37324;&#21152;&#20837;&#22270;&#34920;&#35843;&#29992;&#21629;&#20196;&#65292;&#22312;Nagios&#30340;3.x&#37324;&#37117;&#24456;&#31616;&#21333;&#12290;</p><p>1&#12289;&#20027;&#37197;&#32622;&#25991;&#20214;nagios.cfg&#20462;&#25913;&#20869;&#23481;&#65306;</p><p>&#20462;&#25913;&#19979;&#38754;&#30340;&#20960;&#20010;&#35774;&#32622;&#23601;&#21487;&#20197;</p><pre class="programlisting">process_performance_data=1
service_perfdata_file=/usr/local/nagios/var/perfdata.log
service_perfdata_file_template=$LASTSERVICECHECK$||$HOSTNAME$||$SERVICEDESC$||$SERVICEOUTPUT$||$SERVICEPERFDATA$
service_perfdata_file_mode=a
service_perfdata_file_processing_interval=30
service_perfdata_file_processing_command=process-service-perfdata</pre><p>2&#12289;&#21629;&#20196;&#37197;&#32622;&#25991;&#20214;&#37324;&#21152;&#20010;&#21629;&#20196;&#65306;</p><p>&#24212;&#35813;&#26159;&#22312;commands.cfg&#25991;&#20214;&#37324;&#65292;&#25214;&#19968;&#19979;process-serice-perfdata&#21629;&#20196;&#65292;&#24212;&#35813;&#27809;&#23450;&#20041;&#36807;&#65292;&#22914;&#26524;&#24050;&#26377;&#23450;&#20041;&#65292;&#21487;&#20197;&#27599;&#34892;&#21069;&#38754;&#21152;#&#26469;&#27880;&#37322;&#25481;&#65292;&#21152;&#20837;&#19979;&#38754;&#20869;&#23481;&#65306;</p><pre class="programlisting">...
define command{
        command_name    process-service-perfdata
        command_line    /usr/local/nagios/libexec/insert.pl "$LASTSERVICECHECK$||$HOSTNAME$||$SERVICEDESC$||$SERVICEOUTPUT$||$SERVICEPERFDATA$"
        }
...</pre><p>
</p><p>3&#12289;&#23545;&#35937;&#37197;&#32622;&#25991;&#20214;&#37324;&#21152;&#20837;&#22270;&#34920;&#35843;&#29992;&#36229;&#38142;&#25509;&#65306;</p><p>&#22312;Nagios 3.x&#19979;&#65292;&#21482;&#25913;&#19968;&#19979;&#22522;&#30784;&#27169;&#26495;&#37197;&#32622;&#25991;&#20214;templates.cfg&#23601;&#21487;&#20197;&#65306;</p><pre class="programlisting">...
define service{
        name            generic-service
...
        register        0
        notes_url       /nagios/cgi-bin/show.cgi?host=$HOSTNAME$&amp;service=$SERVICEDESC$
        }
...</pre><p>
</p><p>&#24456;&#31616;&#21333;&#21543;&#65311;</p><p>&#19977;&#65292;&#26816;&#26597;&#37197;&#32622;&#24182;&#37325;&#21551;&#21160;Nagios&#26381;&#21153;&#12290;</p><p>&#20180;&#32454;&#22320;&#26816;&#26597;&#37197;&#32622;&#26159;&#19968;&#20010;&#24456;&#22909;&#20351;&#29992;&#20064;&#24815;&#65292;&#23601;&#26159;&#20351;&#29992;-v&#21442;&#25968;&#26469;&#26816;&#26597;&#19968;&#19979;&#37197;&#32622;&#65292;&#22914;&#26524;&#20320;&#23436;&#20840;&#25353;&#19978;&#36848;&#21629;&#20196;&#20570;&#30340;&#65292;&#24212;&#35813;&#27809;&#20160;&#20040;&#38382;&#39064;&#65292;&#22914;&#26524;&#25253;&#21578;&#26377;&#38169;&#35823;&#30340;&#35805;&#23601;&#24471;&#25353;&#25351;&#31034;&#30340;&#38169;&#35823;&#20449;&#24687;&#20462;&#25913;&#20102;&#12290;&#19968;&#20999;&#22909;&#20102;&#21518;&#23601;&#21487;&#20197;&#20877;&#37325;&#21551;&#21160;&#21644;&#36816;&#34892;Nagios&#26381;&#21153;&#20102;&#12290;</p><p>&#24819;&#30475;&#32467;&#26524;&#20040;&#65311;&#30331;&#24405;&#21040;Nagios&#20027;&#39029;&#21518;&#23601;&#21487;&#20197;&#30475;&#35265;&#22312;&#27599;&#20010;&#26381;&#21153;&#30340;&#21518;&#38754;&#37117;&#22810;&#20102;&#19968;&#20010;&#22270;&#26631;&#65292;&#40664;&#35748;&#22270;&#26631;&#26159;&#19968;&#26412;&#32418;&#33394;&#30340;&#20070;&#26412;&#22270;&#26631;(&#32418;&#23453;&#20070;&#65311;&#65281;)&#65292;&#28857;&#20987;&#22270;&#26631;&#23601;&#21487;&#20197;&#25171;&#24320;&#19968;&#20010;&#39029;&#38754;&#65292;&#37324;&#38754;&#23601;&#26159;&#20320;&#24819;&#35201;&#30340;&#24615;&#33021;&#26354;&#32447;&#21862;&#65292;&#26377;&#20160;&#20040;&#38169;&#35823;&#30340;&#35805;&#65292;&#39029;&#38754;&#20250;&#32473;&#20986;&#38169;&#35823;&#25351;&#31034;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e24125"></a>11.5.4.&nbsp;&#20986;&#38169;&#26816;&#26597;</h3></div></div></div><p>&#27809;&#26377;&#30475;&#35265;&#32467;&#26524;&#26159;&#20010;&#24456;&#28902;&#30340;&#20107;&#65292;&#20294;&#19981;&#35201;&#20851;&#38190;&#65292;&#19968;&#33324;&#37325;&#21551;&#21160;Nagios&#26381;&#21153;&#21518;&#65292;&#35201;&#31561;&#24453;&#33267;&#23569;5&#20998;&#38047;&#20043;&#21518;&#20877;&#20570;&#22914;&#19979;&#24037;&#20316;&#65292;&#22240;&#20026;&#22312;nagios.cfg&#35774;&#32622;&#20102;&#27599;30&#31186;&#25910;&#38598;&#19968;&#27425;&#25968;&#25454;&#65292;&#27599;5&#20998;&#38047;&#32479;&#35745;&#19968;&#27425;&#25968;&#25454;&#12290;</p><p>&#36716;&#21040;&#36816;&#34892;&#25968;&#25454;&#30340;&#30446;&#24405;$nagios/var&#19979;&#21435;&#26816;&#26597;&#19968;&#19979;&#65292;&#20808;&#26159;&#30475;&#30475;&#26377;&#27809;&#26377;&#24615;&#33021;&#25968;&#25454;&#35760;&#24405;&#65292;&#36825;&#20010;&#35201;&#30475;perfdata.log&#25991;&#20214;&#65307;&#20854;&#27425;&#26159;&#30475;insert.pl&#31243;&#24207;&#36816;&#34892;&#20102;&#27809;&#26377;&#65292;&#24212;&#35813;&#26159;&#26377;&#19968;&#20010;nagiosgraph.log&#25991;&#20214;&#29983;&#25104;&#65292;&#24182;&#22312;rrd&#30446;&#24405;&#19979;&#26377;rrd&#25991;&#20214;&#29983;&#25104;&#12290;</p><pre class="programlisting">cd /usr/local/nagios/var/
wc -l perfdata.log
ls -al nagiosgraph.log
ls rrd\*.rrd | wc -l</pre><p>&#26368;&#21518;&#19968;&#21477;&#21487;&#20197;&#32473;&#20320;&#19968;&#20010;&#25968;&#20540;&#65292;&#24212;&#35813;&#26159;&#31561;&#20110;&#25110;&#22823;&#20110;&#20934;&#22791;&#24037;&#20316;&#26102;&#35760;&#24405;&#30340;&#37027;&#20010;&#20540;&#12290;</p><p><span class="emphasis"><em>&#38382;&#39064;&#65306;&#27809;&#35265;&#21040;&#26377;rrd&#25991;&#20214;&#21834;&#65311;</em></span></p><p>&#22238;&#31572;&#65306;&#20808;&#21578;&#35785;&#25105;&#20320;&#30475;&#21040;perfdata.log&#25991;&#20214;&#27809;&#26377;&#65311;&#22914;&#26524;&#27809;&#26377;&#35805;&#65292;&#35828;&#26126;nagios&#37197;&#32622;&#23601;&#19981;&#23545;&#65281;&#22914;&#26524;perfdata.log&#24050;&#32463;&#26377;&#25968;&#25454;&#20102;&#65292;&#21487;&#20197;&#25226;/usr/local/nagios/etc/nagiosgraph.cfg&#37197;&#32622;&#25991;&#20214;&#37324;&#30340;&#31532;&#19968;&#20010;&#36873;&#39033;&#35843;&#35797;&#31561;&#32423;&#25552;&#39640;&#19968;&#20123;&#65292;&#27604;&#22914;&#35774;&#32622;&#20026;4&#65292;&#20877;&#31561;5&#20998;&#38047;&#65292;&#30475;&#30475;/usr/local/nagios/var/nagiosgraph.log&#37324;&#30340;&#20869;&#23481;&#35828;&#26126;&#12290;&#22914;&#26524;log&#37324;&#20160;&#20040;&#37117;&#27809;&#26377;&#65292;&#23601;&#26159;nagiosgraph.log&#25991;&#20214;&#26435;&#38480;&#26377;&#38169;&#35823;&#65292;&#25191;&#34892;&#19968;&#19979;chown nagios:nagios nagiosgraph.log&#21644;chmod 777 nagiosgraph.log&#25226;&#25991;&#20214;&#23646;&#24615;&#35774;&#32622;&#23545;&#65292;&#20877;&#31561;&#19968;&#20250;&#20799;&#65292;&#23601;&#24212;&#35813;&#26377;&#26085;&#24535;&#20869;&#23481;&#20102;&#12290;&#22914;&#26524;&#19981;&#24819;&#31561;&#65292;&#20063;&#21487;&#20197;&#25163;&#24037;&#25191;&#34892;insert.pl&#21629;&#20196;&#12290;</p><p><span class="emphasis"><em>&#36824;&#26377;&#20160;&#20040;&#38382;&#39064;&#65311;&#65281;</em></span></p></div></div></div><div class="chapter" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title"><a name="develope"></a>&#31532;&nbsp;12&nbsp;&#31456;&nbsp;&#24320;&#21457;&#30456;&#20851;</h2></div></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="embeddedperl"></a>12.1.&nbsp;&#20351;&#29992;&#20869;&#23884;Perl&#35299;&#37322;&#22120;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e24150"></a>12.1.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>Nagios&#32534;&#35793;&#26102;&#21487;&#20197;&#36873;&#25321;&#25903;&#25345;&#20869;&#23884;Perl&#35299;&#37322;&#22120;&#12290;&#36825;&#20351;&#24471;Nagios&#21487;&#20197;&#29992;&#26356;&#39640;&#25928;&#29575;&#26469;&#25191;&#34892;Perl&#25152;&#20889;&#25554;&#20214;&#65292;&#22240;&#32780;&#22914;&#26524;&#20005;&#37325;&#20381;&#36182;&#20110;Perl&#20889;&#30340;&#25554;&#20214;&#30340;&#35805;&#21487;&#33021;&#26159;&#20010;&#22909;&#28040;&#24687;&#12290;&#27809;&#26377;&#20869;&#23884;Perl&#35299;&#37322;&#22120;&#65292;Nagios&#23558;&#36890;&#36807;&#35937;&#22806;&#37096;&#21629;&#20196;&#19968;&#26679;&#29992;&#27966;&#29983;&#21644;&#25191;&#34892;&#30340;&#26041;&#27861;&#21033;&#29992;Perl&#25152;&#20889;&#30340;&#25554;&#20214;&#12290;&#24403;&#32534;&#35793;&#20013;&#36873;&#25321;&#20102;&#25903;&#25345;&#20869;&#23884;Perl&#35299;&#37322;&#22120;&#26102;&#65292;Nagios&#21487;&#20197;&#35937;&#35843;&#29992;&#24211;&#19968;&#26679;&#26469;&#25191;&#34892;Perl&#25554;&#20214;&#12290;</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#25552;&#31034;</h3><div><img src="../pub/images/tip.gif"></div>&#23884;&#20837;&#24335;Perl&#35299;&#37322;&#22120;&#21487;&#20197;&#35753;Nagios&#25191;&#34892;&#21508;&#31181;Perl&#33050;&#26412;&#65293;&#19981;&#20165;&#20165;&#26159;&#25554;&#20214;&#12290;&#26412;&#25991;&#26723;&#21482;&#35752;&#35770;&#28041;&#21450;&#21040;Perl&#35299;&#37322;&#37324;&#25191;&#34892;&#23545;&#20027;&#26426;&#19982;&#26381;&#21153;&#26816;&#27979;&#30340;&#25554;&#20214;&#65292;&#20294;&#23427;&#21516;&#26679;&#20063;&#25903;&#25345;&#30456;&#20284;&#30340;Perl&#33050;&#26412;&#20197;&#29992;&#20110;&#20854;&#20182;&#31867;&#22411;&#21629;&#20196;(&#20363;&#22914;&#36890;&#30693;&#33050;&#26412;&#12289;&#20107;&#20214;&#22788;&#29702;&#33050;&#26412;&#31561;)&#12290;</div><p>Stephen Davies&#22312;&#20960;&#24180;&#21069;&#21457;&#24067;&#20102;&#26368;&#21021;&#30340;&#23884;&#20837;&#24335;Perl&#35299;&#37322;&#22120;&#65292;Stanley Hopcroft&#26159;&#20027;&#35201;&#30340;&#24110;&#21161;&#23884;&#20837;&#24335;Perl&#35299;&#37322;&#22120;&#25913;&#36827;&#25552;&#21319;&#30340;&#20154;&#24182;&#19988;&#24212;&#29992;&#23427;&#30340;&#23545;&#20248;&#21155;&#24615;&#20570;&#20102;&#25209;&#27880;&#12290;&#20182;&#21516;&#26102;&#32473;&#20986;&#20102;&#26377;&#20851;&#22914;&#20309;&#26356;&#22909;&#22320;&#23454;&#29616;&#29992;&#23884;&#20837;&#24335;Perl&#26469;&#23454;&#29616;Perl&#25554;&#20214;&#30340;&#26041;&#27861;&#12290;&#24517;&#39035;&#27880;&#24847;&#26412;&#25991;&#26723;&#37324;&#29992;&#30340;"ePN"&#65292;&#23427;&#25351;&#31034;Nagios&#29992;Perl&#65292;&#25110;&#26159;&#25351;&#31034;&#20102;Nagios&#35201;&#29992;&#23884;&#20837;&#24335;Perl&#35299;&#37322;&#22120;&#26469;&#32534;&#35793;&#25191;&#34892;&#23427;&#12290;</p><div><img src="../pub/images/epn.png"></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e24162"></a>12.1.2.&nbsp;&#20248;&#28857;</h3></div></div></div><p>&#20351;&#29992;ePN(Nagios&#32534;&#35793;&#26377;&#23884;&#20837;&#24335;Perl&#35299;&#37322;&#22120;)&#30340;&#22909;&#22788;&#26377;&#65306;</p><div class="orderedlist"><ol type="1"><li>Nagios&#22312;&#36816;&#34892;Perl&#25554;&#20214;&#26102;&#23558;&#20184;&#20986;&#26356;&#23569;&#26102;&#38388;&#22240;&#20026;&#23427;&#19981;&#38656;&#35201;&#27966;&#29983;&#36827;&#31243;&#26469;&#25191;&#34892;&#25554;&#20214;(&#27599;&#27425;&#25191;&#34892;&#35201;&#35843;&#20837;Perl&#35299;&#37322;&#22120;)&#12290;&#23884;&#20837;&#24335;Perl&#35299;&#37322;&#22120;&#21487;&#20197;&#35937;&#35843;&#29992;&#24211;&#20989;&#25968;&#19968;&#26679;&#26469;&#25191;&#34892;&#25554;&#20214;&#65307;</li><li>&#23427;&#20250;&#22823;&#22823;&#38477;&#20302;&#36816;&#34892;Perl&#25554;&#20214;&#30340;&#31995;&#32479;&#24320;&#38144;&#24182;&#19988;(&#25110;&#32773;&#21516;&#26102;)&#21487;&#20197;&#21516;&#26102;&#36816;&#34892;&#26356;&#22810;&#30340;Perl&#25554;&#20214;&#26816;&#27979;&#12290;&#20063;&#23601;&#26159;&#35828;&#65292;&#21487;&#33021;&#20351;&#29992;&#20854;&#20182;&#35821;&#35328;&#24182;&#27809;&#26377;&#36825;&#20123;&#22909;&#22788;&#65292;&#35821;&#35328;&#35937;C/C++&#12289;Expect/TCL&#65292;&#29992;&#36825;&#20123;&#35821;&#35328;&#24320;&#21457;&#25554;&#20214;&#20844;&#35748;&#22320;&#27604;&#20351;&#29992;Perl&#35821;&#35328;&#24320;&#21457;&#25554;&#20214;&#35201;&#24930;&#19968;&#20010;&#25968;&#37327;&#32423;(&#34429;&#28982;&#22312;&#26368;&#32456;&#36816;&#34892;&#26102;&#38388;&#19978;&#20250;&#26356;&#24555;&#65292;TCL&#35821;&#35328;&#26159;&#20010;&#20363;&#22806;)&#65307;</li><li>&#22914;&#26524;&#19981;&#26159;C&#31243;&#24207;&#21592;&#65292;&#20173;&#26087;&#21487;&#20197;&#29992;Perl&#26469;&#20570;&#32972;&#36127;&#37027;&#20123;&#32321;&#37325;&#30340;&#24037;&#20316;&#32780;&#19981;&#33267;&#20110;&#25302;&#24930;Nagios&#30340;&#36816;&#34892;&#12290;&#20294;&#26159;&#35201;&#27880;&#24847;&#65292;ePN&#24182;&#19981;&#33021;&#21152;&#36895;&#25554;&#20214;&#26412;&#36523;(&#36824;&#35201;&#38500;&#21435;&#20869;&#23884;Perl&#35299;&#37322;&#22120;&#30340;&#21152;&#36733;&#26102;&#38388;)&#12290;&#22914;&#26524;&#35201;&#21152;&#36895;&#25554;&#20214;&#26412;&#36523;&#30340;&#25191;&#34892;&#65292;&#21487;&#20197;&#32771;&#34385;&#20351;&#29992;Perl XSUB&#21253;(XS)&#25110;&#26159;C&#65292;&#36825;&#20040;&#20570;&#30340;<span class="strong"><strong>&#21069;&#25552;&#26159;</strong></span>&#20320;&#24050;&#32463;&#30830;&#20449;&#25554;&#20214;Perl&#31243;&#24207;&#36275;&#22815;&#20248;&#21270;&#24182;&#19988;&#20445;&#23384;&#20102;&#21512;&#29702;&#30340;&#31639;&#27861;(&#29992;&#37027;&#20010;Benchmark.pm&#21253;&#26469;&#27604;&#36739;Perl&#31243;&#24207;&#27169;&#22359;&#30340;&#24615;&#33021;&#30340;&#26041;&#27861;&#26159;<span class="strong"><strong>&#27809;&#26377;&#24847;&#20041;</strong></span>&#30340;)&#65307;</li><li>&#29992;ePN&#26159;&#19968;&#20010;&#23398;&#20064;Perl&#35821;&#35328;&#26368;&#22909;&#30340;&#26426;&#20250;&#12290;</li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e24182"></a>12.1.3.&nbsp;&#32570;&#28857;</h3></div></div></div><p>&#20351;&#29992;ePN(Nagios&#23884;&#20837;&#24335;Perl&#35299;&#37322;&#22120;)&#27604;&#20043;&#32431;&#31929;Nagios&#31243;&#24207;&#30340;&#32570;&#28857;&#30456;&#36817;&#30340;&#65292;&#26159;&#22312;&#36816;&#34892;Apache&#24102;&#26377;mod_perl(Apache&#20063;&#26159;&#20351;&#29992;&#23884;&#20837;&#24335;&#35299;&#37322;&#22120;)&#21644;&#36816;&#34892;&#32431;&#31929;Apache&#31243;&#24207;&#30340;&#20004;&#31181;&#24773;&#24418;&#23545;&#27604;&#65292;&#24773;&#20917;&#20063;&#26159;&#36825;&#26679;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#19968;&#20010;Perl&#31243;&#24207;&#21487;&#33021;&#22312;&#20351;&#29992;&#32431;&#31929;Nagios&#31243;&#24207;&#26102;<span class="strong"><strong>&#36816;&#36716;&#33391;&#22909;</strong></span>&#20294;&#21487;&#33021;&#22312;&#20351;&#29992;ePN&#26102;&#21364;&#21487;&#33021;<span class="strong"><strong>&#19981;&#27491;&#24120;</strong></span>&#65292;&#35201;&#20462;&#25913;Perl&#25554;&#20214;&#31243;&#24207;&#20197;&#20351;&#20043;&#36816;&#36716;&#65307;</li><li>&#22312;&#20351;&#29992;ePN&#26102;&#35843;&#35797;Perl&#25554;&#20214;&#35201;&#27604;&#20351;&#29992;&#32431;&#31929;Nagios&#35843;&#35797;&#25554;&#20214;&#35201;&#22256;&#38590;&#19968;&#20123;&#65307;</li><li>&#20351;&#29992;ePN&#30340;&#25554;&#20214;&#27604;&#32431;&#31929;Nagios&#24773;&#20917;&#19979;&#35201;&#26356;&#22823;&#19968;&#20123;(&#20869;&#23384;&#21344;&#29992;)&#65307;</li><li>&#24819;&#29992;&#30340;&#19968;&#20123;Perl&#32467;&#26500;&#20307;&#21487;&#33021;&#19981;&#33021;&#29992;&#25110;&#26159;&#29992;&#36215;&#26469;&#24456;&#22256;&#38590;&#65307;</li><li>&#19981;&#24471;&#19981;&#35201;&#20851;&#27880;'&#26377;&#22810;&#20010;&#36827;&#31243;&#22312;&#20351;&#29992;'&#21644;&#36873;&#25321;&#19968;&#31181;&#26041;&#24335;&#30475;&#36215;&#26469;&#26356;&#23569;&#20132;&#25442;&#25110;&#26356;&#23569;&#26126;&#26174;&#20132;&#20114;(&#27880;&#24847;&#29992;&#35299;&#37322;&#22120;&#25191;&#34892;&#26159;&#24182;&#21457;&#30340;&#65293;&#65293;&#35793;&#32773;&#27880;)&#65307;</li><li>&#35201;&#26377;&#26356;&#22810;&#30340;Perl&#21151;&#24213;(&#20294;&#19981;&#38656;&#35201;&#36807;&#22810;Perl&#25216;&#24039;&#25110;&#32032;&#26448;&#65293;&#38500;&#38750;&#26159;&#20351;&#29992;XSUBS&#30340;&#25554;&#20214;)&#12290;</li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e24206"></a>12.1.4.&nbsp;&#20351;&#29992;&#23884;&#20837;&#24335;Perl&#35299;&#37322;&#22120;</h3></div></div></div><p>&#22914;&#26524;&#35201;&#20351;&#29992;&#23884;&#20837;&#24335;Perl&#35299;&#37322;&#22120;&#26469;&#36816;&#34892;Perl&#25554;&#20214;&#21644;Perl&#33050;&#26412;&#65292;&#19979;&#38754;&#36825;&#20123;&#26159;&#38656;&#35201;&#20570;&#30340;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#24102;&#26377;&#23884;&#20837;&#24335;Perl&#35299;&#37322;&#22120;&#25903;&#25345;&#36873;&#39033;&#26469;&#32534;&#35793;Nagios(&#35265;&#19979;&#38754;&#30340;&#25351;&#20196;)&#65307;</li><li>&#25171;&#24320;&#20027;&#37197;&#32622;&#25991;&#20214;&#37324;&#30340;<a class="link" href="#enable_embedded_perl" title="&#34920;&nbsp;5.107.&nbsp;Embedded Perl Interpreter Option">enable_embedded_perl</a>&#36873;&#39033;&#24320;&#20851;&#65307;</li><li>&#35774;&#32622;<a class="link" href="#use_embedded_perl_implicitly" title="&#34920;&nbsp;5.108.&nbsp;Embedded Perl Implicit Use Option">use_embedded_perl_implicitly</a>&#36873;&#39033;&#20197;&#31526;&#21512;&#35201;&#27714;&#12290;&#35813;&#36873;&#39033;&#20915;&#23450;&#40664;&#35748;&#24773;&#20917;&#19979;&#26159;&#21542;&#35201;&#20351;&#29992;Perl&#35299;&#37322;&#22120;&#26469;&#36816;&#34892;&#20010;&#21035;Perl&#25554;&#20214;&#21644;&#33050;&#26412;&#65307;</li><li>&#20598;&#23572;&#35201;&#23545;&#26576;&#20123;Perl&#25554;&#20214;&#25110;&#33050;&#26412;&#35201;&#35774;&#32622;&#25110;&#25171;&#24320;&#25110;&#20851;&#38381;&#20351;&#29992;&#23884;&#20837;&#24335;Perl&#35299;&#37322;&#22120;&#12290;&#36825;&#23545;&#20110;&#37096;&#20998;&#22240;&#24102;&#26377;&#23884;&#20837;&#24335;Perl&#35299;&#37322;&#30340;Nagios&#22312;&#25191;&#34892;Perl&#25554;&#20214;&#26102;&#23384;&#22312;&#38382;&#39064;&#26102;&#24456;&#26377;&#29992;&#65292;&#35265;&#19979;&#38754;&#25351;&#20196;&#26159;&#22914;&#20309;&#23436;&#25104;&#30340;&#12290;</li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e24226"></a>12.1.5.&nbsp;&#32534;&#35793;&#19968;&#20010;Nagios&#24102;&#23884;&#20837;&#24335;Perl&#35299;&#37322;&#22120;</h3></div></div></div><p>&#22914;&#26524;&#35201;&#29992;&#23884;&#20837;&#24335;Perl&#35299;&#37322;&#22120;&#65292;&#39318;&#20808;&#38656;&#35201;&#32534;&#35793;Nagios&#25903;&#25345;&#23427;&#12290;&#21482;&#38656;&#35201;&#36816;&#34892;&#28304;&#31243;&#24207;&#37197;&#32622;&#33050;&#26412;&#26102;&#24102;&#19978;<span class="strong"><strong>--enable-embedded-perl</strong></span>&#21442;&#25968;&#21363;&#21487;&#12290;&#22914;&#26524;&#35201;&#23884;&#20837;&#24335;&#35299;&#37322;&#22120;&#32531;&#23384;&#32534;&#35793;&#21518;&#30340;&#33050;&#26412;&#65292;&#36824;&#35201;&#24102;&#19978;<span class="strong"><strong>--with-perlcache</strong></span>&#21442;&#25968;&#65292;&#20363;&#23376;&#65306;</p><pre class="programlisting"><p>	./configure --enable-embedded-perl --with-perlcache <span class="strong"><strong>otheroptions...</strong></span></p></pre><p>&#19968;&#26086;&#29992;&#26032;&#36873;&#39033;&#37325;&#26032;&#36816;&#34892;&#37197;&#32622;&#33050;&#26412;&#65292;&#19968;&#23450;&#35201;&#37325;&#32534;&#35793;Nagios&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e24244"></a>12.1.6.&nbsp;&#25351;&#23450;&#25554;&#20214;&#20351;&#29992;Perl&#35299;&#37322;&#22120;</h3></div></div></div><p>&#33258;Nagios&#30340;&#31532;&#19977;&#29256;&#24320;&#22987;&#65292;&#21487;&#20197;&#22312;Perl&#25554;&#20214;&#25110;&#33050;&#26412;&#20013;&#25351;&#23450;&#26159;&#21542;&#38656;&#35201;&#22312;&#23884;&#20837;&#24335;Perl&#35299;&#37322;&#22120;&#37324;&#36816;&#34892;&#12290;&#36825;&#23545;&#20110;&#36816;&#34892;&#37027;&#20123;&#22312;Perl&#35299;&#37322;&#22120;&#37324;&#36816;&#34892;&#26377;&#38382;&#39064;&#30340;Perl&#33050;&#26412;&#30340;&#22788;&#29702;&#23558;&#38750;&#24120;&#26377;&#24110;&#21161;&#12290;</p><p><span class="strong"><strong>&#26126;&#30830;&#22320;</strong></span>&#25351;&#23450;Nagios&#26159;&#21542;&#35201;&#20351;&#29992;&#23884;&#20837;&#24335;Perl&#35299;&#37322;&#22120;&#26469;&#36816;&#34892;&#26576;&#20010;Perl&#33050;&#26412;&#65292;&#25226;&#19979;&#38754;&#30340;&#19996;&#35199;&#21152;&#21040;&#20320;&#30340;Perl&#25554;&#20214;&#25110;&#33050;&#26412;&#37324;...</p><p>&#22914;&#26524;&#38656;&#35201;Nagios&#20351;&#29992;&#23884;&#20837;&#24335;Perl&#35299;&#37322;&#22120;&#26469;&#36816;&#34892;Perl&#33050;&#26412;&#65292;&#22312;Perl&#31243;&#24207;&#37324;&#21152;&#20837;&#19979;&#38754;&#19968;&#34892;&#65306;</p><pre class="programlisting"><p># nagios: +epn</p></pre><p>&#22914;&#26524;<span class="emphasis"><em>&#19981;&#29992;</em></span>&#23884;&#20837;&#24335;&#35299;&#37322;&#22120;&#65292;&#22312;Perl&#31243;&#24207;&#37324;&#21152;&#20837;&#19979;&#38754;&#36825;&#19968;&#34892;&#65306;</p><pre class="programlisting"><p># nagios: -epn</p></pre><p>&#19978;&#38754;&#30340;&#34892;&#24517;&#39035;&#20986;&#29616;&#26377;Perl&#33050;&#26412;&#30340;&#21069;10&#34892;&#37324;&#20197;&#35753;Nagios&#26816;&#27979;Perl&#31243;&#24207;&#26159;&#21542;&#35201;&#29992;&#35299;&#37322;&#22120;&#12290;</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#25552;&#31034;</h3><div><img src="../pub/images/tip.gif"></div>&#22914;&#26524;<span class="strong"><strong>&#27809;&#26377;&#26126;&#30830;&#22320;</strong></span>&#29992;&#19978;&#36848;&#26041;&#24335;&#25351;&#20986;&#35813;&#25554;&#20214;&#26159;&#21542;&#35201;&#22312;Perl&#35299;&#37322;&#22120;&#37324;&#36816;&#34892;&#65292;Nagios&#23558;&#33258;&#20027;&#20915;&#23450;&#12290;&#23427;&#21462;&#20915;&#20110;<a class="link" href="#use_embedded_perl_implicitly" title="&#34920;&nbsp;5.108.&nbsp;Embedded Perl Implicit Use Option">use_embedded_perl_implicitly</a>&#21464;&#37327;&#35774;&#32622;&#12290;&#22914;&#26524;&#35813;&#21464;&#37327;&#20540;&#26159;1&#65292;&#20840;&#37096;&#30340;Perl&#25554;&#20214;&#19982;&#33050;&#26412;(&#37027;&#20123;&#27809;&#26126;&#30830;&#25351;&#23450;&#30340;)&#23558;&#22312;Perl&#35299;&#37322;&#22120;&#37324;&#36816;&#34892;&#65292;&#22914;&#26524;&#20540;&#26159;0&#65292;&#37027;&#20123;&#27809;&#26126;&#30830;&#25351;&#23450;&#36816;&#34892;&#26041;&#24335;&#30340;&#25554;&#20214;&#21644;&#33050;&#26412;&#23558;<span class="emphasis"><em>&#19981;&#20250;</em></span>&#22312;&#35299;&#37322;&#22120;&#37324;&#36816;&#34892;&#12290;</div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e24281"></a>12.1.7.&nbsp;&#24320;&#21457;&#23884;&#20837;&#24335;Perl&#35299;&#37322;&#22120;&#21487;&#36816;&#34892;&#30340;Perl&#25554;&#20214;</h3></div></div></div><p>&#26356;&#22810;&#26377;&#20851;&#24320;&#21457;&#23884;&#20837;&#24335;Perl&#35299;&#37322;&#22120;&#37324;&#21487;&#36816;&#34892;Perl&#25554;&#20214;&#30340;&#20449;&#24687;&#21487;&#26597;&#38405;<a class="link" href="#epnplugins" title="12.2.&nbsp;&#24320;&#21457;&#20351;&#29992;&#20869;&#23884;&#24335;Perl&#35299;&#37322;&#22120;&#30340;Nagios&#25554;&#20214;">&#36825;&#31687;&#25991;&#26723;</a>&#12290;</p></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="epnplugins"></a>12.2.&nbsp;&#24320;&#21457;&#20351;&#29992;&#20869;&#23884;&#24335;Perl&#35299;&#37322;&#22120;&#30340;Nagios&#25554;&#20214;</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e24292"></a>12.2.1.&nbsp;&#20171;&#32461;</h3></div></div></div><p>Stanley Hopcroft&#22312;&#23884;&#20837;&#24335;Perl&#35299;&#37322;&#22120;&#30340;&#24037;&#20316;&#26426;&#21046;&#26041;&#38754;&#21331;&#26377;&#25104;&#25928;&#24182;&#19988;&#32473;&#20986;&#20102;&#21033;&#29992;&#23884;&#20837;&#24335;Perl&#35299;&#37322;&#22120;&#26041;&#38754;&#30340;&#20248;&#28857;&#21644;&#32570;&#28857;&#30340;&#27880;&#37322;&#65292;&#20182;&#21516;&#26102;&#36824;&#32473;&#20986;&#20102;&#22914;&#20309;&#35753;Perl&#25554;&#20214;&#26356;&#22909;&#22320;&#22312;Perl&#35299;&#37322;&#22120;&#37324;&#36816;&#34892;&#30340;&#19968;&#20123;&#25552;&#31034;&#19982;&#24110;&#21161;&#65292;&#19979;&#38754;&#20869;&#23481;&#22810;&#26469;&#33258;&#20110;&#20182;&#30340;&#27880;&#35299;&#12290;</p><p>&#38656;&#35201;&#27880;&#24847;&#26412;&#25991;&#26723;&#37324;&#29992;&#30340;"ePN"&#65292;&#23427;&#25351;&#23450;&#26159;&#24102;&#26377;&#23884;&#20837;&#24335;Perl&#35299;&#37322;&#22120;&#30340;Nagios&#29256;&#26412;&#65292;&#22914;&#26524;&#19981;&#26159;&#65292;Nagios&#38656;&#35201;&#37325;&#26032;&#32534;&#35793;&#20197;&#24102;&#26377;&#23884;&#20837;&#24335;Perl&#35299;&#37322;&#22120;&#30340;&#25903;&#25345;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e24299"></a>12.2.2.&nbsp;&#30446;&#26631;&#21463;&#20247;</h3></div></div></div><div class="orderedlist"><ol type="1"><li>&#20013;&#32423;Perl&#24320;&#21457;&#32773;&#65293;&#37027;&#20123;&#21463;Perl&#35821;&#35328;&#24378;&#22823;&#33021;&#21147;&#30340;&#29071;&#38518;&#21364;&#19981;&#20250;&#21033;&#29992;&#20869;&#22312;&#35821;&#35328;&#29305;&#24615;&#25110;&#26159;&#23545;&#37027;&#20123;&#29305;&#24615;&#25484;&#25569;&#19981;&#22810;&#30340;&#24320;&#21457;&#21592;&#65307;</li><li>&#23454;&#29992;&#20027;&#20041;&#32773;&#32780;&#19981;&#26159;&#28145;&#20837;&#30740;&#31350;Perl&#35821;&#35328;&#29305;&#24615;&#30340;&#65307;</li><li>&#22914;&#26524;&#23545;Perl&#23545;&#35937;&#12289;&#21629;&#21517;&#31354;&#38388;&#31649;&#29702;&#12289;&#25968;&#25454;&#32467;&#26500;&#21644;&#35843;&#35797;&#31561;&#24182;&#19981;&#24456;&#26377;&#20852;&#36259;&#65292;&#25110;&#35768;&#20063;&#23601;&#22815;&#20102;&#65307;</li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e24309"></a>12.2.3.&nbsp;&#24320;&#21457;Perl&#25554;&#20214;&#24517;&#22791;&#30693;&#35782;</h3></div></div></div><p>&#19981;&#31649;&#26159;&#21542;&#29992;ePN&#19982;&#21542;&#65292;&#19979;&#38754;&#30340;&#20869;&#23481;&#35201;&#27880;&#24847;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#24635;&#26159;&#35201;&#29983;&#25104;&#19968;&#20123;&#36755;&#20986;&#20869;&#23481;&#65307;</li><li>&#21152;&#19978;&#24341;&#29992;'use utils'&#24182;&#24341;&#29992;&#20123;&#36890;&#29992;&#27169;&#22359;&#26469;&#36755;&#20986;($TIMEOUT %ERRORS &amp;print_revision &amp;&#25903;&#25345;&#31561;)&#65307;</li><li>&#24635;&#26159;&#30693;&#36947;&#19968;&#20123;Perl&#25554;&#20214;&#30340;&#26631;&#20934;&#20064;&#24815;&#65292;&#22914;&#65306;
  <div class="orderedlist"><ol type="a"><li>&#36864;&#20986;&#26102;&#24635;&#26159;exit&#24102;&#30528;$ERRORS{CRITICAL}&#12289;$ERRORS{OK}&#31561;&#65307;</li><li>&#20351;&#29992;getopt&#20989;&#25968;&#26469;&#22788;&#29702;&#21629;&#20196;&#34892;&#65307;</li><li>&#31243;&#24207;&#22788;&#29702;&#36229;&#26102;&#38382;&#39064;&#65307;</li><li>&#24403;&#27809;&#26377;&#21629;&#20196;&#21442;&#25968;&#26102;&#35201;&#32473;&#20986;&#21487;&#35843;&#29992;print_usage&#65307;</li><li>&#20351;&#29992;&#26631;&#20934;&#30340;&#21629;&#20196;&#34892;&#36873;&#39033;&#24320;&#20851;(&#35937;-H 'host'&#12289;-V 'version'&#31561;)&#12290;</li></ol></div></li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e24332"></a>12.2.4.&nbsp;&#24320;&#21457;ePN&#19979;&#30340;Perl&#25554;&#20214;&#24517;&#20570;&#20869;&#23481;</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li>1&#12289;&lt;DATA&gt;&#19981;&#33021;&#20351;&#29992;&#65292;&#29992;&#19979;&#38754;&#26041;&#24335;&#26367;&#25442;&#65306;
<pre class="programlisting"><p>my $data = &lt;&lt;DATA;
portmapper 100000
portmap 100000
sunrpc 100000
rpcbind 100000
rstatd 100001
rstat 100001
rup 100001
..
DATA

%prognum = map { my($a, $b) = split; ($a, $b) } split(/\n/, $data) ;</p></pre></li><li>2&#12289;BEGIN&#22359;&#24182;&#19981;&#20250;&#35937;&#20320;&#24819;&#20687;&#30340;&#25191;&#34892;&#65292;&#23613;&#21487;&#33021;&#36991;&#20813;&#29992;&#23427;&#65307;</li><li>3&#12289;&#30830;&#20445;&#32534;&#35793;&#26102;&#38750;&#24120;&#24178;&#20928;&#65292;&#35937;
  <div class="itemizedlist"><ul type="circle"><li>use strict </li><li>use perl -w (&#20854;&#20182;&#24320;&#20851;&#29305;&#21035;&#26159;[-T]&#23558;&#19981;&#33021;&#29992;)</li><li>use perl -c </li></ul></div></li><li>4&#12289;&#36991;&#20813;&#20351;&#29992;&#20840;&#31243;&#22359;&#37324;&#30340;&#21464;&#37327;&#35821;&#21477;(my)&#26469;&#20256;&#36882;&#21040;&#23376;&#31243;&#24207;&#37324;&#20316;&#20026;&#21464;&#37327;&#25968;&#25454;&#12290;&#22914;&#26524;&#23376;&#31243;&#24207;&#22312;&#25554;&#20214;&#26102;&#34987;&#22810;&#27425;&#35843;&#29992;&#36825;&#23558;&#26159;&#20010;&#33268;&#21629;&#24615;&#38169;&#35823;&#12290;&#36825;&#26679;&#30340;&#23376;&#31243;&#24207;&#22359;&#36215;&#21040;&#19968;&#20010;"&#32456;&#27490;"&#20316;&#29992;&#65292;&#20351;&#24471;&#20840;&#31243;&#22359;&#37324;&#30340;&#21464;&#37327;&#34987;&#36171;&#20104;&#31532;&#19968;&#20010;&#20540;&#32780;&#24102;&#20837;&#21040;&#21518;&#24207;&#23376;&#31243;&#24207;&#35843;&#29992;&#36807;&#31243;&#20013;&#23548;&#33268;&#27515;&#38145;&#12290;&#20294;&#22914;&#26524;&#20840;&#31243;&#21464;&#37327;&#26159;&#21482;&#35835;&#30340;(&#27604;&#22914;&#26159;&#20010;&#21487;&#24182;&#21457;&#30340;&#32467;&#26500;&#20307;)&#23601;&#19981;&#26159;&#38382;&#39064;&#65292;&#22312;Bekman&#30340;<a class="ulink" href="http://perl.apache.org/docs/1.0/guide/" target="_top">"&#25512;&#33616;&#26367;&#20195;&#26041;&#24335;"</a>&#37324;&#26159;&#36825;&#26679;&#26469;&#20570;&#30340;&#65306;
<div class="itemizedlist"><ul type="circle"><li>&#35753;&#23376;&#31243;&#24207;&#35843;&#29992;&#27809;&#26377;&#21103;&#20316;&#29992;&#26041;&#24335;&#30340;&#21442;&#32771;&#65306;
<div class="table"><a name="d0e24360"></a><p class="title"><b>&#34920;&nbsp;12.1.&nbsp;&#28304;&#31243;&#24207;&#36716;&#25442;&#27604;&#23545;</b></p><div class="table-contents"><table summary="&#28304;&#31243;&#24207;&#36716;&#25442;&#27604;&#23545;" border="1"><colgroup><col><col></colgroup><thead><tr><th>&#36716;&#25442;&#21069;</th><th>&#36716;&#25442;&#21518;</th></tr></thead><tbody><tr><td><pre class="programlisting"><p>my $x = 1 ;
sub a { .. Process $x ... }
.
.
a ; 
$x = 2 ;
a ; 

# anon closures __always__ rebind the current lexical value
</p></pre>
</td><td><pre class="programlisting"><p>my $x = 1 ;
$a_cr = sub { ... Process $x ... } ;
.
.
&amp;$a_cr ;
$x = 2 ;
&amp;$a_cr ;
</p></pre></td></tr></tbody></table></div></div><br class="table-break"></li><li>&#25226;&#20840;&#31243;&#35821;&#21477;&#21464;&#37327;&#36865;&#21040;&#23376;&#31243;&#24207;&#22359;&#37324;(&#35937;&#20010;&#23545;&#35937;&#25110;&#27169;&#22359;&#37027;&#26679;&#26469;&#22788;&#29702;)&#65307;</li><li>&#23558;&#20449;&#24687;&#20197;&#24341;&#29992;&#25110;&#21035;&#21517;&#26041;&#24335;&#36865;&#20837;&#23376;&#31243;&#24207;&#37324;(\$lex_var&#25110;$_[n])&#65307;</li><li>&#29992;&#21253;&#20869;&#20840;&#31243;&#26367;&#25442;&#35821;&#21477;&#24182;&#29992;'use vars qw(global1 global2 ..)'&#20174;'use strict'&#20998;&#31163;&#20986;&#26469;&#12290;</li></ul></div></li><li>5&#12289;&#27880;&#24847;&#21738;&#37324;&#21487;&#20197;&#24471;&#21040;&#26356;&#22810;&#20449;&#24687;&#12290;&#19968;&#33324;&#20449;&#24687;&#26159;&#35201;&#20540;&#24471;&#24576;&#30097;&#30340;(O'Reilly&#20986;&#29256;&#30340;&#20070;&#31821;&#65292;&#21152;&#19978;Damien Conways&#33879;&#30340;"Object Oriented Perl")&#65292;&#20294;&#30495;&#27491;&#26377;&#29992;&#30340;&#26159;&#20174;Stas Bekman&#22312;<a class="ulink" href="http://perl.apache.org/guide/" target="_top">http://perl.apache.org/guide/</a>&#37324;&#25152;&#20889;&#30340;mod_perl&#25351;&#21335;&#65292;&#36825;&#25165;&#26159;&#22909;&#30340;&#36215;&#28857;&#12290;&#37027;&#26412;&#20070;&#38750;&#24120;&#36866;&#29992;&#65292;&#34429;&#28982;&#23427;&#37324;&#38754;&#27809;&#26377;&#19968;&#28857;&#20851;&#20110;Nagios&#30340;&#19996;&#35199;&#65292;&#20840;&#26159;&#22914;&#26524;&#26469;&#20889;&#22312;Apache&#37324;&#24590;&#20040;&#24320;&#21457;&#21033;&#29992;&#23884;&#20837;&#24335;Perl&#35299;&#37322;&#22120;&#26469;&#20889;Perl&#31243;&#24207;&#30340;&#20869;&#23481;&#12290;&#25552;&#20513;&#22810;&#20351;&#29992;perlembed&#30340;&#22312;&#32447;&#25163;&#20876;(manpage)&#12290;&#20854;&#22522;&#30784;&#26159;&#30693;&#36947;Lincoln Stein&#21644;Doug MacEachern&#20889;&#30340;&#26377;&#20851;Perl&#21450;&#23884;&#20837;Perl&#30340;&#19968;&#20123;&#19996;&#35199;&#65292;&#20182;&#20204;&#25152;&#33879;&#30340;'Writing Apache Modules with Perl and C'&#19968;&#20070;&#32477;&#23545;&#20540;&#24471;&#19968;&#35835;&#12290;</li><li>6&#12289;&#27880;&#24847;&#22312;ePN&#37324;&#25554;&#20214;&#26377;&#21487;&#33021;&#36820;&#22238;&#19968;&#20123;&#22855;&#24618;&#30340;&#20540;&#65292;&#36825;&#24456;&#26377;&#21487;&#33021;&#26159;&#30001;&#20110;&#21069;&#38754;4&#37324;&#25152;&#25552;&#21040;&#30340;&#38382;&#39064;&#25152;&#23548;&#33268;&#30340;&#65307;</li><li><p>7&#12289;&#35843;&#35797;&#21069;&#20570;&#28857;&#20934;&#22791;&#65306;</p><div class="itemizedlist"><ul type="circle"><li>&#23545;ePN&#20570;&#20010;&#26816;&#26597;&#65307;</li><li>&#25554;&#20214;&#37324;&#21152;&#20123;&#25171;&#21360;&#35821;&#21477;&#36755;&#20986;&#21040;&#26631;&#20934;&#38169;&#35823;&#35774;&#22791;STDERR(&#19981;&#33021;&#29992;&#26631;&#20934;&#36755;&#20986;&#35774;&#22791;STDOUT)&#26469;&#26174;&#31034;&#21464;&#37327;&#20540;&#65307;</li><li>&#22312;p1.pl&#37324;&#21152;&#20123;&#25171;&#21360;&#35821;&#21477;&#26469;&#26174;&#31034;ePN&#26377;&#35201;&#25191;&#34892;&#25554;&#20214;&#26102;&#26159;&#22914;&#20309;&#30475;&#24453;&#25554;&#20214;&#30340;&#65307;</li><li>&#22312;&#21069;&#21488;&#27169;&#24335;&#37324;&#36816;&#34892;ePN(&#21487;&#33021;&#35201;&#32467;&#21512;&#21069;&#38754;&#30340;&#19968;&#20123;&#24314;&#35758;)&#65307;</li><li>&#25554;&#20214;&#37324;&#29992;'Deparse'&#27169;&#22359;&#26469;&#30475;&#19968;&#19979;&#35299;&#26512;&#21629;&#20196;&#36873;&#39033;&#22312;&#23884;&#20837;&#35299;&#37322;&#22120;&#23454;&#38469;&#24471;&#21040;&#30340;&#20869;&#23481;(&#35265;Sean M. Burke&#25152;&#20889;&#30340;'Constants in Perl'&#65292;&#22312;Perl Journal&#37324;&#65292;&#20889;&#20110;2001&#24180;)&#65307;</li></ul></div><p>
  </p><pre class="programlisting">perl -MO::Deparse &lt;your_program&gt;</pre></li><li>8&#12289;&#36824;&#35201;&#24403;&#24515;ePN&#25226;&#25554;&#20214;&#36716;&#25442;&#25104;&#20160;&#20040;&#20102;&#65292;&#24182;&#19988;&#22914;&#26524;&#36824;&#26377;&#38169;&#35823;&#21487;&#20197;&#35843;&#35797;&#19968;&#19979;&#36716;&#25442;&#21518;&#30340;&#20869;&#23481;&#12290;&#27491;&#22914;&#19979;&#38754;&#30475;&#21040;&#30340;&#65292;p1.pl&#25226;&#25554;&#20214;&#24403;&#20316;&#19968;&#20010;&#23376;&#31243;&#24207;&#35843;&#29992;&#65292;&#23376;&#31243;&#24207;&#26159;&#22312;&#19968;&#20010;&#21517;&#20026;'Embed::&lt;something_related_to_your_plugin_file_name&gt;'&#30340;&#21253;&#37324;&#65292;&#21517;&#23383;&#26159;'hndlr'&#12290;&#25554;&#20214;&#21487;&#33021;&#38656;&#35201;&#21629;&#20196;&#21442;&#25968;&#25918;&#22312;@ARGV&#37324;&#65292;&#22240;&#32780;pl.pl&#20250;&#25226;@_&#36171;&#20104;@ARGV&#12290;&#36825;&#20250;&#25353;&#27425;&#24207;&#20174;'eval'&#21462;&#20986;&#20540;&#24182;&#19988;&#22914;&#26524;eval&#25243;&#20986;&#19968;&#20010;&#38169;&#35823;(&#20219;&#24847;&#19968;&#20010;&#35299;&#26512;&#38169;&#35823;&#25110;&#36816;&#34892;&#38169;&#35823;)&#37117;&#20250;&#20351;&#25554;&#20214;&#20013;&#26029;&#36816;&#34892;&#12290;&#19979;&#38754;&#25171;&#21360;&#20986;&#20102;&#22312;ePN&#23581;&#35797;&#36816;&#34892;&#20043;&#21069;&#30001;&#23427;&#36716;&#25442;&#22909;&#30340;<span class="strong"><strong>check_rpc</strong></span>&#25554;&#20214;&#30340;&#30495;&#27491;&#20869;&#23481;&#65292;&#22823;&#37096;&#20998;&#26469;&#33258;&#20110;&#25554;&#20214;&#30340;&#20195;&#30721;&#27809;&#26377;&#32473;&#20986;&#65292;&#24863;&#20852;&#36259;&#30340;&#21482;&#26159;&#30001;ePN&#23545;&#25554;&#20214;&#30340;&#36716;&#25442;&#32467;&#26524;&#12290;&#20026;&#26356;&#28165;&#26970;&#36215;&#35265;&#65292;&#36716;&#25442;&#20986;&#30340;&#37096;&#20998;&#29992;&#19979;&#21010;&#32447;&#26631;&#35782;&#20102;&#19968;&#19979;&#65306;
<pre class="programlisting"><p><span class="underline">                package main;
                use subs 'CORE::GLOBAL::exit';
                sub CORE::GLOBAL::exit { die "ExitTrap: $_[0] 
(Embed::check_5frpc)"; }
                package Embed::check_5frpc; sub hndlr { shift(@_);
@ARGV=@_;</span>
#! /usr/bin/perl -w
#
# check_rpc plugin for Nagios
#
# usage:
#    check_rpc host service
#
# Check if an rpc serice is registered and running
# using rpcinfo - $proto $host $prognum 2&gt;&amp;1 |";
#
# Use these hosts.cfg entries as examples
#
# command[check_nfs]=/some/path/libexec/check_rpc $HOSTADDRESS$ nfs
# service[check_nfs]=NFS;24x7;3;5;5;unix-admin;60;24x7;1;1;1;;check_rpc
#
# initial version: 3 May 2000 by Truongchinh Nguyen and Karl DeBisschop
# current status: $Revision: 1.17 $
#
# Copyright Notice: GPL
#
<span class="strong"><strong>...
rest of plugin code goes here (it was removed for brevity)
...</strong></span>
<span class="underline">}</span></p></pre></li><li>9&#12289;&#22312;&#25554;&#20214;&#37324;&#19981;&#29992;&#35201;'use diagnostics'&#26469;&#36816;&#34892;ePN&#26041;&#24335;&#30340;&#31243;&#24207;&#65292;&#36825;&#20250;&#20351;&#24471;&#20840;&#37096;&#25554;&#20214;&#37117;&#36820;&#22238;&#19968;&#20010;"&#32039;&#24613;"&#29366;&#24577;&#65307;</li><li>10&#12289;&#32771;&#34385;&#29992;&#19968;&#20010;&#26368;&#23567;&#30340;C&#23884;&#20837;Perl&#30340;&#31243;&#24207;&#26469;&#26816;&#27979;&#25554;&#20214;&#12290;&#34429;&#28982;&#23427;&#36824;&#19981;&#33021;&#25285;&#20445;&#22312;&#23427;&#37324;&#38754;&#36816;&#34892;&#27491;&#24120;&#30340;&#35805;&#20063;&#20250;&#22312;ePN&#37324;&#36816;&#34892;&#20063;&#33021;&#27491;&#24120;&#65292;&#20294;&#23427;&#21487;&#20197;&#25214;&#21040;&#24456;&#22810;ePN&#37324;&#32943;&#23450;&#20063;&#20250;&#26377;&#30340;&#38169;&#35823;&#12290;[&#19968;&#20010;&#23567;&#30340;ePN&#31243;&#24207;&#24050;&#32463;&#22312;Nagios&#30340;&#28304;&#31243;&#24207;&#21253;&#37324;&#65292;&#25918;&#22312;<span class="strong"><strong>contrib/</strong></span>&#30446;&#24405;&#19979;&#65292;&#21487;&#29992;&#20110;&#27979;&#35797;ePN&#24335;&#30340;Perl&#25554;&#20214;&#65292;&#20999;&#25442;&#30446;&#24405;&#21040;contrib/&#19979;&#24182;&#25970;&#20837;'make mini_epn'&#26469;&#32534;&#35793;&#23427;&#12290;&#23427;&#24517;&#39035;&#19982;p1.pl&#31243;&#24207;&#25918;&#22312;&#21516;&#19968;&#20010;&#30446;&#24405;&#37324;&#36816;&#34892;&#65292;p1.pl&#20063;&#25918;&#36827;&#20102;Nagios&#28304;&#31243;&#24207;&#21253;&#37324;&#20102;&#12290;]</li></ul></div></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="pluginapi"></a>12.3.&nbsp;Nagios&#25554;&#20214;API</h2></div></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e24437"></a>12.3.1.&nbsp;&#20854;&#20182;&#36164;&#28304;</h3></div></div></div><p>&#22914;&#26524;&#24819;&#32473;Nagios&#22686;&#21152;&#19968;&#20010;&#33258;&#24049;&#30340;&#25554;&#20214;&#65292;&#35831;&#35775;&#38382;&#22914;&#19979;&#36164;&#28304;&#65306;</p><div class="orderedlist"><ol type="1"><li><a class="ulink" href="http://sourceforge.net/projects/nagiosplug/" target="_top">Nagios&#25554;&#20214;&#39033;&#30446;&#23448;&#26041;&#32593;&#31449;</a></li><li><a class="ulink" href="http://nagiosplug.sourceforge.net/developer-guidelines.html" target="_top">Nagios&#25554;&#20214;&#24320;&#21457;&#30340;&#23448;&#26041;&#25351;&#21335;</a></li></ol></div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e24449"></a>12.3.2.&nbsp;&#25554;&#20214;&#27010;&#35272;</h3></div></div></div><p>&#20316;&#20026;Nagios&#25554;&#20214;&#30340;&#33050;&#26412;&#25110;&#25191;&#34892;&#31243;&#24207;&#24517;&#39035;(&#33267;&#23569;)&#35201;&#20570;&#20004;&#20214;&#20107;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#36864;&#20986;&#26102;&#32473;&#20986;&#20960;&#31181;&#21487;&#33021;&#30340;&#36820;&#22238;&#20540;&#20013;&#30340;&#19968;&#20010;&#65307;</li><li>&#33267;&#23569;&#35201;&#32473;&#20986;&#19968;&#26465;&#36755;&#20986;&#20869;&#23481;&#21040;&#26631;&#20934;&#36755;&#20986;&#35774;&#22791;(STDOUT)&#12290;</li></ol></div><p>&#23545;Nagios&#26469;&#35828;&#65292;&#25554;&#20214;&#37324;&#38754;&#20570;&#20160;&#20040;&#24182;&#19981;&#37325;&#35201;&#12290;&#33258;&#21046;&#25554;&#20214;&#21487;&#20197;&#26159;&#20570;TCP&#31471;&#21475;&#29366;&#24577;&#26816;&#27979;&#65292;&#36816;&#34892;&#26576;&#20010;&#25968;&#25454;&#24211;&#26597;&#35810;&#65292;&#26816;&#26597;&#30913;&#30424;&#31354;&#38386;&#31354;&#38388;&#65292;&#25110;&#20854;&#20182;&#38656;&#35201;&#26816;&#27979;&#30340;&#20869;&#23481;&#12290;&#36825;&#21462;&#20915;&#20110;&#20320;&#24819;&#26816;&#27979;&#20160;&#20040;&#19996;&#35199;&#65292;&#36825;&#23436;&#20840;&#30001;&#20320;&#33258;&#24049;&#20915;&#23450;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e24461"></a>12.3.3.&nbsp;&#36820;&#22238;&#20540;</h3></div></div></div><p>Nagios&#29992;&#25554;&#20214;&#30340;&#36820;&#22238;&#20540;&#26469;&#29983;&#25104;&#20027;&#26426;&#25110;&#26381;&#21153;&#30340;&#29366;&#24577;&#12290;&#19979;&#34920;&#37324;&#21015;&#20986;&#20102;&#21512;&#27861;&#30340;&#36820;&#22238;&#20540;&#20197;&#21450;&#23545;&#24212;&#30340;&#26381;&#21153;&#25110;&#20027;&#26426;&#29366;&#24577;&#12290;</p><div class="table"><a name="d0e24466"></a><p class="title"><b>&#34920;&nbsp;12.2.&nbsp;</b></p><div class="table-contents"><table border="1"><colgroup><col><col><col></colgroup><thead><tr><th>&#25554;&#20214;&#36820;&#22238;&#20540;</th><th>&#26381;&#21153;&#29366;&#24577;</th><th>&#20027;&#26426;&#29366;&#24577;</th></tr></thead><tbody><tr><td>0</td><td>&#27491;&#24120;(OK)</td><td>&#36816;&#34892;(UP)</td></tr><tr><td>1</td><td>&#21578;&#35686;(WARNING)</td><td>&#36816;&#34892;(UP)&#25110;&#23445;&#26426;(DOWN)/&#19981;&#21487;&#36798;(UNREACHABLE)*</td></tr><tr><td>2</td><td>&#32039;&#24613;(CRITICAL)</td><td>&#23445;&#26426;(DOWN)/&#19981;&#21487;&#36798;(UNREACHABLE)</td></tr><tr><td>3</td><td>&#26410;&#30693;(UNKNOWN)</td><td>&#23445;&#26426;(DOWN)/&#19981;&#21487;&#36798;(UNREACHABLE)</td></tr></tbody></table></div></div><br class="table-break"><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><div><img src="../pub/images/note.gif"></div>&#22914;&#26524;&#20351;&#33021;<a class="link" href="#use_aggressive_host_checking" title="&#34920;&nbsp;5.59.&nbsp;&#36827;&#21462;&#24335;&#20027;&#26426;&#26816;&#27979;&#36873;&#39033;">use_aggressive_host_checking</a>&#36873;&#39033;&#65292;&#36820;&#22238;&#20540;1&#23558;&#20351;&#20027;&#26426;&#29366;&#24577;&#35201;&#20040;&#26159;&#23445;&#26426;(DOWN)&#35201;&#20040;&#26159;&#19981;&#21487;&#36798;(UNREACHABLE)&#12290;&#20854;&#20182;&#24773;&#20917;&#19979;&#65292;&#36820;&#22238;&#20540;1&#23558;&#20351;&#20027;&#26426;&#29366;&#24577;&#26159;&#36816;&#34892;(UP)&#12290;Nagios&#23558;&#21028;&#23450;&#26159;&#23445;&#26426;(DOWN)&#36824;&#26159;&#19981;&#21487;&#36798;(UNREACHABLE)&#29366;&#24577;&#30340;&#35752;&#35770;&#22312;<a class="link" href="#networkreachability" title="8.4.&nbsp;&#22914;&#20309;&#30830;&#35748;&#32593;&#32476;&#20013;&#20027;&#26426;&#30340;&#29366;&#24577;&#19982;&#21487;&#36798;&#24615;">&#36825;&#31687;&#25991;&#26723;</a>&#37324;&#26377;&#12290;</div></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e24515"></a>12.3.4.&nbsp;&#29305;&#23450;&#25554;&#20214;&#36755;&#20986;</h3></div></div></div><p>&#26368;&#23567;&#24773;&#20917;&#19979;&#65292;&#25554;&#20214;&#35201;&#36820;&#22238;&#19968;&#34892;&#25991;&#26412;&#36755;&#20986;&#12290;&#33258;Nagios 3&#29256;&#26412;&#36215;&#65292;&#25554;&#20214;&#21487;&#20197;&#36820;&#22238;&#22810;&#34892;&#36755;&#20986;&#25991;&#26412;&#12290;&#25554;&#20214;&#21487;&#20197;&#36820;&#22238;&#24615;&#33021;&#25968;&#25454;&#20197;&#35753;&#22806;&#37096;&#24212;&#29992;&#26469;&#20570;&#21518;&#24207;&#22788;&#29702;&#12290;&#36755;&#20986;&#25991;&#26412;&#30340;&#22522;&#26412;&#26684;&#24335;&#22914;&#19979;&#65306;</p><pre class="programlisting"><p>TEXT OUTPUT | <span class="underline">OPTIONAL PERFDATA</span>
<span class="strikethrough">LONG TEXT LINE 1
LONG TEXT LINE 2 
... 
LONG TEXT LINE N</span> | <span class="underline">PERFDATA LINE 2
PERFDATA LINE 3 
... 
PERFDATA LINE N</span></p></pre><p>&#24615;&#33021;&#25968;&#25454;(&#29992;&#19979;&#21010;&#32447;&#31034;&#24847;&#30340;&#37096;&#20998;)&#26159;&#21487;&#36873;&#30340;&#65292;&#22914;&#26524;&#25554;&#20214;&#36755;&#20986;&#25991;&#26412;&#37324;&#26377;&#24615;&#33021;&#25968;&#25454;&#65292;&#24517;&#39035;&#29992;&#31649;&#36947;&#31526;(|)&#25226;&#24615;&#33021;&#25968;&#25454;&#19982;&#20854;&#20182;&#25968;&#25454;&#20998;&#24320;&#65292;&#39069;&#22806;&#30340;&#22823;&#27573;&#36755;&#20986;&#34892;(&#29992;&#25991;&#23383;&#21024;&#38500;&#31526;&#31034;&#24847;&#30340;&#37096;&#20998;)&#21516;&#26679;&#20063;&#26159;&#21487;&#36873;&#30340;&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e24533"></a>12.3.5.&nbsp;&#25554;&#20214;&#36755;&#20986;&#26679;&#20363;</h3></div></div></div><p>&#19979;&#38754;&#30475;&#19968;&#19979;&#25554;&#20214;&#36755;&#20986;&#30340;&#26679;&#20363;...</p><p><span class="bold"><strong>&#26696;&#20363;1&#65306;&#21482;&#26377;&#19968;&#34892;&#25991;&#26412;&#36755;&#20986;(&#19981;&#24102;&#24615;&#33021;&#25968;&#25454;)</strong></span></p><p>&#20551;&#23450;&#25554;&#20214;&#30340;&#36755;&#20986;&#25991;&#26412;&#26159;&#36825;&#26679;&#65306;</p><p>DISK OK - free space: / 3326 MB (56%);</p><p>&#22914;&#26524;&#25554;&#20214;&#25191;&#34892;&#30340;&#26159;&#19968;&#20010;&#26381;&#21153;&#26816;&#27979;&#65292;&#25972;&#34892;&#36755;&#20986;&#37117;&#20250;&#20445;&#23384;&#22312;<a class="link" href="#macrolist_SERVICEOUTPUT">$SERVICEOUTPUT$</a>&#23439;&#37324;&#12290;</p><p><span class="bold"><strong>&#26696;&#20363;2&#65306;&#19968;&#34892;&#36755;&#20986;&#24102;&#24615;&#33021;&#25968;&#25454;</strong></span></p><p>&#25554;&#20214;&#30340;&#36755;&#20986;&#25991;&#26412;&#20013;&#24102;&#26377;&#24615;&#33021;&#25968;&#25454;&#21487;&#32473;&#22806;&#37096;&#24212;&#29992;&#26469;&#22788;&#29702;&#12290;&#24615;&#33021;&#25968;&#25454;&#35201;&#29992;&#31649;&#36947;&#31526;(|)&#20998;&#38548;&#24320;&#65292;&#35937;&#26159;&#36825;&#26679;&#65306;</p><p>DISK OK - free space: / 3326 MB (56%);<span class="emphasis"><em> | </em></span><span class="underline">/=2643MB;5948;5958;0;5968</span></p><p>&#22914;&#26524;&#25554;&#20214;&#25191;&#34892;&#30340;&#26159;&#19968;&#20010;&#26381;&#21153;&#26816;&#27979;&#65292;&#20998;&#38548;&#31526;&#24038;&#20391;&#30340;&#37096;&#20998;&#23558;&#20445;&#23384;&#22312;<span class="emphasis"><em>$SERVICEOUTPUT$</em></span>&#23439;&#37324;&#24182;&#19988;&#21491;&#20391;(&#29992;&#19979;&#21010;&#32447;&#31034;&#24847;)&#30340;&#37096;&#20998;&#23558;&#20445;&#23384;&#22312;<span class="emphasis"><em>$SERVICEPERFDATA$</em></span>&#23439;&#37324;&#38754;&#12290;</p><p><span class="bold"><strong>&#26696;&#20363;3&#65306;&#22810;&#34892;&#36755;&#20986;(&#27491;&#25991;&#21644;&#24615;&#33021;&#25968;&#25454;&#37117;&#26377;)</strong></span></p><p>&#25554;&#20214;&#21487;&#20197;&#36755;&#20986;&#22810;&#34892;&#25991;&#26412;&#65292;&#24182;&#19988;&#24102;&#26377;&#27491;&#25991;&#36755;&#20986;&#21644;&#24615;&#33021;&#25968;&#25454;&#65292;&#35937;&#26159;&#36825;&#26679;&#65306;</p><p>DISK OK - free space: / 3326 MB (56%);<span class="emphasis"><em> | </em></span><span class="underline">/=2643MB;5948;5958;0;5968</span></p><p><span class="strikethrough">/ 15272 MB (77%);</span></p><p><span class="strikethrough">/boot 68 MB (69%);</span></p><p><span class="strikethrough">/home 69357 MB (27%);</span></p><p><span class="strikethrough">/var/log 819 MB (84%);</span><span class="emphasis"><em> | </em></span><span class="underline">/boot=68MB;88;93;0;98</span></p><p><span class="underline">/home=69357MB;253404;253409;0;253414</span></p><p><span class="underline">/var/log=818MB;970;975;0;980</span></p><p>&#22914;&#26524;&#25554;&#20214;&#25191;&#34892;&#30340;&#26159;&#19968;&#20010;&#26381;&#21153;&#26816;&#27979;&#65292;&#31532;&#19968;&#34892;&#20998;&#38548;&#31526;&#24038;&#20391;&#30340;&#37096;&#20998;&#23558;&#20445;&#23384;&#22312;<a class="link" href="#macrolist_SERVICEOUTPUT">$SERVICEOUTPUT$</a>&#23439;&#37324;&#65292;&#24102;&#26377;&#19979;&#21010;&#32447;&#26631;&#35782;&#30340;&#37096;&#20998;(&#24102;&#31354;&#26684;)&#23558;&#20445;&#23384;&#22312;<a class="link" href="#macrolist_SERVICEPERFDATA">$SERVICEPERFDATA$</a>&#23439;&#37324;&#65292;&#24102;&#21024;&#38500;&#31526;&#26631;&#35782;&#30340;&#37096;&#20998;(&#19981;&#24102;&#25442;&#34892;&#31526;)&#30340;&#37096;&#20998;&#23558;&#20445;&#23384;&#22312;<a class="link" href="#macrolist_LONGSERVICEOUTPUT">$LONGSERVICEOUTPUT$</a>&#23439;&#37324;(&#20197;&#19978;&#30340;&#19979;&#21010;&#32447;&#21644;&#21024;&#38500;&#31526;&#21482;&#26159;&#20026;&#26631;&#35760;&#25991;&#26412;&#27573;&#32780;&#29992;&#30340;&#65292;&#23454;&#38469;&#25991;&#26412;&#20013;&#19981;&#24102;&#26377;&#31526;&#21495;&#26684;&#24335;&#65293;&#65293;&#35793;&#32773;&#27880;)&#12290;</p><p>&#27599;&#20010;&#23439;&#30340;&#26368;&#32456;&#32467;&#26524;&#26159;&#36825;&#26679;&#30340;&#65306;</p><div class="table"><a name="d0e24615"></a><p class="title"><b>&#34920;&nbsp;12.3.&nbsp;</b></p><div class="table-contents"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>&#23439;</th><th>&#20869;&#23481;</th></tr></thead><tbody><tr><td>$SERVICEOUTPUT$</td><td>DISK OK - free space: / 3326 MB (56%);</td></tr><tr><td>$SERVICEPERFDATA$</td><td>/=2643MB;5948;5958;0;5968./boot=68MB;88;93;0;98./home=69357MB;253404;253409;0;253414./var/log=818MB;970;975;0;980</td></tr><tr><td>$LONGSERVICEOUTPUT$</td><td>/ 15272 MB (77%);\n/boot 68 MB (69%);\n/var/log 819 MB (84%);</td></tr></tbody></table></div></div><br class="table-break"><p>&#21033;&#29992;&#22810;&#34892;&#36755;&#20986;&#32467;&#26524;&#30340;&#26426;&#21046;&#65292;&#21487;&#20197;&#37319;&#21462;&#22810;&#31181;&#26041;&#24335;&#26469;&#36820;&#22238;&#24615;&#33021;&#25968;&#25454;&#65306;</p><div class="orderedlist"><ol type="1"><li>&#26080;&#35770;&#20160;&#20040;&#24773;&#20917;&#37117;&#27809;&#26377;&#24615;&#33021;&#25968;&#25454;&#65307;</li><li>&#21482;&#36820;&#22238;&#19968;&#34892;&#24615;&#33021;&#25968;&#25454;&#65307;</li><li>&#21482;&#26159;&#22312;&#21518;&#24207;&#30340;&#34892;&#20869;&#36820;&#22238;&#24615;&#33021;&#25968;&#25454;(&#31532;&#19968;&#34892;&#19981;&#29992;&#30340;&#31649;&#36947;&#20998;&#38548;&#31526;&#21491;&#20391;&#19981;&#22635;&#20869;&#23481;)&#65307;</li><li>&#21033;&#29992;&#20840;&#37096;&#30340;&#36755;&#20986;&#20301;&#32622;&#26469;&#24102;&#20986;&#24615;&#33021;&#25968;&#25454;&#12290;</li></ol></div><p>(&#30475;&#36215;&#26469;&#31532;&#19968;&#34892;&#21491;&#20391;&#37096;&#20998;&#26377;&#28857;"&#22810;&#20313;"&#65292;&#30495;&#30340;&#21487;&#20197;&#19981;&#29992;&#65292;&#20294;&#20854;&#23454;&#36825;&#26159;&#20316;&#32773;&#20026;&#36719;&#20214;&#21521;&#19979;&#20860;&#23481;&#20302;&#29256;&#26412;&#20351;&#29992;&#30340;&#25554;&#20214;&#32780;&#29305;&#24847;&#36825;&#20040;&#20570;&#30340;&#65292;&#24456;&#26377;&#24517;&#35201;&#36825;&#20040;&#20570;&#65292;&#30475;&#19968;&#19979;&#28304;&#31243;&#24207;&#23601;&#26126;&#30333;&#20102;&#12290;&#65293;&#65293;&#35793;&#32773;&#27880;)</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e24652"></a>12.3.6.&nbsp;&#25554;&#20214;&#36755;&#20986;&#38271;&#24230;&#38480;&#21046;</h3></div></div></div><p>Nagios&#21482;&#22788;&#29702;&#25554;&#20214;&#36820;&#22238;&#30340;&#21069;4KB&#25968;&#25454;&#20869;&#23481;&#12290;&#36825;&#26679;&#26159;&#20026;&#20102;&#38450;&#27490;&#25554;&#20214;&#36820;&#22238;&#19968;&#20010;&#19978;&#20806;&#25110;&#19978;&#21315;&#20806;&#30340;&#25968;&#25454;&#22359;&#32473;Nagios&#22788;&#29702;&#12290;&#36825;&#20010;4K&#30340;&#38480;&#21046;&#24456;&#23481;&#26131;&#20462;&#25913;&#65292;&#22914;&#26524;&#20320;&#24819;&#25913;&#65292;&#21487;&#20197;&#32534;&#36753;&#19968;&#19979;&#28304;&#20195;&#30721;&#37324;&#30340;MAX_PLUGIN_OUTPUT_LENGTH&#23439;&#23450;&#20041;&#65292;&#22312;&#28304;&#31243;&#24207;&#21253;&#30340;<span class="strong"><strong>include/nagios.h.in</strong></span>&#25991;&#20214;&#37324;&#65292;&#37325;&#32534;&#35793;&#19968;&#19979;Nagios&#23601;&#21487;&#20197;&#20102;&#65292;&#20854;&#20182;&#22320;&#26041;&#19981;&#29992;&#21160;&#65281;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e24660"></a>12.3.7.&nbsp;&#20363;&#23376;</h3></div></div></div><p>&#22914;&#26524;&#24819;&#25214;&#28857;&#20363;&#23376;&#26469;&#23398;&#20064;&#24320;&#21457;&#25554;&#20214;&#65292;&#25512;&#33616;&#21435;&#19979;&#36733;Nagios&#25554;&#20214;&#39033;&#30446;&#23448;&#26041;&#30340;&#36719;&#20214;&#21253;&#65292;&#25554;&#20214;&#20195;&#30721;&#20351;&#29992;&#22810;&#31181;&#35821;&#35328;(&#35937;C&#12289;Perl&#21644;SHELL&#33050;&#26412;&#31561;)&#20889;&#25104;&#25554;&#20214;&#12290;&#21462;&#24471;Nagios&#25554;&#20214;&#30340;&#23448;&#26041;&#20195;&#30721;&#21253;&#30340;&#26041;&#27861;&#21487;&#20197;&#30475;<a class="link" href="#plugins" title="8.1.&nbsp;Nagios&#30340;&#25554;&#20214;">&#36825;&#31687;&#25991;&#26723;</a>&#12290;</p></div><div class="sect2" lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a name="d0e24668"></a>12.3.8.&nbsp;Perl&#25554;&#20214;</h3></div></div></div><p>Nagios&#21487;&#20197;&#36873;&#25321;&#25903;&#25345;<a class="link" href="#embeddedperl" title="12.1.&nbsp;&#20351;&#29992;&#20869;&#23884;Perl&#35299;&#37322;&#22120;">&#23884;&#20837;&#24335;Perl&#35299;&#37322;&#22120;</a>&#21487;&#20197;&#25552;&#39640;&#25191;&#34892;Perl&#25554;&#20214;&#30340;&#36895;&#24230;&#12290;&#26356;&#22810;&#26377;&#20851;&#20351;&#29992;&#23884;&#20837;&#24335;Perl&#35299;&#37322;&#22120;&#26469;&#24320;&#21457;Perl&#25554;&#20214;&#30340;&#20449;&#24687;&#21487;&#20197;&#26597;&#38405;<a class="link" href="#embeddedperl" title="12.1.&nbsp;&#20351;&#29992;&#20869;&#23884;Perl&#35299;&#37322;&#22120;">&#36825;&#31687;&#25991;&#26723;</a>&#12290;</p></div></div></div><div class="chapter" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title"><a name="booklast"></a>&#31532;&nbsp;13&nbsp;&#31456;&nbsp;&#20889;&#22312;&#26368;&#21518;&#30340;&#35805;</h2></div></div></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e24682"></a>13.1.&nbsp;&#19968;&#20123;&#20851;&#20110;&#26412;&#25163;&#20876;&#30340;&#25805;&#20316;&#24314;&#35758;</h2></div></div></div><p>&#36890;&#36807;&#38405;&#35835;&#26412;&#20070;&#65292;&#20320;&#21487;&#20197;&#26597;&#25214;&#21040;&#20320;&#25152;&#38656;&#35201;&#30340;&#19968;&#20123;&#20851;&#38190;&#20449;&#24687;&#65292;&#20294;&#24182;&#38750;&#20840;&#37096;&#12290;&#27809;&#21150;&#27861;&#65292;&#22240;&#20026;&#32593;&#32476;&#25991;&#26723;&#24635;&#26159;&#27604;&#28304;&#31243;&#24207;&#30340;&#26356;&#26032;&#36895;&#24230;&#35201;&#24930;&#65292;&#19981;&#20165;&#20165;&#26159;nagios&#36719;&#20214;&#30340;&#22312;&#32447;&#24110;&#21161;&#36824;&#26159;nagios-cn&#25163;&#20876;&#65292;&#30456;&#23545;&#20110;&#19968;&#20123;&#38382;&#39064;&#30340;&#25910;&#38598;&#12289;&#22238;&#24212;&#24635;&#26159;&#26377;&#19968;&#20010;&#38382;&#39064;&#30340;&#21457;&#29616;&#12289;&#26597;&#35777;&#12289;&#35843;&#35797;&#12289;&#34917;&#19969;&#21644;&#26356;&#26032;&#30340;&#36807;&#31243;&#65292;&#25152;&#20197;&#65292;&#22312;&#20805;&#20998;&#30456;&#20449;&#36825;&#20010;&#25991;&#26723;&#30340;&#21516;&#26102;&#65292;&#20063;&#35201;&#23545;&#20854;&#20013;&#30340;&#26576;&#20123;&#20869;&#23481;&#35201;&#20445;&#25345;&#19968;&#20010;&#28165;&#37266;&#30340;&#22836;&#33041;&#65281;&#27491;&#22914;&#25105;&#20204;&#23545;"&#31185;&#23398;"&#30340;&#24577;&#24230;&#19968;&#26679;&#65292;&#25105;&#20204;&#24212;&#35813;"&#23815;&#23578;&#20294;&#19981;&#36855;&#20449;"&#65292;&#21482;&#26377;&#22914;&#27492;&#65292;&#25105;&#20204;&#25165;&#20250;&#23545;&#24050;&#30693;&#30340;&#31185;&#23398;&#38382;&#39064;&#20445;&#25345;&#24179;&#21644;&#30340;&#24515;&#24577;&#26469;&#24212;&#23545;&#65292;&#23545;&#26410;&#30693;&#30340;&#39046;&#22495;&#25165;&#20250;&#20805;&#28385;&#22909;&#22855;&#32780;&#19981;&#26029;&#24320;&#25299;&#36827;&#21462;&#65281;</p><p>Nagios&#26159;&#19968;&#27454;&#38750;&#24120;&#20248;&#31168;&#30340;&#30417;&#25511;&#31867;&#36719;&#20214;&#65292;&#20294;&#23436;&#20840;&#25484;&#25569;&#23427;&#24182;&#19981;&#26159;&#19968;&#20214;&#23481;&#26131;&#30340;&#20107;&#24773;&#12290;&#20854;&#23454;&#65292;&#24819;&#20570;&#22909;&#32593;&#32476;&#30340;&#31649;&#29702;&#26412;&#36523;&#23601;&#19981;&#26159;&#19968;&#20214;&#23481;&#26131;&#30340;&#20107;&#24773;&#65292;&#22312;&#35745;&#31639;&#26426;&#36719;&#30828;&#20214;&#21644;&#32593;&#32476;&#25216;&#26415;&#19981;&#26029;&#21457;&#23637;&#30340;&#20170;&#22825;&#65292;&#32593;&#32476;&#31649;&#29702;&#24037;&#20316;&#26412;&#36523;&#23601;&#26159;&#19968;&#20214;&#26377;&#25361;&#25112;&#24615;&#30340;&#24037;&#20316;&#12290;&#23398;&#20064;Nagios&#25110;Nagios-cn&#30340;&#20351;&#29992;&#24182;&#20351;&#20043;&#20026;&#24050;&#25152;&#29992;&#65292;&#19968;&#33324;&#35201;&#32463;&#21382;&#20852;&#36259;&#12289;&#30952;&#28860;&#12289;&#23581;&#35797;&#21644;&#26803;&#29702;&#20960;&#20010;&#38454;&#27573;&#12290;</p><p>&#20320;&#39318;&#20808;&#35201;&#26377;&#36275;&#22815;&#30340;&#20852;&#36259;&#26469;&#20351;&#29992;&#24320;&#28304;&#31038;&#21306;&#36164;&#28304;&#26469;&#23436;&#25104;&#20320;&#30340;&#32593;&#32476;&#31649;&#29702;&#24037;&#20316;&#65292;&#22914;&#26524;&#19981;&#26159;&#36825;&#26679;&#65292;&#27604;&#22914;&#20320;&#26377;&#26426;&#20250;&#36141;&#20080;&#19982;&#20351;&#29992;&#21830;&#19994;&#32593;&#31649;&#36719;&#20214;&#65292;&#37027;&#20320;&#24456;&#21487;&#33021;&#20250;&#20026;&#24320;&#28304;&#36719;&#20214;&#30340;&#35832;&#22810;&#19981;&#36275;&#25152;&#22256;&#32469;&#65292;&#22312;&#26377;&#19981;&#23569;&#24773;&#20917;&#19979;&#29978;&#33267;&#20250;&#35753;&#20320;&#38519;&#20837;&#22256;&#22659;&#65307;&#20854;&#27425;&#65292;&#20320;&#35201;&#26377;&#19968;&#23450;&#30340;&#30693;&#35782;&#32972;&#26223;&#65292;&#27604;&#22914;&#65292;&#23545;Linux/Windows&#31561;&#25805;&#20316;&#35201;&#29087;&#24713;&#65292;&#33267;&#20110;&#35201;&#29087;&#21040;&#20160;&#20040;&#31243;&#24230;&#23601;&#19981;&#22909;&#23450;&#20041;&#20102;&#65292;&#20294;&#25105;&#24182;&#19981;&#24314;&#35758;&#20320;&#21021;&#23398;&#23601;&#25343;Nagios&#26469;&#19978;&#25163;&#65292;&#27604;&#22914;&#20320;&#26159;&#19968;&#20010;&#39640;&#26657;&#23398;&#29983;&#65292;&#25105;&#24182;&#19981;&#24076;&#26395;&#20320;&#32451;&#20064;&#20351;&#29992;&#23427;&#65292;&#27605;&#31455;&#23427;&#36824;&#19981;&#35937;&#35768;&#22810;&#36719;&#20214;&#37027;&#26679;&#26377;&#22810;&#26412;&#25945;&#31185;&#20070;&#26469;&#36741;&#23548;&#65292;&#20063;&#19981;&#35937;&#23383;&#22788;&#29702;&#31243;&#24207;&#37027;&#26679;&#36890;&#29992;&#65292;&#21363;&#20415;&#19968;&#20010;&#23398;&#29983;&#26377;&#20852;&#36234;&#23398;&#20064;&#20102;&#23427;&#21448;&#33021;&#30495;&#27491;&#20102;&#35299;&#23427;&#22810;&#23569;&#21602;&#65311;&#23581;&#35797;&#26159;&#36719;&#20214;&#23398;&#20064;&#30340;&#24517;&#32463;&#38454;&#27573;&#65292;&#32593;&#19978;&#26377;&#24456;&#22810;&#36719;&#20214;&#37117;&#26159;&#24314;&#35758;&#22823;&#23478;&#20197;&#21160;&#25163;&#30340;&#26041;&#24335;&#26469;&#23398;&#20064;&#26032;&#36719;&#20214;&#65292;&#36825;&#20063;&#19981;&#22833;&#20026;&#19968;&#20010;&#22909;&#26041;&#27861;&#65292;&#20294;&#21069;&#25552;&#26159;&#35201;&#23545;&#33258;&#24049;&#30340;&#30446;&#26631;&#26377;&#19968;&#20010;&#30456;&#23545;&#28165;&#26970;&#30340;&#35748;&#35782;&#65292;&#20030;&#20010;&#31616;&#21333;&#30340;&#20363;&#23376;&#65292;&#21487;&#20197;&#29992;Nagios&#23545;Windows&#26381;&#21153;&#22120;&#36827;&#34892;&#30417;&#25511;&#65292;&#22914;&#26524;&#21482;&#26159;&#36825;&#26679;&#19968;&#20010;&#31616;&#21333;&#30446;&#26631;&#65292;&#20320;&#19968;&#23450;&#20250;&#25214;&#21040;&#25353;&#22270;&#32034;&#39589;&#25214;&#21040;&#20960;&#20010;Windows&#30340;Agent&#23433;&#35013;&#19978;&#24182;&#24320;&#22987;&#22797;&#26434;&#30340;&#37197;&#32622;&#65292;&#28982;&#21518;&#23398;&#20064;&#19968;&#22534;&#37197;&#32622;&#26041;&#27861;&#65292;&#20889;&#20010;&#21160;&#25163;&#24635;&#32467;&#20043;&#31867;&#30340;&#25991;&#31456;...&#20294;&#25105;&#35748;&#20026;&#36825;&#26679;&#24182;&#38750;&#26159;&#19968;&#20214;&#22909;&#20107;&#65281;&#22240;&#20026;&#25630;&#28165;&#26970;&#32593;&#32476;&#31649;&#29702;&#30340;&#30446;&#26631;&#20854;&#23454;&#26159;&#31532;&#19968;&#35201;&#21153;&#65292;&#23545;Windows&#31995;&#32479;&#30417;&#25511;&#20160;&#20040;&#65292;&#26377;&#21738;&#20123;&#29366;&#24577;&#12289;&#21442;&#25968;&#25110;&#26354;&#32447;&#35201;&#25910;&#38598;&#65292;&#35201;&#20570;&#20123;&#20160;&#20040;&#21709;&#24212;&#65311;&#25630;&#28165;&#26970;&#36825;&#20123;&#20877;&#27604;&#36739;&#21508;&#31181;&#23545;Windows&#30340;&#31649;&#29702;&#26041;&#26696;&#65292;&#26377;&#20123;&#21482;&#35201;&#23433;&#35013;Windows&#26631;&#20934;&#25511;&#20214;&#65292;&#26377;&#20123;&#39035;&#33258;&#24049;&#32534;&#20889;&#19968;&#20123;&#26412;&#22320;&#21270;&#33050;&#26412;&#65292;&#36824;&#26377;&#19968;&#20123;&#39035;&#22312;&#26381;&#21153;&#22120;&#31471;&#20570;&#20123;&#25163;&#33050;&#25165;&#20250;&#26377;&#32467;&#26524;&#65292;&#25152;&#26377;&#36825;&#20123;&#26041;&#27861;&#20013;&#35201;&#25214;&#20986;&#21738;&#19968;&#20010;&#26368;&#21512;&#36866;&#26041;&#27861;&#36825;&#25165;&#26159;&#26368;&#37325;&#35201;&#30340;&#65292;&#26377;&#21477;&#31505;&#35805;"&#19981;&#24597;&#38431;&#20237;&#38271;&#65292;&#23601;&#24597;&#31449;&#38169;&#38431;"&#65307;&#26803;&#29702;&#20063;&#26159;&#35201;&#26377;&#30340;&#19968;&#20010;&#38454;&#27573;&#65292;&#20854;&#23454;&#24635;&#32467;&#32463;&#39564;&#24182;&#19981;&#26029;&#25552;&#39640;&#20351;&#29992;&#27700;&#24179;&#26159;&#19968;&#20214;&#35753;&#20154;&#30171;&#33510;&#30340;&#20107;&#24773;&#65292;&#20294;&#24448;&#24448;&#22312;&#36825;&#31181;&#30171;&#33510;&#20013;&#25165;&#20250;&#24863;&#35273;&#21040;&#25552;&#39640;&#19982;&#25104;&#38271;&#65292;&#25105;&#35265;&#21040;&#19981;&#23569;&#32593;&#21451;&#23398;&#20064;&#19996;&#35199;&#24456;&#24555;&#65292;&#27604;&#22914;&#19968;&#31181;&#32534;&#31243;&#35821;&#35328;&#65292;&#21487;&#20197;&#22312;&#19977;&#20010;&#23567;&#26102;&#20869;&#20889;&#20986;&#28418;&#20142;&#30340;&#31243;&#24207;&#65292;&#20294;&#26159;&#35201;&#20877;&#33457;&#19977;&#20010;&#26376;&#26102;&#38388;&#26469;&#31934;&#36890;&#23427;&#65292;&#21364;&#19981;&#24895;&#24847;&#20102;&#65292;&#36825;&#30495;&#26159;&#24456;&#21487;&#24796;&#65292;&#20063;&#24456;&#21487;&#24604;&#65292;&#22240;&#20026;&#36825;&#20123;&#21482;&#20250;&#20351;&#20182;&#19981;&#26029;&#24378;&#21270;"&#21160;&#25163;&#24378;&#32780;&#21160;&#33041;&#19981;&#36275;"&#30340;&#27611;&#30149;&#65292;&#26368;&#32456;&#26080;&#19968;&#26159;&#22788;&#12290;</p><p>&#25152;&#20197;&#65292;&#25105;&#23545;&#20110;&#26412;&#20070;&#30340;&#38405;&#35835;&#24314;&#35758;&#23601;&#26159;&#35201;"&#26377;&#20852;&#36259;&#12289;&#22836;&#33041;&#28165;&#37266;&#12289;&#30456;&#23545;&#20805;&#35029;&#30340;&#35774;&#22791;&#26465;&#20214;&#21644;&#19968;&#20010;&#22909;&#35760;&#20107;&#24773;&#30340;&#28866;&#31508;&#22836;"&#12290;</p></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e24693"></a>13.2.&nbsp;&#26412;&#20070;&#32534;&#36753;&#20986;&#29256;&#25171;&#31639;</h2></div></div></div><p>&#37319;&#29992;&#36825;&#31181;&#24418;&#24335;&#26469;&#20889;&#20070;&#65292;&#26080;&#38750;&#26159;&#30475;&#20013;&#20102;docbook&#19968;&#27425;&#23454;&#29616;&#20102;&#19977;&#20010;&#30446;&#26631;&#65306;&#20889;&#19968;&#20010;&#36719;&#20214;&#30340;&#25805;&#20316;&#35828;&#26126;&#20837;&#38376;&#20070;&#12289;&#21046;&#20316;&#19968;&#22871;&#26131;&#20110;&#32500;&#25252;&#30340;&#22312;&#32447;&#25163;&#20876;&#21644;&#20986;&#29256;&#19968;&#31687;&#24320;&#28304;&#36719;&#20214;&#20171;&#32461;&#25991;&#31456;&#12290;&#22312;&#24320;&#28304;&#19990;&#30028;&#37324;&#65292;&#20284;&#20046;&#24320;&#28304;&#36719;&#20214;&#30340;&#26381;&#21153;&#19982;&#24320;&#28304;&#39033;&#30446;&#30340;&#21457;&#23637;&#26159;&#30456;&#20114;&#20381;&#23384;&#30340;&#20851;&#31995;&#65292;&#32780;&#25105;&#20889;&#36825;&#26412;&#20070;&#30340;&#30446;&#26631;&#21364;&#24688;&#24688;&#26159;&#24819;&#25670;&#33073;&#36719;&#20214;&#26381;&#21153;&#30340;"&#26434;&#20107;"&#65292;&#27605;&#31455;&#36719;&#20214;&#26381;&#21153;&#19981;&#26159;&#25105;&#24819;&#35201;&#20570;&#30340;&#20107;&#24773;&#65292;&#21363;&#20415;&#26159;&#25105;&#25152;&#20462;&#25913;&#30340;&#36719;&#20214;&#20063;&#26159;&#22914;&#27492;&#65292;&#29992;&#19968;&#22871;&#30456;&#23545;&#23436;&#21892;&#30340;&#25805;&#20316;&#35828;&#26126;&#20837;&#38376;&#20070;&#24341;&#23548;&#26032;&#25163;&#26469;&#20351;&#29992;&#36719;&#20214;&#23601;&#21487;&#20197;&#22823;&#22823;&#33410;&#30465;&#36719;&#20214;&#26381;&#21153;&#30340;&#20107;&#23452;&#65292;&#32780;html&#26684;&#24335;&#20272;&#35745;&#26159;&#26368;&#20026;&#30452;&#25509;&#26377;&#25928;&#30340;&#33539;&#26412;&#26684;&#24335;&#20102;&#65307;Nagios&#39033;&#30446;&#22312;Sourceforge&#31449;&#28857;&#37324;&#26159;&#19968;&#20010;&#30456;&#23545;&#27963;&#36291;&#30340;&#39033;&#30446;&#65292;&#23427;&#30340;&#28304;&#31243;&#24207;&#21644;&#25805;&#20316;&#20063;&#22312;&#19981;&#26029;&#22320;&#26356;&#26032;&#65292;&#21407;&#22987;&#39033;&#30446;&#24037;&#31243;&#19981;&#26029;&#22320;&#21464;&#21270;&#23601;&#20351;&#24471;&#32763;&#35793;&#24037;&#31243;&#20063;&#24471;&#19981;&#26029;&#21464;&#21270;&#65292;&#32780;&#25805;&#20316;&#20070;&#21487;&#20197;&#19981;&#26029;&#22320;&#38543;&#30528;&#28304;&#24037;&#31243;&#39033;&#30446;&#20195;&#30721;&#19981;&#26029;&#22320;&#32763;&#35793;&#26356;&#26032;&#23601;&#39035;&#26377;&#19968;&#20010;&#22909;&#30340;&#25991;&#26723;&#32467;&#26500;&#65292;&#26368;&#21518;&#65292;&#36873;&#26469;&#36873;&#21435;&#65292;&#36873;&#20013;&#20102;DocBook&#65292;&#34429;&#28982;&#23427;&#20063;&#26377;&#19968;&#22534;&#30340;&#38382;&#39064;&#65281;&#20986;&#29256;&#19968;&#31687;&#24320;&#28304;&#36719;&#20214;&#20171;&#32461;&#25991;&#31456;&#26368;&#22909;&#26159;&#20174;&#20247;&#22810;&#30340;&#36164;&#26009;&#24403;&#20013;&#25552;&#28860;&#20986;&#31934;&#21326;&#65292;&#26377;&#38024;&#23545;&#24615;&#22320;&#21521;&#32593;&#21451;&#20171;&#32461;&#25165;&#20250;&#26377;&#25928;&#26524;&#65292;&#27605;&#31455;&#19968;&#27454;&#22909;&#30340;&#36719;&#20214;&#30340;&#20248;&#28857;&#36824;&#26159;&#24456;&#22810;&#30340;&#65292;&#38656;&#35201;&#20063;&#24517;&#39035;&#23558;&#23427;&#19981;&#26029;&#22320;&#25512;&#24191;&#24212;&#29992;&#24320;&#26469;&#65292;&#20197;&#26368;&#22823;&#38480;&#24230;&#22320;&#20026;&#27665;&#25152;&#29992;&#12290;</p><p>&#34429;&#28982;&#36153;&#20102;&#19981;&#23569;&#24515;&#34880;&#26469;&#20934;&#22791;&#36825;&#26412;&#20070;&#65292;&#20294;&#27491;&#24335;&#21360;&#21047;&#20986;&#29256;&#25105;&#21364;&#19981;&#25954;&#22882;&#26395;&#12290;&#22914;&#26524;&#22823;&#23478;&#35273;&#24471;&#19981;&#38169;&#65292;&#36824;&#26159;&#30005;&#23376;&#20070;&#26356;&#26032;&#20960;&#20010;&#29256;&#27425;&#20043;&#21518;&#20877;&#32771;&#34385;&#21543;&#12290;</p></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e24700"></a>13.3.&nbsp;&#26377;&#20851;nagios-cn&#39033;&#30446;&#25512;&#36827;&#25171;&#31639;</h2></div></div></div><p>&#24314;&#31435;nagios-cn&#39033;&#30446;&#30340;&#21021;&#34935;&#20854;&#23454;&#23601;&#26159;&#24819;&#23558;Nagios&#36719;&#20214;&#20171;&#32461;&#32473;&#22269;&#20154;&#65292;&#35753;&#23427;&#26356;&#22909;&#22320;&#20026;&#22269;&#20154;&#26381;&#21153;&#65292;&#20294;&#32771;&#34385;&#21040;&#35832;&#22810;&#22240;&#32032;&#65292;&#23588;&#20854;&#26159;&#33258;&#36523;&#33021;&#21147;&#25152;&#21450;&#65292;&#25105;&#24819;nagios-cn&#39033;&#30446;&#23613;&#21487;&#33021;&#36824;&#26159;&#23616;&#38480;&#20110;nagios&#36719;&#20214;&#20027;&#20307;&#30340;&#20351;&#29992;&#26041;&#38754;&#65292;&#32780;&#23545;&#20110;&#23427;&#30340;&#35768;&#22810;&#22806;&#37096;&#25509;&#21475;&#12289;&#24212;&#29992;&#25216;&#24039;&#12289;&#20351;&#29992;&#32463;&#39564;&#31561;&#19981;&#20570;&#28041;&#21450;&#12290;&#25353;&#29031;Nagios&#36719;&#20214;&#20316;&#32773;&#30340;&#24819;&#27861;&#65292;3.x&#29256;&#23558;&#23613;&#21487;&#33021;&#24341;&#20837;&#19968;&#20123;&#26032;&#31649;&#29702;&#26426;&#21046;&#65292;&#32780;4.x&#29256;&#26412;&#23558;&#27880;&#24471;i18n&#30456;&#20851;&#24037;&#20316;&#65292;&#25105;&#24819;&#36890;&#36807;nagios-cn&#30340;&#24037;&#20316;&#65292;&#21487;&#20197;&#23613;&#21487;&#33021;&#22810;&#22320;&#34701;&#20837;Nagios&#39033;&#30446;&#65292;&#24182;&#21487;&#20197;&#22312;4.x&#29256;&#26412;&#26500;&#24314;&#36807;&#31243;&#20013;&#25552;&#20379;&#26377;&#30410;&#30340;&#23581;&#35797;&#19982;&#24110;&#21161;&#12290;</p><p>&#22312;3.x&#29256;&#26412;&#20013;&#65292;nagios-cn&#39033;&#30446;&#23558;&#36319;&#36394;&#20960;&#27425;Nagios&#36719;&#20214;&#23567;&#29256;&#26412;&#65292;&#24182;&#38750;&#20840;&#37096;&#12290;&#26356;&#22810;&#30340;&#31934;&#21147;&#23558;&#25918;&#22312;&#23545;&#20854;&#30340;&#30028;&#38754;&#25805;&#20316;&#19982;&#24110;&#21161;&#31561;&#30340;&#27721;&#21270;&#24037;&#20316;&#19978;&#12290;&#19982;Nagios3.x&#29256;&#26412;&#23545;&#24212;&#19978;&#65292;&#23558;&#23613;&#21487;&#33021;&#31532;&#19968;&#26102;&#38388;&#20869;&#25512;&#20986;3.0&#29256;&#26412;&#30340;&#30028;&#38754;&#27721;&#21270;&#30340;nagios-cn&#29256;&#26412;&#65292;&#36825;&#26102;&#21487;&#33021;&#27809;&#21150;&#27861;&#23436;&#25104;&#24110;&#21161;&#30340;&#27721;&#21270;&#24037;&#20316;&#65292;&#22312;3.1&#25110;3.2&#29256;&#26412;&#65292;&#23558;&#23613;&#21147;&#23436;&#25104;&#20840;&#37096;&#20869;&#23481;&#30340;&#27721;&#21270;&#24037;&#20316;&#65292;&#22312;3.4&#25110;3.5&#29256;&#26412;&#65292;&#23558;&#25226;&#19968;&#20123;&#27721;&#21270;&#21518;&#30340;&#32472;&#22270;&#24037;&#20855;&#25110;&#37197;&#32622;&#24037;&#20855;&#34701;&#21512;&#21040;nagios-cn&#39033;&#30446;&#20013;&#65292;&#20197;&#26041;&#20415;&#20351;&#29992;&#65292;&#21518;&#38754;&#23601;&#19981;&#20934;&#22791;&#20877;&#26356;&#26032;nagios-cn&#39033;&#30446;&#20102;&#65292;&#32780;&#26159;&#27880;&#37325;&#31215;&#32047;&#32463;&#39564;&#65292;&#20026;Nagios&#36719;&#20214;&#30340;i18n&#26041;&#38754;&#25552;&#20379;&#32463;&#39564;&#19982;&#24110;&#21161;&#12290;&#22914;&#26524;&#26102;&#38388;&#23433;&#25490;&#24471;&#24403;&#65292;&#22312;&#24403;&#21069;&#26465;&#20214;&#19981;&#21464;&#30340;&#24773;&#20917;&#19979;&#65292;&#20272;&#35745;&#22312;2008&#24180;&#20869;&#23436;&#25104;&#20840;&#38754;&#27721;&#21270;&#24037;&#20316;&#65292;&#32780;&#22312;2009&#24180;&#19978;&#21322;&#24180;&#23436;&#25104;&#30456;&#20851;&#20013;&#25991;&#24037;&#20855;&#30340;&#38598;&#25104;&#12290;&#24403;&#28982;&#65292;&#22914;&#26524;&#26377;&#24535;&#21516;&#36947;&#21512;&#32773;&#21442;&#19982;&#30340;&#35805;&#65292;&#36825;&#19968;&#36827;&#31243;&#21487;&#33021;&#20250;&#24555;&#20123;&#12290;</p></div><div class="sect1" lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e24707"></a>13.4.&nbsp;&#39033;&#30446;&#25424;&#21161;</h2></div></div></div><p>&#22914;&#26524;&#20320;&#24895;&#24847;&#25903;&#25345;Nagios&#39033;&#30446;&#25110;&#26159;nagios-cn&#39033;&#30446;&#65292;&#21487;&#20197;&#20026;&#24320;&#28304;&#31038;&#21306;Sourceforge.net&#25552;&#20379;&#25424;&#21161;&#65292;&#25110;&#26159;&#25226;&#38065;&#25424;&#21161;&#32473;&#20013;&#22269;&#30340;&#24076;&#26395;&#24037;&#31243;&#12290;</p><p>&#22914;&#26524;&#21482;&#23545;nagios-cn&#39033;&#30446;&#25552;&#20379;&#24110;&#21161;&#65292;&#21487;&#20197;&#25424;&#21161;&#32473;&#25105;&#65292;&#19968;&#27425;&#26368;&#23569;20&#20803;&#65292;&#26368;&#22810;200&#20803;&#20154;&#27665;&#24065;&#65292;&#32473;&#36825;&#20010;&#38134;&#34892;&#24080;&#21495;&#65306;</p><p><span class="bold"><strong><span class="underline">&#20013;&#22269;&#24314;&#35774;&#38134;&#34892; &#19978;&#28023; 4367421217260717897 &#30000;&#26397;&#38451;</span></strong></span></p><p>&#25424;&#21161;&#21518;&#35831;&#32473;&#25105;&#20889;&#20010;email&#20889;&#28165;&#26970;&#20320;&#30340;&#21517;&#23383;&#65292;&#37038;&#20214;&#22320;&#22336;&#26159;<a class="ulink" href="mailto:zytain@gmail.com" target="_top">zytian@gmail.com</a>&#65292;&#25105;&#23558;&#38750;&#24120;&#24863;&#35874;&#20320;&#23545;&#39033;&#30446;&#30340;&#25903;&#25345;&#65292;&#24182;&#23613;&#26089;&#22320;&#23558;&#20320;&#25152;&#32473;&#30340;&#25424;&#21161;<span class="bold"><strong><span class="underline">&#20840;&#37096;&#36716;&#36192;</span></strong></span>&#20013;&#22269;&#24076;&#26395;&#24037;&#31243;&#25110;<a class="ulink" href="http://www.sclf.org/zxjz/" target="_top">&#20013;&#22269;&#23435;&#24198;&#40836;&#22522;&#37329;&#20250;</a>&#24182;&#37038;&#20214;&#36890;&#30693;&#24744;&#65292;&#25105;&#20010;&#20154;<span class="bold"><strong><span class="underline">&#19981;&#38656;&#35201;</span></strong></span>&#24744;&#30340;&#25424;&#21161;&#12290;</p><p>&#39035;&#25552;&#37266;&#30340;&#26159;&#65292;nagios-cn&#21644;Nagios&#36719;&#20214;&#19968;&#26679;&#37319;&#29992;GNU&#29256;&#26435;&#65292;&#36825;&#24847;&#21619;&#30528;&#22914;&#26524;&#20320;&#27809;&#26377;&#21830;&#19994;&#38144;&#21806;&#33719;&#21033;&#65292;&#20320;&#24517;&#39035;&#23558;&#36825;&#20010;&#36719;&#20214;&#30340;&#28304;&#20195;&#30721;&#20197;&#21487;&#35265;&#30340;&#12289;&#21516;&#27493;&#22320;&#22797;&#21046;&#32473;&#20320;&#30340;&#29992;&#25143;&#65292;&#20351;&#20182;&#20063;&#21487;&#20197;&#24471;&#21040;&#35813;&#36719;&#20214;&#30340;&#20840;&#37096;&#20195;&#30721;&#32780;&#19981;&#26159;&#37096;&#20998;&#65292;&#22914;&#26524;&#20320;&#24819;&#21830;&#19994;&#21270;&#24212;&#29992;&#23427;&#65292;&#20197;&#27492;&#33719;&#21462;&#21830;&#19994;&#21033;&#30410;&#25110;&#20197;&#27492;&#20026;&#22522;&#30784;&#33719;&#21462;&#26377;&#23581;&#26381;&#21153;&#21033;&#30410;&#65292;&#21017;&#39035;&#21521;Nagios&#36719;&#20214;&#30340;&#29256;&#26435;&#25152;&#26377;&#32773;&#33719;&#21462;&#21830;&#19994;&#29256;&#26435;&#25165;&#21487;&#33021;&#21457;&#34892;&#23427;&#12290;&#32780;&#25105;&#24182;&#19981;&#20250;&#20063;&#19981;&#33021;&#25480;&#29702;Nagios&#36719;&#20214;&#30340;&#21830;&#19994;&#25480;&#26435;&#34892;&#20026;&#65292;&#23588;&#20854;&#26159;&#20844;&#21496;&#20197;&#27492;&#36827;&#34892;&#30456;&#20851;&#30340;&#21830;&#19994;&#21270;&#38144;&#21806;&#26102;&#26356;&#35201;&#27880;&#24847;&#65292;&#22312;&#20320;&#21462;&#24471;&#20102;Nagios&#36719;&#20214;&#30340;&#21830;&#19994;&#35768;&#21487;&#21518;&#65292;&#21487;&#20197;&#19982;&#25105;&#32852;&#31995;nagios-cn&#39033;&#30446;&#30340;&#21830;&#19994;&#25480;&#26435;&#20107;&#23452;&#65292;&#23545;&#39033;&#30446;&#23450;&#21521;&#25424;&#21161;&#19981;&#21487;&#20197;&#26367;&#20195;&#21830;&#19994;&#25480;&#26435;&#12290;</p></div></div></div></body></html>